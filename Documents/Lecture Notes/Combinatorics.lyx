#LyX 2.3 created this file. For more info see http://www.lyx.org/
\lyxformat 544
\begin_document
\begin_header
\save_transient_properties true
\origin unavailable
\textclass heb-article
\begin_preamble
\date{}
\end_preamble
\use_default_options true
\maintain_unincluded_children false
\language hebrew
\language_package default
\inputencoding auto
\fontencoding global
\font_roman "default" "David CLM"
\font_sans "default" "David CLM"
\font_typewriter "default" "David CLM"
\font_math "auto" "auto"
\font_default_family default
\use_non_tex_fonts false
\font_sc false
\font_osf false
\font_sf_scale 100 100
\font_tt_scale 100 100
\use_microtype false
\use_dash_ligatures true
\graphics default
\default_output_format default
\output_sync 0
\bibtex_command default
\index_command default
\paperfontsize default
\spacing single
\use_hyperref false
\papersize default
\use_geometry false
\use_package amsmath 1
\use_package amssymb 1
\use_package cancel 1
\use_package esint 1
\use_package mathdots 1
\use_package mathtools 1
\use_package mhchem 1
\use_package stackrel 1
\use_package stmaryrd 1
\use_package undertilde 1
\cite_engine basic
\cite_engine_type default
\biblio_style plain
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date false
\justification true
\use_refstyle 1
\use_minted 0
\branch Old
\selected 1
\filename_suffix 0
\color #faf0e6
\end_branch
\index Index
\shortcut idx
\color #008000
\end_index
\secnumdepth 3
\tocdepth 3
\paragraph_separation indent
\paragraph_indentation default
\is_math_indent 0
\math_numbering_side default
\quotes_style english
\dynamic_quotes 0
\papercolumns 1
\papersides 1
\paperpagestyle default
\tracking_changes false
\output_changes false
\html_math_output 0
\html_css_as_file 0
\html_be_strict false
\end_header

\begin_body

\begin_layout Title
קומבינטוריקה למדעי המחשב - הרצאות
\end_layout

\begin_layout Author
גדי אלכסנדרוביץ'
\end_layout

\begin_layout Standard
\begin_inset CommandInset toc
LatexCommand tableofcontents

\end_inset


\end_layout

\begin_layout Section
מבוא
\end_layout

\begin_layout Standard
קומבינטוריקה היא התחום במתמטיקה שעוסק באובייקטים סופיים, וכפי שניתן לנחש
 מההגדרה העמומה הזו מדובר על תחום רחב ביותר שגבולותיו לא פשוטים להגדרה.
 בקורס הזה נעסוק בשני תחומים עיקריים: בעיות ספירה )קומבינטוריקה אנומרטיבית(,
 ומבוא לתורת הגרפים.
\end_layout

\begin_layout Standard

\series bold
בעיות ספירה
\series default
 הן בעיות מהצורה הבאה: בהינתן הגדרה כלשהי של קבוצה סופית של אובייקטים, כמה
 אובייקטים יש בקבוצה? לדוגמה, כמה ידיים אפשריות קיימות במשחק ברידג'? כמה
 תוצאות אפשריות יש בלוטו? כמה הרכבי בתים אפשריים קיימים בטורניר כדורסל?
 כמה מצבים אפשריים יש ללוח במשחק שחמט? וכדומה.
\end_layout

\begin_layout Standard
לרוב השאלות מנוסחות על קבוצת אובייקטים שמוגדרת באמצעות פרמטר 
\begin_inset Formula $n$
\end_inset

 כלשהו.
 למשל, בכמה דרכים אפשר להציג את המספר 
\begin_inset Formula $n$
\end_inset

 כסכום של מספרים טבעיים קטנים ממנו? בכמה דרכים ניתן לחלק מצולע משוכלל בעל
 
\begin_inset Formula $n$
\end_inset

 צלעות למשולשים? בכמה דרכים יכול דוור מבובל/מזכירה מבולבלת )תלוי את מי רוצים
 להעליב( לחלק 
\begin_inset Formula $n$
\end_inset

 מכתבים כך שאף אחד לא יגיע ליעדו?
\end_layout

\begin_layout Standard
שאלות כאלו צצות באופן טבעי במדעי המחשב, כשההקשר הנפוץ ביותר הוא ניתוח סיבוכיות
 של אלגוריתמים, שם הקומבינטוריקה נחוצה הן בכדי להבין את מספר צעדי הריצה
 שהאלגוריתם מבצע והן את גודל מרחב הקלטים שאיתו הוא מנסה להתמודד.
 הקשר חשוב אחר הוא בעיות הסתברותיות ואלגוריתמים הסתברותיים; הבנה של ההסתברות
 של מאורע מסויים דורשת לרוב ניתוח קומבינטורי של כמות התוצאות האפשריות בכלל
 )למשל, ידיעת ההסתברות לזכיה בלוטו דורשת הבנה של כמות התוצאות האפשריות בלוטו(.
\end_layout

\begin_layout Standard
הפתרון הטוב ביותר לבעיה קומבינטורית הוא כמובן מספר מדויק, ובמקרה של בעיה
 שתלויה בפרמטר 
\begin_inset Formula $n$
\end_inset

, נוסחה פשוטה שתלויה ב-
\begin_inset Formula $n$
\end_inset

 - למשל, מספר תתי-הקבוצות של קבוצה מגודל 
\begin_inset Formula $n$
\end_inset

 הוא בדיוק 
\begin_inset Formula $2^{n}$
\end_inset

.
 בקורס זה תיווצר "אשליה" שרבות הבעיות שניתן למצוא להן נוסחה מדוייקת שכזו,
 שכן רבות מהבעיות שנציג בקורס אכן יהיו כאלו; בעולם האמיתי נוסחה סגורה שכזו
 היא נדירה בהרבה, ולעתים קרובות גם איננה מועילה במיוחד.
 עיקר העניין הוא ב
\series bold
סדר הגודל
\series default
 של הפתרון; קירוב אסימפטוטי כלשהו אליו.
 מכיוון שאנו עוסקים במבוא בלבד, בקורס זה לא ניגע בכלל בעניינים אלו, שהם
 לב לבה של הקומבינטוריקה האנומרטיבית.
\end_layout

\begin_layout Standard
עבור בעיות שלא קל למצוא להן פתרון סגור פשוט באמצעות שיקולים אלמנטריים נלמד
 מקצת מהכלים החזקים יותר שמאפשרים התמודדות עם הבעיה - עקרון ההכלה וההפרדה,
 נוסחאות נסיגה ופתרונן ופונקציות יוצרות.
 כמו כן נדבר על הבינום של ניוטון, משולש פסקל ועקרון שובך היונים, שהם מושגים
 מתמטיים בסיסיים הקשורים לספירה שהדרך הטובה ביותר להבינם הוא במסגרת הקומבינטוריק
ה.
\end_layout

\begin_layout Standard

\series bold
תורת הגרפים
\series default
 עוסקת באובייקט שהוא אולי המרכזי במדעי המחשב - אוסף של איברים )"צמתים"(
 שחלקם מחוברים אלו לאלו )על ידי "קשתות"(.
 גרפים ממדלים אינספור בעיות ומושגים במדעי המחשב - החל ברשתות חברתיות ותרשימי
 זרימה של תוכנותת עבור במעגלים בוליאניים וקוונטיים וכלה במפות של מערכת כבישים.
 לא מעט מהאלגוריתמים הבסיסיים במדעי המחשב מנוסחים על גרפים, ובהתאם לכך אנו
 רוצים להכיר כאן את ההגדרות הפורמליות והתכונות הבסיסיות שמערבות גרפים, אם
 כי כמעט ולא נעסוק כאן באלגוריתמים על גרפים.
 בחלק זה של הקורס הגישה תהיה מעט פורמלית ומדויקת יותר מאשר בחלקו הראשון
 של הקורס; ננצל את הפשטות היחסית של החומר שבו אנו עוסקים כדי להמחיש את שיטות
 הלימוד הנפוצה במתמטיקה של 
\begin_inset Quotes eld
\end_inset

הגדרה-משפט-הוכחה
\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Part
קומבינטוריקה אנומרטיבית
\end_layout

\begin_layout Section
עקרונות ספירה בסיסיים
\begin_inset CommandInset label
LatexCommand label
name "sec:עקרונות-ספירה-בסיסיים"

\end_inset


\end_layout

\begin_layout Standard
בפרק זה נציג את "כלי העבודה" הבסיסיים של קומבינטוריקה אנומרטיבית - העקרונות
 המנחים שמשמשים אותנו בפתרון כמעט כל בעיה קומבינטורית, ופתרונות של כמה בעיות
 יסודיות שמשתמשים בהן לרוב בתור אבן הבניין לפתרון בעיות מורכבות יותר.
\end_layout

\begin_layout Standard
בלשון מתמטית פורמלית, בעיית ספירה קומבינטורית היא זו: נתונה קבוצה סופית
 
\begin_inset Formula $A$
\end_inset

 ואנו מעוניינים למצוא מהו 
\begin_inset Formula $\left|A\right|$
\end_inset

 - מספר האיברים ב-
\begin_inset Formula $A$
\end_inset

.
\end_layout

\begin_layout Subsection
עקרון החיבור ועקרון הכפל
\end_layout

\begin_layout Paragraph
דוגמא
\end_layout

\begin_layout Standard
במשחק לוח הזוי כלשהו השחקן יכול בתורו או להטיל קוביה רגילה או להטיל מטבע.
 כמה תוצאות אפשריות ישנן?
\end_layout

\begin_layout Standard
במקרה זה ישנן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
6
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
תוצאות אפשריות להטלת הקוביה, ו-
\numeric on
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
תוצאות אפשריות להטלת המטבע, ולכן בסך הכל יש 
\begin_inset Formula $6+2=8$
\end_inset

 תוצאות אפשריות.
\end_layout

\begin_layout Paragraph
דוגמא
\end_layout

\begin_layout Standard
כמה מהלכי פתיחה חוקיים יש לשחקן בכלים הלבנים במשחק השחמט?
\end_layout

\begin_layout Standard
במקרה זה כל רגלי של הלבן יכול לנוע צעד או שני צעדים קדימה, וכל אחד מהפרשים
 יכול לנוע אחד משני צעדים אפשריים קדימה.
 בסך הכל יש 
\begin_inset Formula $8+8+2+2=20$
\end_inset

 מהלכי פתיחה אפשריים.
\end_layout

\begin_layout Paragraph
הכללה
\end_layout

\begin_layout Standard
מה העקרון המשותף לדוגמאות שלעיל? בכל המקרים ביצענו בחירה מתוך כמה "סוגי"
 אפשרויות שונים, כשהבחירה היא מסוג 
\series bold
או
\series default
 - או שמזיזים רגלי צעד אחד )
\numeric on
8
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
אפשרויות( או שמזיזים רגלי שני צעדים )
\numeric on
8
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
אפשרויות(, או שמזיזים את הפרש הימני )
\numeric on
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
אפשרויות( או שמזיזים את הפרש השמאלי )
\numeric on
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
אפשרויות(.
 זהו מקרה פרטי של 
\series bold
עקרון החיבור
\series default
:
\end_layout

\begin_layout Claim
)עקרון החיבור( אם קיימות 
\begin_inset Formula $n_{1}$
\end_inset

 אפשרויות לבצע בחירה מסוג אחד ו-
\begin_inset Formula $n_{2}$
\end_inset

 אפשרויות לבצע בחירה מסוג שני, אז קיימות 
\begin_inset Formula $n_{1}+n_{2}$
\end_inset

 אפשרויות לבצע בחירה מסוג אחד 
\emph on
או
\emph default
 מהסוג השני.
\end_layout

\begin_layout Claim
בניסוח מתמטי פורמלי, אם 
\begin_inset Formula $A,B$
\end_inset

 הן שתי קבוצות זרות אז 
\begin_inset Formula $\left|A\cup B\right|=\left|A\right|+\left|B\right|$
\end_inset


\end_layout

\begin_layout Paragraph
דוגמא
\end_layout

\begin_layout Standard
סטודנט צריך לקחת בסמסטר קורס ספורט אחד מבין שחמט וברידג' )מעשה שהיה באמת
 בטכניון(, וקורס מדעי אחד מבין פיזיקה וכימיה.
 כמה אפשרויות בחירה יש לו?
\end_layout

\begin_layout Standard
לסטודנט יש
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
בחירות לקורס ספורט ו-
\numeric on
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
בחירות לקורס מדעי וכל זוג אפשרי של בחירות הוא חוקי.
 ישנן אם כן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
4
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
אפשרויות:
\end_layout

\begin_layout Enumerate
שחמט, פיזיקה
\end_layout

\begin_layout Enumerate
שחמט, כימיה
\end_layout

\begin_layout Enumerate
ברידג', פיזיקה
\end_layout

\begin_layout Enumerate
ברידג', כימיה
\end_layout

\begin_layout Standard
כלומר, לכל אחת מהאפשרויות לבחירה הראשונה, בן זוגה יכול להיות כל אחת מהאפשרויות
 בבחירה השניה.
\end_layout

\begin_layout Paragraph
דוגמא
\end_layout

\begin_layout Standard
במונופול בכל סיבוב מוטלות שתי קוביות.
 כמה תוצאות אפשריות ישנן?
\end_layout

\begin_layout Standard
לכל אחת מהקוביות יש
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
6
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
תוצאות אפשריות, ואנחנו מתעניינים בכל 
\series bold
הזוגות
\series default
 של תוצאה של קוביה אחת ותוצאה של הקוביה השניה, כך שבסך הכל יש לנו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
36
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 זוגות אפשריים מהצורה 
\begin_inset Formula $\left(i,j\right)$
\end_inset

 כאשר 
\begin_inset Formula $1\le i,j\le6$
\end_inset

.
\end_layout

\begin_layout Paragraph
הכללה
\end_layout

\begin_layout Standard
מה העקרון המשותף לדוגמאות שלעיל? בכל המקרים ביצענו בחירה 
\series bold
דו שלבית
\series default
.
 הבחירה היא מסוג "
\series bold
וגם
\series default
" - יש לבחור גם קורס ספורט וגם קורס מדעי.
 זהו מקרה פרטי של 
\series bold
עקרון הכפל
\series default
:
\end_layout

\begin_layout Claim
)עקרון הכפל( אם קיימות 
\begin_inset Formula $n_{1}$
\end_inset

 אפשרויות לבצע בחירה מסוג אחד ו-
\begin_inset Formula $n_{2}$
\end_inset

 אפשרויות לבצע בחירה מסוג שני, אז קיימות 
\begin_inset Formula $n_{1}\cdot n_{2}$
\end_inset

 אפשרויות לבצע בחירה מסוג אחד 
\series bold
וגם
\series default
 בחירה מהסוג השני.
\end_layout

\begin_layout Claim
בניסוח מתמטי פורמלי, אם 
\begin_inset Formula $A,B$
\end_inset

 הן שתי קבוצות )לא בהכרח זרות( אז 
\begin_inset Formula $\left|A\times B\right|=\left|A\right|\cdot\left|B\right|$
\end_inset

 )
\begin_inset Formula $A\times B$
\end_inset

 הוא אוסף כל הזוגות של איבר מ-
\begin_inset Formula $A$
\end_inset

 ואיבר מ-
\begin_inset Formula $B$
\end_inset

(.
\end_layout

\begin_layout Subsection
תמורות )סידור בשורה(
\end_layout

\begin_layout Standard
בכמה דרכים ניתן לסדר 
\begin_inset Formula $n$
\end_inset

 ילדים בשורה?
\end_layout

\begin_layout Standard
זהו שימוש ישיר בעקרון הכפל.
 נפתור את הבעיה בשתי גישות שונות על מנת להמחיש שניתן להגיע לתוצאה מכמה נקודות
 מבט שונות )מה שרק מחזק את האמונה שלנו בנכונות התוצאה, כמובן(.
\end_layout

\begin_layout Itemize
בגישה הראשונה נניח שאנו עוברים אחד אחד על הילדים ולכל ילד בוחרים לו מקום
 בשורה מבין אלו שעדיין פנויים )אנו מניחים מראש שהשורה מחולקת ל-
\begin_inset Formula $n$
\end_inset

 "תאים"(.
 עבור הילד הראשון יש 
\begin_inset Formula $n$
\end_inset

 בחירות, עבור השני יש רק 
\begin_inset Formula $n-1$
\end_inset

 בחירות )כי מקום אחד כבר תפוס(, עבור השלישי 
\begin_inset Formula $n-2$
\end_inset

 בחירות וכן הלאה עד לילד האחרון שיש לו בדיוק בחירה אחת.
\end_layout

\begin_layout Itemize
בגישה השניה נניח שאנו עוברים אחד אחד על המקומות בשורה ולכל אחד מהם בוחרים
 איזה ילד יהיה בו.
 גם כאן יש 
\begin_inset Formula $n$
\end_inset

 בחירות לילד הראשון, 
\begin_inset Formula $n-1$
\end_inset

 בחירות לילד השני )כי כבר סידרנו את אחד הילדים בשורה ולא ניתן לבחור בו שוב(,
 וכן הלאה עד למקום האחרון שבו יכול להיות רק ילד אחד בלבד - זה שנשאר.
\end_layout

\begin_layout Itemize
בגישה השלישית נבנה את השורה ילד אחרי ילד מבלי להניח שהשורה מחולקת מראש לתאים,
 כשבכל פעם אנו שואלים את עצמנו להיכן אפשר להכניס את הילד הבא בתור.
 יש בחירה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
לילד הראשון )כי כרגע השורה ריקה(,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
בחירות לילד השני )משמאל או מימין לילד הקיים(,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
3
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
בחירות עבור השלישי )משמאל לזוג הקיים, מימין לו או באמצע( וכן הלאה עד 
\begin_inset Formula $n$
\end_inset

 בחירות לילד האחרון.
\end_layout

\begin_layout Standard
בכל המקרים קיבלנו את אותה התוצאה: 
\begin_inset Formula $1\cdot2\cdot3\cdots n$
\end_inset

.
 בגלל השימושיות הרבה של הפעולה הזו במתמטיקה יש לה שם וסימון מיוחד: 
\begin_inset Formula $n!=1\cdot2\cdots n$
\end_inset

 )קרי "
\begin_inset Formula $n$
\end_inset

 עצרת"(.
\end_layout

\begin_layout Standard
את 
\begin_inset Formula $n!$
\end_inset

 ניתן להגדיר גם באופן רקורסיבי שהוא מועיל לעתים:
\end_layout

\begin_layout Itemize
\begin_inset Formula $0!=1$
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $n!=n\cdot\left(n-1\right)!$
\end_inset

 לכל 
\begin_inset Formula $n\ge1$
\end_inset

.
\end_layout

\begin_layout Remarks
אין ל-
\begin_inset Formula $n!$
\end_inset

 נוסחה פשוטה, אך יש לה קירוב מצויין, שהופך לשימושי מאוד כאשר עוסקים בקומבינטוריק
ה בחיפוש אחרי סדרי גודל בלבד: 
\series bold
נוסחת סטירלינג
\series default
, 
\begin_inset Formula $n!\approx\sqrt{2\pi n}\left(\frac{n}{e}\right)^{n}$
\end_inset

 )המשמעות הפורמלית היא שמנת שני צדדי המשוואה שואפת ל-
\begin_inset Formula $1$
\end_inset

 כאשר 
\begin_inset Formula $n$
\end_inset

 שואף לאינסוף, דהיינו 
\begin_inset Formula $n!/\sqrt{2\pi n}\left(\frac{n}{e}\right)^{n}\underset{n\to\infty}{\to}1$
\end_inset

(.
 בקורס הזה לא נזדקק לנוסחת סטירלינג אך מומלץ להיות מודעים לקיומה.
\end_layout

\begin_layout Paragraph
דוגמא
\end_layout

\begin_layout Standard
בכמה דרכים ניתן לסדר 
\begin_inset Formula $n$
\end_inset

 ילדים בשורה אם ידוע שאליס ובוב חברים ורוצים להיות זה ליד זו?
\end_layout

\begin_layout Standard
כמקודם, נפתור במספר דרכים:
\end_layout

\begin_layout Itemize
נסדר את כל הילדים בשורה למעט אליס: 
\begin_inset Formula $\left(n-1\right)!$
\end_inset

 אפשרויות.
 כעת אליס יכולה להיות משמאל או מימין לבוב, ולכן סך הכל יש 
\begin_inset Formula $2\left(n-1\right)!$
\end_inset

 אפשרויות.
\end_layout

\begin_layout Itemize
"נדביק" יחד את אליס ובוב ונחשוב עליהם בתור ילד אחד )בוליס?(.
 נסדר את 
\begin_inset Formula $n-1$
\end_inset

 הילדים )הילדים הרגילים ו"בוליס"( בשורה ונקבל 
\begin_inset Formula $\left(n-1\right)!$
\end_inset

 אפשרויות.
 כעת, יש שתי אפשרויות לסידור הפנימי של "בוליס" )בוב מימין ואליס משמאל או
 בוב משמאל ואליס מימין( ולכן מעקרון הכפל נקבל 
\begin_inset Formula $2\left(n-1\right)!$
\end_inset

 אפשרויות.
\end_layout

\begin_layout Paragraph
דוגמא
\end_layout

\begin_layout Standard
אליס ובוב רבו.
 בכמה דרכים ניתן לסדר את 
\begin_inset Formula $n$
\end_inset

 הילדים בשורה כך שאליס 
\series bold
אינה
\series default
 ליד בוב?
\end_layout

\begin_layout Itemize
נסדר את כל הילדים בשורה למעט אליס - 
\begin_inset Formula $\left(n-1\right)!$
\end_inset

 אפשרויות.
 כעת אליס יכולה להיות בכל מקום למעט ימין או שמאל בוב, ולכן יש לה 
\begin_inset Formula $n-2$
\end_inset

 אפשרויות ומעקרון הכפל נקבל 
\begin_inset Formula $\left(n-2\right)\left(n-1\right)!$
\end_inset

.
\end_layout

\begin_layout Itemize
"עקרון החיסור": מספר אפשרויות הסידור בשורה של הילדים הוא 
\begin_inset Formula $n!$
\end_inset

, וראינו כבר כי בדיוק ב-
\begin_inset Formula $2\left(n-1\right)!$
\end_inset

 מתוך האפשרויות הללו אליס היא ליד בוב.
 אז מה שנותר הוא 
\begin_inset Formula 
\begin{eqnarray*}
n!-2\left(n-1\right)! & = & n\left(n-1\right)!-2\left(n-1\right)!=\left(n-2\right)\left(n-1\right)!
\end{eqnarray*}

\end_inset

אפשרויות.
\end_layout

\begin_layout Subsection
חליפות )בחירה ללא חזרות ועם חשיבות לסדר(
\end_layout

\begin_layout Paragraph
דוגמא
\end_layout

\begin_layout Standard
יש ספסל עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
5
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
מקומות ו-
\numeric on
20
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
ילדים.
 בכמה דרכים אפשר לסדר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
5
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
מבין הילדים על הספסל?
\end_layout

\begin_layout Itemize
יש
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
20
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
בחירות של ילד למקום הראשון,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
19
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
למקום השני וכן הלאה עד
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
16
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
למקום החמישי: 
\begin_inset Formula $20\cdot19\cdot18\cdot17\cdot16$
\end_inset

.
 על פי ההגדרה קל לראות שזה שווה ל-
\begin_inset Formula $\frac{20!}{15!}$
\end_inset

.
\end_layout

\begin_layout Itemize
"עקרון החילוק" - נסדר את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
20
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
הילדים בשורה - 
\begin_inset Formula $20!$
\end_inset

 אפשרויות.
 כעת ניקח את חמשת הראשונים ונשים על הספסל בסדר שלהם בשורה.
 בצורה זו יש לנו 
\series bold
ספירות כפולות
\series default
 - כל סידור של ילדים על הספסל מתאים בדיוק ל-
\begin_inset Formula $15!$
\end_inset

 מבין אפשרויות הסידור של הילדים בשורה - מספר הסידורים הפנימיים של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
15
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
הילדים שאינם במקומות הראשונים.
 גישה זו קשה יותר להבנה מהגישה הראשונה אך חזקה בהרבה ומסבירה ישירות את התוצאה
 
\begin_inset Formula $\frac{20!}{15!}$
\end_inset

.
\end_layout

\begin_layout Paragraph
הכללה
\end_layout

\begin_layout Standard
הדוגמה שלעיל היא מקרה פרטי של הבעיה הבאה: בכמה דרכים ניתן לבחור 
\begin_inset Formula $k$
\end_inset

 מתוך 
\begin_inset Formula $n$
\end_inset

 אובייקטים )
\begin_inset Formula $k\le n$
\end_inset

( כאשר יש חשיבות לסדר שבו נבחרים האיברים?
\end_layout

\begin_layout Standard
כפי שראינו בדוגמה, הפתרון הכללי הוא 
\begin_inset Formula $\frac{n!}{\left(n-k\right)!}=n\cdot\left(n-1\right)\cdots\left(n-k+1\right)$
\end_inset

.
\end_layout

\begin_layout Standard
לצורך פשטות משתמשים לעתים בסימון 
\begin_inset Formula $P\left(n,k\right)=P_{n}^{k}=\frac{n!}{\left(n-k\right)!}$
\end_inset

.
 
\series bold
אזהרה!
\series default
\emph on
 
\emph default
יש עוד שלל צורות כתיבה מוזרות לסימון )דוגמת 
\begin_inset Formula $P_{k}^{n}$
\end_inset

 או 
\begin_inset Formula $_{n}P_{k}$
\end_inset

( והדרך הבטוחה ביותר להימנע מבלבול היא פשוט לא להשתמש בו כלל.
\end_layout

\begin_layout Subsection
צירופים )בחירה ללא חזרות וללא חשיבות לסדר(
\end_layout

\begin_layout Standard
בכמה דרכים ניתן לבחור 
\begin_inset Formula $k$
\end_inset

 מתוך 
\begin_inset Formula $n$
\end_inset

 אובייקטים כאשר אין חשיבות לסדר שבו נבחרים האיברים?
\end_layout

\begin_layout Standard
נסמן ב-
\begin_inset Formula $C_{n}^{k}$
\end_inset

 את המספר הזה.
 אז 
\begin_inset Formula $C_{n}^{k}\cdot k!=P_{n}^{k}$
\end_inset

 על פי עיקרון הכפל - קודם בוחרים 
\begin_inset Formula $k$
\end_inset

 איברים בלי חשיבות לסדר )
\begin_inset Formula $C_{n}^{k}$
\end_inset

 אפשרויות( ואז בוחרים אחד מ-
\begin_inset Formula $k!$
\end_inset

 הסידורים האפשריים שלהם.
 מספר זה שווה למספר האפשרויות לבחור את האיברים כאשר מלכתחילה מתחשבים בסדר.
\end_layout

\begin_layout Standard
מכאן ש-
\begin_inset Formula $C_{n}^{k}=\frac{P_{n}^{k}}{k!}=\frac{n!}{k!\left(n-k\right)!}$
\end_inset

.
\end_layout

\begin_layout Standard
סימון אחר ומקובל בהרבה ל-
\begin_inset Formula $C_{n}^{k}$
\end_inset

 הוא זה: 
\begin_inset Formula ${n \choose k}=\frac{n!}{k!\left(n-k\right)!}$
\end_inset

.
 בסימון זה נשתמש מכאן ואילך.
\end_layout

\begin_layout Subsection
סידור בשורה עם עצמים זהים
\end_layout

\begin_layout Standard
נתונים 
\begin_inset Formula $k_{1}$
\end_inset

 כדורים מצבע אחד, 
\begin_inset Formula $k_{2}$
\end_inset

 כדורים מצבע אחר וכן הלאה עד 
\begin_inset Formula $k_{t}$
\end_inset

 כדורים מצבע 
\begin_inset Formula $t$
\end_inset

.
 נסמן 
\begin_inset Formula $n=\sum_{i=1}^{t}k_{i}$
\end_inset

.
 בכמה דרכים ניתן לסדר את הכדורים בשורה?
\end_layout

\begin_layout Standard
דרך הפתרון היא לחשוב על כל הכדורים כשונים אלו מאלו, לסדר אותם בשורה )
\begin_inset Formula $n!$
\end_inset

 אפשרויות( ואז לכל צבע לחלק במספר הסידורים הפנימיים של אותו הצבע )
\begin_inset Formula $k_{i}!$
\end_inset

 לכל 
\begin_inset Formula $i$
\end_inset

(.
\end_layout

\begin_layout Standard
מקבלים: 
\begin_inset Formula $\frac{n!}{k_{1}!k_{2}!\cdots k_{t}!}$
\end_inset

.
\end_layout

\begin_layout Standard
צירופים הם מקרה פרטי כאשר 
\begin_inset Formula $t=2$
\end_inset

 )אפשר לחשוב על כך כאילו בוחרים את המקומות לכדורים מהצבע הראשון, ואז המקומות
 עבור הצבע השני נקבעים מאליהם(.
\end_layout

\begin_layout Standard
אפשר לחשוב על 
\begin_inset Formula $\frac{n!}{k_{1}!k_{2}!\cdots k_{t}!}$
\end_inset

 בתור הכללה של צירופים: מספר האפשרויות לבחור 
\begin_inset Formula $k_{1}$
\end_inset

 מתוך 
\begin_inset Formula $n$
\end_inset

 אובייקטים עבור קבוצה אחת, 
\begin_inset Formula $k_{2}$
\end_inset

 עבור קבוצה שניה וכן הלאה, כאשר אין חשיבות לסדר הבחירה.
\end_layout

\begin_layout Standard
לעתים משתמשים בסימון 
\begin_inset Formula ${n \choose k_{1},k_{2},\dots,k_{t}}=\frac{n!}{k_{1}!k_{2}!\cdots k_{t}!}$
\end_inset

.
\end_layout

\begin_layout Subsection
בחירה עם חזרות ועם חשיבות לסדר
\end_layout

\begin_layout Paragraph
דוגמא
\end_layout

\begin_layout Standard
בכמה דרכים ניתן לבנות מספר בן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
5
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
ספרות בעזרת הספרות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
1,2,3
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
בלבד?
\end_layout

\begin_layout Standard
יש לנו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
3
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
אפשרויות בחירה לספרה הראשונה,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
3
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
לספרה השניה וכן הלאה.
 על פי עקרון הכפל נקבל 
\begin_inset Formula $3\cdot3\cdot3\cdot3\cdot3=3^{5}$
\end_inset

.
\end_layout

\begin_layout Standard
בדוגמה זו יש חשיבות לסדר הבחירה )
\begin_inset Formula $13$
\end_inset

 איננו אותו מספר כמו 
\begin_inset Formula $31$
\end_inset

( ויש חזרות - ניתן לבחור את אותה ספרה יותר מפעם אחת.
 המקרה הכללי מטופל באותו האופן:
\end_layout

\begin_layout Claim
מספר האפשרויות לבחור 
\begin_inset Formula $k$
\end_inset

 מתוך 
\begin_inset Formula $n$
\end_inset

 אובייקטים עם חזרות ועם חשיבות לסדר הוא 
\begin_inset Formula $n^{k}$
\end_inset

.
\end_layout

\begin_layout Claim
שימו לב כי כאן לא נדרש ש-
\begin_inset Formula $k\le n$
\end_inset

.
\end_layout

\begin_layout Subsection
בחירה עם חזרות וללא חשיבות לסדר
\end_layout

\begin_layout Paragraph
דוגמא
\end_layout

\begin_layout Standard
כמה סדרות 
\series bold
מונוטוניות לא יורדות
\series default
 באורך 
\begin_inset Formula $k$
\end_inset

 קיימות מעל 
\begin_inset Formula $1,2,\dots n$
\end_inset

?
\end_layout

\begin_layout Standard
דוגמה לסדרה מונוטונית לא יורדת שכזו עבור 
\begin_inset Formula $k=6,n=7$
\end_inset

: 
\begin_inset Formula $\left(1,3,3,3,5,7\right)$
\end_inset

.
\end_layout

\begin_layout Standard
הבחנה: 
\begin_inset Formula $a_{1},a_{2},\dots,a_{k}$
\end_inset

 היא סדרה מונוטונית לא יורדת מעל 
\begin_inset Formula $1,2,\dots n$
\end_inset

 אם ורק אם 
\begin_inset Formula $a_{1}+0,a_{2}+1,\dots,a_{k}+\left(k-1\right)$
\end_inset

 היא סדרה מונוטונית עולה מעל 
\begin_inset Formula $1,2,\dots,n+\left(k-1\right)$
\end_inset

.
\end_layout

\begin_layout Standard
סדרות מונוטוניות עולות קל בהרבה לספור מבחינה רעיונית: בוחרים את 
\begin_inset Formula $k$
\end_inset

 המספרים שישתתפו בסדרה ללא חשיבות לסדר, והסדרה כבר נקבעת מעצמה על פיהם.
\end_layout

\begin_layout Standard
לכן קיבלנו 
\begin_inset Formula ${n+k-1 \choose k}$
\end_inset

.
\end_layout

\begin_layout Standard
זוהי דוגמא לבחירה עם חזרות )ניתן לבחור את אותו מספר כמה פעמים( וללא חשיבות
 לסדר )הסידור של המספרים בסדרה נקבע באופן יחיד(.
\end_layout

\begin_layout Paragraph
דוגמא
\end_layout

\begin_layout Standard
מה מספר הדרכים להכנסת 
\begin_inset Formula $k$
\end_inset

 כדורים זהים ל-
\begin_inset Formula $n$
\end_inset

 תאים שונים?
\end_layout

\begin_layout Standard
נוח לחשוב על התהליך באופן הפוך - 
\begin_inset Formula $k$
\end_inset

 הכדורים מסודרים בשורה, ויש לבנות סביבם "מחיצות" כדי ליצור 
\begin_inset Formula $n$
\end_inset

 תאים, כך שצריך 
\begin_inset Formula $n-1$
\end_inset

 מחיצות.
\end_layout

\begin_layout Standard
ניתן לתאר באופן סכמטי באמצעות סדרה: 
\begin_inset Formula $01001$
\end_inset

 כאשר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
מייצג כדור ו-
\numeric on
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
מייצג מחיצה.
 כאן יש שלושה תאים: בשמאלי יש כדור אחד, באמצעי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
שניים ובימני אפס.
\end_layout

\begin_layout Standard
אם כן, המספר הוא מספר הסדרות הבינאריות עם 
\begin_inset Formula $k$
\end_inset

 אפסים ו-
\begin_inset Formula $n-1$
\end_inset

 אחדים.
 כל שנדרש הוא לבחור את מיקום האפסים כך שיש 
\begin_inset Formula ${n+k-1 \choose k}$
\end_inset

 אפשרויות.
\end_layout

\begin_layout Standard
גם כאן הייתה בחירה עם חזרות )ניתן להכניס כדור לאותו תא פעמים רבות( וללא
 חשיבות לסדר )הכדורים זהים ולכן לא חשוב אם קודם מכניסים אחד לתא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
ואז לתא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
או הפוך - בסוף בשני התאים יהיה כדור בודד(.
\end_layout

\begin_layout Paragraph
דוגמא
\end_layout

\begin_layout Standard
כמה פתרונות במספרים שלמים אי שליליים יש למשוואה 
\begin_inset Formula $x_{1}+x_{2}+\dots+x_{n}=k$
\end_inset

?
\end_layout

\begin_layout Standard
קל לראות שיש התאמה חח"ע ועל בין הבעיה הזו לבעיה הקודמת: המשתנים הם התאים,
 וערכו של כל משתנה הוא מספר הכדורים שהוכנסו אליו ולכן גם כאן הפתרון הוא
 
\begin_inset Formula ${n+k-1 \choose k}$
\end_inset

.
\end_layout

\begin_layout Subsection
סיכום
\end_layout

\begin_layout Itemize
סידור 
\begin_inset Formula $n$
\end_inset

 עצמים בשורה: 
\begin_inset Formula $n!$
\end_inset


\end_layout

\begin_layout Itemize
סידור 
\begin_inset Formula $n$
\end_inset

 עצמים בשורה כאשר הם מחולקים למחלקות זהות בגדלים 
\begin_inset Formula $k_{1},\dots,k_{t}$
\end_inset

: 
\begin_inset Formula $\frac{n!}{k_{1}!\dots k_{t}!}$
\end_inset


\end_layout

\begin_layout Itemize
בחירות של 
\begin_inset Formula $k$
\end_inset

 מתוך 
\begin_inset Formula $n$
\end_inset

:
\end_layout

\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="3">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
סדר
\backslash
חזרות
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
חשוב
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
לא חשוב
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
בלי
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $P_{n}^{k}=\frac{n!}{\left(n-k\right)!}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $C_{n}^{k}={n \choose k}$
\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
עם
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $PP_{n}^{k}=n^{k}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $CC_{n}^{k}={n+k-1 \choose k}$
\end_inset


\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Standard
עוד כמה תרגילים ופתרונם:
\end_layout

\begin_layout Paragraph
דוגמא
\end_layout

\begin_layout Standard
כמה "ידיים" שונות של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
5
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
קלפים בפוקר ניתן לקבל?
\end_layout

\begin_layout Standard
זוהי בחירה של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
5
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
קלפים מתוך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
52
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
ללא חשיבות לסדר וללא חזרה ולכן 
\begin_inset Formula ${52 \choose 5}=\frac{52!}{5!47!}$
\end_inset


\end_layout

\begin_layout Paragraph
דוגמא
\end_layout

\begin_layout Standard
כמה אפשרויות למילוי טופס טוטו קיימות?
\end_layout

\begin_layout Standard
כאן ישנם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
16
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
טורים שבכל אחד מסמנים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
או 
\numeric on
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
או 
\begin_inset Formula $\mbox{X}$
\end_inset

, כלומר בחירה עם חשיבות לסדר ועם חזרות של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
16
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
מ-
\numeric on
3
\numeric off
, ולכן 
\begin_inset Formula $3^{16}=43,046,721$
\end_inset

.
\end_layout

\begin_layout Paragraph
דוגמא
\end_layout

\begin_layout Standard
מה ההסתברות לזכות בלוטו הישראלי, שבו ממלאים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
6
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
מ-
\numeric on
37
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
מספרים ועוד
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
מ-
\numeric on
7
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
"מספרים חזקים"?
\end_layout

\begin_layout Standard
כאן יש לנו שתי בחירות ללא חשיבות לסדר וללא חזרות ואנו מפעילים עליהן את עקרון
 הכפל ומקבלים 
\begin_inset Formula $7\cdot{37 \choose 6}=16,273,488$
\end_inset

 ולכן סיכויי הזכייה הם 
\begin_inset Formula $1:16,273,488$
\end_inset

.
\end_layout

\begin_layout Paragraph
דוגמא
\end_layout

\begin_layout Standard
"וקטור בינארי" מאורך 
\begin_inset Formula $n$
\end_inset

 הוא פשוט סדרה של 
\begin_inset Formula $n$
\end_inset

 ערכים שהם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
או
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
.
\end_layout

\begin_layout Standard
ברור כי יש 
\begin_inset Formula $2^{n}$
\end_inset

 וקטורים בינאריים מאורך 
\begin_inset Formula $n$
\end_inset

 )בחירה עם חזרות מתוך 
\begin_inset Formula $\left\{ 0,1\right\} $
\end_inset

 ועם חשיבות לסדר כי וקטור הוא סדרה(.
\end_layout

\begin_layout Standard
כמה וקטורים בינאריים קיימים שבהם יש לפחות מופע אחד של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
?
\end_layout

\begin_layout Standard
פתרון נפוץ
\emph on
 
\series bold
\emph default
ושגוי
\series default
 לשאלות מסוג זה הוא כדלהלן: נבחר אחד מ-
\begin_inset Formula $n$
\end_inset

 המקומות בתור המקום שבו יופיע ה-
\numeric on
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
שאנחנו "מחוייבים" לו, ואז נבחר בחופשיות את הכניסות עבור שאר המקומות, ונקבל
 
\begin_inset Formula $n\cdot2^{n-1}$
\end_inset

 אפשרויות.
\end_layout

\begin_layout Standard
דרך לזהות את השגיאה היא לבדוק את הפתרון עבור ערכים קטנים: עבור 
\begin_inset Formula $n=2$
\end_inset

 נקבל מהנוסחה כי ישנם 
\begin_inset Formula $2\cdot2^{1}=4$
\end_inset

 וקטורים בינאריים מתאימים, אבל קל לראות כי קיימים רק שלושה: 
\begin_inset Formula $11,01,10$
\end_inset

.
 ביצענו 
\series bold
ספירה כפולה
\series default
.
\end_layout

\begin_layout Standard
הספירה הכפולה ספרה את הוקטור
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
11
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
פעמיים: פעם אחת נבחר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
להיות במקום הראשון בשלב הראשון, ובשלב השני נבחר שבמקום השני יופיע גם כן
 אחד; בפעם האחרת נבחר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
להיות דווקא במקום השני, ואילו ה-
\numeric on
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
שבמקום הראשון נבחר אחר כך.
 הדבר אינו נוגד את עקרון הכפל שכן עקרון הכפל דורש שכל זוג בחירות יוביל לתוצאה
 שונה
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
עקרון הכפל סופר כמה זוגות של בחירות ישנם; השימוש שלנו בעיקרון הכפל מניח
 במובלע שהאובייקטים שאותם אנחנו סופרים נוצרים על ידי זוגות הבחירות הללו
 כך שכל אובייקט נוצר בידי זוג אחד בדיוק.
\end_layout

\end_inset

, ואילו כאן יש שני זוגות בחירות שונים אפשריים שמובילים לאותו האובייקט בדיוק.
\end_layout

\begin_layout Standard
הדרך הנכונה לפתור את התרגיל הזה היא באמצעות 
\series bold
עקרון החיסור
\series default
: ישנו רק וקטור בודד מאורך 
\begin_inset Formula $n$
\end_inset

 שלא מכיל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
-ים )הוקטור שכולו אפסים( ולכן יש 
\begin_inset Formula $2^{n}-1$
\end_inset

 וקטורים מאורך 
\begin_inset Formula $n$
\end_inset

 שמכילים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
לפחות פעם אחת )כי על פי עקרון החיבור, מספר הוקטורים הכולל 
\begin_inset Formula $2^{n}$
\end_inset

 שווה לסכום של מספר הוקטורים שלא מכילים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
-ים ומספר הוקטורים שמכילים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אחד לפחות(.
\end_layout

\begin_layout Paragraph
דוגמא
\end_layout

\begin_layout Standard
כמה פתרונות בשלמים יש למשוואה 
\begin_inset Formula $x_{1}+x_{2}+x_{3}+x_{4}+x_{5}=30$
\end_inset

 אם דורשים כי 
\begin_inset Formula $x_{i}\ge1$
\end_inset

?
\end_layout

\begin_layout Standard
כאן אנחנו רוצים להשתמש בתוצאה המוכרת של בחירות בלי חשיבות לסדר ועם חזרות,
 אבל שם התוצאה תקפה עבור 
\begin_inset Formula $x_{i}\ge0$
\end_inset

.
 
\end_layout

\begin_layout Standard
הרעיון האינטואיטיבי - מחלקים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
30
\numeric off
 כדורים לחמישה תאים תחת האילוץ שאין תא ריק, אז קודם כל נשים כדור אחד בכל
 תא ואז נחלק את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
25
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
הכדורים הנותרים באופן חופשי.
\end_layout

\begin_layout Standard
בפועל: נשתמש בתעלול ונגדיר משתנים חדשים 
\begin_inset Formula $y_{i}$
\end_inset

 כך ש-
\begin_inset Formula $x_{i}=y_{i}+1$
\end_inset

.
 נציב במשוואה המקורית ונקבל:
\end_layout

\begin_layout Standard
\begin_inset Formula $\left(y_{1}+1\right)+\left(y_{2}+1\right)+\left(y_{3}+1\right)+\left(y_{4}+1\right)+\left(y_{5}+1\right)=30$
\end_inset


\end_layout

\begin_layout Standard
ובניסוח שקול:
\end_layout

\begin_layout Standard
\begin_inset Formula $y_{1}+y_{2}+y_{3}+y_{4}+y_{5}=25$
\end_inset

, 
\begin_inset Formula $y_{i}\ge0$
\end_inset

.
\end_layout

\begin_layout Standard
ולכן הפתרון הוא 
\begin_inset Formula ${5+25-1 \choose 25}={29 \choose 25}$
\end_inset

.
\end_layout

\begin_layout Paragraph
דוגמא
\end_layout

\begin_layout Standard
יהא 
\begin_inset Formula $\mathbb{F}_{q}$
\end_inset

 שדה סופי עם 
\begin_inset Formula $q$
\end_inset

 איברים.
 כמה מטריצות הפיכות 
\begin_inset Formula $2\times2$
\end_inset

 מעל 
\begin_inset Formula $\mathbb{F}_{q}$
\end_inset

 קיימות?
\end_layout

\begin_layout Standard
עבור מטריצות 
\begin_inset Formula $2\times2$
\end_inset

, מטריצה היא הפיכה אם ורק אם אף שורה איננה כפל בסקלר של השורה השניה.
 עבור השורה הראשונה כל שורה אפשרית פרט לשורה שכולה אפסים היא לגיטמית, ומכיוון
 שיש 
\begin_inset Formula $q$
\end_inset

 ערכים אפשריים לכל כניסה, מעקרון הכפל יש 
\begin_inset Formula $q^{2}$
\end_inset

 שורות אפשריות, ולאחר חיסור שורת האפסים נקבל 
\begin_inset Formula $q^{2}-1$
\end_inset

 אפשרויות.
\end_layout

\begin_layout Standard
כעת, בהינתן השורה הראשונה כל אחת מ-
\begin_inset Formula $q^{2}$
\end_inset

 השורות אפשריות עבור השורה השניה פרט לאלו שהן כפל בסקלר של השורה הראשונה.
 קיימים 
\begin_inset Formula $q$
\end_inset

 סקלרים ואותה שורה לא מתקבלת על ידי כפל בשני סקלרים שונים, כך שיש 
\begin_inset Formula $q^{2}-q$
\end_inset

 שורות לגיטימיות בסך הכל.
\end_layout

\begin_layout Standard
מעקרון הכפל נקבל שיש 
\begin_inset Formula $\left(q^{2}-1\right)\left(q^{2}-q\right)$
\end_inset

 מטריצות הפיכות מהסוג הנדרש.
\end_layout

\begin_layout Section
עקרון שובך היונים
\end_layout

\begin_layout Standard
עקרון שובך היונים הוא אבחנה מתמטית פשוטה ביותר, ועם זאת הוא כלי שימושי מאוד
 בפתרון בעיות קיום רבות, לעתים בצורות מפתיעות למדי.
\end_layout

\begin_layout Claim
)עקרון שובך היונים(: אם ב-
\begin_inset Formula $n$
\end_inset

 שובכים ישנן 
\begin_inset Formula $n+1$
\end_inset

 יונים, אז קיים שובך שבו יש לפחות שתי יונים.
\end_layout

\begin_layout Claim
ניסוח כללי יותר: אם ב-
\begin_inset Formula $n$
\end_inset

 שובכים ישנן 
\begin_inset Formula $m$
\end_inset

 יונים, אז קיים שובך שבו יש לפחות 
\begin_inset Formula $\left\lceil \frac{m}{n}\right\rceil $
\end_inset

 יונים.
\end_layout

\begin_layout Standard
הוכחת הטענה היא בשלילה - אם בכל שובך יש לכל היותר יונה אחת, אז יש בכולם
 יחד לא יותר מ-
\begin_inset Formula $n$
\end_inset

 יונים.
 באופן דומה מוכחת הטענה הכללית.
\end_layout

\begin_layout Standard
נפתח בדוגמאות פשוטות:
\end_layout

\begin_layout Paragraph
דוגמא
\end_layout

\begin_layout Standard
קיימים בעולם שני אנשים לא קרחים בעלי בדיוק אותה כמות שערות על הראש.
 זה נובע מכך שמספר השערות על הראש נמדד במאות אלפים, בעוד שבעולם ישנם מיליארדי
 אנשים - האנשים הם היונים, מספרי השערות האפשריים הם השובכים.
\end_layout

\begin_layout Paragraph
דוגמא
\end_layout

\begin_layout Standard
בחדר עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
366
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
אנשים קיימים שני אנשים בעלי אותו יום הולדת )אם מתעלמים מחריגים כמו ה-
\numeric on
29
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
בפברואר(
\begin_inset Foot
status collapsed

\begin_layout Plain Layout

\emph on
פרדוקס יום ההולדת
\emph default
 בתורת ההסתברות מראה שכבר אם ישנם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
23
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
אנשים בחדר וימי ההולדת שלהם מתפלגים באופן אחיד, ההסתברות לשני אנשים בעלי
 אותו יום הולדת גדולה מחצי.
\end_layout

\end_inset

.
\end_layout

\begin_layout Paragraph
דוגמא
\end_layout

\begin_layout Standard
בקורס עם למעלה מ-
\numeric on
100
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
סטודנטים מובטח שיהיו שני סטודנטים שיקבלו את אותו הציון )אם כולם ניגשים לבחינה...(
\end_layout

\begin_layout Paragraph
דוגמא
\end_layout

\begin_layout Standard
לא קיים כיווץ משמר מידע שמקטין כל קובץ: לכל 
\begin_inset Formula $n$
\end_inset

 יש 
\begin_inset Formula $2^{n}$
\end_inset

 קבצים מאורך 
\begin_inset Formula $n$
\end_inset

 ביטים ו-
\begin_inset Formula $1+2+4+\dots+2^{n-1}=2^{n}-1$
\end_inset

 קבצים מאורך לכל היותר 
\begin_inset Formula $n-1$
\end_inset

 ביטים ולכן מעקרון שובך היונים כל כיווץ שמקטין כל קובץ בן 
\begin_inset Formula $n$
\end_inset

 ביטים חייב לגרום להתנגשות בין שני קבצים )ולכן המידע לא משומר במלואו - לא
 ניתן לשחזר כל קובץ מהכיווץ שלו(.
 טיעון קצת יותר מחוכם מוכיח שאם הכיווץ מקטין ולו קובץ בודד, הוא חייב 
\series bold
להגדיל
\series default
 קובץ אחר כלשהו.
\end_layout

\begin_layout Standard
נעבור כעת לדוגמאות מורכבות יותר.
\end_layout

\begin_layout Paragraph
דוגמא
\end_layout

\begin_layout Standard
נתון משולש שווה צלעות עם צלע באורך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
.
 יש להוכיח כי לכל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
5
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
נקודות במשולש יש שתיים במרחק קטן או שווה ל-
\begin_inset Formula $\frac{1}{2}$
\end_inset

.
\end_layout

\begin_layout Standard
הפתרון: מחלקים את המשולש ל-
\numeric on
4
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
משולשים שווי צלעות שאורך צלעם 
\begin_inset Formula $\frac{1}{2}$
\end_inset

:
\end_layout

\begin_layout Paragraph
\begin_inset Graphics
	filename images/triangle.png
	scale 50

\end_inset


\end_layout

\begin_layout Standard
המרחק בין שתי נקודות בתוך כל משולש הוא לא יותר מ-
\begin_inset Formula $\frac{1}{2}$
\end_inset

, ועל פי עקרון שובך היונים יש שתי נקודות באותו משולש )הנקודות הן היונים,
 המשולשים הם השובכים(.
\end_layout

\begin_layout Paragraph
דוגמא
\end_layout

\begin_layout Standard
שישה אנשים נפגשו במסיבה וחלקם לחצו ידיים אחד לשני.
 יש להוכיח כי יש שלישייה של אנשים כך שכל חבריה או לחצו את ידיהם של כל חבריהם
 לשלישייה, או לחצו את ידו של אף חבר בשלישייה.
\end_layout

\begin_layout Standard
בניסוח גאומטרי, נתבונן במצולע משוכלל בן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
6
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
קודקודים כך שכל האלכסונים האפשריים נמתחו בו )כלומר, כל קודקוד מחובר בקו
 לכל קודקוד אחר(.
 נצבע כל אחד מהקווים באדום או כחול; יש להוכיח כי קיים משולש מונוכרומטי )שכל
 צלעותיו צבועות באותו הצבע(.
\end_layout

\begin_layout Paragraph
\begin_inset Graphics
	filename images/ramsey_polygon.png
	scale 50

\end_inset


\end_layout

\begin_layout Standard
הפתרון: נתבונן על אדם מס'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
.
 ישנם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
5
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
קטעים שמחברים אותו עם שאר האנשים, ומעקרון שובך היונים המוכלל יש שלושה הצבועים
 באותו הצבע )הקווים הם היונים, הצבעים הם השובכים(.
 נניח בלי הגבלת הכלליות שהצבע הזה היה אדום נתבונן על שלושת האנשים המחוברים
 לקווים הללו.
 אם קיים ביניהם זוג שהקו שמחבר אותו הוא בצבע אדום, אז ביחד עם אדם מס'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
קיבלנו את השלישייה שלנו; ואם לא קיים ביניהם זוג כזה אז כל שלושת האנשים הללו
 מחוברים אלו לאלו עם קווים כחולים, ושוב קיבלנו את השלישייה שלנו.
\end_layout

\begin_layout Standard
בהערת אגב נציין שתוצאה זו היא מקרה פרטי של משפט כללי בקומבינטוריקה הנקרא
 
\series bold
משפט רמזי
\series default
, ובתורו מהווה בסיס לתחום בקומבינטוריקה הנקרא 
\series bold
תורת רמזי
\series default
.
 לא נציג את המשפט בקורס.
\end_layout

\begin_layout Paragraph
דוגמא
\end_layout

\begin_layout Standard
בכל קבוצה של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
12
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
מספרים טבעיים דו ספרתיים קיימים שניים אשר הפרשם הוא מספר בעל שתי ספרות זהות.
\end_layout

\begin_layout Standard
הפתרון: השאריות האפשריות בחלוקה ב-
\numeric on
11
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
של המספרים יהיו השובכים, והמספרים יהיו היונים.
 בהכרח יש שני מספרים בעלי אותה שארית בחלוקה ב-
\numeric on
11
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
ולכן הפרשם יתחלק ב-
\numeric on
11
\numeric off
, ומכיוון שהוא מספר דו ספרתי הוא יהיה בעל שתי ספרות זהות.
\end_layout

\begin_layout Paragraph
דוגמא
\end_layout

\begin_layout Standard
הייצוג העשרוני של כל מספר רציונלי הוא מחזורי.
\end_layout

\begin_layout Standard
כדי למצוא את הייצוג העשרוני של מספר רציונלי 
\begin_inset Formula $\frac{a}{b}$
\end_inset

 )עם 
\begin_inset Formula $a<b$
\end_inset

( מבצעים חילוק ארוך; ניתן לתאר זאת כחזרה אינסופית על הצעדים הבאים:
\end_layout

\begin_layout Enumerate
\begin_inset Formula $a\leftarrow10\cdot a$
\end_inset


\end_layout

\begin_layout Enumerate
פלוט את 
\begin_inset Formula $\left\lfloor \frac{a}{b}\right\rfloor $
\end_inset

.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $a\leftarrow a\%b$
\end_inset

.
\end_layout

\begin_layout Standard
האלגוריתם עצמו הוא אינסופי, אבל יש רק מספר סופי של ערכים ש-
\begin_inset Formula $a$
\end_inset

 יכול לקבל בשלב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\numeric off
 )הערכים בין
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 ו-
\begin_inset Formula $b-1$
\end_inset

( ומכאן שהחל משלב מסויים האלגוריתם יחל לחזור על עצמו, שכן ערכו של 
\begin_inset Formula $a$
\end_inset

 בשלב מסויים קובע באופן יחיד את כל המשך האלגוריתם
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
רעיון זה, לפיו ריצה אינסופית של אלגוריתם שיכול להיות רק במספר סופי של "מצבים",
 תחיל חזרות משלב מסויים הוא שימושי ביותר ובא לידי ביטוי, למשל, בלמת הניפוח
 בקורס באוטומטים ושפות פורמליות, ופתרון של וריאנטים מוגבלים של בעיית העצירה
 בקורס בתורת החישוביות.
\end_layout

\end_inset

.
\end_layout

\begin_layout Section
הבינום של ניוטון ומשולש פסקל
\end_layout

\begin_layout Standard
בבית הספר לומדים את נוסחת הכפל המקוצר 
\begin_inset Formula $\left(a+b\right)^{2}=a^{2}+2ab+b^{2}$
\end_inset

.
\end_layout

\begin_layout Standard
הנוסחה 
\begin_inset Formula $\left(a+b\right)^{3}=a^{3}+3a^{2}b+3ab^{2}+b^{3}$
\end_inset

 גם היא מוצגת בבית הספר אבל ככל הנראה זכורה פחות.
\end_layout

\begin_layout Standard
נראה כעת כיצד מגיעים לנוסחאות אלו וכיצד שיטה זו מטפלת גם במקרה הכללי של
 
\begin_inset Formula $\left(a+b\right)^{n}$
\end_inset

.
\end_layout

\begin_layout Standard
ראשית, נשים לב ש-
\begin_inset Formula 
\begin{eqnarray*}
\left(a+b\right)^{2} & = & \left(a+b\right)\left(a+b\right)=aa+ab+ba+bb\\
 & = & a^{2}+2ab+b^{2}
\end{eqnarray*}

\end_inset


\end_layout

\begin_layout Standard
ה-
\begin_inset Formula $2ab$
\end_inset

 נובע מ-
\begin_inset Formula $ab+ba$
\end_inset

 ומכך שכפל הוא קומוטטיבי, כלומר 
\begin_inset Formula $ab=ba$
\end_inset

.
\end_layout

\begin_layout Standard
באופן דומה:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{eqnarray*}
\left(a+b\right)^{3} & = & \left(a+b\right)\left(a+b\right)\left(a+b\right)\\
 & = & aaa+aab+aba+abb+baa+bab+bba+bbb
\end{eqnarray*}

\end_inset


\end_layout

\begin_layout Standard
כאן ישנם שמונה מחוברים, שכל אחד מתקבל על ידי בחירה של 
\begin_inset Formula $a$
\end_inset

-ים מחלק מהסוגריים ו-
\begin_inset Formula $b$
\end_inset

-ים מהסוגריים הנותרים.
 למשל, 
\begin_inset Formula $aba$
\end_inset

 מתקבל מבחירה של 
\begin_inset Formula $a$
\end_inset

 בסוגריים הראשונים והאחרונים ו-
\begin_inset Formula $b$
\end_inset

 באמצעיים.
\end_layout

\begin_layout Standard
באופן כללי, 
\begin_inset Formula $\left(a+b\right)^{n}$
\end_inset

 הוא סכום של מחוברים שכל אחד מהם מתקבל מבחירה של 
\begin_inset Formula $i$
\end_inset

 פעמים 
\begin_inset Formula $a$
\end_inset

 מחלק מהסוגריים ו-
\begin_inset Formula $n-i$
\end_inset

 פעמים 
\begin_inset Formula $b$
\end_inset

 מהנותרים, וזאת לכל 
\begin_inset Formula $0\le i\le n$
\end_inset

.
 האיבר 
\begin_inset Formula $a^{i}b^{n-i}$
\end_inset

 יכול להיבחר בדיוק 
\begin_inset Formula ${n \choose i}$
\end_inset

 פעמים - מספר האפשרויות לבחור את 
\begin_inset Formula $i$
\end_inset

 זוגות הסוגריים שמתוכם נבחר 
\begin_inset Formula $a$
\end_inset

 )או באופן שקול, 
\begin_inset Formula ${n \choose n-i}={n \choose i}$
\end_inset

 אפשרויות לבחור את הסוגריים שמהם יילקחו ה-
\begin_inset Formula $b$
\end_inset

-ים(.
\end_layout

\begin_layout Standard
מכאן אנו מגיעים לנוסחה הכללית:
\end_layout

\begin_layout Claim
)הבינום של ניוטון( 
\begin_inset Formula $\left(a+b\right)^{n}=\sum_{i=0}^{n}{n \choose i}a^{i}b^{n-i}$
\end_inset

.
\end_layout

\begin_layout Standard
בשל נוסחה זו המספרים 
\begin_inset Formula ${n \choose i}$
\end_inset

 מכונים לעתים קרובות 
\series bold
מקדמי הבינום
\series default
.
\end_layout

\begin_layout Standard
יש למקדמי הבינום תיאור גרפי נאה הנקרא 
\series bold
משולש פסקל
\series default
 )אף כי לא פסקל המציא אותו - המשולש היה מוכר כבר בימי הביניים, ופסקל בסך
 הכל תיאר אותו בספר מתמטיקה שכתב(:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{eqnarray*}
 & \begin{array}{ccccccccccc}
 &  &  &  &  & 1\\
 &  &  &  & 1 &  & 1\\
 &  &  & 1 &  & 2 &  & 1\\
 &  & 1 &  & 3 &  & 3 &  & 1\\
 & 1 &  & 4 &  & 6 &  & 4 &  & 1\\
1 &  & 5 &  & 10 &  & 10 &  & 5 &  & 1
\end{array}\\
\end{eqnarray*}

\end_inset


\end_layout

\begin_layout Standard
בשורה ה-
\begin_inset Formula $n$
\end_inset

-ית של המשולש נמצאים המספרים 
\begin_inset Formula ${n \choose 0},{n \choose 1},\dots,{n \choose n}$
\end_inset

.
\end_layout

\begin_layout Standard
נשים לב למספר תכונות של המשולש ולאחר מכן נוכיח אותן:
\end_layout

\begin_layout Enumerate
המשולש סימטרי.
\end_layout

\begin_layout Enumerate
שפת המשולש מורכבת כולה מ-
\numeric on
1
\numeric off
-ים.
\end_layout

\begin_layout Enumerate
הכניסות שליד השפה בשורה ה-
\begin_inset Formula $n$
\end_inset

 הן 
\begin_inset Formula $n$
\end_inset

.
\end_layout

\begin_layout Enumerate
כל איבר במשולש הוא סכום שני האיברים שמעליו )ובמקרה של איברים בשפה, של האיבר
 היחיד שמעליו(.
\end_layout

\begin_layout Enumerate
סכום השורה ה-
\begin_inset Formula $n$
\end_inset

 הוא 
\begin_inset Formula $2^{n}$
\end_inset

 )נובע בקלות מנוסחת הבינום, כאשר מציבים בה 
\begin_inset Formula $a=b=1$
\end_inset

(.
\end_layout

\begin_layout Enumerate
סכום המקומות הזוגיים בשורה ה-
\begin_inset Formula $n$
\end_inset

 במשולש הוא 
\begin_inset Formula $2^{n-1}$
\end_inset

 )ולכן גם סכום המקומות האי זוגיים הוא 
\begin_inset Formula $2^{n-1}$
\end_inset

(.
\end_layout

\begin_layout Standard
נוכיח כל תכונה בשתי דרכים - אלגברית )כלומר, על ידי מניפולציה של משוואות(
 וקומבינטורית )כלומר, על ידי תיאור בעיית ספירה מתאימה(.
\end_layout

\begin_layout Enumerate
זוהי בעצם הטענה 
\begin_inset Formula ${n \choose i}={n \choose n-i}$
\end_inset

.
\begin_inset Newline newline
\end_inset

הוכחה אלגברית: 
\begin_inset Formula ${n \choose i}=\frac{n!}{i!\left(n-i\right)!}=\frac{n!}{\left(n-i\right)!i!}={n \choose n-i}$
\end_inset

.
\begin_inset Newline newline
\end_inset

הוכחה קומבינטורית: מספר הדרכים לבחור 
\begin_inset Formula $i$
\end_inset

 איברים מתוך 
\begin_inset Formula $n$
\end_inset

 הוא כמו מספר הדרכים לבחור אילו 
\begin_inset Formula $n-i$
\end_inset

 איברים מתוך 
\begin_inset Formula $n$
\end_inset

 
\series bold
לא
\series default
 לקחת.
\end_layout

\begin_layout Enumerate
זוהי בעצם הטענה 
\begin_inset Formula ${n \choose 0}={n \choose n}=1$
\end_inset

 )השוויון הראשון נובע מהסימטריה(.
\begin_inset Newline newline
\end_inset

הוכחה אלגברית: 
\begin_inset Formula ${n \choose 0}=\frac{n!}{0!n!}=\frac{n!}{n!}=1$
\end_inset


\begin_inset Newline newline
\end_inset

הוכחה קומבינטורית: יש רק דרך אחת לבחור 
\begin_inset Formula $0$
\end_inset

 מ-
\begin_inset Formula $n$
\end_inset

 איברים - לא בוחרים אף אחד.
\end_layout

\begin_layout Enumerate
זוהי בעצם הטענה 
\begin_inset Formula ${n \choose 1}={n \choose n-1}=n$
\end_inset

 )שוב, השוויון הראשון נובע מהסימטריה(.
\begin_inset Newline newline
\end_inset

הוכחה אלגברית: 
\begin_inset Formula ${n \choose 1}=\frac{n!}{1!\left(n-1\right)!}=\frac{n\cdot\left(n-1\right)!}{\left(n-1\right)!}=n$
\end_inset


\begin_inset Newline newline
\end_inset

הוכחה קומבינטורית: יש 
\begin_inset Formula $n$
\end_inset

 דרכים לבחור איבר בודד מתוך 
\begin_inset Formula $n$
\end_inset

.
\end_layout

\begin_layout Enumerate
זוהי בעצם הטענה 
\begin_inset Formula ${n \choose i}={n-1 \choose i-1}+{n-1 \choose i}$
\end_inset

 )שנכונה עבור 
\begin_inset Formula $n,i>0$
\end_inset

(.
\begin_inset Newline newline
\end_inset

הוכחה אלגברית: 
\begin_inset Formula 
\begin{eqnarray*}
{n-1 \choose i-1}+{n-1 \choose i} & = & \frac{\left(n-1\right)!}{\left(i-1\right)!\left(n-i\right)!}+\frac{\left(n-1\right)!}{i!\left(n-i-1\right)!}\\
 & = & \left(n-1\right)!\left[\frac{i}{i!\left(n-i\right)!}+\frac{\left(n-i\right)}{i!\left(n-i\right)!}\right]\\
 & = & \left(n-1\right)!\cdot\frac{n}{i!\left(n-i\right)!}=\frac{n!}{i!\left(n-i\right)!}={n \choose i}
\end{eqnarray*}

\end_inset


\begin_inset Newline newline
\end_inset

הוכחה קומבינטורית: מספר הדרכים לבחור 
\begin_inset Formula $i$
\end_inset

 איברים מתוך 
\begin_inset Formula $n$
\end_inset

 הוא כמספר הדרכים לבחור 
\begin_inset Formula $i-1$
\end_inset

 איברים מתוך 
\begin_inset Formula $n-1$
\end_inset

 הראשונים ולהוסיף אליהם את האחרון, ועוד מספר הדרכים לבחור 
\begin_inset Formula $i$
\end_inset

 איברים מתוך 
\begin_inset Formula $n-1$
\end_inset

 הראשונים מבלי להוסיף להם את האחרון )נובע מעקרון החיבור(.
 זוהי הוכחה פשוטה וקל בהרבה לזכור אותה מאת ההוכחה האלגברית.
\end_layout

\begin_layout Enumerate
זוהי בעצם הטענה 
\begin_inset Formula $\sum_{i=0}^{n}{n \choose i}=2^{n}$
\end_inset

.
\begin_inset Newline newline
\end_inset

הוכחה אלגברית: מהבינום של ניוטון עולה ש-
\begin_inset Formula $\sum_{i=0}^{n}{n \choose i}=\sum_{i=0}^{n}{n \choose i}1^{i}1^{n-i}=\left(1+1\right)^{n}=2^{n}$
\end_inset

.
\begin_inset Newline newline
\end_inset

הוכחה קומבינטורית: 
\begin_inset Formula ${n \choose i}$
\end_inset

 הוא מספר הוקטורים הבינאריים מאורך 
\begin_inset Formula $n$
\end_inset

 עם בדיוק 
\begin_inset Formula $i$
\end_inset

 אפסים.
\begin_inset Newline newline
\end_inset

 
\begin_inset Formula $2^{n}$
\end_inset

 הוא מספר הוקטורים הבינאריים הכולל מאורך 
\begin_inset Formula $n$
\end_inset

, ועל פי עיקרון החיבור הוא שווה לסכום מספרם של כל הוקטורים הבינאריים עם
 בדיוק 
\begin_inset Formula $i$
\end_inset

 אפסים לכל 
\begin_inset Formula $i$
\end_inset

.
\end_layout

\begin_layout Enumerate
זוהי בעצם הטענה 
\begin_inset Formula $\sum_{i=0}^{\left\lfloor \frac{n}{2}\right\rfloor }{n \choose 2i}=2^{n-1}$
\end_inset

.
\begin_inset Newline newline
\end_inset

הוכחה אלגברית: לכל 
\begin_inset Formula $i>0$
\end_inset

 ראינו ש-
\begin_inset Formula ${n \choose 2i}={n-1 \choose 2i-1}+{n-1 \choose 2i}$
\end_inset

, וכמו כן 
\begin_inset Formula ${n \choose 0}={n-1 \choose 0}$
\end_inset

 ולכן נקבל 
\begin_inset Formula 
\begin{align*}
\sum_{i=0}^{\left\lfloor \frac{n}{2}\right\rfloor }{n \choose 2i}= & {n-1 \choose 0}+\sum_{i=1}^{\left\lfloor \frac{n}{2}\right\rfloor }\left({n-1 \choose 2i-1}+{n-1 \choose 2i}\right)=\\
= & {n-1 \choose 0}+\sum_{i=1}^{n-1}{n-1 \choose i}=2^{n-1}
\end{align*}

\end_inset

הוכחה קומבינטורית: מספר הוקטורים הבינאריים מאורך 
\begin_inset Formula $n$
\end_inset

 שבהם מספר זוגי של אפסים שווה למספר הוקטורים הבינאריים מאורך 
\begin_inset Formula $n$
\end_inset

 שבהם מספר אי זוגי של אפסים: התאמה חח"ע ועל ביניהם מתקבל מהפיכת הביט הראשון
 בוקטור.
 יש סה"כ 
\begin_inset Formula $2^{n}$
\end_inset

 וקטורים ולכן בדיוק חצי מהם יהיו עם מספר זוגי של אפסים, כלומר 
\begin_inset Formula $2^{n-1}$
\end_inset

.
\end_layout

\begin_layout Section
אינדוקציה ורקורסיה
\end_layout

\begin_layout Subsection
אינדוקציה מתמטית
\end_layout

\begin_layout Standard
אינדוקציה מתמטית היא אחת מטכניקות ההוכחה הבסיסיות והשימושיות ביותר במתמטיקה.
 אינדוקציה פירושה הסקה מהפרט אל הכלל; במתמטיקה פירושה שדי להוכיח טענה עבור
 "מקרי בסיס" פשוטים ולהראות כיצד ניתן להסיק את נכונות הטענה עבור מקרה מורכב
 ממקרים פשוטים יותר, בכדי להוכיח שהטענה נכונה תמיד.
 ניתן לחשוב על אינדוקציה כעל דומינו: בסיס האינדוקציה מפיל את האבן הראשונה,
 וצעד האינדוקציה מראה כיצד כל אבן נופלת מפילה את הבאה אחריה.
 התוצאה היא שכל האבנים נופלות.
\end_layout

\begin_layout Standard
נציג מספר סוגים של אינדוקציה:
\end_layout

\begin_layout Claim
)אינדוקציה על הטבעיים במשתנה יחיד( אם 
\begin_inset Formula $A_{0},A_{1},A_{2},\dots$
\end_inset

 היא סדרה של טענות, כך שמתקיימים שני התנאים הבאים:
\begin_inset Separator latexpar
\end_inset


\end_layout

\begin_deeper
\begin_layout Enumerate
)בסיס האינדוקציה( 
\begin_inset Formula $A_{0}$
\end_inset

 נכונה.
\end_layout

\begin_layout Enumerate
)צעד האינדוקציה( אם 
\begin_inset Formula $A_{i}$
\end_inset

 נכונה, אז גם 
\begin_inset Formula $A_{i+1}$
\end_inset

 נכונה.
\end_layout

\begin_layout Standard
אז כל הטענות 
\begin_inset Formula $A_{0},A_{1},A_{2},\dots$
\end_inset

 נכונות.
\end_layout

\end_deeper
\begin_layout Proof
נניח בשלילה כי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
ו-
\numeric on
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
נכונים אך לא כל הטענות 
\begin_inset Formula $A_{1},A_{2},\dots$
\end_inset

 נכונות, ויהא 
\begin_inset Formula $n$
\end_inset

 הטבעי הקטן ביותר כך ש-
\begin_inset Formula $A_{n}$
\end_inset

 אינו נכון.
 בשל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
לא ייתכן ש-
\begin_inset Formula $n=1$
\end_inset

, ולכן 
\begin_inset Formula $A_{n-1}$
\end_inset

 היא טענה מתוך הסדרה 
\begin_inset Formula $A_{1},A_{2},\dots$
\end_inset

 ומכיוון ש-
\begin_inset Formula $n$
\end_inset

 היה מינימלי, 
\begin_inset Formula $A_{n-1}$
\end_inset

 כן נכונה ומ-
\numeric on
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
עולה שגם 
\begin_inset Formula $A_{n}$
\end_inset

 נכונה, בסתירה להנחת השלילה.
\end_layout

\begin_layout Standard
הוכחה זו מסתמכת על כך שלכל תת קבוצה של טבעיים יש איבר מינימלי; תכונה זו
 מכונה "סדר טוב", ואינדוקציה ניתנת להגדרה בכל קבוצה שיש בה סדר טוב, אך לא
 נפרט על כך בקורס.
\end_layout

\begin_layout Paragraph
דוגמא
\end_layout

\begin_layout Standard
כשהוכחנו שמספר התמורות על 
\begin_inset Formula $n$
\end_inset

 איברים הוא 
\begin_inset Formula $n!$
\end_inset

 השתמשנו באופן מובלע באינדוקציה.
 נוכיח זאת עכשיו באופן מפורש.
\end_layout

\begin_layout Standard

\series bold
בסיס
\series default
: מספר האפשרויות לסדר 
\begin_inset Formula $0$
\end_inset

 איברים בשורה הוא 
\begin_inset Formula $1$
\end_inset

 )
\begin_inset Quotes erd
\end_inset

הסידור הריק
\begin_inset Quotes erd
\end_inset

(.
\end_layout

\begin_layout Standard

\series bold
צעד
\series default
: נניח שמספר האפשרויות לסדר 
\begin_inset Formula $n$
\end_inset

 איברים בשורה הוא 
\begin_inset Formula $n!$
\end_inset

.
 בהינתן 
\begin_inset Formula $n+1$
\end_inset

 איברים, נסדר את 
\begin_inset Formula $n$
\end_inset

 הראשונים בשורה ואז יש לנו 
\begin_inset Formula $n+1$
\end_inset

 מקומות שונים לשים בהם את האיבר הנוסף )בתחילת השורה, או אחרי כל אחד מ-
\begin_inset Formula $n$
\end_inset

 האיברים האחרים(.
 לכן מעקרון הכפל, מספר האפשרויות הכולל הוא 
\begin_inset Formula $n!\cdot\left(n+1\right)=\left(n+1\right)!$
\end_inset

.
\end_layout

\begin_layout Paragraph*
דוגמא
\end_layout

\begin_layout Standard
בלוח 
\begin_inset Formula $n\times n$
\end_inset

 מספר תת-הריבועים הכולל הוא 
\begin_inset Formula $S_{n}=\frac{n\left(n+1\right)\left(2n+1\right)}{6}$
\end_inset

 )מספר זה שווה ל-
\begin_inset Formula $1^{2}+2^{2}+\ldots+n^{2}$
\end_inset

 אבל זו דרך משעממת יותר לנסח את התוצאה(.
\end_layout

\begin_layout Paragraph
\begin_inset Graphics
	filename images/grid_squares_1.png
	scale 50

\end_inset


\end_layout

\begin_layout Standard
נוכיח זאת באינדוקציה על 
\begin_inset Formula $n$
\end_inset

:
\end_layout

\begin_layout Standard

\series bold
בסיס
\series default
: עבור 
\begin_inset Formula $n=1$
\end_inset

 קיים ריבוע יחיד בלוח: הריבוע 
\begin_inset Formula $1\times1$
\end_inset

.
 ואכן, 
\begin_inset Formula $S_{1}=\frac{1\left(1+1\right)\left(2+1\right)}{6}=\frac{6}{6}=1$
\end_inset

.
\end_layout

\begin_layout Standard

\series bold
צעד
\series default
: נניח את נכונות הנוסחה עבור 
\begin_inset Formula $n$
\end_inset

.
 ניקח לוח 
\begin_inset Formula $n\times n$
\end_inset

 ונרחיב אותו ללוח 
\begin_inset Formula $\left(n+1\right)\times\left(n+1\right)$
\end_inset

 )נדמיין שהוספנו שורה חדשה למעלה ועמודה חדשה מימין(.
 כל ריבוע בלוח החדש נופל לאחת משתי קטגוריות:
\end_layout

\begin_layout Itemize
הריבוע מוכל כולו בלוח ה-
\begin_inset Formula $n\times n$
\end_inset

 הישן: יש בדיוק 
\begin_inset Formula $S_{n}$
\end_inset

 ריבועים כאלו.
\end_layout

\begin_layout Itemize
הריבוע גולש לשורה/עמודה החדשה: במקרה זה, קיימת התאמה חח
\begin_inset Quotes erd
\end_inset

ע ועל בין קבוצת הקודקודים של הריבועים בלוח הקיים והריבועים החדשים )בהינתן
 קודקוד, יש דרך יחידה להרחיב את הריבוע שאותו קודקוד הוא הפינה השמאלית-תחתונה
 שלו כך שיגיע אל השורה/עמודה החדשות(.
 בלוח של 
\begin_inset Formula $n$
\end_inset

 משבצות יש 
\begin_inset Formula $\left(n+1\right)\times\left(n+1\right)=\left(n+1\right)^{2}$
\end_inset

 קודקודים כאלו.
\end_layout

\begin_layout Paragraph
\begin_inset Graphics
	filename images/grid_squares_2.png
	scale 50

\end_inset


\end_layout

\begin_layout Standard
קיבלנו ש-
\begin_inset Formula $S_{n+1}=S_{n}+\left(n+1\right)^{2}$
\end_inset

 ומכאן נמשיך עם אלגברה והנחת האינדוקציה:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
S_{n}+\left(n+1\right)^{2} & =\frac{n\left(n+1\right)\left(2n+1\right)}{6}+\left(n+1\right)^{2}\\
 & =\frac{\left(n+1\right)\left(2n^{2}+n+6n+6\right)}{2}\\
 & =\frac{\left(n+1\right)\left(2n^{2}+7n+6\right)}{2}\\
 & =\frac{\left(n+1\right)\left(n+2\right)\left(2n+3\right)}{2}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
וזו בדיוק התוצאה המבוקשת.
\end_layout

\begin_layout Paragraph
דוגמא
\end_layout

\begin_layout Standard
כשל נפוץ בהוכחות באינדוקציה מתואר על ידי ה"הוכחה" הבאה שכל הסוסים בעלי אותו
 הצבע.
 פורמלית, שבכל קבוצה של סוסים, כל הסוסים בעלי אותו צבע.
 האינדוקציה היא על גודל הקבוצה ומתחילה מ-
\numeric on
1
\numeric off
.
\end_layout

\begin_layout Enumerate
)בסיס( בקבוצה של סוס בודד כל הסוסים באותו הצבע שכן קיים בה רק סוס בודד.
\end_layout

\begin_layout Enumerate
)צעד( בהינתן קבוצה בעלת 
\begin_inset Formula $n+1$
\end_inset

 סוסים נוציא את אחד הסוסים החוצה וניוותר עם 
\begin_inset Formula $n$
\end_inset

 סוסים שכולם באותו הצבע.
 כעת נחזיר את הסוס לקבוצה ונוציא סוס אחר ושוב נקבל קבוצה שבה כל הסוסים בעלי
 אותו הצבע, ולכן הסוס שהוצאנו בהתחלה הוא בעל אותו צבע כמו היתר.
\end_layout

\begin_layout Standard
הרמאות ב"הוכחה" הזו היא בכך שצעד האינדוקציה אינו עובד כאשר 
\begin_inset Formula $n=1$
\end_inset

 )יש לשים לב כי עבור 
\begin_inset Formula $n>1$
\end_inset

 הוא עובד, אך זה חסר משמעות(.
\end_layout

\begin_layout Claim
)אינדוקציה שלמה על הטבעיים במשתנה יחיד( אם 
\begin_inset Formula $A_{0},A_{1},A_{2},\dots$
\end_inset

 היא סדרה של טענות, כך שמתקיימים שני התנאים הבאים:
\begin_inset Separator latexpar
\end_inset


\end_layout

\begin_deeper
\begin_layout Enumerate
)בסיס האינדוקציה( 
\begin_inset Formula $A_{0}$
\end_inset

 נכונה.
\end_layout

\begin_layout Enumerate
)צעד האינדוקציה( אם 
\begin_inset Formula $A_{1},A_{2},\dots,A_{i}$
\end_inset

 נכונות כולן, אז גם 
\begin_inset Formula $A_{i+1}$
\end_inset

 נכונה.
\end_layout

\begin_layout Standard
אז כל הטענות 
\begin_inset Formula $A_{0},A_{1},A_{2},\dots$
\end_inset

 נכונות.
\end_layout

\end_deeper
\begin_layout Standard
אינדוקציה שלמה נבדלת מאינדוקציה "רגילה" בכך ש
\emph on
קל יותר
\emph default
 להוכיח את צעד האינדוקציה מכיוון שניתן להיעזר בנכונות כל הטענות 
\begin_inset Formula $A_{1},\dots,A_{i}$
\end_inset

 ולא רק ב-
\begin_inset Formula $A_{i}$
\end_inset

 עצמה; עם זאת, לרוב אין בה צורך.
\end_layout

\begin_layout Paragraph
דוגמא
\end_layout

\begin_layout Standard
נוכיח שלכל מספר טבעי חיובי קיים פירוק למכפלה של מספרים ראשוניים:
\end_layout

\begin_layout Standard

\series bold
בסיס
\series default
: עבור 
\begin_inset Formula $n=1$
\end_inset

 
\begin_inset Quotes eld
\end_inset

המכפלה הריקה
\begin_inset Quotes erd
\end_inset

 היא הפירוק שאנחנו מחפשים )אפשר גם להתחיל את האינדוקציה מ-
\begin_inset Formula $n=2$
\end_inset

 למי שקונספט המכפלה הריקה מפריע לו בשלב זה(.
\end_layout

\begin_layout Standard

\series bold
צעד
\series default
: נניח שלכל מספר טבעי קטן מ-
\begin_inset Formula $n$
\end_inset

 קיים פירוק למכפלה של מספרים ראשוניים.
 נתבונן ב-
\begin_inset Formula $n$
\end_inset

.
 אם הוא עצמו ראשוני, אז 
\begin_inset Formula $n$
\end_inset

 היא המכפלה המבוקשת; אחרת, 
\begin_inset Formula $n=a\cdot b$
\end_inset

 כך ש-
\begin_inset Formula $a,b<n$
\end_inset

 שניהם.
 עבור כל אחד מהם קיים פירוק למכפלה של ראשוניים, כך שמכפלת שתי המכפלות הללו
 היא הפירוק המבוקש של 
\begin_inset Formula $n$
\end_inset

.
\end_layout

\begin_layout Standard
בדוגמה הזו האינדוקציה השלמה היא הכרחית, שכן אנחנו לא יכולים להפיק פירוק
 של 
\begin_inset Formula $n$
\end_inset

 מתוך פירוק של 
\begin_inset Formula $n-1$
\end_inset

 - אנחנו נאלצים ללכת יותר אחורה באינדוקציה.
\end_layout

\begin_layout Claim
)אינדוקציה דו ממדית( אם 
\begin_inset Formula $A_{n,m}$
\end_inset

 היא קבוצה של טענות )
\begin_inset Formula $n,m\ge0$
\end_inset

 טבעיים( כך שמתקיימים שני התנאים הבאים:
\begin_inset Separator latexpar
\end_inset


\end_layout

\begin_deeper
\begin_layout Enumerate
)בסיס( 
\begin_inset Formula $A_{0,0}$
\end_inset

 נכונה.
\end_layout

\begin_layout Enumerate
)צעד( לכל 
\begin_inset Formula $m,n\in\mathbb{N}$
\end_inset

 אם 
\begin_inset Formula $A_{i,j}$
\end_inset

 נכונה לכל 
\begin_inset Formula $0\le i\le n$
\end_inset

 ו-
\begin_inset Formula $0\le j\le m$
\end_inset

 כך ש-
\begin_inset Formula $\left(i,j\right)\ne\left(n,m\right)$
\end_inset

, אז גם 
\begin_inset Formula $A_{n,m}$
\end_inset

 נכונה.
\end_layout

\begin_layout Standard
אז כל הטענות 
\begin_inset Formula $A_{n,m}$
\end_inset

 נכונות.
\end_layout

\end_deeper
\begin_layout Paragraph
דוגמא
\end_layout

\begin_layout Standard
נוכיח באינדוקציה שמספר האפשרויות לבחור 
\begin_inset Formula $m$
\end_inset

 מתוך 
\begin_inset Formula $n$
\end_inset

 איברים עם חשיבות לסדר וללא חזרות הוא 
\begin_inset Formula $P_{n}^{m}=\frac{n!}{\left(n-m\right)!}$
\end_inset

.
\end_layout

\begin_layout Standard

\series bold
בסיס
\series default
: מספר האפשרויות לבחור
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מתוך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
איברים הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)
\begin_inset Quotes erd
\end_inset

הבחירה הריקה
\begin_inset Quotes erd
\end_inset

(, ואכן 
\begin_inset Formula $P_{0}^{0}=\frac{0!}{\left(0-0\right)!}=\frac{1}{1}=1$
\end_inset

.
\end_layout

\begin_layout Standard

\series bold
צעד
\series default
: כדי לבחור 
\begin_inset Formula $m$
\end_inset

 מתוך 
\begin_inset Formula $n$
\end_inset

 איברים עם חשיבות לסדר וללא חזרות אפשר לפרק לשני מקרים: ראשית, מספר האפשרויות
 לבחור 
\begin_inset Formula $m$
\end_inset

 מתוך 
\begin_inset Formula $n-1$
\end_inset

 האיברים הראשונים הוא, על פי הנחת האינדוקציה, 
\begin_inset Formula $P_{n-1}^{m}=\frac{\left(n-1\right)!}{\left(n-m-1\right)!}$
\end_inset

.
 שנית, אם בוחרים את האיבר ה-
\begin_inset Formula $n$
\end_inset

-י זה יכול להיות בכל אחד מ-
\begin_inset Formula $m$
\end_inset

 שלבי הבחירה, כך שיש לנו תהליך של בחירה דו-שלבית: ראשית בוחרים באיזה שלב
 ייבחר האיבר ה-
\begin_inset Formula $n$
\end_inset

-י )
\begin_inset Formula $m$
\end_inset

 אפשרויות( ושנית בוחרים את 
\begin_inset Formula $m-1$
\end_inset

 האיברים הנותרים מבין 
\begin_inset Formula $n-1$
\end_inset

 האיברים הנותרים לבחירה.
 מספר האפשרויות הכולל במקרה זה הוא 
\begin_inset Formula $mP_{n-1}^{m-1}=\frac{m\left(n-1\right)!}{\left(n-1-\left(m-1\right)\right)!}=\frac{m\left(n-1\right)!}{\left(n-m\right)!}$
\end_inset

.
 נותר לנו כעת לחבר את שני המקרים השונים:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\frac{\left(n-1\right)!}{\left(n-m-1\right)!}+\frac{m\left(n-1\right)!}{\left(n-m\right)!} & =\left(n-1\right)!\left[\frac{n-m}{\left(n-m\right)!}+\frac{m}{\left(n-m\right)!}\right]\\
 & =\left(n-1\right)!\cdot\frac{n}{\left(n-m\right)!}=\frac{n!}{\left(n-m\right)!}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
כמבוקש.
\end_layout

\begin_layout Standard
נשים לב שבהוכחה האינדוקטיבית הזו נזקקנו לערכים 
\begin_inset Formula $P_{n-1}^{m}$
\end_inset

 ו-
\begin_inset Formula $P_{n-1}^{m-1}$
\end_inset

.
 כלומר, הניסוח של האינדוקציה הדו-ממדית בתור מעין 
\begin_inset Quotes eld
\end_inset

אינדוקציה שלמה
\begin_inset Quotes erd
\end_inset

 ולא רק טענה מהצורה 
\begin_inset Quotes eld
\end_inset

אם 
\begin_inset Formula $P_{n,m}$
\end_inset

 נכונה אז גם 
\begin_inset Formula $P_{n+1,m}$
\end_inset

 ו-
\begin_inset Formula $P_{n,m+1}$
\end_inset

 נכונות
\begin_inset Quotes erd
\end_inset

 היה הכרחי כבר עבור הדוגמא הפשוטה הזו.
\end_layout

\begin_layout Subsection
רקורסיה
\end_layout

\begin_layout Standard

\emph on
הגדרה רקורסיבית
\emph default
 היא הגדרה של סדרה או פונקציה )או אובייקטים כלליים יותר( שבה כל ערך מוגדר
 באמצעות הערכים של קודמיו, פרט אולי למספר ערכים התחלתיים שמוגדרים במפורש.
\end_layout

\begin_layout Standard
נוסחה רקורסיבית היא לעתים קרובות פשוטה יותר מנוסחה סגורה עבור אותה סדרה
 )ולעתים ניתן למצוא נוסחה רקורסיבית אף שאין נוסחה סגורה פשוטה( אך היא יותר
 קשה לחישוב בפועל )שכן כדי לחשב ערך כלשהו באמצעותה יש לחשב קודם כל את הערכים
 שהוא מסתמך עליהם(.
\end_layout

\begin_layout Standard
נראה מספר דוגמאות לנוסחאות רקורסיביות המגדירות סדרה, ובנוסף גם הנוסחאות
 הסגורות המתאימות.
 בפרט, כל נוסחאות הספירה שתיארנו בפרק 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:עקרונות-ספירה-בסיסיים"

\end_inset

 ניתנות לתיאור כנוסחאות רקורסיביות )ואת חלקן גם תיארנו כך מבלי לציין במפורש
 כי זה מה שאנו עושים(.
\end_layout

\begin_layout Itemize
סדרה חשבונית: 
\begin_inset Formula $a_{n}=a_{n-1}+d$
\end_inset

 )הנוסחה הסגורה: 
\begin_inset Formula $a_{n}=a_{1}+\left(n-1\right)d$
\end_inset

(.
\end_layout

\begin_layout Itemize
סדרה הנדסית: 
\begin_inset Formula $a_{n}=a_{n-1}\cdot q$
\end_inset

 )הנוסחה הסגורה: 
\begin_inset Formula $a_{n}=a_{1}\cdot q^{n-1}$
\end_inset

(.
\end_layout

\begin_layout Itemize
סדרת פיבונאצ'י: 
\begin_inset Formula $a_{n}=a_{n-1}+a_{n-2}$
\end_inset

, עם תנאי התחלה 
\begin_inset Formula $a_{0}=0,a_{1}=1$
\end_inset

 )בהמשך נראה כיצד מוצאים את הנוסחה הסגורה, 
\begin_inset Formula $a_{n}=\frac{1}{\sqrt{5}}\left[\left(\frac{1+\sqrt{5}}{2}\right)^{n}-\left(\frac{1-\sqrt{5}}{2}\right)^{n}\right]$
\end_inset

(.
\end_layout

\begin_layout Itemize
סידורים בשורה: 
\begin_inset Formula $P_{n}=n\cdot P_{n-1}$
\end_inset

 )נוסחה סגורה: 
\begin_inset Formula $P_{n}=n!$
\end_inset

, כפי שכבר ראינו(.
\end_layout

\begin_layout Itemize
בחירה בלי חזרות ועם חשיבות לסדר: 
\begin_inset Formula $P_{n}^{k}=P_{n-1}^{k}+k\cdot P_{n-1}^{k-1}$
\end_inset

 עם תנאי ההתחלה 
\begin_inset Formula $P_{n}^{0}=1$
\end_inset

 לכל 
\begin_inset Formula $n$
\end_inset

 )נוסחה סגורה: 
\begin_inset Formula $P_{n}^{k}=\frac{n!}{\left(n-k\right)!}$
\end_inset

(.
\end_layout

\begin_layout Itemize
בחירה עם חזרות ועם חשיבות לסדר: 
\begin_inset Formula $PP_{n}^{k}=n\cdot PP_{n}^{k-1}$
\end_inset

 עם תנאי ההתחלה 
\begin_inset Formula $PP_{n}^{0}=1$
\end_inset

 )נוסחה סגורה: 
\begin_inset Formula $PP_{n}^{k}=n^{k}$
\end_inset

(.
\end_layout

\begin_layout Itemize
בחירה בלי חזרות ובלי חשיבות לסדר: 
\begin_inset Formula $C_{n}^{k}=C_{n-1}^{k-1}+C_{n-1}^{k}$
\end_inset

 עם תנאי ההתחלה 
\begin_inset Formula $C_{n}^{0}=1$
\end_inset

 ו-
\begin_inset Formula $C_{n}^{n}=1$
\end_inset

 )נוסחה סגורה: 
\begin_inset Formula $C_{n}^{k}={n \choose k}$
\end_inset

(.
\end_layout

\begin_layout Itemize
בחירה עם חזרות ובלי חשיבות לסדר: 
\begin_inset Formula $CC_{n}^{k}=CC_{n-1}^{k-1}+CC_{n-1}^{k}$
\end_inset

 עם תנאי ההתחלה 
\begin_inset Formula $CC_{n}^{0}=1$
\end_inset

 ו-
\begin_inset Formula $CC_{0}^{k}=0$
\end_inset

 עבור 
\begin_inset Formula $k>0$
\end_inset

 )נוסחה סגורה: 
\begin_inset Formula $CC_{n}^{k}={n+k-1 \choose k}$
\end_inset

(.
\end_layout

\begin_layout Standard
נציג כעת דוגמא מעט יותר מורכבת:
\end_layout

\begin_layout Paragraph*
דוגמא
\end_layout

\begin_layout Standard

\series bold
הפרת סדר
\series default
 על 
\begin_inset Formula $n$
\end_inset

 איברים היא תמורה על המספרים 
\begin_inset Formula $1,2,\dots,n$
\end_inset

 שבה לכל 
\begin_inset Formula $1\le i\le n$
\end_inset

, המספר ה-
\begin_inset Formula $i$
\end_inset

 אינו נמצא במקום ה-
\begin_inset Formula $i$
\end_inset

.
 למשל, 
\begin_inset Formula $312$
\end_inset

 היא הפרת סדר על
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
3
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
איברים ואילו 
\begin_inset Formula $321$
\end_inset

 לא )כי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
נמצא במקום
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
2
\numeric off
(.
\end_layout

\begin_layout Standard
נסמן ב-
\begin_inset Formula $D_{n}$
\end_inset

 את מספר הפרות הסדר על 
\begin_inset Formula $n$
\end_inset

 איברים.
\end_layout

\begin_layout Standard
ניתן לחשב את 
\begin_inset Formula $D_{n}$
\end_inset

 כך: עבור
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
, יש לנו 
\begin_inset Formula $\left(n-1\right)$
\end_inset

 בחירות של מקום עבורו )כי את מקום
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
לא ניתן לבחור בשבילו(.
 לאחר מכן אנו נותרים עם 
\begin_inset Formula $n-1$
\end_inset

 מספרים שיש לסדר.
 נאמר ששמנו את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
במקום 
\begin_inset Formula $i$
\end_inset

, אז יש שתי אפשרויות: או ש-
\begin_inset Formula $i$
\end_inset

 יושם במקום
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
, או שלא.
 אם הוא מושם במקום
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
, אז אפשר לשכוח הן מ-
\numeric on
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
והן מ-
\begin_inset Formula $i$
\end_inset

 ולטפל ב-
\begin_inset Formula $n-2$
\end_inset

 המספרים הנותרים באופן בלתי תלוי, כלומר יש 
\begin_inset Formula $D_{n-2}$
\end_inset

 הפרות סדר במקרה זה; ואילו אם 
\begin_inset Formula $i$
\end_inset

 אינו מושם במקום מס'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
, אז אפשר לחשוב על 
\begin_inset Formula $i$
\end_inset

 כאילו הוא עצמו המספר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
ואסור לו להיות במקום
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
, וזהו התנאי הרגיל של הפרות סדר, ולכן יש לנו 
\begin_inset Formula $D_{n-1}$
\end_inset

 הפרות סדר במקרה זה.
 
\end_layout

\begin_layout Standard
קיבלנו את הנוסחה הרקורסיבית 
\begin_inset Formula $D_{n}=\left(n-1\right)\left[D_{n-1}+D_{n-2}\right]$
\end_inset

.
 כדי להשתמש בנוסחה אנחנו זקוקים לשני ערכים התחלתיים, 
\begin_inset Formula $D_{0}=1$
\end_inset

 ו-
\begin_inset Formula $D_{1}=0$
\end_inset

 )כי הסדרה הריקה מקיימת באופן ריק את התנאי של הפרת סדר ולכן יש הפרת סדר
 אחת על
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
איברים, אבל הסדרה שכוללת את האיבר הבודד
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
, שהיא הסדרה היחידה מאורך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
, אינה מקיימת את התנאי של הפרת סדר(.
\end_layout

\begin_layout Standard
בהערת אגב נציין שלא קיימת נוסחה סגורה קומבינטורית, אך בהמשך נראה גישה נוספת
 לטיפול בבעיה זו שממנה נקבל ש-
\begin_inset Formula $D_{n}=\left[\frac{n!}{e}\right]$
\end_inset

 )הסוגריים המרובעים מציינים את פונקצית הערך השלם - המספר הטבעי הקרוב ביותר
 ל-
\begin_inset Formula $\frac{n!}{e}$
\end_inset

(.
\end_layout

\begin_layout Section
כלל ההכלה וההפרדה
\end_layout

\begin_layout Standard
נתונות שתי קבוצות 
\begin_inset Formula $A,B$
\end_inset

 ואנו מעוניינים לדעת מהו 
\begin_inset Formula $\left|A\cup B\right|$
\end_inset

.
 אם הקבוצות זרות )ללא איברים משותפים( אז 
\begin_inset Formula $\left|A\cup B\right|=\left|A\right|+\left|B\right|$
\end_inset

 - זהו עקרון החיבור.
 אך מה קורה אם הקבוצות אינן זרות, כלומר הקבוצה 
\begin_inset Formula $A\cap B$
\end_inset

 של האיברים המשותפים לשתיהן אינה ריקה?
\end_layout

\begin_layout Standard
במקרה זה הבעיה ב-
\begin_inset Formula $\left|A\right|+\left|B\right|$
\end_inset

 הוא שאיברים משותפים ל-
\begin_inset Formula $A,B$
\end_inset

 נספרים 
\series bold
פעמיים
\series default
; פעם כאיברי 
\begin_inset Formula $A$
\end_inset

 ופעם כאיברי 
\begin_inset Formula $B$
\end_inset

.
 את הטעות הזו ניתן "לתקן" על ידי כך שמחסרים מהסכום הכולל את מספר האיברים
 שנספרו פעמיים, כלומר נקבל את הנוסחה:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{eqnarray*}
\left|A\cup B\right| & = & \left|A\right|+\left|B\right|-\left|A\cap B\right|
\end{eqnarray*}

\end_inset


\end_layout

\begin_layout Standard
נוסחה זו נכונה לכל זוג קבוצות 
\begin_inset Formula $A,B$
\end_inset

.
\end_layout

\begin_layout Standard
נעבור כעת למקרה של שלוש קבוצות: 
\begin_inset Formula $\left|A\cup B\cup C\right|$
\end_inset

.
 ניתן היה לקוות שגודל הקבוצה יהיה 
\begin_inset Formula $\left|A\right|+\left|B\right|+\left|C\right|-\left|A\cap B\right|-\left|A\cap C\right|-\left|B\cap C\right|$
\end_inset

 אך זה אינו נכון ומעיד על כך שלא ניתן להסתפק בבחינת 
\series bold
זוגות
\series default
 של קבוצות בלבד.
 הבעיה היא שאיבר שנמצא בכל שלוש הקבוצות ייספר בחיוב שלוש פעמים )עם 
\begin_inset Formula $\left|A\right|,\left|B\right|,\left|C\right|$
\end_inset

( אבל גם לשלילה שלוש פעמים )עם 
\begin_inset Formula $\left|A\cap B\right|,\left|A\cap C\right|,\left|B\cap C\right|$
\end_inset

( ולכן בסך הכל יוסיף
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לספירה הכוללת )בזמן שהוא אמור להוסיף
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
(.
 לכן כדי לתקן אנו מוסיפים עוד פעם אחת את האיברים שבכל שלוש הקבוצות, כלומר
 מחברים לסכום את 
\begin_inset Formula $\left|A\cap B\cap C\right|$
\end_inset

 ומקבלים את הנוסחה הנכונה:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{eqnarray*}
\left|A\cup B\cup C\right| & = & \left|A\right|+\left|B\right|+\left|C\right|-\left|A\cap B\right|-\left|A\cap C\right|-\left|B\cap C\right|+\left|A\cap B\cap C\right|
\end{eqnarray*}

\end_inset


\end_layout

\begin_layout Standard
מכאן אנו מגיעים באופן טבעי למקרה הכללי:
\end_layout

\begin_layout Theorem
)כלל ההכלה וההפרדה( אם 
\begin_inset Formula $A_{1},\dots,A_{n}$
\end_inset

 הן קבוצות אז
\end_layout

\begin_layout Theorem
\begin_inset Formula 
\begin{eqnarray*}
\left|\bigcup_{i=1}^{n}A_{i}\right| & = & \sum_{1\le i\le n}\left|A_{i}\right|-\sum_{1\le i,j\le n}\left|A_{i}\cap A_{j}\right|+\\
 & + & \sum_{1\le i,j,k\le n}\left|A_{i}\cap A_{j}\cap A_{k}\right|-\dots+\left(-1\right)^{n-1}\left|A_{1}\cap\dots\cap A_{n}\right|
\end{eqnarray*}

\end_inset


\end_layout

\begin_layout Proof
יש להראות שכל איבר של 
\begin_inset Formula $\bigcup_{i=1}^{n}A_{i}$
\end_inset

 נספר בדיוק פעם אחת באגף ימין, אחרי שמקזזים ספירות חיוביות ושליליות.
\end_layout

\begin_layout Proof
נניח שהאיבר מופיע בדיוק ב-
\begin_inset Formula $t$
\end_inset

 מתוך 
\begin_inset Formula $n$
\end_inset

 הקבוצות.
 מספר הפעמים שבהן הוא נספר באותו איבר בסכום שבו רצים על חיתוכים של 
\begin_inset Formula $i$
\end_inset

 קבוצות תלוי ב-
\begin_inset Formula $i$
\end_inset

; אם 
\begin_inset Formula $i>t$
\end_inset

 אז האיבר אינו נספר כלל כי בחיתוך של 
\begin_inset Formula $i$
\end_inset

 קבוצות בהכרח משתתפת בחיתוך קבוצה שאינה מכילה אותו.
 לעומת זאת, אם 
\begin_inset Formula $i\le t$
\end_inset

 אז הוא מופיע בדיוק ב-
\begin_inset Formula ${t \choose i}$
\end_inset

 מהחיתוכים - אלו שבהם משתתפות רק קבוצות שמכילות אותו.
\end_layout

\begin_layout Proof
על כן, הספירה עבור אותו איבר היא 
\begin_inset Formula $\sum_{i=1}^{t}\left(-1\right)^{i-1}{t \choose i}$
\end_inset

, כעת, מהבינום של ניוטון:
\end_layout

\begin_layout Proof
\begin_inset Formula 
\begin{eqnarray*}
\sum_{i=1}^{t}\left(-1\right)^{i-1}{t \choose i} & = & 1-\sum_{i=0}^{t}\left(-1\right)^{i}{t \choose i}\\
 & = & 1-\left(1-1\right)^{t}=1
\end{eqnarray*}

\end_inset


\end_layout

\begin_layout Proof
כנדרש.
\end_layout

\begin_layout Standard
לרוב השימוש שלנו לעקרון ההכלה וההפרדה הוא כזה: נתון "עולם" בן 
\begin_inset Formula $n$
\end_inset

 איברים, ומספר קבוצות 
\begin_inset Formula $A_{1},\dots,A_{k}$
\end_inset

 שאבריהן נלקחים מתוך העולם ואנו חושבים עליהן כעל "תכונות רעות" שהאיברים
 יכולים לקיים.
 מטרתנו היא למצוא את כמות האיברים ש
\series bold
אינם מקיימים
\series default
 אף תכונה רעה, כלומר את 
\begin_inset Formula $\left|\bigcap_{i=1}^{k}\overline{A_{i}}\right|$
\end_inset

.
 מעקרון ההכלה וההפרדה נקבל:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{eqnarray*}
\left|\bigcap_{i=1}^{k}\overline{A_{i}}\right| & = & n-\left|\bigcup_{i=1}^{k}A_{i}\right|=n-\sum\left|A_{i}\right|+\dots+\left(-1\right)^{n}\left|A_{1}\cap\dots\cap A_{n}\right|
\end{eqnarray*}

\end_inset


\end_layout

\begin_layout Standard
ניסוח נוסף שהוא נוח מעט יותר לעבודה הוא זה: אם ישנם 
\begin_inset Formula $n$
\end_inset

 איברים ו-
\begin_inset Formula $k$
\end_inset

 תכונות 
\begin_inset Formula $P_{1},\dots,P_{k}$
\end_inset

, נסמן ב-
\begin_inset Formula $w\left(P_{i}\right)$
\end_inset

 את מספר האיברים שמקיימים את 
\begin_inset Formula $P_{i}$
\end_inset

, ב-
\begin_inset Formula $w\left(P_{i}P_{j}\right)$
\end_inset

 את מספר האיברים שמקיימים גם את 
\begin_inset Formula $P_{i}$
\end_inset

 וגם את 
\begin_inset Formula $P_{j}$
\end_inset

, וכן הלאה, ולכל מספר טבעי 
\begin_inset Formula $r$
\end_inset

 נשתמש בסימון 
\begin_inset Formula $w\left(r\right)=\sum_{1\le i_{1},\dots,i_{r}\le k}w\left(P_{i_{1}}\cdots P_{i_{r}}\right)$
\end_inset

 )לסימון זה אין משמעות קומבינטורית; אותו איבר יכול להיספר בו כמה וכמה פעמים(.
 נקבל את הניסוח הבא של כלל ההכלה וההפרדה:
\end_layout

\begin_layout Theorem
)כלל ההכלה וההפרדה, ניסוח באמצעות תכונות( יהא 
\begin_inset Formula $E\left(0\right)$
\end_inset

 מספר האיברים שאינם מקיימים אף תכונה , אז:
\end_layout

\begin_layout Theorem
\begin_inset Formula 
\begin{eqnarray*}
E\left(0\right) & =\sum_{r=0}^{k}\left(-1\right)^{r}w\left(r\right)
\end{eqnarray*}

\end_inset


\end_layout

\begin_layout Paragraph
דוגמא
\end_layout

\begin_layout Standard
מבין המספרים 
\begin_inset Formula $1,2,\dots,300$
\end_inset

, כמה 
\series bold
אינם
\series default
 מתחלקים ב-
\numeric on
3
\numeric off
,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
7
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
או
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
11
\numeric off
?
\end_layout

\begin_layout Standard
כאן "תכונה רעה" היא התחלקות ב-
\numeric on
3
\numeric off
,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
7
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
או
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
11
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
- כלומר, יש לנו שלוש תכונות, שנסמן 
\begin_inset Formula $P_{3},P_{7},P_{11}$
\end_inset

.
 יש
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
300
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
מספרים ולכן 
\begin_inset Formula $w\left(0\right)=300$
\end_inset

.
\end_layout

\begin_layout Standard
קל לראות כי 
\begin_inset Formula $w\left(P_{3}\right)=\left\lfloor \frac{300}{3}\right\rfloor =100$
\end_inset

, 
\begin_inset Formula $w\left(P_{7}\right)=\left\lfloor \frac{300}{7}\right\rfloor =42$
\end_inset

 ו-
\begin_inset Formula $w\left(P_{11}\right)=\left\lfloor \frac{300}{11}\right\rfloor =27$
\end_inset

.
 לכן 
\begin_inset Formula $w\left(1\right)=27+42+100=169$
\end_inset


\end_layout

\begin_layout Standard
כמו כן מכיוון ש-
\begin_inset Formula $3,7,11$
\end_inset

 כולם ראשוניים, מספר מתחלק בכמה מהם רק אם הוא מתחלק במכפלה שלהם.
 כלומר:
\end_layout

\begin_layout Standard
\begin_inset Formula $w\left(P_{3}P_{7}\right)=\left\lfloor \frac{300}{21}\right\rfloor =14$
\end_inset

, 
\begin_inset Formula $w\left(P_{3}P_{11}\right)=\left\lfloor \frac{300}{33}\right\rfloor =9$
\end_inset

, 
\begin_inset Formula $w\left(P_{7}P_{11}\right)=\left\lfloor \frac{300}{77}\right\rfloor =3$
\end_inset

.
 לכן 
\begin_inset Formula $w\left(2\right)=3+9+14=26$
\end_inset


\end_layout

\begin_layout Standard
ולסיום 
\begin_inset Formula $w\left(P_{3}P_{7}P_{11}\right)=\left\lfloor \frac{300}{231}\right\rfloor =1$
\end_inset

 ולכן 
\begin_inset Formula $w\left(3\right)=1$
\end_inset

.
\end_layout

\begin_layout Standard
מנוסחת ההכלה וההפרדה נקבל כי כמות המספרים שאינם מתחלקים ב-
\numeric on
3,7,11
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
היא בדיוק 
\begin_inset Formula 
\begin{eqnarray*}
E\left(0\right) & = & w\left(0\right)-w\left(1\right)+w\left(2\right)-w\left(3\right)\\
 & = & 300-169+26-1\\
 & = & 156
\end{eqnarray*}

\end_inset


\end_layout

\begin_layout Standard
הפתרון עשוי להיראות טרחני ומסובך, אך בפועל הכלה והפרדה משפרת משמעותית את
 הסיבוכיות של אלגוריתם שמבצע אותה אוטומטית; פתרון נאיבי לבעיה שלעיל דורש
 לעבור על כל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
300
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
המספרים ולבדוק לכל אחד מהם התחלקות; הפתרון עם הכלה והפרדה דורש חישוב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
7
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
פעולות חילוק בלבד ועוד ביצוע של מספר פעולות סיכום שעלותן זניחה.
 באופן כללי אם הטווח שלנו הוא עד 
\begin_inset Formula $n$
\end_inset

 ואנו בודקים התחלקות ב-
\begin_inset Formula $k$
\end_inset

 ראשוניים אז פתרון נאיבי דורש 
\begin_inset Formula $O\left(n\cdot k\right)$
\end_inset

 פעולות חילוק, ופתרון עם הכלה והפרדה דורש 
\begin_inset Formula $O\left(2^{k}\right)$
\end_inset

 פעולות כאלו )כל פעולה מתבצעת בזמן שהוא פולינומי ב-
\begin_inset Formula $\log n$
\end_inset

(, כך שעבור 
\begin_inset Formula $k$
\end_inset

 קטן )ובפרט קבוע( ו-
\begin_inset Formula $n$
\end_inset

 גדול מדובר על פתרון יעיל משמעותית.
\end_layout

\begin_layout Paragraph
דוגמא
\end_layout

\begin_layout Standard
יהא 
\begin_inset Formula $D_{n}$
\end_inset

 מספר הפרות הסדר על 
\begin_inset Formula $n$
\end_inset

 איברים: פרמוטציות של 
\begin_inset Formula $1,\dots,n$
\end_inset

 שבהן לכל 
\begin_inset Formula $i$
\end_inset

 המספר 
\begin_inset Formula $i$
\end_inset

 אינו נמצא במקום ה-
\begin_inset Formula $i$
\end_inset

.
 ראינו כבר כיצד למצוא נוסחת נסיגה עבור 
\begin_inset Formula $D_{n}$
\end_inset

; ניעזר כעת בעיקרון ההכלה וההפרדה ובקצת חשבון דיפרנציאלי ואינטגרלי כדי למצוא
 נוסחה סגורה.
\end_layout

\begin_layout Standard
התכונה 
\begin_inset Formula $P_{i}$
\end_inset

 תהיה התכונה "המספר 
\begin_inset Formula $i$
\end_inset

 נמצא במקום ה-
\begin_inset Formula $i$
\end_inset

".
\end_layout

\begin_layout Standard
הסימטריה של הבעיה מקלה מאוד על חישוב 
\begin_inset Formula $w\left(r\right)$
\end_inset

 במקרה זה.
 לכל 
\begin_inset Formula $r$
\end_inset

, ראשית נבחר 
\begin_inset Formula $r$
\end_inset

 מתוך 
\begin_inset Formula $n$
\end_inset

 מקומות שאנחנו רוצים "לקלקל" )
\begin_inset Formula ${n \choose r}$
\end_inset

 אפשרויות(, ולאחר מכן נספור את מספר התמורות שבהן המקומות שבחרנו "מקולקלים".
 ייתכן שעוד מקומות יהיו מקולקלים אך זה לא משנה עבורנו )זה בדיוק הכוח שבהכלה
 והפרדה(.
 כדי לקלקל 
\begin_inset Formula $r$
\end_inset

 מקומות אנחנו מציבים בכל אחד מהם את המספר שמקלקל אותו, ואז נותרים לנו 
\begin_inset Formula $n-r$
\end_inset

 מקומות שבהם אפשר לסדר באופן חופשי את המספרים, כלומר יש לנו 
\begin_inset Formula $\left(n-r\right)!$
\end_inset

 אפשרויות.
\end_layout

\begin_layout Standard
בסך הכל קיבלנו כי 
\begin_inset Formula $w\left(r\right)={n \choose r}\left(n-r\right)!=\frac{n!}{r!}$
\end_inset

, ומכאן נקבל:
\end_layout

\begin_layout Standard
\begin_inset Formula $D_{n}=\sum_{r=0}^{n}\left(-1\right)^{r}w\left(r\right)=\sum_{r=0}^{n}\left(-1\right)^{r}\frac{n!}{r!}=n!\sum_{r=0}^{n}\frac{\left(-1\right)^{r}}{r!}$
\end_inset


\end_layout

\begin_layout Standard
כאן מסתיימת הקומבינטוריקה אך בעזרת חשבון דיפרנציאלי ואינטגרלי ניתן להתקדם
 עוד קצת:
\end_layout

\begin_layout Standard
ידוע ש-
\begin_inset Formula $e^{x}=\sum_{r=0}^{\infty}\frac{x^{r}}{r!}$
\end_inset

, ולכן 
\begin_inset Formula $e^{-1}=\sum_{r=0}^{\infty}\frac{\left(-1\right)^{r}}{r!}$
\end_inset

.
 מכאן ש-
\begin_inset Formula $\sum_{r=0}^{n}\frac{\left(-1\right)^{r}}{r!}$
\end_inset

 הוא קירוב של 
\begin_inset Formula $e^{-1}$
\end_inset

, וגודל הטעות הוא זניח.
 מכאן ש-
\begin_inset Formula $D_{n}\approx\frac{n!}{e}$
\end_inset

, ובפועל ניתן לראות ש-
\begin_inset Formula $D_{n}=\left[\frac{n!}{e}\right]$
\end_inset

 )
\begin_inset Formula $D_{n}$
\end_inset

 הוא המספר הטבעי הקרוב ביותר ל-
\begin_inset Formula $\frac{n!}{e}$
\end_inset

( לכל 
\begin_inset Formula $n$
\end_inset

.
 מכאן אנו רואים שכלל ההכלה וההפרדה סייע לנו למצוא נוסחה מדוייקת עבור 
\begin_inset Formula $D_{n}$
\end_inset

 אף אם הוא לא נתן אותה במפורש בעצמו.
\end_layout

\begin_layout Section
חלוקות
\end_layout

\begin_layout Standard
נחזור כעת לבעיה שכבר עסקנו בה: בכמה דרכים ניתן לחלק 
\begin_inset Formula $n$
\end_inset

 כדורים ל-
\begin_inset Formula $k$
\end_inset

 תאים, בהינתן אילוצים מסויימים?
\end_layout

\begin_layout Standard
נראה את הפתרון עבור הרבה מהאילוצים האפשריים.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $n$
\end_inset

 כדורים זהים, 
\begin_inset Formula $k$
\end_inset

 תאים שונים ולכל היותר כדור אחד בכל תא: כאן יש לבחור את 
\begin_inset Formula $n$
\end_inset

 מתוך 
\begin_inset Formula $k$
\end_inset

 התאים שבהם יושמו כדורים.
\begin_inset Newline newline
\end_inset

בגלל שהכדורים זהים אין חשיבות לסדר הבחירה.
\begin_inset Newline newline
\end_inset

בגלל שיש כדור אחד לכל היותר בכל תא אין חזרות בבחירה.
\begin_inset Newline newline
\end_inset

מסקנה: 
\begin_inset Formula ${k \choose n}$
\end_inset

 אפשרויות.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $n$
\end_inset

 כדורים שונים, 
\begin_inset Formula $k$
\end_inset

 תאים שונים ולכל היותר כדור אחד בכל תא: גם כאן בוחרים את 
\begin_inset Formula $n$
\end_inset

 מתוך 
\begin_inset Formula $k$
\end_inset

 התאים שבהם יושמו כדורים.
\begin_inset Newline newline
\end_inset

בגלל שהכדורים שונים יש חשיבות לסדר הבחירה.
\begin_inset Newline newline
\end_inset

בגלל שיש כדור אחד לכל היותר בכל תא אין חזרות בבחירה.
\begin_inset Newline newline
\end_inset

מסקנה: 
\begin_inset Formula $P_{k}^{n}={k \choose n}n!$
\end_inset

 אפשרויות.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $n$
\end_inset

 כדורים שונים, 
\begin_inset Formula $k$
\end_inset

 תאים שונים, ללא מגבלות נוספות: כאן לכל כדור בוחרים אחד מ-
\begin_inset Formula $n$
\end_inset

 התאים האפשריים.
\begin_inset Newline newline
\end_inset

בגלל שהכדורים שונים יש חשיבות לסדר הבחירה.
\begin_inset Newline newline
\end_inset

בגלל שאין מגבלות נוספות זו בחירה עם חזרות.
\begin_inset Newline newline
\end_inset

מסקנה: 
\begin_inset Formula $k^{n}$
\end_inset

 אפשרויות.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $n$
\end_inset

 כדורים זהים, 
\begin_inset Formula $k$
\end_inset

 תאים שונים, ללא מגבלות נוספות: כאן לכל כדור בוחרים אחד מ-
\begin_inset Formula $k$
\end_inset

 התאים האפשריים.
\begin_inset Newline newline
\end_inset

בגלל שהכדורים זהים אין חשיבות לסדר הבחירה.
\begin_inset Newline newline
\end_inset

בגלל שאין מגבלות נוספות זו בחירה עם חזרות.
\begin_inset Newline newline
\end_inset

מסקנה: 
\begin_inset Formula $CC_{k}^{n}={n+k-1 \choose n}$
\end_inset

 אפשרויות.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $n$
\end_inset

 כדורים שונים, 
\begin_inset Formula $k$
\end_inset

 תאים שונים, סדר הכדורים בכל תא חשוב: כאן לא ניתן לכל כדור לבחור תא )כי
 בצורה כזו לא ניתן לקבל, למשל, שכדור מס'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
נמצא אחרי כדור מס'
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
באותו התא(.
\begin_inset Newline newline
\end_inset

פתרון: ראשית כל מחלקים 
\begin_inset Formula $n$
\end_inset

 כדורים זהים לתאים.
 לאחר מכן בוחרים תמורה של 
\begin_inset Formula $1,\dots,n$
\end_inset

 וממספרים את הכדורים על פי התמורה וסדר הופעתם בתאים.
 סה"כ 
\begin_inset Formula $n!\cdot CC_{k}^{n}$
\end_inset

 אפשרויות.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $n$
\end_inset

 כדורים שונים, 
\begin_inset Formula $k$
\end_inset

 תאים שונים, אין תא ריק.
\begin_inset Newline newline
\end_inset

עבור 
\begin_inset Formula $k>n$
\end_inset

 התשובה היא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
ולכן נניח כי 
\begin_inset Formula $k\le n$
\end_inset

.
\begin_inset Newline newline
\end_inset

אם הכדורים היו זהים, הפתרון היה לחלק כדור לכל תא ואז לחלק את 
\begin_inset Formula $n-k$
\end_inset

 הנותרים בלי חשיבות לסדר ועם חזרות.
 נסיון לנקוט בגישה זו כאן יוביל לספירה כפולה )אם 
\begin_inset Formula $1,2$
\end_inset

 באותו תא זה ייספר פעם אחת כאשר 
\begin_inset Formula $1$
\end_inset

 ייבחר להיות כדור שמחולק בשלב הראשון ו-
\numeric on
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
מחולק בשלב השני, ופעם כש-
\numeric on
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
מחולק בשלב הראשון ו-
\numeric on
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
בשלב השני(.
\begin_inset Newline newline
\end_inset

במקום זאת נפתור באמצעות הכלה והפרדה.
 התכונה 
\begin_inset Formula $P_{i}$
\end_inset

 תהיה "התא 
\begin_inset Formula $i$
\end_inset

 ריק".
\begin_inset Newline newline
\end_inset

את 
\begin_inset Formula $w\left(r\right)$
\end_inset

 נחשב באופן הבא: מספר הדרכים לבחור 
\begin_inset Formula $r$
\end_inset

 מתוך 
\begin_inset Formula $k$
\end_inset

 תאים כדי שיהיו ריקים )
\begin_inset Formula ${k \choose r}$
\end_inset

(, וחלוקה חופשית של כדורים ל-
\begin_inset Formula $k-r$
\end_inset

 התאים הנותרים )
\begin_inset Formula $\left(k-r\right)^{n}$
\end_inset

(.
\begin_inset Newline newline
\end_inset

נקבל את הפתרון 
\begin_inset Formula $T\left(n,k\right)=\sum_{r=0}^{k}\left(-1\right)^{r}{k \choose r}\left(k-r\right)^{n}$
\end_inset

 אפשרויות.
 למרבה הצער, אין נוסחה סגורה.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $n$
\end_inset

 כדורים שונים, 
\begin_inset Formula $k$
\end_inset

 תאים זהים, אין תא ריק.
\begin_inset Newline newline
\end_inset

זהו ניסוח שקול ל"חלוקה של 
\begin_inset Formula $n$
\end_inset

 מספרים ל-
\begin_inset Formula $k$
\end_inset

 קבוצות זרות לא ריקות".
 מספר זה, 
\begin_inset Formula $S\left(n,k\right)$
\end_inset

, נקרא "מספר סטירלינג מהסוג השני" ומסומן לפעמים 
\begin_inset Formula $\left\{ \begin{array}{c}
n\\
k
\end{array}\right\} $
\end_inset

.
\begin_inset Newline newline
\end_inset

פתרון: נחלק את הכדורים ל-
\begin_inset Formula $k$
\end_inset

 תאים 
\series bold
שונים
\series default
 - 
\begin_inset Formula $T\left(n,k\right)$
\end_inset

.
 כעת נחלק במספר הסדרים הפנימיים של תאים ונקבל 
\begin_inset Formula $S\left(n,k\right)=\frac{T\left(n,k\right)}{k!}$
\end_inset

.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $n$
\end_inset

 כדורים שונים, מספר כלשהו של תאים שונים ואין תא ריק: מהתנאים נובעת הדרישה
 
\begin_inset Formula $k\le n$
\end_inset

, ולכל 
\begin_inset Formula $k$
\end_inset

 נקבל 
\begin_inset Formula $T\left(n,k\right)$
\end_inset

 כמקודם.
\begin_inset Newline newline
\end_inset

התשובה היא 
\begin_inset Formula $Q\left(n\right)=\sum_{k=1}^{n}T\left(n,k\right)=\sum_{k=1}^{n}\sum_{r=0}^{k}\left(-1\right)^{r}{k \choose r}\left(k-r\right)^{n}$
\end_inset

.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $n$
\end_inset

 כדורים שונים, מספר כלשהו של תאים זהים ואין תא ריק.
 מספר זה, 
\begin_inset Formula $B\left(n\right)$
\end_inset

, נקרא "מספר בל"
\begin_inset Newline newline
\end_inset

כמו ב-
\numeric on
8
\numeric off
, גם כאן אפשר להציג את הפתרון כסכום, הפעם של מספרי סטירלינג מהסוג השני:
\begin_inset Newline newline
\end_inset


\begin_inset Formula $B\left(n\right)=\sum_{k=1}^{n}S\left(n,k\right)$
\end_inset


\end_layout

\begin_layout Enumerate
\begin_inset Formula $n$
\end_inset

 כדורים זהים, 
\begin_inset Formula $k$
\end_inset

 תאים זהים ואין תא ריק.
 מסומן ב-
\begin_inset Formula $p_{k}\left(n\right)$
\end_inset


\begin_inset Newline newline
\end_inset

זהה למספר 
\emph on
טבלאות יאנג
\emph default
: טבלה עם 
\begin_inset Formula $k$
\end_inset

 שורות ו-
\begin_inset Formula $n$
\end_inset

 משבצות בסך הכל, כך שבכל שורה אין יותר משבצות מאשר בשורה שקדמה לה.
\begin_inset Newline newline
\end_inset

זהה למספר האפשרויות לכתוב את 
\begin_inset Formula $n$
\end_inset

 כסכום של 
\begin_inset Formula $k$
\end_inset

 מספרים טבעיים שמסודרים בסדר עולה )למשל: 
\begin_inset Formula $1+1+1=1+2=3$
\end_inset

 הן שלוש אפשרויות החלוקה של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
3
\numeric off
(.
\begin_inset Newline newline
\end_inset

קיימת נוסחת הנסיגה הבאה:
\begin_inset Newline newline
\end_inset


\begin_inset Formula $p_{k}\left(n\right)=p_{k-1}\left(n-1\right)+p_{k}\left(n-k\right)$
\end_inset


\begin_inset Newline newline
\end_inset

כאן המחובר הראשון מתאים לסיטואציה שבה באחד התאים יש בדיוק כדור אחד, והמחובר
 השני מתאים לסיטואציה שבה בכל התאים יש לפחות שני כדורים.
\begin_inset Newline newline
\end_inset

תנאי התחלה:
\begin_inset Newline newline
\end_inset


\begin_inset Formula $p_{0}\left(0\right)=1$
\end_inset

 )חלוקה "ריקה" של אפס כדורים לאפס תאים(
\begin_inset Newline newline
\end_inset


\begin_inset Formula $p_{k}\left(n\right)=0$
\end_inset

 כאשר 
\begin_inset Formula $k>n$
\end_inset

 )אם אין מספיק כדורים כדי לחלק כדור לכל תא, יהיה תא ריק ולכן אין חלוקות
 מתאימות(.
\begin_inset Newline newline
\end_inset

נשים לב לכך שתנאי ההתחלה השני תקף גם כאשר 
\begin_inset Formula $n$
\end_inset

 הוא שלילי.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $n$
\end_inset

 כדורים זהים, מספר כלשהו של תאים זהים ואין תא ריק.
 מסומן ב-
\begin_inset Formula $p\left(n\right)$
\end_inset

.
\begin_inset Newline newline
\end_inset

בבירור 
\begin_inset Formula $p\left(n\right)=\sum_{k=1}^{n}p_{k}\left(n\right)$
\end_inset

, אך קשה לומר משהו מעבר לכך.
\begin_inset Newline newline
\end_inset


\begin_inset Formula $p\left(n\right)$
\end_inset

 - "פונקציית החלוקה" - היא מהפונקציות המפורסמות בקומבינטוריקה ובתורת המספרים
 ועבודה רבה )החורגת מהיקף הקורס( הושקעה בהבנה של התנהגותה.
\end_layout

\begin_layout Standard
נסכם את כל המקרים הללו בטבלה הבאה:
\end_layout

\begin_layout Standard
\begin_inset Tabular
<lyxtabular version="3" rows="12" columns="7">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
נוסחה/סימון
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
הגבלות נוספות
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
תאים ריקים
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
סדר בתא
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
תאים
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
כדורים
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
מקרה
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula ${k \choose n}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
בתא לכל היותר
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
אפשר
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
אין
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
שונים
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
זהים
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
1
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $\frac{k!}{\left(k-n\right)!}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
בתא לכל היותר
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
אפשר
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
אין
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
שונים
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
שונים
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
2
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $k^{n}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
אין
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
אפשר
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
אין
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
שונים
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
שונים
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
3
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula ${n+k-1 \choose n}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
אין
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
אפשר
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
אין
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
שונים
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
זהים
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
4
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $n!\cdot CC_{k}^{n}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
אין
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
אפשר
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
יש
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
שונים
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
שונים
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
5
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $T\left(n,k\right)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
אין
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
אי אפשר
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
אין
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
שונים
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
שונים
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
6
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $S\left(n,k\right)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
אין
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
אי אפשר
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
אין
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
זהים
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
שונים
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
7
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $Q\left(n\right)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
מספר תאים כלשהו
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
אי אפשר
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
אין
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
שונים
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
שונים
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
8
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $B\left(n\right)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
מספר תאים כלשהו
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
אי אפשר
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
אין
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
זהים
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
שונים
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
9
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $p_{k}\left(n\right)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
אין
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
אי אפשר
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
אין
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
זהים
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
זהים
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
10
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $p\left(n\right)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
מספר תאים כלשהו
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
אי אפשר
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
אין
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
זהים
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
זהים
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\numeric on
11
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Section
פונקציות יוצרות
\end_layout

\begin_layout Subsection
מבוא ודוגמאות ראשונות
\end_layout

\begin_layout Standard
מרבית הבעיות שבהן עוסקים בקומבינטוריקה הן בעיות ספירה עבור פרמטר 
\begin_inset Formula $n$
\end_inset

: לכל מספר טבעי 
\begin_inset Formula $n\ge0$
\end_inset

 מתאים מספר 
\begin_inset Formula $a_{n}$
\end_inset

 שמתאר את כמות האובייקטים שמתאימים לקריטריונים של בעיית הספירה עבור הפרמטר
 
\begin_inset Formula $n$
\end_inset

 הספיציפי.
 כך למשל 
\begin_inset Formula $D_{n}$
\end_inset

 תיאר, לכל 
\begin_inset Formula $n\ge0$
\end_inset

, את מספר הפרמוטציות מגודל 
\begin_inset Formula $n$
\end_inset

 )הגודל הוא הפרמטר( שהן הפרות סדר.
 המטרה של הקומבינטוריקה היא להבין באופן הטוב ביותר את התנהגות הסדרה 
\begin_inset Formula $a_{n}$
\end_inset

.
\end_layout

\begin_layout Standard
באופן פורמלי מעט יותר, בבעיית ספירה קומבינטורית נתונה קבוצה 
\begin_inset Formula $A$
\end_inset

 כך שלכל איבר 
\begin_inset Formula $x\in A$
\end_inset

 אנחנו מתאימים 
\series bold
גודל 
\series default

\begin_inset Formula $\left|x\right|$
\end_inset

 שהוא מספר טבעי )כולל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
(, ומגדירים את הסדרה
\end_layout

\begin_layout Standard
\begin_inset Formula $a_{n}=\left|\left\{ x\in A\ |\ x=n\right\} \right|$
\end_inset


\end_layout

\begin_layout Standard
כלומר, 
\begin_inset Formula $a_{n}$
\end_inset

 סופר את מספר האיברים ב-
\begin_inset Formula $A$
\end_inset

 מגודל 
\begin_inset Formula $n$
\end_inset

.
\end_layout

\begin_layout Standard
עד כה אופן הפעולה שלנו היה כזה שבו אנחנו "מקפיאים" את 
\begin_inset Formula $n$
\end_inset

 ומנסים למצוא נוסחה ספציפית עבור 
\begin_inset Formula $a_{n}$
\end_inset

, לפעמים בהסתמך על איברים אחרים בסדרה )מה שמניב נוסחת נסיגה(.
 
\series bold
פונקציות יוצרות
\series default
 הן גישה שונה מהותית לתיאור סדרות, שמצליחה לתפוס את כל הסדרה "בבת אחת".
 גישה זו מאפשרת התמודדות כללית וחזקה יותר עם בעיות ספירה רבות ובפרט כאלו
 שלא ניתן למצוא בהן נוסחה מפורשת עבור 
\begin_inset Formula $a_{n}$
\end_inset

, אך במבט ראשון היא גם מבלבלת ונראית "חלשה יותר" מהשיטות שנלמדו עד כה.
\end_layout

\begin_layout Standard
הרעיון בפונקציות יוצרות הוא "לשתול" את אברי הסדרה בתור מקדמים ב
\series bold
טור חזקות אינסופי
\series default
; טור שכזה מגדיר פונקציה שלאחר מכן ניתן לבצע עליה מניפולציות אלגבריות סטנדרטיות
 שמתבצעות על פונקציות - חיבור עם פונקציות אחרות, כפל בסקלרים ובפונקציות
 אחרות, העלאה בחזקה ואפילו גזירה ואינטגרציה.
 לכל המניפולציות הללו משמעויות קומבינטוריות.
 המטרה היא למצוא ביטוי מפורש כלשהו לפונקציה היוצרת של הסדרה.
 מרגע שביטוי שכזה נמצא, ניתן להפיק ממנו לעתים נוסחה מפורשת עבור אברי הסדרה
 או נוסחת נסיגה עבורם, וגם במקרה שהדבר אינו מתאפשר עדיין יש מידע שניתן להפיק
 דוגמת קצב הגידול של הסדרה )לא ניכנס לניתוחים הללו בקורס זה(.
\end_layout

\begin_layout Standard
קיימים מספר סוגים של פונקציות יוצרות ובקורס זה נציג רק את הפשוט שבהם:
\end_layout

\begin_layout Definition
)פונקציה יוצרת( עבור סדרה 
\begin_inset Formula $\left\{ a_{n}\right\} _{n=0}^{\infty}$
\end_inset

, 
\series bold
הפונקציה היוצרת
\series default
 של הסדרה היא הביטוי 
\begin_inset Formula $\sum_{n=0}^{\infty}a_{n}x^{n}$
\end_inset

.
\end_layout

\begin_layout Standard
בחשבון דיפרנציאלי ואינטגרלי יש חשיבות ל
\series bold
תחום ההתכנסות
\series default
 של טורי חזקות כדוגמת 
\begin_inset Formula $\sum_{n=0}^{\infty}a_{n}x^{n}$
\end_inset

, אך אנו לא נזדקק בשום שלב להצבת ערכים בתוך 
\begin_inset Formula $x$
\end_inset

 כך שפרטים אלו לא יהיו רלוונטיים עבורינו.
\end_layout

\begin_layout Paragraph
דוגמא
\end_layout

\begin_layout Standard
הפונקציה היוצרת של הסדרה הסופית 
\begin_inset Formula $1,2,1$
\end_inset

 )שניתן לחשוב עליה כעל הסדרה האינסופית 
\begin_inset Formula $1,2,1,0,0,\dots$
\end_inset

( היא 
\begin_inset Formula $f\left(x\right)=1+2x+x^{2}$
\end_inset

.
\end_layout

\begin_layout Standard
באופן כללי, פונקציה יוצרת של סדרה היא פולינום אם ורק אם הסדרה היא סופית
 )מכילה רק אפסים החל ממקום מסויים(.
\end_layout

\begin_layout Paragraph
דוגמא
\end_layout

\begin_layout Standard
לסדרה 
\begin_inset Formula ${n \choose 0},{n \choose 1},\dots,{n \choose n}$
\end_inset

, כלומר הסדרה 
\begin_inset Formula $a_{k}={n \choose k}$
\end_inset

 יש את הפונקציה היוצרת 
\begin_inset Formula $f\left(x\right)=\sum_{i=0}^{n}{n \choose i}x^{i}$
\end_inset

.
\end_layout

\begin_layout Standard
באמצעות הבינום של ניוטון ניתן לפשט את הביטוי: 
\begin_inset Formula $f\left(x\right)=\left(1+x\right)^{n}$
\end_inset

.
\end_layout

\begin_layout Standard
דוגמא זו מעידה על אחד מהגורמים לכוחן הרב של פונקציות יוצרות - לרוב ניתן
 לתת להן ביטוי פשוט שקל לבצע בו מניפולציות אלגבריות.
\end_layout

\begin_layout Paragraph
דוגמא
\end_layout

\begin_layout Standard
לסדרה 
\begin_inset Formula $0,0,0,\ldots$
\end_inset

, כלומר הסדרה 
\begin_inset Formula $a_{n}=0$
\end_inset

, יש את הפונקציה היוצרת 
\begin_inset Formula $f\left(x\right)=\sum_{n=0}^{\infty}0\cdot x^{n}=0$
\end_inset

.
\end_layout

\begin_layout Paragraph
דוגמא
\end_layout

\begin_layout Standard
לסדרה 
\begin_inset Formula $1,1,1,\dots$
\end_inset

, כלומר הסדרה 
\begin_inset Formula $a_{n}=1$
\end_inset

, יש את הפונקציה היוצרת 
\begin_inset Formula $f\left(x\right)=\sum_{n=0}^{\infty}x^{n}=\frac{1}{1-x}$
\end_inset

.
\end_layout

\begin_layout Standard
השוויון האחרון הוא הנוסחה המוכרת לסכום של טור הנדסי אינסופי מתכנס - אולם
 כזכור, איננו מניחים כלום על ההתכנסות של הטור ולכן אנו נדרשים לנימוק שונה
 שנראה בהמשך.
\end_layout

\begin_layout Paragraph*
דוגמא
\end_layout

\begin_layout Standard
לסדרה 
\begin_inset Formula $1,\lambda,\lambda^{2},\ldots$
\end_inset

, כלומר הסדרה 
\begin_inset Formula $a_{n}=\lambda^{n}$
\end_inset

, יש את הפונקציה היוצרת 
\begin_inset Formula $f\left(x\right)=\sum_{n=0}^{\infty}\left(\lambda x\right)^{n}=\frac{1}{1-\lambda x}$
\end_inset

.
\end_layout

\begin_layout Subsection
פעולות על פונקציות יוצרות
\end_layout

\begin_layout Standard
ראשית, עלינו להסביר טוב יותר מה האובייקט שאנו משתמשים בו כשאנו עובדים עם
 פונקציות יוצרות - מה שכינינו 
\begin_inset Quotes eld
\end_inset

טור חזקות
\begin_inset Quotes erd
\end_inset

 ועכשיו נכנה 
\begin_inset Quotes eld
\end_inset

טור חזקות 
\series bold
פורמלי
\series default

\begin_inset Quotes erd
\end_inset

 כדי להדגיש את ההבדל בין זה ובין טורי החזקות שמופיעים בחדו
\begin_inset Quotes erd
\end_inset

א ובדיון בהם עוסקים גם ברדיוס התכנסות.
\end_layout

\begin_layout Standard
אינטואיטיבית, טור חזקות פורמלי הוא אובייקט הדומה לפולינום, רק שבעוד שבפולינום
 יש מספר סופי של מקדמים, בטור חזקות פורמלי יש אינסוף.
 
\end_layout

\begin_layout Definition

\series bold
טור חזקות פורמלי
\series default
 הוא ביטוי מהצורה 
\begin_inset Formula $\sum_{n=0}^{\infty}a_{n}x^{n}$
\end_inset

.
 האיברים 
\begin_inset Formula $a_{n}$
\end_inset

 נקראים 
\series bold
המקדמים
\series default
 של הטור.
\end_layout

\begin_layout Standard
כמו עם פולינומים, כך גם על טורי חזקות אפשר להגדיר פעולות אלגבריות:
\end_layout

\begin_layout Definition
)חיבור של טורי חזקות(: בהינתן שני טורי חזקות 
\begin_inset Formula $a\left(x\right)=\sum_{n=0}^{\infty}a_{n}x^{n},b\left(x\right)=\sum_{n=0}^{\infty}b_{n}x^{n}$
\end_inset

 
\series bold
הסכום
\series default
 שלהם 
\begin_inset Formula $c\left(x\right)=a\left(x\right)+b\left(x\right)$
\end_inset

 הוא טור חזקות 
\begin_inset Formula $c\left(x\right)=\sum_{n=0}^{\infty}c_{n}x^{n}$
\end_inset

 כך ש-
\begin_inset Formula $c_{n}=a_{n}+b_{n}$
\end_inset

.
\end_layout

\begin_layout Standard
הגדרת החיבור היא פשוטה.
 הגדרת הכפל מורכבת יותר )כדי לקבל אינטואיציה, כדאי לנסות לכפול פולינומים
 ולראות מה קורה( אך היא גם הסיבה לכוח של ייצוג סדרות באמצעות פונקציות יוצרות.
\end_layout

\begin_layout Definition
)כפל של טורי חזקות(: בהינתן שני טורי חזקות 
\begin_inset Formula $a\left(x\right)=\sum_{n=0}^{\infty}a_{n}x^{n},b\left(x\right)=\sum_{n=0}^{\infty}b_{n}x^{n}$
\end_inset

 
\series bold
המכפלה
\series default
 שלהם 
\begin_inset Formula $c\left(x\right)=a\left(x\right)b\left(x\right)$
\end_inset

 היא טור חזקות 
\begin_inset Formula $c\left(x\right)=\sum_{n=0}^{\infty}c_{n}x^{n}$
\end_inset

 כך ש-
\begin_inset Formula $c_{n}=\sum_{k=0}^{n}a_{k}b_{n-k}$
\end_inset

.
\end_layout

\begin_layout Paragraph*
דוגמא
\end_layout

\begin_layout Standard
נתבונן על שני טורי החזקות
\end_layout

\begin_layout Standard
\begin_inset Formula $a\left(x\right)=1+x+x^{2}+x^{3}+\ldots$
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula $b\left(x\right)=1-x$
\end_inset


\end_layout

\begin_layout Standard
כלומר, הטורים עבור הסדרות 
\begin_inset Formula $a_{n}=1$
\end_inset

 ו-
\end_layout

\begin_layout Standard
\begin_inset Formula $b_{n}=\begin{cases}
1 & n=0\\
-1 & n=1\\
0 & n>1
\end{cases}$
\end_inset


\end_layout

\begin_layout Standard
אינטואיטיבית, המכפלה של שני אלו תניב 
\series bold
טור טלסקופי
\series default
:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
a\left(x\right)b\left(x\right) & =1-x+x\left(1-x\right)+x^{2}\left(1-x\right)+\ldots\\
 & =1-x+x-x^{2}+x^{2}-x^{3}+\ldots\\
 & =1
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
אבל זה אינו נימוק פורמלי; נימוק פורמלי ייעזר בנוסחה 
\begin_inset Formula $c_{n}=\sum_{k=0}^{n}a_{k}b_{n-k}$
\end_inset

:
\end_layout

\begin_layout Standard
\begin_inset Formula $c_{0}=a_{0}b_{0}=1\cdot1=1$
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula $c_{1}=a_{0}b_{1}+a_{1}b_{0}=1\cdot\left(-1\right)+1\cdot1=-1+1=0$
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula $c_{2}=a_{0}b_{2}+a_{1}b_{1}+a_{2}b_{0}=1\cdot0+1\cdot\left(-1\right)+1\cdot1=0$
\end_inset


\end_layout

\begin_layout Standard
ובאופן כללי עבור 
\begin_inset Formula $n\ge1$
\end_inset

, מכיוון שאם 
\begin_inset Formula $n-k\le1$
\end_inset

 מתקיים 
\begin_inset Formula $b_{n-k}=0$
\end_inset

:
\end_layout

\begin_layout Standard
\begin_inset Formula $c_{n}=\sum_{k=0}^{n}a_{k}b_{n-k}=a_{n-1}b_{1}+a_{n}b_{0}=1-1=0$
\end_inset


\end_layout

\begin_layout Standard
זו ההצדקה הפורמלית לכתיב 
\begin_inset Formula $1+x+x^{2}+\ldots=\frac{1}{1-x}$
\end_inset

.
\end_layout

\begin_layout Standard
באופן דומה ניתן גם להוכיח את 
\begin_inset Formula $1+\lambda x+\lambda^{2}x^{2}+\ldots=\frac{1}{1-\lambda x}$
\end_inset

.
\end_layout

\begin_layout Paragraph*
דוגמא
\end_layout

\begin_layout Standard
אם 
\begin_inset Formula $a\left(x\right)=\sum_{n=0}^{\infty}a_{n}x^{n}$
\end_inset

 היא הפונקציה היוצרת של הסדרה 
\begin_inset Formula $\left\{ a_{n}\right\} _{n\ge0}$
\end_inset

 ו-
\begin_inset Formula $\lambda\in\mathbb{R}$
\end_inset

 הוא סקלר כלשהו, אז 
\begin_inset Formula $\lambda a\left(x\right)=\sum_{n=0}^{\infty}\lambda a_{n}x^{n}$
\end_inset

 היא הפונקציה היוצרת של הסדרה 
\begin_inset Formula $\left\{ \lambda a_{n}\right\} _{n\ge0}$
\end_inset

 )כאן 
\begin_inset Formula $\lambda$
\end_inset

 הוא טור החזקות שהאיבר הראשון שלו הוא 
\begin_inset Formula $\lambda$
\end_inset

 וכל יתר האיברים הם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
(.
\end_layout

\begin_layout Paragraph*
דוגמא
\end_layout

\begin_layout Standard
אם 
\begin_inset Formula $a\left(x\right)=\sum_{n=0}^{\infty}a_{n}x^{n}$
\end_inset

 היא הפונקציה היוצרת של הסדרה 
\begin_inset Formula $a_{0},a_{1},a_{2},\ldots$
\end_inset

 אז 
\begin_inset Formula 
\begin{align*}
xa\left(x\right) & =x\sum_{n=0}^{\infty}a_{n}x^{n}=\sum_{n=0}^{\infty}a_{n}x^{n+1}\\
 & =0\cdot x^{0}+\sum_{n=1}^{\infty}a_{n-1}x^{n}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
היא הפונקציה היוצרת של הסדרה 
\begin_inset Formula $0,a_{0},a_{1},\ldots$
\end_inset

.
 כלומר, מכפלה ב-
\begin_inset Formula $x$
\end_inset

 מזיזה את הסדרה צעד אחד ימינה ומכניסה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בהתחלה.
 בדומה, מכפלה ב-
\begin_inset Formula $x^{k}$
\end_inset

 תזיז את הסדרה 
\begin_inset Formula $k$
\end_inset

 צעדים ימינה ותכניס 
\begin_inset Formula $k$
\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אפסים בהתחלה )כאן 
\begin_inset Formula $x$
\end_inset

 הוא טור החזקות 
\begin_inset Formula $0+x+0x^{2}+0x^{3}+\ldots$
\end_inset

(.
\end_layout

\begin_layout Standard
נחזור כעת לקומבינטוריקה.
 כזכור, בעיות הספירה שלנו הן על פי רוב מהצורה הזו: נתונה לנו 
\series bold
מחלקה
\series default
 של אובייקטים 
\begin_inset Formula $A$
\end_inset

, ואנו מסמנים ב-
\begin_inset Formula $a_{n}$
\end_inset

 את מספר האובייקטים ב-
\begin_inset Formula $A$
\end_inset

 שה
\begin_inset Quotes erd
\end_inset

גודל
\begin_inset Quotes erd
\end_inset

 שלהם הוא 
\begin_inset Formula $n$
\end_inset

.
 למשל, מספר המחרוזות שמורכבות מהתווים 
\begin_inset Formula $\left\{ 1,2,3\right\} $
\end_inset

 והן מאורך 
\begin_inset Formula $n$
\end_inset

 הוא 
\begin_inset Formula $3^{n}$
\end_inset

; כאן ה
\begin_inset Quotes erd
\end_inset

גודל
\begin_inset Quotes erd
\end_inset

 של מחרוזת הוא מספר התווים שבה.
\end_layout

\begin_layout Standard
כעת נניח שאנו רוצים למצוא את מספר המחרוזות מאורך 
\begin_inset Formula $n$
\end_inset

 שבנויות משני חלקים; בחלק הראשון יש מחרוזת מעל 
\begin_inset Formula $\left\{ 1,2,3\right\} $
\end_inset

 ובחלק השני יש מחרוזת מעל 
\begin_inset Formula $\left\{ a,b\right\} $
\end_inset

.
 אין מגבלה על האורך של כל חלק בנפרד: למשל, 
\begin_inset Formula $12ab$
\end_inset

 היא מחרוזת מתאימה מאורך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
4
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אבל גם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3333
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וגם 
\begin_inset Formula $abab$
\end_inset

 הן מחרוזות מתאימות שכאלו.
\end_layout

\begin_layout Standard
אם ננסה למצוא את מספר המחרוזות מאורך 
\begin_inset Formula $n$
\end_inset

 באמצעות עיקרון הכפל, נראה כי קודם כל עלינו להחליט כמה אותיות מהמחרוזות
 יהיו שייכות לחלק הראשון וכמה לחלק השני.
 אם מספר האותיות ששייכות לחלק הראשון הוא 
\begin_inset Formula $k$
\end_inset

, אז מספר המחרוזות מעל 
\begin_inset Formula $\left\{ 1,2,3\right\} $
\end_inset

 עבור החלק הראשון הוא 
\begin_inset Formula $3^{k}$
\end_inset

 ומספר המחרוזות מאורך 
\begin_inset Formula $n-k$
\end_inset

 מעל 
\begin_inset Formula $\left\{ a,b\right\} $
\end_inset

 עבור החלק השני הוא 
\begin_inset Formula $2^{n-k}$
\end_inset

.
 נקבל בסך הכל 
\begin_inset Formula $3^{k}\cdot2^{n-k}$
\end_inset

, ומכיוון ש-
\begin_inset Formula $k$
\end_inset

 יכול להיות כל מספר בין
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ל-
\begin_inset Formula $n$
\end_inset

 נקבל בסך הכל 
\begin_inset Formula $\sum_{k=0}^{n}3^{k}\cdot2^{n-k}$
\end_inset

 - אותו הסכום שהופיע בהגדרת הכפל של פונקציות יוצרות.
\end_layout

\begin_layout Standard
התרגיל הזה ממחיש את העיקרון הכללי:
\end_layout

\begin_layout Theorem
יהיו 
\begin_inset Formula $\left\{ a_{n}\right\} _{n\ge0}$
\end_inset

 ו-
\begin_inset Formula $\left\{ b_{n}\right\} _{n\ge0}$
\end_inset

 סדרות כך ש-
\begin_inset Formula $a_{n}$
\end_inset

 מתאר את מספר האובייקטים מגודל 
\begin_inset Formula $n$
\end_inset

 במחלקה 
\begin_inset Formula $A$
\end_inset

 ו-
\begin_inset Formula $b_{n}$
\end_inset

 מתאר את מספר האובייקטים מגודל 
\begin_inset Formula $n$
\end_inset

 במחלקה 
\begin_inset Formula $B$
\end_inset

, ויהיו 
\begin_inset Formula $a\left(x\right),b\left(x\right)$
\end_inset

 הפונקציות היוצרות המתאימות.
\end_layout

\begin_layout Enumerate
)חיבור( אם 
\begin_inset Formula $C=A\cup B$
\end_inset

 והאיחוד זר, כלומר כל אובייקט ב-
\begin_inset Formula $C$
\end_inset

 מגודל 
\begin_inset Formula $n$
\end_inset

 הוא או אובייקט מגודל 
\begin_inset Formula $n$
\end_inset

 ב-
\begin_inset Formula $A$
\end_inset

 או אובייקט מגודל 
\begin_inset Formula $n$
\end_inset

 ב-
\begin_inset Formula $B$
\end_inset

 ו-
\begin_inset Formula $A\cap B=\emptyset$
\end_inset

, אז 
\begin_inset Formula $c\left(x\right)=a\left(x\right)+b\left(x\right)$
\end_inset

.
\end_layout

\begin_layout Enumerate
)כפל( אם 
\begin_inset Formula $C=A\times B$
\end_inset

 כך שאיבר ב-
\begin_inset Formula $C$
\end_inset

 מגודל 
\begin_inset Formula $n$
\end_inset

 הוא זוג של איבר מ-
\begin_inset Formula $A$
\end_inset

 ואיבר מ-
\begin_inset Formula $B$
\end_inset

 שסכום הגדלים שלהם הוא 
\begin_inset Formula $n$
\end_inset

, אז 
\begin_inset Formula $c\left(x\right)=a\left(x\right)b\left(x\right)$
\end_inset

.
\end_layout

\begin_layout Standard
המשפט נובע מהתכונות הבסיסיות של חיבור וכפל טורי חזקות.
\end_layout

\begin_layout Standard
נעבור כעת לדוגמאות.
\end_layout

\begin_layout Paragraph*
דוגמא
\end_layout

\begin_layout Standard
כמה פתרונות במספרים טבעיים יש למשוואה 
\begin_inset Formula $x_{1}+\dots+x_{k}=n$
\end_inset

?
\end_layout

\begin_layout Standard
ראינו כבר כי בעיה זו היא דוגמא ל
\series bold
בחירה ללא חשיבות לסדר ועם חזרות
\series default
: אנחנו מתחילים כשבכל המשתנים מוצב הערך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
, ו-
\begin_inset Formula $n$
\end_inset

 פעמים אנחנו בוחרים אחד מהמשתנים ומגדילים את ערכו ב-
\numeric on
1
\numeric off
.
 ראינו גם כי מספר זה הוא 
\begin_inset Formula ${n+k-1 \choose n}$
\end_inset

.
\end_layout

\begin_layout Standard
נחשוב כעת על אותה בעיה מזווית הראייה של פונקציות יוצרות.
 
\end_layout

\begin_layout Standard
אם 
\begin_inset Formula $A=\mathbb{N}$
\end_inset

 כך שהגודל של מספר הוא פשוט המספר עצמו )
\begin_inset Formula $\left|x\right|=x$
\end_inset

(, אז האיברים מגודל 
\begin_inset Formula $n$
\end_inset

 ב-
\begin_inset Formula $\mathbb{N}^{k}$
\end_inset

 הם בדיוק ה-
\begin_inset Formula $k$
\end_inset

-יות של מספרים טבעיים שסכומם 
\begin_inset Formula $n$
\end_inset

, דהיינו פתרון למשוואה 
\begin_inset Formula $x_{1}+\dots+x_{k}=n$
\end_inset

, כלומר יש 
\begin_inset Formula ${n+k-1 \choose k-1}$
\end_inset

 איברים מגודל 
\begin_inset Formula $n$
\end_inset

 ב-
\begin_inset Formula $\mathbb{N}^{k}$
\end_inset

.
 מצד שני, הפונקציה היוצרת של 
\begin_inset Formula $\mathbb{N}$
\end_inset

 היא פשוט 
\begin_inset Formula $1+x+x^{2}+\dots=\frac{1}{1-x}$
\end_inset

 ולכן הפונקציה היוצרת של 
\begin_inset Formula $\mathbb{N}^{k}$
\end_inset

 היא העלאה בחזקת 
\begin_inset Formula $k$
\end_inset

 של 
\begin_inset Formula $\frac{1}{1-x}$
\end_inset

.
 קיבלנו את הזהות השימושית הבאה:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\left(1+x+x^{2}+\ldots\right)^{k}=\frac{1}{\left(1-x\right)^{k}} & =\sum_{n=0}^{\infty}{n+k-1 \choose k-1}x^{n}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
כדי לפשט את הסימונים בהמשך, נשתמש בסימון 
\begin_inset Formula $CC_{k}^{n}={n+k-1 \choose k-1}$
\end_inset

.
 בסימון זה, הזהות שמצאנו היא
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\left(1+x+x^{2}+\ldots\right)^{k}=\frac{1}{\left(1-x\right)^{k}} & =\sum_{n=0}^{\infty}CC_{k}^{n}x^{n}
\end{align*}

\end_inset


\end_layout

\begin_layout Paragraph*
דוגמא
\end_layout

\begin_layout Standard
כמה פתרונות 
\series bold
במספרים טבעיים אי זוגיים 
\series default
יש למשוואה 
\begin_inset Formula $x_{1}+\dots+x_{k}=n$
\end_inset

?
\end_layout

\begin_layout Standard
כלומר, כאשר 
\begin_inset Formula $x_{i}\in\left\{ 1,3,5,\ldots\right\} $
\end_inset

 לכל 
\begin_inset Formula $1\le i\le k$
\end_inset

.
\end_layout

\begin_layout Standard
כאן במקום לקחת 
\begin_inset Formula $A=\mathbb{N}$
\end_inset

 ניקח את 
\begin_inset Formula $A=\left\{ 1,3,5,\ldots\right\} $
\end_inset

 ונתבונן ב-
\begin_inset Formula $k$
\end_inset

-יות של 
\begin_inset Formula $A^{k}$
\end_inset

.
\end_layout

\begin_layout Standard
הפונקציה היוצרת של 
\begin_inset Formula $A$
\end_inset

 היא 
\begin_inset Formula $x+x^{3}+x^{5}+\ldots$
\end_inset

 )כי חזקות זוגיות של 
\begin_inset Formula $x$
\end_inset

 מייצגות את המספרים הזוגיים, ואנחנו מחפשים פתרונות שכולם במספרים אי זוגיים(.
\end_layout

\begin_layout Standard
כדי לקבל ביטוי סגור עבור הטור הזה, נשתמש במניפולציות אלגבריות:
\begin_inset Formula 
\begin{align*}
x+x^{3}+x^{5}+\ldots & =x\left(1+x^{2}+x^{4}+\ldots\right)
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
אותו טיעון שהראה כי 
\begin_inset Formula $1+x+x^{2}+\ldots=\frac{1}{1-x}$
\end_inset

 מראה כי
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
1+x^{2}+x^{4}+\ldots & =\frac{1}{1-x^{2}}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
)כדי לקבל אינטואיציה, אפשר לסמן 
\begin_inset Formula $y=x^{2}$
\end_inset

 ואז מקבלים 
\begin_inset Formula $1+x^{2}+x^{4}+\ldots=1+y+y^{2}+\ldots=\frac{1}{1-y}=\frac{1}{1-x^{2}}$
\end_inset

(.
\end_layout

\begin_layout Standard
לכן הפונקציה היוצרת עבור מספר הפתרונות היא:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\left(x+x^{3}+x^{5}+\ldots\right)^{k} & =x^{k}\left(1+x^{2}+x^{4}+\ldots\right)^{k}\\
 & =\frac{x^{k}}{\left(1-x^{2}\right)^{k}}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
קיבלנו ביטוי סגור פשוט עבור הפונקציה היוצרת: 
\begin_inset Formula $\frac{x^{k}}{\left(1-x^{2}\right)^{k}}$
\end_inset

.
 ביטוי זה מספיק לנו לצרכים רבים ובפרט לתרגילים מסובכים יותר שמתבססים על
 הנוכחי.
 עם זאת, אנו רוצים לנסות לחלץ מהפונקציה היוצרת גם נוסחה סגורה עבור מספר
 הפתרונות, ולכן נפתח את הביטוי לטור.
 נזכור כי ראינו
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\frac{1}{\left(1-y\right)^{k}}=\sum_{t=0}^{\infty}CC_{k}^{t}y^{t}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
)כאן במקום להשתמש ב-
\begin_inset Formula $x,n$
\end_inset

 כרגיל השתמשנו ב-
\begin_inset Formula $y,t$
\end_inset

 כדי לא לערבב את הסימונים של הנוסחה הזו שמצאנו קודם עם הסימונים של התרגיל
 החדש(.
\end_layout

\begin_layout Standard
לכן אם נציב 
\begin_inset Formula $y=x^{2}$
\end_inset

 ונכפיל בביטוי 
\begin_inset Formula $x^{k}$
\end_inset

, נקבל:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\frac{x^{k}}{\left(1-x^{2}\right)^{k}}=x^{k}\sum_{t=0}^{\infty}CC_{k}^{t}x^{2t} & =\sum_{t=0}^{\infty}CC_{k}^{t}x^{2t+k}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
נזכור מה אנחנו מעוניינים למצוא: 
\begin_inset Formula $\frac{x^{k}}{\left(1-x^{2}\right)^{k}}=\sum_{n=0}^{\infty}a_{n}x^{n}$
\end_inset

 ואנו רוצים למצוא נוסחה סגורה ל-
\begin_inset Formula $a_{n}$
\end_inset

.
 אז נשווה את הביטוי הזה עם הביטוי שמצאנו:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\sum_{n=0}^{\infty}a_{n}x^{n} & =\sum_{t=0}^{\infty}CC_{k}^{t}x^{2t+k}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
אם 
\begin_inset Formula $n$
\end_inset

 אינו מהצורה 
\begin_inset Formula $2t+k$
\end_inset

 אז המקדם של 
\begin_inset Formula $x^{n}$
\end_inset

 בביטוי מימין הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
.
 לכן נקבל בסופו של דבר:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
a_{n} & =\begin{cases}
0 & n\ne2t+k\\
CC_{k}^{t} & n=2t+k
\end{cases}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
כלומר, כאשר 
\begin_inset Formula $n=2t+k$
\end_inset

 מספר האפשרויות שווה לבחירה עם חזרות וללא חשיבות לסדר של 
\begin_inset Formula $t=\frac{n-k}{2}$
\end_inset

 איברים מתוך 
\begin_inset Formula $k$
\end_inset

 איברים אפשריים: 
\begin_inset Formula $CC_{k}^{\frac{n-k}{2}}$
\end_inset

.
\end_layout

\begin_layout Paragraph*
דוגמא
\end_layout

\begin_layout Standard
כמה פתרונות במספרים טבעיים יש למשוואה 
\begin_inset Formula $x_{1}+\dots+x_{k}=n$
\end_inset

 כאשר לכל 
\begin_inset Formula $1\le i\le k$
\end_inset

 מתקיים 
\begin_inset Formula $0\le x_{i}\le m$
\end_inset

 עבור מספר טבעי 
\begin_inset Formula $m$
\end_inset

?
\end_layout

\begin_layout Standard
ההגבלה כאן על גודל הערך ש-
\begin_inset Formula $x_{i}$
\end_inset

 יכול לקבל מקשה מאוד על השימוש בפתרון סטנדרטי של בחירה עם חזרות ובלי חשיבות
 לסדר.
 דרך אחת להתמודד עם הקושי היא באמצעות 
\series bold
עקרון ההכלה וההפרדה
\series default
 )תכונה 
\begin_inset Quotes eld
\end_inset

רעה
\begin_inset Quotes erd
\end_inset

 היא כשמשתנה מקבל את לפחות את הערך 
\begin_inset Formula $m+1$
\end_inset

 (.
\end_layout

\begin_layout Standard
כאן נציג את ההתמודדות עם הקושי באמצעות שימוש בפונקציות יוצרות.
 הערכים שמשתנה אחד יכול לקבל הם אברי הקבוצה 
\begin_inset Formula $A=\left\{ 0,1,\ldots,m\right\} $
\end_inset

 ולכן הפונקציה היוצרת של הערכים שמשתנה אחד יכול לקבל היא 
\begin_inset Formula $f\left(x\right)=1+x+x^{2}+\ldots+x^{m}$
\end_inset

.
 אפשר לקבל ביטוי סגור ל-
\begin_inset Formula $f\left(x\right)$
\end_inset

 על ידי הנוסחה הסטנדרטית לטור הנדסי סופי:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
f\left(x\right) & =\frac{1-x^{m+1}}{1-x}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
כמקודם, אנחנו מעוניינים ב-
\begin_inset Formula $f^{k}\left(x\right)=\frac{\left(1-x^{m+1}\right)^{k}}{\left(1-x\right)^{k}}$
\end_inset

 - הפונקציה היוצרת שמתארת את מספר הפתרונות למשוואה כאשר יש לנו 
\begin_inset Formula $k$
\end_inset

 משתנים.
\end_layout

\begin_layout Standard
ראשית, נטפל במונה.
 אנחנו יודעים איך לפתוח אותו באמצעות 
\series bold
הבינום של ניוטון
\series default
:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\left(1-x^{m+1}\right)^{k} & =\sum_{i=0}^{k}{k \choose t}\left(-x^{m+1}\right)^{i}\cdot1^{k-i}\\
 & =\sum_{i=0}^{k}\left(-1\right)^{i}{k \choose i}x^{i\left(m+1\right)}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
עבור המכנה נתבסס שוב על התוצאה שראינו קודם:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\frac{1}{\left(1-x\right)^{k}} & =\sum_{t=0}^{\infty}CC_{k}^{t}x^{t}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
ולכן
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\frac{\left(1-x^{m+1}\right)^{k}}{\left(1-x\right)^{k}}= & \left(1-x^{m+1}\right)^{k}\sum_{t=0}^{\infty}CC_{k}^{t}x^{t}\\
= & \sum_{i=0}^{k}\left(-1\right)^{i}{k \choose i}x^{i\left(m+1\right)}\sum_{t=0}^{\infty}CC_{k}^{t}x^{t}\\
= & \sum_{i=0}^{k}\sum_{t=0}^{\infty}\left(-1\right)^{i}{k \choose i}CC_{k}^{t}x^{t+i\left(m+1\right)}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
ושוב, אנו רוצים להשוות את הביטוי הזה לטור 
\begin_inset Formula $\sum_{n=0}^{\infty}a_{n}x^{n}$
\end_inset

 ולכל 
\begin_inset Formula $n$
\end_inset

, לחלץ את הערך של 
\begin_inset Formula $a_{n}$
\end_inset

.
 מכאן נשאלת השאלה: עבור 
\begin_inset Formula $n$
\end_inset

 נתון, מה הערכים של 
\begin_inset Formula $t,i$
\end_inset

 שעבורם מתקיים 
\begin_inset Formula $n=t+i\left(m+1\right)$
\end_inset

? כל זוג ערכים של 
\begin_inset Formula $t,i$
\end_inset

 שכאלו תורמים למקדם של 
\begin_inset Formula $x^{n}$
\end_inset

.
 ועבור 
\begin_inset Formula $n$
\end_inset

 נתון, מתקיים 
\begin_inset Formula $t=n-i\left(m+1\right)$
\end_inset

.
\end_layout

\begin_layout Standard
לכן נקבל:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
a_{n} & =\sum_{\begin{array}{c}
t,i:\\
n=t+i\left(m+1\right)
\end{array}}\left(-1\right)^{i}{k \choose i}CC_{k}^{t}=\sum_{i=0}^{k}\left(-1\right)^{i}{k \choose i}CC_{k}^{n-i\left(m+1\right)}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
כאשר אם 
\begin_inset Formula $n-i\left(m+1\right)<0$
\end_inset

 המוסכמה היא ש-
\begin_inset Formula $CC_{k}^{n-i\left(m+1\right)}=0$
\end_inset

.
\end_layout

\begin_layout Section
פתרון נוסחאות נסיגה
\end_layout

\begin_layout Subsection
דוגמא ראשונה: נוסחת נסיגה עם צעד אחד אחורה
\end_layout

\begin_layout Subsubsection
הבעיה
\end_layout

\begin_layout Standard
נתונים 
\begin_inset Formula $n$
\end_inset

 ישרים במישור במיקום כללי, כלומר אין שלושה ישרים שנחתכים כולם באותה הנקודה.
 לכמה חלקים הם מחלקים את המישור?
\end_layout

\begin_layout Standard
לא קשה לראות שאם 
\begin_inset Formula $n-1$
\end_inset

 ישרים כבר מונחים במישור ומתווסף ישר חדש, הוא מוסיף למישור 
\begin_inset Formula $n$
\end_inset

 חלקים חדשים - בכל פעם שבה הוא פוגש את אחד הישרים שכבר קיימים, הוא מחלק
 לשניים את האיזור שאליו הוא נכנס, ובנוסף לכך הוא מחלק לשניים את האיזור שבו
 הוא היה לפני שהוא פגש ישר כלשהו.
 זה נותן לנו את הנוסחה הרקורסיבית הבאה:
\end_layout

\begin_layout Standard
\begin_inset Formula $a_{0}=1$
\end_inset

 )המישור ללא ישרים כלל מורכב מחלק בודד(
\end_layout

\begin_layout Standard
\begin_inset Formula $a_{n}=a_{n-1}+n$
\end_inset


\end_layout

\begin_layout Standard
אנו מעוניינים להפיק מנוסחת הנסיגה הזו פתרון סגור למשוואה.
 נציג שלוש דרכים שונות לעשות זאת:
\end_layout

\begin_layout Enumerate
הצבה נשנית.
\end_layout

\begin_layout Enumerate
שיטת המשוואה האופיינית.
\end_layout

\begin_layout Enumerate
פונקציות יוצרות.
\end_layout

\begin_layout Subsubsection
שיטת ההצבה הנשנית
\end_layout

\begin_layout Standard
בשיטה זו מסתמכים על כך שניתן להציב את המשוואה הרקורסיבית שוב ושוב בעצמה
 ולאחר שעושים זאת 
\begin_inset Formula $n$
\end_inset

 פעמים תתקבל נוסחה שאינה רקורסיבית.
 התקווה היא שניתן יהיה לגלות את החוקיות שנוצרת במהלך ההצבות הנשנות הללו
 )מה שדורש יצירתיות לעתים(.
\end_layout

\begin_layout Standard
עבור הדוגמה שלנו:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{eqnarray*}
a_{n} & = & a_{n-1}+n\\
 & = & a_{n-2}+\left(n+n\right)-1\\
 & = & a_{n-3}+\left(n+n+n\right)-\left(1+2\right)\\
 & = & a_{n-4}+\left(n+n+n+n\right)-\left(1+2+3\right)
\end{eqnarray*}

\end_inset


\end_layout

\begin_layout Standard
וכן הלאה.
 בבירור הצורה הכללית כאן היא 
\begin_inset Formula $a_{n}=a_{n-k}+kn-\left(1+2+\dots+\left(k-1\right)\right)$
\end_inset

.
\end_layout

\begin_layout Standard
נשתמש בנוסחה לסדרה חשבונית: 
\begin_inset Formula $1+2+\dots+k-1=\frac{k\left(k-1\right)}{2}$
\end_inset

, ונקבל:
\end_layout

\begin_layout Standard
\begin_inset Formula $a_{n}=a_{n-k}+kn-\frac{k\left(k-1\right)}{2}$
\end_inset

.
\end_layout

\begin_layout Standard
כדי לסיים נציב 
\begin_inset Formula $k=n$
\end_inset

 ונשתמש בתנאי ההתחלה 
\begin_inset Formula $a_{0}=1$
\end_inset

 כדי לקבל:
\end_layout

\begin_layout Standard
\begin_inset Formula $a_{n}=1+n^{2}-\frac{n\left(n-1\right)}{2}=\frac{2+2n^{2}-n^{2}+n}{2}=\frac{n^{2}+n+2}{2}=1+\frac{n\left(n+1\right)}{2}=1+{n+1 \choose 2}$
\end_inset

 
\end_layout

\begin_layout Standard
בשלב זה מומלץ לבדוק את נכונות התוצאה על ידי הצבת ערכים קטנים בה.
\end_layout

\begin_layout Subsubsection
שיטת המשוואה האופיינית
\end_layout

\begin_layout Standard
בשיטה זו אנו מתחילים עם "ניחוש" לצורה הכללית של הפתרון ומהצבה בנוסחה מקבלים
 את הפתרון במדויק.
 פורמלית, לאחר שנמצאה צורת הפתרון יש צורך להוכיח באינדוקציה כי זהו אכן הפתרון,
 שכן ההצבה אינה מוכיחה כי הפתרון נכון אלא רק מראה מה צריכים להיות הפרמטרים
 המדוייקים של הפתרון אם צורתו היא הצורה שניחשנו.
\end_layout

\begin_layout Standard
עבור נוסחת הנסיגה שלנו ננחש שצורת הפתרון הכללי היא 
\begin_inset Formula $a_{n}=An^{2}+Bn+C$
\end_inset

, נציב במשוואה הרקורסיבית ונקבל:
\end_layout

\begin_layout Standard
\begin_inset Formula $An^{2}+Bn+C=A\left(n-1\right)^{2}+B\left(n-1\right)+C+n$
\end_inset


\end_layout

\begin_layout Standard
ואחרי פתיחת סוגריים ופישוט:
\end_layout

\begin_layout Standard
\begin_inset Formula $A\left(2n-1\right)+B=n$
\end_inset


\end_layout

\begin_layout Standard
המשוואה הזו מתקיימת לכל 
\begin_inset Formula $n$
\end_inset

, ובפרט עבור 
\begin_inset Formula $n=0,1$
\end_inset

, כך שקיבלנו ממנה מייד שתי משוואות:
\end_layout

\begin_layout Standard
\begin_inset Formula $-A+B=0$
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula $A+B=1$
\end_inset


\end_layout

\begin_layout Standard
שפתרונן הוא 
\begin_inset Formula $A=B=\frac{1}{2}$
\end_inset

.
\end_layout

\begin_layout Standard
כמו כן מתנאי ההתחלה 
\begin_inset Formula $a_{0}=1$
\end_inset

 נקבל 
\begin_inset Formula $C=1$
\end_inset

.
\end_layout

\begin_layout Standard
קיבלנו שצורת הפתרון הכללי היא 
\begin_inset Formula $a_{n}=\frac{n^{2}+n}{2}+1=1+{n+1 \choose 2}$
\end_inset

.
\end_layout

\begin_layout Subsubsection
שימוש בפונקציות יוצרות
\end_layout

\begin_layout Standard
תהא 
\begin_inset Formula $f\left(x\right)$
\end_inset

 הפונקציה היוצרת של הסדרה 
\begin_inset Formula $a_{n}$
\end_inset

.
 אז מנוסחת הנסיגה ומתנאי ההתחלה אנו מקבלים את המשוואה הבאה:
\end_layout

\begin_layout Standard
\begin_inset Formula $f\left(x\right)=xf\left(x\right)+\frac{x}{\left(1-x\right)^{2}}+1$
\end_inset


\end_layout

\begin_layout Standard
הסבר:
\end_layout

\begin_layout Standard
ה-
\begin_inset Formula $xf\left(x\right)$
\end_inset

 הוא 
\begin_inset Formula $a_{n-1}$
\end_inset

 - זו ההשפעה של ביצוע "הזזה ימינה" על כל אברי הסדרה על ידי כפל ב-
\begin_inset Formula $x$
\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Formula $\frac{1}{\left(1-x\right)^{2}}=\sum_{n=0}^{\infty}\left(n+1\right)x^{n}$
\end_inset

 על פי הנוסחאות שראינו קודם, ועל כן 
\begin_inset Formula $\frac{x}{\left(1-x\right)^{2}}=\sum_{n=1}^{\infty}nx^{n}$
\end_inset

 היא הפונקציה היוצרת של הסדרה בה האיבר ה-
\begin_inset Formula $n$
\end_inset

-י הוא 
\begin_inset Formula $n$
\end_inset

 )שיטה אחרת: 
\begin_inset Formula $\sum_{n=1}^{\infty}nx^{n}=x\cdot\left(\frac{1}{1-x}\right)^{\prime}=\frac{x}{\left(1-x\right)^{2}}$
\end_inset

(.
\end_layout

\begin_layout Standard
ה-
\begin_inset Formula $+1$
\end_inset

 הוא תנאי ההתחלה.
\end_layout

\begin_layout Standard
מהמשוואה לעיל נחלץ את 
\begin_inset Formula $f\left(x\right)$
\end_inset

 ונקבל:
\end_layout

\begin_layout Standard
\begin_inset Formula $f\left(x\right)=\frac{x}{\left(1-x\right)^{3}}+\frac{1}{1-x}$
\end_inset


\end_layout

\begin_layout Standard
כזכור, הטור של 
\begin_inset Formula $\frac{1}{\left(1-x\right)^{3}}$
\end_inset

 הוא 
\begin_inset Formula $\sum_{n=0}^{\infty}{n+2 \choose 2}x^{n}$
\end_inset

 ולכן על ידי כפל ב-
\begin_inset Formula $x$
\end_inset

 מקבלים את 
\begin_inset Formula 
\begin{eqnarray*}
\sum_{n=0}^{\infty}{n+2 \choose 2}x^{n+1} & = & \sum_{n=0}^{\infty}{n+1 \choose 2}x^{n}
\end{eqnarray*}

\end_inset


\end_layout

\begin_layout Standard
הטור של 
\begin_inset Formula $\frac{1}{1-x}$
\end_inset

 הוא 
\begin_inset Formula $\sum_{n=0}^{\infty}x^{n}$
\end_inset

, ולכן נקבל שפתרון הנוסחה הוא 
\begin_inset Formula $1+{n+1 \choose 2}$
\end_inset

, שוב.
\end_layout

\begin_layout Subsection
דוגמא שניה: נוסחת נסיגה עם שני צעדים אחורה
\end_layout

\begin_layout Standard
נתבונן על נוסחת פיבונאצ'י, 
\begin_inset Formula 
\begin{align*}
a_{n} & =a_{n-1}+a_{n-2}
\end{align*}

\end_inset

אנו רוצים למצוא ביטוי סגור ל-
\begin_inset Formula $a_{n}$
\end_inset

 כדי להדגים שתי טכניקות כלליות שבהן ניתן לגשת לבעיה הזו.
\end_layout

\begin_layout Subsubsection
שיטת המשוואה האופיינית
\end_layout

\begin_layout Standard
להבדיל מבדוגמא הקודמת, עבור נוסחת נסיגה כמו 
\begin_inset Formula $a_{n}=a_{n-1}+a_{n-2}$
\end_inset

 שבה הולכים שני צעדים אחורה, הערכים של 
\begin_inset Formula $a_{n}$
\end_inset

 גדלים 
\series bold
אקספוננציאלית
\series default
:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
a_{n} & =a_{n-1}+a_{n-2}=\left(a_{n-2}+a_{n-3}\right)+a_{n-2}\\
 & \ge2a_{n-2}\ge4a_{n-4}\ge8a_{n-6}\ge\ldots\\
 & \ge2^{k}a_{n-2k}=\ldots=O\left(2^{n/2}\right)
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
זה מוביל אותנו לנחש פתרון שהוא פונקציה אקספוננציאלית, כלומר פונקציה מהצורה
 
\begin_inset Formula $a_{n}=\lambda^{n}$
\end_inset

, אולם מהו הערך של 
\begin_inset Formula $\lambda$
\end_inset

? אם נציב 
\begin_inset Formula $a_{n}=\lambda^{n}$
\end_inset

 בנוסחת הנסיגה 
\begin_inset Formula $a_{n}=a_{n-1}+a_{n-2}$
\end_inset

, נקבל:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\lambda^{n} & =\lambda^{n-1}+\lambda^{n-2}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
אמנם 
\begin_inset Formula $\lambda=0$
\end_inset

 מניב את הפתרון הקביל 
\begin_inset Formula $a_{n}=0$
\end_inset

 לנוסחת הנסיגה, אולם ברור שזה לא הפתרון שאנחנו מחפשים: בפרט הוא אינו מקיים
 את תנאי ההתחלה 
\begin_inset Formula $a_{0}=0,a_{1}=1$
\end_inset

.
 לכן נניח ש-
\begin_inset Formula $\lambda\ne0$
\end_inset

 ולכן ניתן לחלק בו, להעביר אגפים ולקבל
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\lambda^{2}-\lambda-1 & =0
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
זו משוואה ממעלה שניה ואנו יודעים לפתור משוואות כאלו באמצעות נוסחת השורשים:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\lambda_{1,2} & =\frac{1\pm\sqrt{1+4}}{2}=\frac{1\pm\sqrt{5}}{2}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
נסמן 
\begin_inset Formula $\phi_{+}=\frac{1+\sqrt{5}}{2}$
\end_inset

 ו-
\begin_inset Formula $\phi_{-}=\frac{1-\sqrt{5}}{2}$
\end_inset

.
 המספר 
\begin_inset Formula $\phi_{+}$
\end_inset

 הוא מוכר למדי ומכונה 
\series bold
יחס הזהב
\series default
.
\end_layout

\begin_layout Standard
העובדה ש-
\begin_inset Formula $\phi_{+},\phi_{-}$
\end_inset

 פותרים את המשוואה 
\begin_inset Formula $\lambda^{2}-\lambda-1=0$
\end_inset

 מוכיחה שהם פותרים גם את המשוואה 
\begin_inset Formula $\lambda^{n}=\lambda^{n-1}+\lambda^{n-2}$
\end_inset

, כך שמצאנו 
\series bold
שני
\series default
 פתרונות שונים אפשריים לנוסחת הנסיגה 
\begin_inset Formula $a_{n}=a_{n-1}+a_{n-2}$
\end_inset

:
\end_layout

\begin_layout Standard
\begin_inset Formula $a_{n}=\phi_{+}^{n}$
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula $a_{n}=\phi_{-}^{n}$
\end_inset


\end_layout

\begin_layout Standard
לרוע המזל, אף אחד משני פתרונות אלו אינו מקיים את תנאי ההתחלה עבור סדרת פיבונאצ'י
, כלומר 
\begin_inset Formula $a_{0}=0$
\end_inset

 ו-
\begin_inset Formula $a_{1}=1$
\end_inset

.
 למשל, עבור הפתרון של 
\begin_inset Formula $\phi_{+}^{n}$
\end_inset

, הערכים הראשונים הם 
\begin_inset Formula $1,\phi_{+}$
\end_inset

 במקום 
\begin_inset Formula $0,1$
\end_inset

.
\end_layout

\begin_layout Standard
למרבה המזל, בהינתן שני הפתרונות לנוסחת הנסיגה ניתן ליצור מהם אינסוף פתרונות
 נוספים באמצעות 
\series bold
צירוף לינארי
\series default
 של הפתרונות הקיימים: לכל 
\begin_inset Formula $A,B\in\mathbb{R}$
\end_inset

, גם 
\begin_inset Formula $a_{n}=A\phi_{+}^{n}+B\phi_{-}^{n}$
\end_inset

 יהיה פתרון של נוסחת הנסיגה )ניתן לראות זאת על ידי הצבה ובדיקה ישירה(.
 ננסה, אם כן, לבנות מהפתרונות שמצאנו פתרון חדש לנוסחת הנסיגה שבנוסף יקיים
 את תנאי ההתחלה.
 נציב 
\begin_inset Formula $n=0$
\end_inset

 ו-
\begin_inset Formula $n=1$
\end_inset

 ונקבל את זוג המשוואות הבאות:
\end_layout

\begin_layout Standard
\begin_inset Formula $0=A\phi_{+}^{0}+B\phi_{-}^{0}=A+B$
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula $1=A\phi_{+}+B\phi_{-}$
\end_inset


\end_layout

\begin_layout Standard
מהמשוואה הראשונה נסיק 
\begin_inset Formula $A=-B$
\end_inset

 וכשנציב זאת במשוואה השניה נקבל
\end_layout

\begin_layout Standard
\begin_inset Formula $1=A\left(\phi_{+}-\phi_{-}\right)$
\end_inset


\end_layout

\begin_layout Standard
מכיוון ש-
\begin_inset Formula $\phi_{+}-\phi_{-}=\frac{1+\sqrt{5}}{2}-\frac{1-\sqrt{5}}{2}=\sqrt{5}$
\end_inset

 נקבל
\end_layout

\begin_layout Standard
\begin_inset Formula $A=\frac{1}{\phi_{+}-\phi_{-}}=\frac{1}{\sqrt{5}}$
\end_inset


\end_layout

\begin_layout Standard
ולכן הפתרון לנוסחת הנסיגה שמקיים גם את תנאי ההתחלה הוא
\end_layout

\begin_layout Standard
\begin_inset Formula $a_{n}=A\phi_{+}^{n}+B\phi_{-}^{n}=\frac{\phi_{+}^{n}-\phi_{-}^{n}}{\sqrt{5}}$
\end_inset


\end_layout

\begin_layout Subsubsection
שימוש כללי בשיטת המשוואה האופיינית
\end_layout

\begin_layout Standard
הטכניקה שבה השתמשנו עבור פיבונאצ'י ניתנת להכללה עבור כל נוסחת נסיגה 
\series bold
לינארית
\series default
, כלומר כזו מהצורה
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
a_{n} & =c_{1}a_{n-1}+c_{2}a_{n-2}+\ldots+c_{k}a_{n-k}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
בנוסחת נסיגה לינארית, האיבר 
\begin_inset Formula $a_{n}$
\end_inset

 הוא 
\series bold
צירוף לינארי
\series default
 של 
\begin_inset Formula $k$
\end_inset

 איברים קודמים - סכום של האיברים הללו כשכל אחד מהם מוכפל בסקלר 
\begin_inset Formula $c$
\end_inset

.
 הנוסחה 
\begin_inset Formula $a_{n}=a_{n-1}+n$
\end_inset

 שראינו קודם אינה לינארית בגלל האיבר החופשי 
\begin_inset Formula $n$
\end_inset

 שאינו כפל במקדם של איבר קודם בנוסחת הנסיגה.
 גם הנוסחה 
\begin_inset Formula $a_{n}=a_{n-1}^{2}+a_{n}$
\end_inset

 איננה לינארית כי האיבר 
\begin_inset Formula $a_{n-1}$
\end_inset

 אינו מופיע כמות שהוא אלא כשהוא מועלה בריבוע.
\end_layout

\begin_layout Standard
כאשר נתונה לנו נוסחת נסיגה לינארית, אנו מחפשים לה פתרונות מהצורה 
\begin_inset Formula $a_{n}=\lambda^{n}$
\end_inset

, כפי שראינו קודם.
 הצבה של פתרון כזה בנוסחת הנסיגה מניבה בסופו של דבר את המשוואה
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\lambda^{k}-c_{1}\lambda^{k-1}-\ldots-c_{k} & =0
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
אם 
\begin_inset Formula $k=2$
\end_inset

 אנו יכולים לפתור את המשוואה בקלות בעזרת נוסחת השורשים, אבל עבור ערכים גדולים
 יותר של 
\begin_inset Formula $k$
\end_inset

 המצב קשה יותר )בפרט, עבור 
\begin_inset Formula $k\ge5$
\end_inset

 לא קיימת נוסחה כללית לפתרון משוואות כאלו( ולעתים קרובות נזקקים לאלגוריתם
 נומרי )כדוגמת אלגוריתם 
\series bold
ניוטון-רפסון
\series default
( שיחשב קירוב טובים לפתרונות.
 
\end_layout

\begin_layout Standard
נוסחת נסיגה שהולכת אחורה 
\begin_inset Formula $k$
\end_inset

 צעדים זקוקה ל-
\begin_inset Formula $k$
\end_inset

 תנאי התחלה שונים.
 אם בנוסף לכך קיימים למשוואה 
\begin_inset Formula $k$
\end_inset

 פתרונות שונים 
\begin_inset Formula $\lambda_{1},\ldots,\lambda_{k}$
\end_inset

, אז נכתוב פתרון כללי מהצורה 
\begin_inset Formula $A_{1}\lambda_{1}^{n}+\ldots+A_{k}\lambda_{k}^{n}$
\end_inset

, נשווה לתנאי ההתחלה ונקבל מערכת של 
\begin_inset Formula $k$
\end_inset

 משוואות לינאריות ב-
\begin_inset Formula $k$
\end_inset

 נעלמים:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
A_{1}+A_{2}+\ldots+A_{k} & =a_{0}\\
A_{1}\lambda_{1}+A_{2}\lambda_{2}+\ldots+A_{k}\lambda_{k} & =a_{1}\\
 & \vdots\\
A_{1}\lambda_{1}^{k-1}+A_{2}\lambda_{2}^{k-1}+\ldots+A_{k}\lambda_{k}^{k-1} & =a_{k-1}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
כאן הנעלמים הם 
\begin_inset Formula $A_{1},\ldots,A_{k}$
\end_inset

.
 אם מערכת המשוואות פתירה, מצאנו פתרון לנוסחת הנסיגה שעונה על תנאי ההתחלה.
\end_layout

\begin_layout Standard
מה קורה אם למשוואה אין מספיק פתרונות? כדי להבין מתי זה קורה ניזכר בטענה
 כללית על משוואות פולינומיות.
\end_layout

\begin_layout Standard

\series bold
המשפט היסודי של האלגברה
\series default
 קובע כי לפולינום ממעלה 
\begin_inset Formula $n$
\end_inset

 מעל המרוכבים 
\begin_inset Formula $\mathbb{C}$
\end_inset

 קיימים בדיוק 
\begin_inset Formula $n$
\end_inset

 שורשים, 
\series bold
עד כדי ריבוי
\series default
.
 משמעות הדבר היא שניתן לכתוב כל פולינום ממעלה 
\begin_inset Formula $n$
\end_inset

 בתור
\end_layout

\begin_layout Standard
\begin_inset Formula $\left(x-z_{1}\right)\left(x-z_{2}\right)\cdots\left(x-z_{n}\right)$
\end_inset


\end_layout

\begin_layout Standard
כך ש-
\begin_inset Formula $z_{1},z_{2}\ldots,z_{n}\in\mathbb{C}$
\end_inset

 הם מספרים מרוכבים, לאו דווקא שונים זה מזה.
 אם 
\begin_inset Quotes eld
\end_inset

מאגדים
\begin_inset Quotes erd
\end_inset

 יחד פתרונות זהים, מקבלים את הכתיב
\end_layout

\begin_layout Standard
\begin_inset Formula $\left(x-z_{1}\right)^{r_{1}}\left(x-z_{2}\right)^{r_{2}}\cdots\left(x-z_{t}\right)^{r_{t}}$
\end_inset


\end_layout

\begin_layout Standard
כך ש-
\begin_inset Formula $z_{1},\ldots,z_{t}$
\end_inset

 הם השורשים 
\series bold
השונים
\series default
 של הפולינום, 
\begin_inset Formula $r_{1}+\ldots+r_{t}=n$
\end_inset

 ו-
\begin_inset Formula $r_{i}$
\end_inset

 נקרא 
\series bold
הריבוי
\series default
 של השורש 
\begin_inset Formula $z_{i}$
\end_inset

.
\end_layout

\begin_layout Standard
עד עכשיו עסקנו רק במקרה שבו היו לנו 
\begin_inset Formula $n$
\end_inset

 שורשים שונים, כלומר הריבוי של כל אחד מהם היה 
\begin_inset Formula $1$
\end_inset

, ובמקרה זה אם 
\begin_inset Formula $\lambda$
\end_inset

 היה שורש אז 
\begin_inset Formula $\lambda^{n}$
\end_inset

 היה פתרון של נוסחת הנסיגה.
\end_layout

\begin_layout Standard
אם 
\begin_inset Formula $\lambda$
\end_inset

 הוא שורש מריבוי 
\begin_inset Formula $r$
\end_inset

, עדיין ניתן לקבל ממנו 
\begin_inset Formula $r$
\end_inset

 פתרונות שונים לנוסחת הנסיגה:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\lambda^{n},n\lambda^{n},n^{2}\lambda^{n},\ldots,n^{r-1}\lambda^{n}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
כך שניתן להמשיך לפתור את נוסחת הנסיגה בעזרת פתרונות אלו.
\end_layout

\begin_layout Standard
לדוגמא, נתבונן בנוסחת הנסיגה 
\begin_inset Formula $a_{n}=4\left(a_{n-1}-a_{n-2}\right)$
\end_inset

.
 המשוואה האופיינית עבור נוסחה זו היא 
\begin_inset Formula $0=\lambda^{2}-4\lambda+4=\left(\lambda-2\right)^{2}$
\end_inset

 ואנו מקבלים את הפתרונות הבאים של נוסחת הנסיגה:
\end_layout

\begin_layout Standard
\begin_inset Formula $a_{n}=2^{n}$
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula $a_{n}=n\cdot2^{n}$
\end_inset


\end_layout

\begin_layout Standard
ואכן, אם נציב את 
\begin_inset Formula $a_{n}=n\cdot2^{n}$
\end_inset

 בנוסחת הנסיגה נקבל:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
4\left(a_{n-1}-a_{n-2}\right) & =4\left(\left(n-1\right)\cdot2^{n-1}-\left(n-2\right)\cdot2^{n-2}\right)\\
 & =4\cdot2^{n-2}\left(2\left(n-1\right)-\left(n-2\right)\right)\\
 & =2^{n}\cdot n=a_{n}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
נוכיח את התכונה המועילה הזו:
\end_layout

\begin_layout Claim
עבור נוסחת הנסיגה 
\begin_inset Formula $a_{n}=c_{1}a_{n-1}+c_{2}a_{n-2}+\ldots+c_{k}a_{n-k}$
\end_inset

, אם 
\begin_inset Formula $\lambda$
\end_inset

 הוא פתרון של המשוואה האופיינית 
\begin_inset Formula $\lambda^{k}-c_{1}\lambda^{k-1}-\ldots-c_{k}=0$
\end_inset

 מריבוי 
\begin_inset Formula $r$
\end_inset

, אז 
\begin_inset Formula $a_{n}=n^{i}\lambda^{n}$
\end_inset

 הוא פתרון של נוסחת הנסיגה לכל 
\begin_inset Formula $0\le i<r$
\end_inset

.
\end_layout

\begin_layout Proof
המפתח להוכחה נעוץ בעובדה הבאה: אם 
\begin_inset Formula $\lambda$
\end_inset

 הוא שורש מריבוי 
\begin_inset Formula $r$
\end_inset

 של פולינום 
\begin_inset Formula $p\left(x\right)$
\end_inset

 אז ניתן לכתוב 
\begin_inset Formula $p\left(x\right)=\left(x-\lambda\right)^{r}q\left(x\right)$
\end_inset

 )על פי ההגדרה של ריבוי שהצגנו(.
 כעת נגזור את 
\begin_inset Formula $p\left(x\right)$
\end_inset

 על פי כללי הגזירה הרגילים, ונקבל:
\end_layout

\begin_layout Proof
\begin_inset Formula 
\begin{align*}
p^{\prime}\left(x\right) & =r\left(x-\lambda\right)^{r-1}q\left(x\right)+\left(x-\lambda\right)^{r}q^{\prime}\left(x\right)\\
 & =\left(x-\lambda\right)^{r-1}\left[rq\left(x\right)+\left(x-\lambda\right)q^{\prime}\left(x\right)\right]
\end{align*}

\end_inset


\end_layout

\begin_layout Proof
כלומר, 
\begin_inset Formula $p^{\prime}\left(x\right)=\left(x-\lambda\right)^{r-1}s\left(x\right)$
\end_inset

, ולכן אנו רואים ש-
\begin_inset Formula $\lambda$
\end_inset

 הוא שורש מריבוי 
\begin_inset Formula $r-1$
\end_inset

 של הפולינום 
\begin_inset Formula $p^{\prime}\left(x\right)$
\end_inset

.
\end_layout

\begin_layout Proof
נשים לב גם לאבחנה הטריוויאלית לפיה אם 
\begin_inset Formula $\lambda$
\end_inset

 הוא שורש מריבוי 
\begin_inset Formula $r$
\end_inset

 של 
\begin_inset Formula $p\left(x\right)$
\end_inset

 אז הוא שורש מריבוי 
\begin_inset Formula $r$
\end_inset

 של 
\begin_inset Formula $x\cdot p\left(x\right)$
\end_inset

 )שכן עדיין ניתן לכתוב 
\begin_inset Formula $xp\left(x\right)=\left(x-\lambda^{r}\right)xq\left(x\right)$
\end_inset

 כאשר 
\begin_inset Formula $xq\left(x\right)$
\end_inset

 הוא הרכיב שאינו מתאפס על ידי 
\begin_inset Formula $\lambda$
\end_inset

(.
\end_layout

\begin_layout Proof
נעבור כעת להוכחת הטענה.
 ראשית נסמן את הפולינום שמתאים למשוואה האופיינית ב-
\begin_inset Formula $p\left(x\right)$
\end_inset

:
\end_layout

\begin_layout Proof
\begin_inset Formula 
\begin{align*}
p\left(x\right) & =x^{k}-c_{1}x^{k-1}-\ldots-c_{k}
\end{align*}

\end_inset


\end_layout

\begin_layout Proof
מהנתון שלנו, 
\begin_inset Formula $\lambda$
\end_inset

 הוא שורש מריבוי 
\begin_inset Formula $r$
\end_inset

 של 
\begin_inset Formula $p\left(x\right)$
\end_inset

.
\end_layout

\begin_layout Proof
יהא 
\begin_inset Formula $n$
\end_inset

 טבעי כלשהו.
 אנו רוצים להראות שלכל 
\begin_inset Formula $0\le i<r$
\end_inset

 מתקיים
\end_layout

\begin_layout Proof
\begin_inset Formula 
\begin{align*}
n^{i}\lambda^{n} & =c_{1}\left(n-1\right)^{i}\lambda^{n-1}+c_{2}\left(n-2\right)^{i}\lambda^{n-2}+\ldots+c_{k}\left(n-k\right)^{i}\lambda^{n-k}
\end{align*}

\end_inset


\end_layout

\begin_layout Proof
או במילים אחרות, אנו רוצים להראות ש-
\begin_inset Formula $\lambda$
\end_inset

 הוא שורש של הפולינום 
\begin_inset Formula $q_{i}\left(x\right)$
\end_inset

 המוגדר על ידי
\end_layout

\begin_layout Proof
\begin_inset Formula 
\begin{align*}
q_{i}\left(x\right) & =n^{i}x^{n}-c_{1}\left(n-1\right)^{i}x^{n-1}+c_{2}\left(n-2\right)x^{n-2}+\ldots+c_{k}\left(n-k\right)^{i}x^{n-k}
\end{align*}

\end_inset


\end_layout

\begin_layout Proof
נראה טענה חזקה יותר: ש-
\begin_inset Formula $\lambda$
\end_inset

 הוא שורש מריבוי 
\begin_inset Formula $r-i$
\end_inset

 של 
\begin_inset Formula $q_{i}\left(x\right)$
\end_inset

, ונעשה זאת באינדוקציה על 
\begin_inset Formula $i=0,1,\ldots,r-1$
\end_inset

.
\end_layout

\begin_layout Proof
ראשית, בדיקה מיידית מראה כי 
\begin_inset Formula $q_{0}\left(x\right)=x^{n-k}p\left(x\right)$
\end_inset

 ומכיוון ש-
\begin_inset Formula $\lambda$
\end_inset

 מריבוי 
\begin_inset Formula $r$
\end_inset

 ב-
\begin_inset Formula $p\left(x\right)$
\end_inset

, כך גם ב-
\begin_inset Formula $q_{0}\left(x\right)$
\end_inset

.
\end_layout

\begin_layout Proof
כעת, כל 
\begin_inset Formula $q_{i+1}$
\end_inset

 עבור 
\begin_inset Formula $i\ge0$
\end_inset

 מתקבל מקודמו באופן הבא:
\end_layout

\begin_layout Proof
\begin_inset Formula 
\begin{align*}
x\cdot q_{i}^{\prime}\left(x\right) & =x\left[n^{i}\cdot nx^{n-1}-c_{1}\left(n-1\right)^{i}\left(n-1\right)x^{n-2}+\ldots+c_{k}\left(n-k\right)^{i}\left(n-k\right)x^{n-k-1}\right]\\
 & =n^{i+1}x^{n}-c_{1}\left(n-1\right)^{i+1}x^{n-1}+\ldots+c_{k}\left(n-k\right)^{i+1}x^{n-k}\\
 & =q_{i+1}\left(x\right)
\end{align*}

\end_inset


\end_layout

\begin_layout Proof
כפי שראינו, אם 
\begin_inset Formula $\lambda$
\end_inset

 הוא שורש מריבוי 
\begin_inset Formula $r-i$
\end_inset

 של 
\begin_inset Formula $q_{i}$
\end_inset

, אז 
\begin_inset Formula $\lambda$
\end_inset

 הוא שורש מריבוי 
\begin_inset Formula $r-i-1$
\end_inset

 של 
\begin_inset Formula $q_{i}^{\prime}$
\end_inset

, ולכן שורש מריבוי 
\begin_inset Formula $r-i-1$
\end_inset

 של 
\begin_inset Formula $x\cdot q_{i}^{\prime}$
\end_inset

.
 קיבלנו ש-
\begin_inset Formula $\lambda$
\end_inset

 הוא שורש מריבוי 
\begin_inset Formula $r-\left(i+1\right)$
\end_inset

 של 
\begin_inset Formula $q_{i+1}$
\end_inset

, כמבוקש.
\end_layout

\begin_layout Subsection
נוסחאות נסיגה ופונקציות יוצרות רציונליות
\end_layout

\begin_layout Standard
פונקציה נקראת 
\series bold
רציונלית
\series default
 אם היא מהצורה 
\begin_inset Formula $f\left(x\right)=\frac{p\left(x\right)}{q\left(x\right)}$
\end_inset

 כאשר 
\begin_inset Formula $p\left(x\right),q\left(x\right)$
\end_inset

 הם פולינומים.
 למשל, 
\begin_inset Formula $f\left(x\right)=\frac{x^{2}+3x}{1-x}$
\end_inset

 כאשר הפולינומים הם 
\begin_inset Formula $p\left(x\right)=x^{2}+3x$
\end_inset

 ו-
\begin_inset Formula $q\left(x\right)=1-x$
\end_inset

.
\end_layout

\begin_layout Standard
קיים קשר הדוק בין בעיות ספירה שקיימת עבורן נוסחת נסיגה לינארית ובין פונקציות
 יוצרות:
\end_layout

\begin_layout Theorem
הסדרה 
\begin_inset Formula $\left\{ a_{n}\right\} _{n\ge0}$
\end_inset

 מקיימת את נוסחת הנסיגה הלינארית 
\begin_inset Formula $a_{n}=c_{1}a_{n-1}+\ldots+c_{k}a_{n-k}$
\end_inset

 אם ורק אם הפונקציה היוצרת שלה 
\begin_inset Formula $f\left(x\right)=\sum_{n=0}^{\infty}a_{n}x^{n}$
\end_inset

 היא מהצורה 
\begin_inset Formula $f\left(x\right)=\frac{p\left(x\right)}{1-c_{1}x-c_{2}x^{2}-\ldots-c_{k}x^{k}}$
\end_inset

 כאשר 
\begin_inset Formula $p\left(x\right)$
\end_inset

 הוא פולינום ממעלה קטנה מ-
\begin_inset Formula $k$
\end_inset

.
\end_layout

\begin_layout Standard
במילים אחרות, נוסחת הנסיגה 
\begin_inset Quotes eld
\end_inset

מקודדת
\begin_inset Quotes erd
\end_inset

 בתוך המכנה של הפונקציה היוצרת.
\end_layout

\begin_layout Proof
נניח ש-
\begin_inset Formula $a_{n}$
\end_inset

 מקיימת את נוסחת הנסיגה.
 כזכור, לכפל של פונקציה יוצרת ב-
\begin_inset Formula $x^{i}$
\end_inset

 יש אפקט של 
\begin_inset Quotes eld
\end_inset

הזזת
\begin_inset Quotes erd
\end_inset

 הסדרה שהפונקציה היוצרת מייצגת 
\begin_inset Formula $i$
\end_inset

 מקומות קדימה והכנסת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בהתחלה.
 כלומר
\end_layout

\begin_layout Proof
\begin_inset Formula 
\begin{align*}
x^{i}f\left(x\right) & =x^{i}\sum_{n=0}^{\infty}a_{n}x^{n}=\sum_{n=0}^{\infty}a_{n}x^{n+i}=\sum_{n=i}^{\infty}a_{n-i}x^{n}
\end{align*}

\end_inset


\end_layout

\begin_layout Proof
ומכאן
\end_layout

\begin_layout Proof
\begin_inset Formula 
\begin{align*}
c_{1}x^{1}f\left(x\right)+\ldots+c_{k}x^{k}f\left(x\right) & =\sum_{n=1}^{\infty}c_{1}a_{n-1}x^{n}+\ldots+\sum_{n=k}^{\infty}c_{k}a_{n-k}x^{n}\\
 & =t\left(x\right)+\sum_{n=k}^{\infty}c_{1}a_{n-1}x^{n}+\ldots+\sum_{n=k}^{\infty}c_{k}a_{n-k}x^{n}\\
 & =t\left(x\right)+\sum_{n=k}^{\infty}\left(c_{1}a_{n-1}+\ldots+c_{k}a_{n-k}\right)x^{n}\\
 & =t\left(x\right)+\sum_{n=k}^{\infty}a_{n}x^{n}\\
 & =\sum_{n=0}^{\infty}a_{n}x^{n}-p\left(x\right)\\
 & =f\left(x\right)-p\left(x\right)
\end{align*}

\end_inset


\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Proof
כאשר 
\begin_inset Formula $t\left(x\right),p\left(x\right)$
\end_inset

 הם פולינומים ממעלה לכל היותר 
\begin_inset Formula $k-1$
\end_inset

: 
\begin_inset Formula $t\left(x\right)$
\end_inset

 מתקבל מהאיברים של הטורים 
\begin_inset Formula $\sum_{n=i}^{\infty}c_{1}a_{n-i}x^{n}$
\end_inset

 עבורם 
\begin_inset Formula $x<k$
\end_inset

; ואילו 
\begin_inset Formula $p\left(x\right)=\sum_{n=0}^{k-1}a_{n}x^{n}-t\left(x\right)$
\end_inset

.
\end_layout

\begin_layout Proof
קיבלנו את השוויון
\end_layout

\begin_layout Proof
\begin_inset Formula 
\begin{align*}
c_{1}x^{1}f\left(x\right)+\ldots+c_{k}x^{k}f\left(x\right) & =f\left(x\right)-p\left(x\right)
\end{align*}

\end_inset


\end_layout

\begin_layout Proof
נעביר אגפים, נוציא גורם משותף ונקבל
\end_layout

\begin_layout Proof
\begin_inset Formula 
\begin{align*}
f\left(x\right)\left(1-c_{1}x-\ldots-c_{k}x^{k}\right) & =p\left(x\right)
\end{align*}

\end_inset


\end_layout

\begin_layout Proof
נחלק ונקבל
\end_layout

\begin_layout Proof
\begin_inset Formula 
\begin{align*}
f\left(x\right) & =\frac{p\left(x\right)}{1-c_{1}x-\ldots-c_{k}x^{k}}
\end{align*}

\end_inset


\end_layout

\begin_layout Proof
כמבוקש.
\end_layout

\begin_layout Proof
בכיוון השני, אם ל-
\begin_inset Formula $f\left(x\right)$
\end_inset

 יש את הצורה הנ
\begin_inset Quotes erd
\end_inset

ל, על ידי היפוך הפעולות החשבוניות שביצענו ניתן לשחזר את נוסחת הנסיגה 
\begin_inset Formula $a_{n}=c_{1}a_{n-1}+\ldots+c_{k}a_{n-k}$
\end_inset

 עבור 
\begin_inset Formula $n\ge k$
\end_inset

.
\end_layout

\begin_layout Standard
ההוכחה לא סיפקה לנו נוסחה מפורשת עבור 
\begin_inset Formula $p\left(x\right)$
\end_inset

, שהוא החלק של הפונקציה היוצרת שתלוי בתנאי ההתחלה של הסדרה, 
\begin_inset Formula $a_{0},a_{1},\ldots,a_{k-1}$
\end_inset

, אולם קל יחסית לשחזר את 
\begin_inset Formula $p\left(x\right)=b_{0}+b_{1}x+\ldots+b_{k-}x^{k-1}$
\end_inset

 מתוך הנוסחה 
\begin_inset Formula $f\left(x\right)\left(1-c_{1}x-\ldots-c_{k}x^{k}\right)=p\left(x\right)$
\end_inset

.
 אם נכתוב את במפורש את 
\begin_inset Formula $f\left(x\right)=a_{0}+a_{1}x+a_{2}x^{2}+\ldots$
\end_inset

, נפתח את הסוגריים ונשווה מקדם מקדם עבור החזקות של 
\begin_inset Formula $x$
\end_inset

 שהן לכל היותר 
\begin_inset Formula $k$
\end_inset

:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
b_{0} & =a_{0}\\
b_{1} & =a_{1}-c_{1}a_{0}\\
b_{2} & =a_{2}-c_{1}a_{1}-c_{2}a_{0}\\
 & \vdots\\
b_{k-1} & =a_{k-1}-c_{1}a_{k-2}-\ldots-c_{k-1}a_{0}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
הנוסחאות שלעיל מאפשרות לנו לעשות גם את ההפך: לחשב רקורסיבית את האיברים הראשונים
 בסדרה מתוך המקדמים של נוסחת הנסיגה, והמקדמים של 
\begin_inset Formula $p\left(x\right)$
\end_inset

:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
a_{0} & =b_{0}\\
a_{1} & =b_{1}+c_{1}a_{0}\\
a_{2} & =b_{2}+c_{1}a_{1}+c_{2}a_{2}\\
 & \vdots\\
a_{k-1} & =b_{k-1}+c_{1}a_{k-2}+\ldots+c_{k-1}a_{0}
\end{align*}

\end_inset


\end_layout

\begin_layout Paragraph*
דוגמא
\end_layout

\begin_layout Standard
עבור נוסחת פיבונאצ'י, 
\begin_inset Formula $a_{n}=a_{n-1}+a_{n-2}$
\end_inset

, בלי תלות בתנאי ההתחלה הפונקציה היוצרת היא מהצורה 
\begin_inset Formula $\frac{p\left(x\right)}{1-x-x^{2}}$
\end_inset

 כאשר 
\begin_inset Formula $p\left(x\right)$
\end_inset

.
\end_layout

\begin_layout Standard
אם נבחר את תנאי ההתחלה 
\begin_inset Formula $a_{0}=0$
\end_inset

 ו-
\begin_inset Formula $a_{1}=1$
\end_inset

 נקבל 
\begin_inset Formula $p\left(x\right)=x$
\end_inset

 ולכן את הפונקציה היוצרת 
\begin_inset Formula $\frac{x}{1-x-x^{2}}$
\end_inset

.
 אם לעומת זאת נבחר את תנאי ההתחלה 
\begin_inset Formula $a_{0}=a_{1}=1$
\end_inset

 כפי שמקובל לעתים לעשות, נקבל 
\begin_inset Formula $b_{0}=1$
\end_inset

 ו-
\begin_inset Formula $b_{1}=1-1=0$
\end_inset

 ולכן את הפונקציה היוצרת 
\begin_inset Formula $\frac{1}{1-x-x^{2}}$
\end_inset

.
\end_layout

\begin_layout Part
מבוא לתורת הגרפים
\end_layout

\begin_layout Section
גרפים - הגדרה ודוגמאות
\end_layout

\begin_layout Standard
נפתח במספר בעיות ידועות במתמטיקה.
\end_layout

\begin_layout Paragraph*
דוגמא
\end_layout

\begin_layout Standard
נתונה צורה המורכבת מקודקודים וקווים המחברים אותם.
 האם ניתן לצייר אותה מבלי להרים את העט מהדף?
\end_layout

\begin_layout Standard
זוהי 
\series bold
בעיית הכרעה
\series default
 אלגוריתמית; מסתבר שקיים אלגוריתם יעיל ופשוט ביותר אשר מכריע אותה, ונראה
 אותו בהמשך הקורס.
 הפתרון נעוץ בחשיבה על הצורה כעל
\emph on
 
\series bold
\emph default
גרף
\series default
 ותרגום השאלה האם ניתן לצייר אותה מבלי להרים את העט מהדף לשאלה האם קיים
 בגרף המתאים 
\series bold
מסלול אוילרי
\series default
.
\end_layout

\begin_layout Paragraph
דוגמא
\end_layout

\begin_layout Standard
נתונה מפה כלשהי.
 האם ניתן לצבוע אותה עם ארבעה צבעים בלבד, כך ששתי מדינות סמוכות אינן צבועות
 באותו הבא?
\end_layout

\begin_layout Standard
זוהי 
\series bold
בעיית ארבעת הצבעים
\series default
 המפורסמת מאוד, שהייתה פתוחה למעלה ממאה שנים עד שנפתרה )עם תשובה חיובית;
 די בארבעה צבעים( בשנות ה-
\numeric on
70
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
של המאה ה-
\numeric on
20
\numeric off
, בסיוע מחשב )שבדק אלפי טענות פרטניות שנדרשו להוכחה הכללית(.
 בניסוחה המתמטי בעיית ארבעת הצבעים היא השאלה 
\series bold
האם כל גרף מישורי הוא 
\numeric on
4
\numeric off
-צביע
\series default
?
\end_layout

\begin_layout Paragraph
דוגמא
\end_layout

\begin_layout Standard
נתונים שלושה בתים ושלושה מקורות של מים, חשמל וגז.
 האם ניתן לחבר כל בית לכל שלושת המקורות מבלי ששני חיבורים ייחתכו? )הכל מצוייר
 על דף נייר והבתים המקורות הם נקודות(.
\end_layout

\begin_layout Standard
התשובה לבעיה זו היא 
\emph on
לא
\emph default
.
 בניסוחה המתמטי זוהי הטענה ש
\series bold
הגרף הדו צדדי המלא
\series default
\emph on
 
\emph default

\begin_inset Formula $K_{3,3}$
\end_inset

 
\series bold
איננו מישורי
\series default
.
\end_layout

\begin_layout Paragraph
דוגמא
\end_layout

\begin_layout Standard
יש לבנות באופן אקראי ובזמן יעיל מבוך שבו בין כל שני תאים קיים מסלול אחד
 ויחיד.
\end_layout

\begin_layout Standard
בניסוח מתמטי מבקשים כאן לבנות 
\series bold
עץ פורש של גרף מלא
\series default
; קיימים אלגוריתמים יעילים לפתרון בעיה זו )ולפתרון בעיה כללית מעט יותר שבה
 יש "מחיר" לחיבור בין כל שני תאים ורוצים מבוך בעל מחיר מינימלי(.
\end_layout

\begin_layout Paragraph
דוגמא
\end_layout

\begin_layout Standard
נתונים 
\begin_inset Formula $n$
\end_inset

 גברים ו-
\begin_inset Formula $n$
\end_inset

 נשים כך שכל אישה מעוניינת בחלק מהגברים וכל גבר מעוניין בחלק מהנשים.
 האם ניתן לחלק את את הגברים והנשים לזוגות באופן מונוגמי כך שיווצרו 
\begin_inset Formula $n$
\end_inset

 זוגות שבהם בני הזוג מעוניינים אלו באלו?
\end_layout

\begin_layout Standard

\series bold
משפט החתונה של הול
\series default
 נותן תיאור מדויק וקל לבדיקה של תנאי שבו הדבר מתאפשר.
 בניסוח מתמטי זוהי השאלה באילו תנאים יש 
\series bold
שידוך מושלם בגרף דו צדדי
\series default
\emph on
.
\end_layout

\begin_layout Standard
נעבור כעת לתיאור פורמלי ואבחנות בסיסיות.
\end_layout

\begin_layout Definition
)גרפים(
\end_layout

\begin_layout Itemize

\emph on
גרף
\emph default
 הוא זוג 
\begin_inset Formula $G=\left(V,E\right)$
\end_inset

 כאשר 
\begin_inset Formula $V$
\end_inset

 היא קבוצה כלשהי )"קודקודים"( ו-
\begin_inset Formula $E$
\end_inset

 היא אוסף זוגות של קודקודים )"קשתות"(.
\end_layout

\begin_layout Itemize
אם יש שתיים או יותר קשתות מצומת 
\begin_inset Formula $v$
\end_inset

 אל צומת 
\begin_inset Formula $u$
\end_inset

 הן נקראות 
\series bold
קשתות מקבילות
\series default
.
\end_layout

\begin_layout Itemize
אם יש קשת מ-
\begin_inset Formula $v$
\end_inset

 אל 
\begin_inset Formula $v$
\end_inset

 היא נקראת 
\series bold
חוג עצמי
\series default
.
\end_layout

\begin_layout Itemize

\series bold
גרף פשוט
\series default
 הוא גרף ללא קשתות מקבילות וחוגים עצמיים.
\end_layout

\begin_layout Itemize

\series bold
גרף מכוון
\series default
 הוא גרף שבו קשת מ-
\begin_inset Formula $v$
\end_inset

 אל 
\begin_inset Formula $u$
\end_inset

 נחשבת שונה מקשת מ-
\begin_inset Formula $u$
\end_inset

 אל 
\begin_inset Formula $v$
\end_inset

 )במקרה זה יכולה להיות קשת בכל כיוון והן לא ייקראו קשתות מקבילות(.
 כל עוד אנחנו לא אומרים זאת במפורש, כל הגרפים שנעסוק בהם אינם מכוונים.
\end_layout

\begin_layout Itemize
בהינתן גרף מכוון 
\begin_inset Formula $G$
\end_inset

, 
\series bold
גרף התשתית
\series default
 שלו הוא הגרף המתקבל מ-
\begin_inset Formula $G$
\end_inset

 על ידי מחיקת כיווני הקשתות )כלומר, על ידי הפיכת 
\begin_inset Formula $G$
\end_inset

 לגרף לא מכוון(.
\end_layout

\begin_layout Itemize

\series bold
דרגה
\series default
 של צומת 
\begin_inset Formula $v\in V$
\end_inset

, המסומנת 
\begin_inset Formula $d\left(v\right)$
\end_inset

, היא מספר הקשתות בגרף שמחוברות אל 
\begin_inset Formula $v$
\end_inset

.
\end_layout

\begin_layout Itemize
בגרף מכוון, 
\series bold
דרגת הכניסה
\series default
 של צומת 
\begin_inset Formula $v$
\end_inset

, המסומנת 
\begin_inset Formula $d_{in}\left(v\right)$
\end_inset

, היא מספר הקשתות שנכנסות אל 
\begin_inset Formula $v$
\end_inset

; 
\series bold
דרגת היציאה
\series default
 
\begin_inset Formula $d_{out}\left(v\right)$
\end_inset

 היא מספר הקשתות שיוצאות מ-
\begin_inset Formula $v$
\end_inset

.
\end_layout

\begin_layout Itemize

\emph on
צומת 
\series bold
\emph default
מבודדת
\series default
 היא צומת מדרגה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
.
\end_layout

\begin_layout Itemize
גרף 
\begin_inset Formula $G=\left(V,E\right)$
\end_inset

 הוא 
\series bold
סופי
\series default
 אם הקבוצות 
\begin_inset Formula $V,E$
\end_inset

 סופיות.
\end_layout

\begin_layout Standard
כבר כעת ניתן להוכיח משפט פשוט:
\end_layout

\begin_layout Claim
בגרף סופי 
\begin_inset Formula $G=\left(V,E\right)$
\end_inset

 מתקיים 
\begin_inset Formula $\sum_{v\in V}d\left(v\right)=2\left|E\right|$
\end_inset

 - סכום דרגות הקודקודים הוא פעמיים מספר הקשתות.
\end_layout

\begin_layout Proof
נספור נקודות חיבור של קודקוד וקשת בשתי דרכים שונות.
 בדרך הראשונה, נעבור קשת קשת ולכל קשת נוסיף
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
לספירה כי היא מחוברת בדיוק לשני קודקודים - קיבלנו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit

\begin_inset Formula $2\left|E\right|$
\end_inset

.
 בדרך השניה נעבור קודקוד קודקוד ולכל קודקוד נוסיף לספירה את כל הקשתות שנוגעות
 בו - קיבלנו 
\begin_inset Formula $\sum_{v\in V}d\left(v\right)$
\end_inset

.
\end_layout

\begin_layout Standard
נחזור להגדרות:
\end_layout

\begin_layout Definition
)מסלולים, גרפים קשירים(
\end_layout

\begin_layout Itemize

\series bold
מסלול
\series default
 בגרף הוא סדרה של צמתים 
\begin_inset Formula $v_{1},v_{2},\dots,v_{n}$
\end_inset

 כך שבין כל שני צמתים סמוכים בסדרה יש קשת )ואם הגרף מכוון, הקשת היא מ-
\begin_inset Formula $v_{i}$
\end_inset

 אל 
\begin_inset Formula $v_{i+1}$
\end_inset

(.
 מסלול יכול להיות גם אינסופי )ואז פשוט אין איבר אחרון לסדרה(.
 מסלול מסומן לרוב בתור 
\begin_inset Formula $v_{1}\to v_{2}\to\dots\to v_{n}$
\end_inset

.
\end_layout

\begin_layout Itemize

\series bold
אורך
\series default
 של מסלול סופי הוא כמספר הקשתות שבהן עוברים במסלול )כל קשת נספרת כמספר הפעמים
 שעוברים בה(, כלומר אורך המסלול 
\begin_inset Formula $v_{1}\to\dots\to v_{n}$
\end_inset

 הוא 
\begin_inset Formula $n-1$
\end_inset

.
\end_layout

\begin_layout Itemize

\series bold
מעגל
\series default
 בגרף הוא מסלול שבו צומת ההתחלה זהה לצומת הסיום: 
\begin_inset Formula $v_{1}=v_{n}$
\end_inset

 )כל צומת על המעגל יכול לשמש כצומת התחלה וסיום(.
\end_layout

\begin_layout Itemize
מסלול או מעגל הם 
\series bold
פשוטים
\series default
 אם הם אינם עוברים באותה צומת יותר מפעם אחת, למעט נקודות ההתחלה והסיום במקרה
 של מעגל.
 כמו כן מעגל פשוט נדרש להיות מאורך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
3
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
לפחות.
\end_layout

\begin_layout Itemize
גרף הוא 
\series bold
קשיר
\series default
 אם בין כל שני צמתים בגרף קיים מסלול.
\end_layout

\begin_layout Itemize
גרף מכוון הוא 
\series bold
קשיר 
\series default
אם גרף התשתית שלו קשיר.
 הוא 
\series bold
קשיר היטב
\series default
 אם קיים מסלול בגרף מכל צומת אל כל צומת אחר.
\end_layout

\begin_layout Theorem
)אפיון אלטרנטיבי לקשירות של גרף( גרף לא מכוון 
\begin_inset Formula $G=\left(V,E\right)$
\end_inset

 הוא קשיר אם ורק אם בכל חתך שלו )חלוקה של 
\begin_inset Formula $V$
\end_inset

 לאיחוד זר של שתי קבוצות לא ריקות 
\begin_inset Formula $V=X\cup Y$
\end_inset

( קיימת קשת מצומת כלשהי ב-
\begin_inset Formula $X$
\end_inset

 לצומת כלשהי ב-
\begin_inset Formula $Y$
\end_inset

 )עבור גרף מכוון, הגרף קשיר היטב אם ורק אם בכל חתך יש קשת מ-
\begin_inset Formula $X$
\end_inset

 אל 
\begin_inset Formula $Y$
\end_inset

 ומ-
\begin_inset Formula $Y$
\end_inset

 אל 
\begin_inset Formula $X$
\end_inset

(.
\end_layout

\begin_layout Proof
כיוון אחד: נניח כי 
\begin_inset Formula $G$
\end_inset

 קשיר ויהא 
\begin_inset Formula $V=X\cup Y$
\end_inset

 חתך.
 
\begin_inset Formula $X,Y$
\end_inset

 לא ריקות אז יש 
\begin_inset Formula $x\in X,y\in Y$
\end_inset

.
 מכיוון שהגרף קשיר קיים מסלול 
\begin_inset Formula $v_{1}\to v_{2}\to\dots\to v_{n}$
\end_inset

 כך ש-
\begin_inset Formula $v_{1}=x,v_{n}=y$
\end_inset

.
\end_layout

\begin_layout Proof
יהא 
\begin_inset Formula $i$
\end_inset

 האינדקס המינימלי של צומת במסלול 
\begin_inset Formula $v_{i}$
\end_inset

 כך ש-
\begin_inset Formula $v_{i}\in Y$
\end_inset

.
 מכיוון ש-
\begin_inset Formula $v_{n}=y\in Y$
\end_inset

 ו-
\begin_inset Formula $v_{1}=x\notin Y$
\end_inset

, הרי ש-
\begin_inset Formula $2\le i\le n$
\end_inset

.
 מהמינימליות של 
\begin_inset Formula $i$
\end_inset

 עולה ש-
\begin_inset Formula $v_{i-1}\in X$
\end_inset

 ולכן 
\begin_inset Formula $\left(v_{i-1},v_{i}\right)$
\end_inset

 היא קשת מ-
\begin_inset Formula $X$
\end_inset

 אל 
\begin_inset Formula $Y$
\end_inset

, כנדרש.
\end_layout

\begin_layout Proof
כיוון שני: נניח שהקריטריון מתקיים ונוכיח שהגרף קשיר.
 יהיו 
\begin_inset Formula $x,y\in V$
\end_inset

 כלשהם, ונגדיר קבוצה 
\begin_inset Formula $U\subseteq V$
\end_inset

 בתור קבוצת הצמתים שיש מסלול מ-
\begin_inset Formula $x$
\end_inset

 אליהם ב-
\begin_inset Formula $G$
\end_inset

.
 בהכרח 
\begin_inset Formula $x\in U$
\end_inset

 כי קיים מסלול מ-
\begin_inset Formula $x$
\end_inset

 לעצמו באורך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
, ומכאן ש-
\begin_inset Formula $U$
\end_inset

 לא ריקה.
 אם 
\begin_inset Formula $U=V$
\end_inset

 אז סיימנו כי 
\begin_inset Formula $y\in U$
\end_inset

; אחרת 
\begin_inset Formula $V=U\cup\left(V-U\right)$
\end_inset

 הוא חתך של 
\begin_inset Formula $V$
\end_inset

 ולכן קיימת קשת מ-
\begin_inset Formula $u\in U$
\end_inset

 אל 
\begin_inset Formula $v\in V-U$
\end_inset

.
 אבל יש מסלול מ-
\begin_inset Formula $x$
\end_inset

 אל 
\begin_inset Formula $u$
\end_inset

 ולכן יש מסלול מ-
\begin_inset Formula $x$
\end_inset

 אל 
\begin_inset Formula $v$
\end_inset

 )
\begin_inset Formula $x\to\dots\to u\to v$
\end_inset

(, אבל אז 
\begin_inset Formula $v\in U$
\end_inset

 בסתירה לכך ש-
\begin_inset Formula $v\in V-U$
\end_inset

.
 מכאן ש-
\begin_inset Formula $U=V$
\end_inset

, כנדרש.
\end_layout

\begin_layout Section
מסלולים אוילריים
\end_layout

\begin_layout Standard
נתונה מפת העיר קניגסברג של ימיו של אוילר.
\end_layout

\begin_layout Paragraph
\begin_inset Graphics
	filename images/Konigsberg_bridges.png
	scale 50

\end_inset


\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Standard
את העיר חוצה נהר במספר מקומות ועל הנהר יש גשרים.
 האתגר: למצוא טיול בעיר שעובר בכל גשר בדיוק פעם אחת.
\end_layout

\begin_layout Standard
אפשר למדל את הבעיה באמצעות גרפים - קודקוד לכל איזור של העיר וקשת לכל גשר.
 מתקבל גרף לא מכוון עם קשתות מקבילות.
\end_layout

\begin_layout Paragraph
\begin_inset Graphics
	filename images/Königsberg_graph.svg.png
	lyxscale 25
	scale 10

\end_inset


\begin_inset Graphics
	filename images/1280px-7_bridges.svg.png
	lyxscale 25
	scale 10

\end_inset


\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Standard
השאלה: האם קיים בגרף מסלול שעובר בכל קשת בדיוק פעם אחת?
\end_layout

\begin_layout Definition
מסלול בגרף שעובר בכל קשת בדיוק פעם אחת נקרא 
\series bold
מסלול
\series default
\emph on
 
\series bold
\emph default
אוילרי
\series default
.
\end_layout

\begin_layout Definition
מסלול בגרף שעובר בכל צומת בדיוק פעם אחת נקרא 
\series bold
מסלול המילטוני
\series default
.
\end_layout

\begin_layout Definition
בדומה, מעגל בגרף שעובר בכל קשת בדיוק פעם אחת נקרא 
\series bold
מעגל אוילרי
\series default
 ומעגל בגרף שעובר בכל צומת )פרט לצומת ההתחלה והסיום( בדיוק פעם אחת נקרא
 
\series bold
מעגל המילטוני
\series default
.
\end_layout

\begin_layout Standard
הבעיה של בדיקה האם קיים מסלול אוילרי בגרף היא פשוטה ונפתרה על ידי אוילר,
 כפתרון כללי לבעיית הגשרים של קניגסברג )על פתרון זה אומרים שהוא מציין את
 הולדת תורת הגרפים(.
 לעומת זאת, הבעיה של בדיקה האם קיים מסלול המילטוני בגרף היא קשה ולא נעסוק
 בה בקורס זה; הזכרנו מסלולים המילטוניים לצרכי שלמות בלבד.
\end_layout

\begin_layout Definition
גרף 
\begin_inset Formula $G$
\end_inset

 נקרא 
\series bold
אוילרי
\series default
 אם קיים בו מסלול אוילרי, ונקרא 
\series bold
אוילרי מעגלי
\series default
 אם קיים בו מעגל אוילרי.
\end_layout

\begin_layout Theorem
)אוילר( יהא 
\begin_inset Formula $G$
\end_inset

 גרף סופי וקשיר, אז:
\begin_inset Separator latexpar
\end_inset


\end_layout

\begin_deeper
\begin_layout Enumerate
\begin_inset Formula $G$
\end_inset

 הוא אוילרי מעגלי אם ורק אם 
\begin_inset Formula $d\left(v\right)$
\end_inset

 זוגית לכל 
\begin_inset Formula $v\in V$
\end_inset

.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $G$
\end_inset

 הוא אוילרי אם ורק אם 
\begin_inset Formula $d\left(v\right)$
\end_inset

 אי זוגי בדיוק עבור שני צמתים 
\begin_inset Formula $v_{1},v_{2}\in V$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Proof
ראשית נוכיח את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
בהינתן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
ש-
\numeric on
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
כבר הוכח.
 אם ב-
\begin_inset Formula $G$
\end_inset

 בדיוק שני צמתים מדרגה אי זוגית נוסיף קשת שמחברת אותם )ייתכן שהיא תהיה מקבילה
 לקשתות שכבר מחברות אותם( וכעת דרגת כל הצמתים בגרף זוגית וקיים בו מעגל אוילרי.
 ניקח את המעגל ונסיר ממנו את המעבר על פני הקשת שהוספנו )ובכך נכריח את הצמתים
 האי זוגיים להיות הראשון והאחרון במסלול המתקבל( וקיבלנו מסלול אוילרי ל-
\begin_inset Formula $G$
\end_inset

.
\end_layout

\begin_layout Proof
בכיוון השני, אם 
\begin_inset Formula $G$
\end_inset

 הוא אוילרי אז ניקח מסלול אוילרי בו, נחבר את צומת ההתחלה והסיום בקשת ונקבל
 גרף עם מעגל אוילרי, ולכן דרגת כל הצמתים בו זוגית, ולכן לאחר הסרת הקשת שהוספנו
 נקבל שדרגת בדיוק שני צמתים היא אי זוגית - הצמתים שלהם הוספנו קשת.
\end_layout

\begin_layout Proof
נעבור כעת להוכחת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
.
 נניח ש-
\begin_inset Formula $G$
\end_inset

 הוא אוילרי מעגלי ויהא 
\begin_inset Formula $v_{1}\to v_{2}\to\dots\to v_{1}$
\end_inset

 מעגל אוילרי בו.
 נטייל על המעגל ובכל פעם שבה ניכנס לצומת או נצא ממנו נגדיל מונה עבור אותו
 צומת ב-
\numeric on
1
\numeric off
.
 נשים לב שבסיום הטיול על המעגל המונה של של צומת יהיה שווה בדיוק ל-
\begin_inset Formula $d\left(v\right)$
\end_inset

 שכן אנחנו עוברים על כל הקשתות בגרף, ולכל קשת המחוברת ל-
\begin_inset Formula $v$
\end_inset

 אנו מגדילים את המונה שלו )אם כאשר אנחנו נכנסים אליו ואם כאשר אנחנו יוצאים(.
\end_layout

\begin_layout Proof
כעת נשים לב שלכל צומת, מספר הפעמים שאנו נכנסים אליו שווה למספר הפעמים שאנו
 יוצאים ממנו )כי אחרי כל כניסה לצומת אנחנו גם יוצאים אליו למעט עבור 
\begin_inset Formula $v_{1}$
\end_inset

 שפעם אחת )בהתחלה( אנו יוצאים ממנו מבלי להיכנס, ובפעם השניה אנו נכנסים אליו
 מבלי לצאת, כך ששוב אנו מתאזנים.
 מכאן ש-
\begin_inset Formula $d\left(v\right)$
\end_inset

 זוגי תמיד.
\end_layout

\begin_layout Proof
הכיוון השני הוא עיקר ההוכחה.
 נניח ש-
\begin_inset Formula $d\left(v\right)$
\end_inset

 זוגי לכל הצמתים בגרף הקשיר 
\begin_inset Formula $G$
\end_inset

 ונוכיח כי קיים בו מעגל אוילרי.
\end_layout

\begin_layout Proof
נבחר צומת שרירותי 
\begin_inset Formula $v\in V$
\end_inset

 ונטייל בגרף החל ממנו באופן אקראי לחלוטין, כאשר אנו מוחקים כל קשת שאנו עוברים
 בה.
 מכיוון שדרגת כל צומת זוגית, מובטח לנו שבכל פעם שבה אנו נכנסים לצומת שאינה
 
\begin_inset Formula $v$
\end_inset

 אנו גם יכולים לצאת ממנה לאחר מכן ולכן איננו יכולים "להיתקע" אלא רק על ידי
 חזרה אל 
\begin_inset Formula $v$
\end_inset

.
 מכאן שהטיול שלנו בגרף ייצור בהכרח מעגל.
\end_layout

\begin_layout Proof
לאחר מחיקת כל קשתות המעגל מהגרף עדיין נשמר התנאי שכל הדרגות זוגיות.
 לכן ניתן לחזור שוב על התהליך )החל מצומת שדרגתה גדולה מ-
\begin_inset Formula $0$
\end_inset

( ולקבל מעגל נוסף, וכן הלאה.
 בכל פעם מספר הקשתות שנותרו בגרף הופך לקטן יותר, ולכן התהליך יסתיים כעבור
 מספר סופי של צעדים ותתקבל סדרה 
\begin_inset Formula $C_{1},C_{2},\dots,C_{k}$
\end_inset

 של מעגלים בגרף שכוללים את כל קשתות הגרף.
\end_layout

\begin_layout Proof
נשים לב שכל זוג מעגלים בעלי צומת משותף ניתן לאחד באופן הבא: אם 
\begin_inset Formula $u$
\end_inset

 הוא הצומת המשותף, אז נבנה משני המעגלים מעגל שצומת ההתחלה שלו הוא 
\begin_inset Formula $u$
\end_inset

, לאחריה הולכים כמו על המעגל הראשון ומסיימים ב-
\begin_inset Formula $u$
\end_inset

, ואז ממשיכים כמו המעגל השני ומסיימים ב-
\begin_inset Formula $u$
\end_inset

 )כמובן, המעגל אינו פשוט, אך זה לא נדרש(.
\end_layout

\begin_layout Proof
כל עוד ניתן לאחד זוג מעגלים מתוך 
\begin_inset Formula $C_{1},\dots,C_{k}$
\end_inset

, נעשה זאת.
 אם לבסוף מתקבל רק מעגל אחד, סיימנו; אחרת, תהא 
\begin_inset Formula $C$
\end_inset

 קבוצת הצמתים של אחד המעגלים.
 מכיוון ש-
\begin_inset Formula $G$
\end_inset

 קשיר, קיימת קשת מצומת 
\begin_inset Formula $u$
\end_inset

 ב-
\begin_inset Formula $C$
\end_inset

 אל צומת 
\begin_inset Formula $v\in V-C$
\end_inset

.
 מכיוון שכל קשת שייכת למעגל כלשהו, גם הקשת 
\begin_inset Formula $\left(u,v\right)$
\end_inset

 שייכת למעגל שאיננו 
\begin_inset Formula $C$
\end_inset

 )כי 
\begin_inset Formula $v\notin C$
\end_inset

( אבל מכאן עולה שהצומת 
\begin_inset Formula $u$
\end_inset

 שייך למעגל הזה ולכן הוא משותף למעגל ול-
\begin_inset Formula $C$
\end_inset

, בסתירה לכך שאין שני מעגלים בעלי צומת משותף.
\end_layout

\begin_layout Standard
קיים ניסוח של המשפט גם עבור גרפים מכוונים:
\end_layout

\begin_layout Theorem
)אוילר, גרסה לגרפים מכוונים( יהא 
\begin_inset Formula $G$
\end_inset

 גרף סופי, מכוון וקשיר.
\begin_inset Separator latexpar
\end_inset


\end_layout

\begin_deeper
\begin_layout Enumerate
\begin_inset Formula $G$
\end_inset

 הוא אוילרי מעגלי אם ורק אם לכל צומת 
\begin_inset Formula $v$
\end_inset

 מתקיים 
\begin_inset Formula $d_{in}\left(v\right)=d_{out}\left(v\right)$
\end_inset

.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $G$
\end_inset

 אוילרי אם ורק אם 
\begin_inset Formula $d_{in}\left(v\right)=d_{out}\left(v\right)$
\end_inset

 לכל זוג צמתים פרט לשני צמתים 
\begin_inset Formula $v,u$
\end_inset

 אשר מקיימים:
\begin_inset Separator latexpar
\end_inset


\end_layout

\begin_deeper
\begin_layout Enumerate
\begin_inset Formula $d_{in}\left(v\right)=d_{out}\left(v\right)+1$
\end_inset


\end_layout

\begin_layout Enumerate
\begin_inset Formula $d_{out}\left(u\right)=d_{in}\left(v\right)+1$
\end_inset


\end_layout

\end_deeper
\end_deeper
\begin_layout Proof
ההוכחה דומה להוכחה של משפט אוילר הרגיל; התנאים של הגרסה המכוונת של המשפט
 מאפשרים להפעיל את אותה ההוכחה ללא שינוי מהותי.
\end_layout

\begin_layout Section
גרפי דה-ברויין
\end_layout

\begin_layout Standard
ראשית נציג את ההגדרות הפורמליות שלנו עבור מה שבתכנות נקרא 
\series bold
מחרוזת
\series default
 - סדרה של תווים.
\end_layout

\begin_layout Definition

\series bold
אלפבית
\series default
 
\begin_inset Formula $\Sigma$
\end_inset

 הוא קבוצה סופית.
 אברי 
\begin_inset Formula $\Sigma$
\end_inset

 נקראים 
\series bold
אותיות.
\end_layout

\begin_layout Definition

\series bold
מילה
\series default
 מעל 
\begin_inset Formula $\Sigma$
\end_inset

 היא סדרה 
\begin_inset Formula $w=\sigma_{1}\ldots\sigma_{n}$
\end_inset

 של אותיות מ-
\begin_inset Formula $\Sigma$
\end_inset

.
\end_layout

\begin_layout Definition

\series bold
אורך של מילה 
\series default
הוא מספר האותיות שבה: 
\begin_inset Formula $\left|\sigma_{1}\ldots\sigma_{n}\right|=n$
\end_inset

.
\end_layout

\begin_layout Definition
אוסף כל המילים מאורך 
\begin_inset Formula $n$
\end_inset

 מעל 
\begin_inset Formula $\Sigma$
\end_inset

 מסומן ב-
\begin_inset Formula $\Sigma^{n}$
\end_inset

.
\end_layout

\begin_layout Standard
עבור אלפבית 
\begin_inset Formula $\Sigma$
\end_inset

 ו-
\begin_inset Formula $n$
\end_inset

 נתונים, אנו מתעניינים בסדרה קצרה ככל הניתן של אותיות כך ש
\series bold
כל
\series default
 מילה מאורך 
\begin_inset Formula $n$
\end_inset

 מופיעה בתוך הסדרה כאחד מרצפי האותיות שבה, כשרצפים נלקחים בצורה ציקלית )כלומר,
 אם רצף חורג מעבר לסוף המילה הוא חוזר להתחלה(.
\end_layout

\begin_layout Definition
מילה 
\begin_inset Formula $u$
\end_inset

 מאורך 
\begin_inset Formula $n$
\end_inset

 מופיעה במילה 
\begin_inset Formula $\sigma_{1}\ldots\sigma_{t}$
\end_inset

 
\series bold
באופן ציקלי
\series default
 אם 
\begin_inset Formula $u=\sigma_{i}\sigma_{i+1}\ldots\sigma_{i+n-1}$
\end_inset

 כאשר פעולת החיבור באינדקסים מתבצעת מודולו 
\begin_inset Formula $t$
\end_inset

, במובן הבא: אם 
\begin_inset Formula $j>t$
\end_inset

 אז 
\begin_inset Formula $\sigma_{j}\triangleq\sigma_{j-t}$
\end_inset

 )אנו נמנעים מלהגדיר 
\begin_inset Formula $\sigma_{j}\triangleq\sigma_{j\text{ mod }t}$
\end_inset

 מהטעם הטכני הפשוט שבשיטת הכתיב שלנו אין 
\begin_inset Formula $\sigma_{0}$
\end_inset

 אבל 
\begin_inset Formula $t\text{ mod }t=0$
\end_inset

(.
\end_layout

\begin_layout Standard
למשל, עבור 
\begin_inset Formula $\Sigma=\left\{ 0,1\right\} $
\end_inset

 נתבונן על הסדרה 
\begin_inset Formula $00111010$
\end_inset

.
 אם נעבור על אברי הסדרה משמאל לימין ובכל צעד ניקח את רצף
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
האותיות הבאות, נקבל את המילים 
\begin_inset Formula 
\begin{align*}
001,011,111,110,101,010,100,000
\end{align*}

\end_inset

אלו כל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
8
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
המילים מאורך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מעל 
\begin_inset Formula $\Sigma$
\end_inset

, וקיבלנו אותם באמצעות סדרה מאורך 
\begin_inset Formula $8$
\end_inset

.
 קל להשתכנע שסדרה כזו היא אופטימלית:
\end_layout

\begin_layout Claim
אם 
\begin_inset Formula $w$
\end_inset

 היא מילה מעל 
\begin_inset Formula $\Sigma$
\end_inset

 כך שכל מילה ב-
\begin_inset Formula $\Sigma^{n}$
\end_inset

 מופיעה באופן ציקלי ב-
\begin_inset Formula $w$
\end_inset

, אז 
\begin_inset Formula $\left|w\right|\ge\left|\Sigma\right|^{n}$
\end_inset

.
\end_layout

\begin_layout Proof
למילים שונות שמופיעות ב-
\begin_inset Formula $w$
\end_inset

 יש אינדקס שונה עבור האות הראשונה, כך שאם מופיעות ב-
\begin_inset Formula $w$
\end_inset

 לפחות 
\begin_inset Formula $\left|\Sigma\right|^{n}$
\end_inset

 מילים שונות, יש לפחות 
\begin_inset Formula $\left|\Sigma\right|^{n}$
\end_inset

 אינדקסים שונים לאותיות 
\begin_inset Formula $w$
\end_inset

.
\end_layout

\begin_layout Standard
מכאן שאנו מתעניינים במיוחד בסדרות שהן מהאורך האופטימלי 
\begin_inset Formula $\left|\Sigma\right|^{n}$
\end_inset

 ונותנים להן שם:
\end_layout

\begin_layout Definition

\series bold
סדרת דה-ברויין
\series default
 מעל 
\begin_inset Formula $\Sigma$
\end_inset

 למילים מאורך 
\begin_inset Formula $n$
\end_inset

 היא סדרה 
\begin_inset Formula $\sigma_{1}\ldots\sigma_{t}$
\end_inset

 כך ש-
\begin_inset Formula $t=\left|\Sigma\right|^{n}$
\end_inset

 ומתקיים 
\begin_inset Formula $\left\{ \sigma_{i}\sigma_{i+1}\ldots\sigma_{i+n-1}\ |\ i=1,2,\ldots,t\right\} =\Sigma^{n}$
\end_inset

.
\end_layout

\begin_layout Standard
כיצד ניתן למצוא סדרות דה-ברויין? כאן באה תורת הגרפים לעזרתנו: עם בניה מתאימה
 של גרף מתאים, שייקרא 
\series bold
גרף דה-ברויין
\series default
, נוכל לקבל את כל סדרות דה-ברויין בתור 
\series bold
מעגלים אוילריים
\series default
 בגרף.
\end_layout

\begin_layout Definition

\series bold
גרף דה-ברויין
\series default
 עם פרמטרים 
\begin_inset Formula $k,n$
\end_inset

, המסומן 
\begin_inset Formula $G_{k,n}$
\end_inset

, הוא גרף מכוון המוגדר באופן הבא:
\begin_inset Separator latexpar
\end_inset


\end_layout

\begin_deeper
\begin_layout Itemize
ראשית מוגדר אלפבית 
\begin_inset Formula $\Sigma=\left\{ 0,1,\ldots,k-1\right\} $
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $V=\Sigma^{n-1}$
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $E=\Sigma^{n}$
\end_inset


\end_layout

\begin_layout Itemize
הקשת 
\begin_inset Formula $b_{1}b_{2}\dots b_{n}$
\end_inset

 יוצאת מהצומת 
\begin_inset Formula $b_{1}b_{2}\dots b_{n-1}$
\end_inset

 ונכנסת לצומת 
\begin_inset Formula $b_{2}b_{3}\dots b_{n}$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Paragraph
\begin_inset Graphics
	filename images/de_bruin_graph.png
	scale 50

\end_inset


\end_layout

\begin_layout Claim
לכל 
\begin_inset Formula $k,n$
\end_inset

 הגרף 
\begin_inset Formula $G_{k,n}$
\end_inset

 הוא אוילרי מעגלי.
\end_layout

\begin_layout Proof
על פי משפט אוילר, די להראות שלכל צומת 
\begin_inset Formula $d_{in}\left(v\right)=d_{out}\left(v\right)$
\end_inset

, וש-
\begin_inset Formula $G_{k,n}$
\end_inset

 קשיר.
\end_layout

\begin_layout Proof
למעשה, 
\begin_inset Formula $G_{k,n}$
\end_inset

 קשיר היטב.
 נראה מסלול מצומת 
\begin_inset Formula $u=a_{1}a_{2}\dots a_{n-1}$
\end_inset

 לצומת 
\begin_inset Formula $v=b_{1}b_{2}\dots b_{n-1}$
\end_inset

:
\end_layout

\begin_layout Proof
\begin_inset Formula 
\begin{eqnarray*}
a_{1}a_{2}\dots a_{n-1} & \to a_{2}\dots a_{n-1}b_{1} & \to\dots\to b_{1}b_{2}\dots b_{n-1}
\end{eqnarray*}

\end_inset


\end_layout

\begin_layout Proof
כלומר, בכל צעד מכניסים מצד ימין עוד תו במילה של 
\begin_inset Formula $v$
\end_inset

 ומוציאים תו מהמילה של 
\begin_inset Formula $u$
\end_inset

.
 קל לראות שהקשתות המתאימות קיימות.
\end_layout

\begin_layout Proof
כדי לראות ש-
\begin_inset Formula $d_{in}\left(v\right)=d_{out}\left(v\right)$
\end_inset

 נשים לב להתאמה חח"ע ועל בין קשתות נכנסות ויוצאות מ-
\begin_inset Formula $v$
\end_inset

: אם 
\begin_inset Formula $v=a_{1}\dots a_{n-1}$
\end_inset

 ו-
\begin_inset Formula $\sigma\in\Sigma$
\end_inset

 כלשהו, אז נתאים בין הקשת הנכנסת 
\begin_inset Formula $\sigma a_{1}\dots a_{n-1}$
\end_inset

 והקשת היוצאת 
\begin_inset Formula $a_{2}\dots a_{n-1}\sigma$
\end_inset

.
 קל לראות כי זוהי אכן התאמה חח"ע ועל.
\end_layout

\begin_layout Paragraph*
דוגמא
\end_layout

\begin_layout Standard
למשל, כפי שראינו, דוגמא אחת למעגל אוילרי בגרף 
\begin_inset Formula $G_{2,3}$
\end_inset

 היא זו:
\end_layout

\begin_layout Standard
\begin_inset Formula $00\to01\to11\to11\to10\to01\to10\to00\to00$
\end_inset


\end_layout

\begin_layout Standard
הקשתות עליהן עוברים במעגל הזה הן:
\end_layout

\begin_layout Standard
\begin_inset Formula $001\to011\to111\to110\to101\to010\to100\to000$
\end_inset


\end_layout

\begin_layout Standard
ניתן להשתמש בכתיבה מקוצרת ולתאר את כל המסלול כסדרה באורך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
8
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
)בכל פעם מתואר התו החדש שמתווסף למחרוזת(: 
\begin_inset Formula $00111010$
\end_inset

.
 זו סדרת דה-ברויין שראינו בהתחלה.
\end_layout

\begin_layout Standard
כעת נוכל להסיק:
\end_layout

\begin_layout Claim
לכל 
\begin_inset Formula $k,n$
\end_inset

 יש סדרת דה-ברויין מעל 
\begin_inset Formula $\Sigma=\left\{ 0,1,\ldots,k-1\right\} $
\end_inset

 למילים מאורך 
\begin_inset Formula $n$
\end_inset

.
\end_layout

\begin_layout Proof
נתבונן בגרף דה-ברויין 
\begin_inset Formula $G_{k,n}$
\end_inset

.
 כפי שראינו, קיים בו מעגל אוילרי.
 יהיו 
\begin_inset Formula $e_{1},e_{2},\dots,e_{k^{n}}$
\end_inset

 הקשתות בגרף לפי הסדר שבו הן מופיעות במעגל.
 נבנה כעת את המילה 
\begin_inset Formula $w=\left(e_{1}\right)_{1}\left(e_{2}\right)_{1}\cdots\left(e_{k^{n}}\right)_{1}$
\end_inset

, דהיינו מכל אחת מהקשתות על המעגל ניקח את האות הראשונה.
\end_layout

\begin_layout Proof
אנו טוענים כי 
\begin_inset Formula $w$
\end_inset

 היא סדרת דה-ברוין המבוקשת.
 ראשית, היא מהאורך המתאים: 
\begin_inset Formula $k^{n}$
\end_inset

.
 כעת, אם נראה כי המילה 
\begin_inset Formula $w_{i}w_{i+1}\ldots w_{i+n-1}$
\end_inset

 )כשהאינדקסים נלקחים בצורה ציקלית כפי שתיארנו( היא המילה 
\begin_inset Formula $e_{i}$
\end_inset

, סיימנו; מכיוון שהקשתות נלקחו ממעגל אוילרי, כל קשת בגרף )כלומר כל מילה
 ב-
\begin_inset Formula $\Sigma^{n}$
\end_inset

( מופיעה כתת-מילה של 
\begin_inset Formula $w$
\end_inset

.
\end_layout

\begin_layout Proof
כדי לראות את הטענה הזו, ראשית נשים לב לכך שאם יש לנו קשת 
\begin_inset Formula $e=\sigma_{1}\ldots\sigma_{n}$
\end_inset

 בגרף והיא נכנסת לצומת 
\begin_inset Formula $v$
\end_inset

 כלשהו, אז 
\begin_inset Formula $v=\sigma_{2}\ldots\sigma_{n}$
\end_inset

.
 כעת, כל קשת שיוצאת מ-
\begin_inset Formula $v$
\end_inset

 היא מהצורה 
\begin_inset Formula $\sigma_{2}\ldots\sigma_{n}\tau$
\end_inset

 עבור 
\begin_inset Formula $\tau\in\Sigma$
\end_inset

 כלשהו.
 מכאן שלכל קשת 
\begin_inset Formula $e^{\prime}$
\end_inset

 שמופיעה אחרי 
\begin_inset Formula $e$
\end_inset

 במעגל האוילרי, האות הראשונה ב-
\begin_inset Formula $e^{\prime}$
\end_inset

 היא 
\begin_inset Formula $\sigma_{2}$
\end_inset

.
 באותו האופן כשלוקחים סדרה של 
\begin_inset Formula $n$
\end_inset

 קשתות סמוכות שמתחילה ב-
\begin_inset Formula $e$
\end_inset

, סדרת האותיות הראשונות בקשתות הללו תהיה 
\begin_inset Formula $\sigma_{1}\ldots\sigma_{n}$
\end_inset

, כמבוקש.
\end_layout

\begin_layout Section
עצים
\end_layout

\begin_layout Subsection
הגדרה ואפיונים בסיסיים
\end_layout

\begin_layout Definition

\series bold
עץ
\series default
 הוא גרף פשוט 
\begin_inset Formula $G$
\end_inset

 המקיים את שתי התכונות הבאות:
\begin_inset Separator latexpar
\end_inset


\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset Formula $G$
\end_inset

 קשיר.
\end_layout

\begin_layout Itemize
\begin_inset Formula $G$
\end_inset

 חסר מעגלים.
\end_layout

\end_deeper
\begin_layout Theorem
\begin_inset CommandInset label
LatexCommand label
name "thm:tree-defs"

\end_inset

התנאים הבאים שקולים
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
שימו לב לדמיון בין משפט זה למשפט מאלגברה לינארית לפיו ארבעת התנאים הבאים
 שקולים: קבוצת וקטורים היא בסיס, קבוצת וקטורים היא מקסימלית ביחס לאי-תלות
 לינארית, קבוצת וקטורים היא מינימלית ביחס לפרישה, וכל וקטור ניתן לכתיבה
 כצירוף לינארי יחיד של אברי הקבוצה.
 הדמיון איננו מקרי - מרחבים וקטוריים וגרפים הם שתי הדוגמאות הקלאסיות ל
\emph on
מטרואידים
\emph default
, שהם אובייקטים בעלי תכונות דומות לאלו
\emph on
.
\end_layout

\end_inset

:
\begin_inset Separator latexpar
\end_inset


\end_layout

\begin_deeper
\begin_layout Enumerate
\begin_inset Formula $G$
\end_inset

 הוא עץ.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $G$
\end_inset

 חסר מעגלים ותוספת כל קשת ל-
\begin_inset Formula $G$
\end_inset

 יוצרת מעגל )
\begin_inset Formula $G$
\end_inset

 הוא מקסימלי ביחס לתכונה "חסר מעגלים"(
\end_layout

\begin_layout Enumerate
\begin_inset Formula $G$
\end_inset

 קשיר ומחיקת כל קשת מ-
\begin_inset Formula $G$
\end_inset

 תהפוך אותו ללא קשיר )
\begin_inset Formula $G$
\end_inset

 הוא מינימלי ביחס לתכונה "קשיר"(.
\end_layout

\begin_layout Enumerate
לכל זוג צמתים 
\begin_inset Formula $u,v$
\end_inset

 קיים מסלול פשוט 
\series bold
יחיד
\series default
 מ-
\begin_inset Formula $u$
\end_inset

 אל 
\begin_inset Formula $v$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Proof
נוכיח באמצעות שרשרת גרירות.
\end_layout

\begin_layout Proof
\begin_inset Formula $2\Leftarrow1$
\end_inset

: אם 
\begin_inset Formula $G$
\end_inset

 הוא עץ הוא חסר מעגלים על פי הגדרה.
 נניח כי מוסיפים ל-
\begin_inset Formula $G$
\end_inset

 את הקשת 
\begin_inset Formula $\left(u,v\right)$
\end_inset

; מכיוון ש-
\begin_inset Formula $G$
\end_inset

 קשיר כבר קיים מסלול בין 
\begin_inset Formula $u$
\end_inset

 אל 
\begin_inset Formula $v$
\end_inset

, 
\begin_inset Formula $u\to\dots\to v$
\end_inset

 ומכיוון ש-
\begin_inset Formula $\left(u,v\right)$
\end_inset

 לא הייתה בגרף, המסלול לא עובר דרך 
\begin_inset Formula $\left(u,v\right)$
\end_inset

 ולכן ניתן להוסיף אותה בסוף המסלול ולהשלים אותו למעגל 
\begin_inset Formula $u\to\dots\to v\to u$
\end_inset

.
\end_layout

\begin_layout Proof
\begin_inset Formula $4\Leftarrow2$
\end_inset

: ניקח שני צמתים 
\begin_inset Formula $u,v\in V$
\end_inset

.
 אם קיים ביניהם מסלול הוא יחיד, שכן שני מסלולים שונים ניתן לשרשר לקבלת מעגל
 ונתון ש-
\begin_inset Formula $G$
\end_inset

 חסר מעגלים.
 לכן נותר להוכיח כי קיים מסלול בין 
\begin_inset Formula $u,v$
\end_inset

.
 אם קיימת ב-
\begin_inset Formula $G$
\end_inset

 הקשת 
\begin_inset Formula $\left(u,v\right)$
\end_inset

 אז קיים ביניהם המסלול 
\begin_inset Formula $u\to v$
\end_inset

.
 אם הקשת 
\begin_inset Formula $\left(u,v\right)$
\end_inset

 אינה בגרף, אז הוספתה ל-
\begin_inset Formula $G$
\end_inset

 תיצור מעגל; מכיוון ש-
\begin_inset Formula $G$
\end_inset

 הוא חסר מעגלים המעגל חייב לעבור דרך 
\begin_inset Formula $\left(u,v\right)$
\end_inset

 ולכן הוא מהצורה 
\begin_inset Formula $u\to v\to\dots\to u$
\end_inset

 )בלי הגבלת הכלליות ניתן להניח שצומת ההתחלה והסיום הוא 
\begin_inset Formula $u$
\end_inset

( ומכאן שקיים ב-
\begin_inset Formula $G$
\end_inset

 כבר מסלול: 
\begin_inset Formula $v\to\dots\to u$
\end_inset

.
\end_layout

\begin_layout Proof
\begin_inset Formula $3\Leftarrow4$
\end_inset

: 
\begin_inset Formula $G$
\end_inset

 קשיר כי בין כל זוג צמתים קיים מסלול.
 תהא 
\begin_inset Formula $\left(u,v\right)$
\end_inset

 קשת בגרף; מכאן ש-
\begin_inset Formula $u\to v$
\end_inset

 הוא המסלול היחיד בגרף מ-
\begin_inset Formula $u$
\end_inset

 אל 
\begin_inset Formula $v$
\end_inset

, ולכן אם תוסר הקשת 
\begin_inset Formula $\left(u,v\right)$
\end_inset

 לא יהיה מסלול מ-
\begin_inset Formula $u$
\end_inset

 אל 
\begin_inset Formula $v$
\end_inset

 והגרף יפסיק להיות קשיר.
\end_layout

\begin_layout Proof
\begin_inset Formula $1\Leftarrow3$
\end_inset

: 
\begin_inset Formula $G$
\end_inset

 קשיר על פי הנתון.
 נניח בשלילה שקיים בו מעגל פשוט 
\begin_inset Formula $u\to v\to\dots\to w\to u$
\end_inset

.
 מכיוון שהמעגל פשוט 
\begin_inset Formula $w\ne v$
\end_inset

 )כי 
\begin_inset Formula $v$
\end_inset

 אינו יכול להופיע פעמיים במעגל פשוט(, אז לאחר הסרת הקשת 
\begin_inset Formula $\left(u,v\right)$
\end_inset

 הגרף יוסיף להיות קשיר: כל מסלול בו שהשתמש בקשת 
\begin_inset Formula $\left(u,v\right)$
\end_inset

 יכול ללכת במסלול 
\begin_inset Formula $v\to\dots\to w\to u$
\end_inset

 במקום.
\end_layout

\begin_layout Definition

\series bold
יער
\series default
 הוא גרף פשוט וחסר מעגלים )איחוד עצים זרים(.
\end_layout

\begin_layout Definition

\series bold
עלה
\series default
 בגרף כלשהו הוא צומת מדרגה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
.
\end_layout

\begin_layout Claim
\begin_inset CommandInset label
LatexCommand label
name "clm:existence_of_leaf"

\end_inset

ביער סופי בן קשת אחת לפחות קיימים לפחות שני עלים.
\end_layout

\begin_layout Proof
ניקח בגרף מסלול פשוט באורך מקסימלי )קיים כזה שכן הגרף סופי ולכן אורך כל
 מסלול פשוט חסום על ידי מספר הצמתים בגרף(.
 נקודות ההתחלה והסיום חייבות להיות עלים, שאם לא כן ניתן יהיה להאריך את המסלול;
 אם צומת ההתחלה אינו עלה, הוא מחובר לצומת נוסף שחייב לא להיות על המסלול
 )שאם לא כן יהיה בגרף מעגל, בסתירה לכך שהוא יער(, ולכן ניתן להרחיב את המסלול
 על ידי הוספת מעבר לאותו הצומת.
\end_layout

\begin_layout Claim
\begin_inset CommandInset label
LatexCommand label
name "clm:edges-in-tree"

\end_inset

אם 
\begin_inset Formula $G=\left(V,E\right)$
\end_inset

 הוא עץ בעל 
\begin_inset Formula $n=\left|V\right|$
\end_inset

 צמתים אז 
\begin_inset Formula $\left|E\right|=n-1$
\end_inset

.
\end_layout

\begin_layout Proof
נוכיח באינדוקציה על 
\begin_inset Formula $n$
\end_inset

 - מספר הצמתים.
\end_layout

\begin_layout Proof
בסיס האינדוקציה הוא עבור 
\begin_inset Formula $n=1$
\end_inset

: במקרה זה ב-
\begin_inset Formula $G$
\end_inset

 יש בדיוק 
\begin_inset Formula $n-1=0$
\end_inset

 קשתות )כי קשת דורשת לפחות שני צמתים(.
\end_layout

\begin_layout Proof
נניח את נכונות הטענה עבור 
\begin_inset Formula $n$
\end_inset

 ונוכיח שבעץ בעל 
\begin_inset Formula $n+1$
\end_inset

 צמתים יש בדיוק 
\begin_inset Formula $n$
\end_inset

 קשתות.
\end_layout

\begin_layout Proof
מכיוון שיש בעץ לפחות שני צמתים, כדי שהוא יהיה קשיר בהכרח קיימת בו קשת אחת
 לפחות ולכן על פי טענה 
\begin_inset CommandInset ref
LatexCommand ref
reference "clm:existence_of_leaf"

\end_inset

, ב-
\begin_inset Formula $G$
\end_inset

 קיים עלה.
 אם נסיר את העלה מהעץ, נקבל גרף בן 
\begin_inset Formula $n$
\end_inset

 צמתים שגם הוא עץ )שכן הסרת עלה אינה פוגעת בקשירות העץ ואינה יכולה ליצור
 מעגל(.
 לכן יש בו 
\begin_inset Formula $n-1$
\end_inset

 קשתות על פי הנחת האינדוקציה; ומכאן שב-
\begin_inset Formula $G$
\end_inset

 יש 
\begin_inset Formula $n$
\end_inset

 קשתות )
\begin_inset Formula $n-1$
\end_inset

 הקשתות של תת-העץ, ועוד הקשת שמחברת את תת-העץ אל העלה(.
\end_layout

\begin_layout Claim
יהא 
\begin_inset Formula $G=\left(V,E\right)$
\end_inset

 גרף סופי בעל 
\begin_inset Formula $n=\left|V\right|$
\end_inset

 צמתים.
 
\begin_inset Separator latexpar
\end_inset


\end_layout

\begin_deeper
\begin_layout Enumerate
\begin_inset Formula $G$
\end_inset

 הוא עץ אם ורק אם 
\begin_inset Formula $G$
\end_inset

 חסר מעגלים בעל 
\begin_inset Formula $n-1$
\end_inset

 קשתות.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $G$
\end_inset

 הוא עץ אם ורק אם 
\begin_inset Formula $G$
\end_inset

 קשיר בעל 
\begin_inset Formula $n-1$
\end_inset

 קשתות.
\end_layout

\end_deeper
\begin_layout Proof
אם 
\begin_inset Formula $G$
\end_inset

 הוא עץ אז לפי טענה 
\begin_inset CommandInset ref
LatexCommand ref
reference "clm:edges-in-tree"

\end_inset

 הוא בעל 
\begin_inset Formula $n-1$
\end_inset

 קשתות וכמובן שהוא קשיר וחסר מעגלים, כך שנותר רק להוכיח את הכיוון השני בכל
 אחת משתי הטענות.
\end_layout

\begin_layout Proof
נניח ש-
\begin_inset Formula $G$
\end_inset

 חסר מעגלים בעל 
\begin_inset Formula $n-1$
\end_inset

 קשתות.
 כל עוד ניתן להוסיף ל-
\begin_inset Formula $G$
\end_inset

 קשתות מבלי ליצור מעגל, נעשה זאת עד לקבלת גרף 
\begin_inset Formula $G^{\prime}$
\end_inset

 שבו הוספת כל קשת תיצור מעגל.
 על פי טענה 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:tree-defs"

\end_inset

,
\begin_inset Formula $G^{\prime}$
\end_inset

 הוא עץ; ולכן מטענה 
\begin_inset CommandInset ref
LatexCommand ref
reference "clm:edges-in-tree"

\end_inset

 יש בו 
\begin_inset Formula $n-1$
\end_inset

 קשתות, כלומר 
\begin_inset Formula $G=G^{\prime}$
\end_inset

, ולכן 
\begin_inset Formula $G$
\end_inset

 הוא עץ.
\end_layout

\begin_layout Proof
נניח ש-
\begin_inset Formula $G$
\end_inset

 קשיר בעל 
\begin_inset Formula $n-1$
\end_inset

 קשתות.
 כל עוד ניתן להסיר מ-
\begin_inset Formula $G$
\end_inset

 קשת מבלי לפגום בקשירות שלו נעשה זאת עד לקבלת גרף 
\begin_inset Formula $G^{\prime}$
\end_inset

 שבו הורדת כל קשת תפגום בקשירות של הגרף.
 פי טענה 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:tree-defs"

\end_inset

,
\begin_inset Formula $G^{\prime}$
\end_inset

 הוא עץ; ולכן מטענה 
\begin_inset CommandInset ref
LatexCommand ref
reference "clm:edges-in-tree"

\end_inset

 יש בו 
\begin_inset Formula $n-1$
\end_inset

 קשתות, כלומר 
\begin_inset Formula $G=G^{\prime}$
\end_inset

, ולכן 
\begin_inset Formula $G$
\end_inset

 הוא עץ.
\end_layout

\begin_layout Subsection
משפט קיילי לספירת עצים
\end_layout

\begin_layout Standard
נסמן ב-
\begin_inset Formula $f_{n}$
\end_inset

 את מספר העצים על קבוצת הצמתים 
\begin_inset Formula $V=\left\{ 1,2,\dots,n\right\} $
\end_inset

 )"עצים מסומנים"; כאשר צמתי העץ לא ניתנים להבחנה אלו מאלו הבעיה קשה בהרבה(.
\end_layout

\begin_layout Theorem
)קיילי( 
\begin_inset Formula $f_{n}=n^{n-2}$
\end_inset

.
\end_layout

\begin_layout Standard
נציג את ההוכחה של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Prüfer
\lang hebrew
.
 בהוכחה זו מראים התאמה חח"ע ועל בין קבוצת העצים על 
\begin_inset Formula $V=\left\{ 1,2,\dots,n\right\} $
\end_inset

 וקבוצת המחרוזות מאורך 
\begin_inset Formula $n-2$
\end_inset

 מעל הא"ב 
\begin_inset Formula $\left\{ 1,2,\dots,n\right\} $
\end_inset

.
 ההתאמה תוצג באמצעות אלגוריתם המתרגם עץ למחרוזת, והוכחה שהאלגוריתם מבצע
 התאמה חח
\begin_inset Quotes erd
\end_inset

ע ועל.
 
\end_layout

\begin_layout Paragraph
אלגוריתם
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
TreeToWord
\lang hebrew
:
\end_layout

\begin_layout Standard
קלט: 
\begin_inset Formula $G=\left(V,E\right)$
\end_inset

 כך ש-
\begin_inset Formula $G$
\end_inset

 הוא עץ.
\end_layout

\begin_layout Standard
פלט: מילה 
\begin_inset Formula $w=\sigma_{1}\sigma_{2}\dots\sigma_{n-2}$
\end_inset

.
\end_layout

\begin_layout Standard
האלגוריתם:
\end_layout

\begin_layout Enumerate
עבור 
\begin_inset Formula $i=1,2,,\dots,n-2$
\end_inset

:
\begin_inset Separator latexpar
\end_inset


\end_layout

\begin_deeper
\begin_layout Enumerate
תהא 
\begin_inset Formula $\left(u,v\right)\in E$
\end_inset

 הקשת כך ש-
\begin_inset Formula $u$
\end_inset

 הוא העלה המינימלי )מבחינת מספרו הסידורי( בגרף 
\begin_inset Formula $G$
\end_inset

.
\end_layout

\begin_layout Enumerate
קבעו 
\begin_inset Formula $\sigma_{i}=v$
\end_inset

 )האות ה-
\begin_inset Formula $i$
\end_inset

 היא מספרו הסידורי של 
\series bold
השכן
\series default
 של העלה 
\begin_inset Formula $u$
\end_inset

 ב-
\begin_inset Formula $G$
\end_inset

(.
\end_layout

\begin_layout Enumerate
הסירו את 
\begin_inset Formula $u$
\end_inset

 מהגרף 
\begin_inset Formula $G$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Standard
בסיום ריצת האלגוריתם הוסרו מהגרף 
\begin_inset Formula $n-2$
\end_inset

 צמתים ו-
\begin_inset Formula $n-2$
\end_inset

 קשתות, ולכן 
\begin_inset Formula $G$
\end_inset

 נותר עם זוג צמתים בודד שמחובר בקשת.
 כפי שנראה, אין צורך בטיפול נוסף בצמתים אלו.
\end_layout

\begin_layout Standard
נשים לב לכך שהאלגוריתם עובד תמיד; לא מובן מאליו שבשלב א' יהיה תמיד ניתן
 למצוא עלה, אך זה נובע ישירות מטענה 
\begin_inset CommandInset ref
LatexCommand ref
reference "clm:existence_of_leaf"

\end_inset

: בתחילת האלגוריתם ב-
\begin_inset Formula $G$
\end_inset

 יש 
\begin_inset Formula $n-1$
\end_inset

 קשתות, והאלגוריתם מסיר 
\begin_inset Formula $n-2$
\end_inset

 קשתות במהלך ריצתו, ולכן תמיד קיימת ב-
\begin_inset Formula $G$
\end_inset

 קשת אחת לפחות ולכן תמיד קיים ב-
\begin_inset Formula $G$
\end_inset

 עלה אחד לפחות.
 מכאן שהפונקציה שהאלגוריתם מחשב היא מוגדרת היטב )לכל קלט קיים פלט יחיד(.
\end_layout

\begin_layout Standard
כעת נותר להוכיח שההתאמה ש-
\lang english
TreeToWord
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מגדיר היא חח
\begin_inset Quotes erd
\end_inset

ע ועל.
 כלומר, שלכל מילה מאורך 
\begin_inset Formula $n-2$
\end_inset

 מעל 
\begin_inset Formula $\left\{ 1,\ldots,n-2\right\} $
\end_inset

 קיים עץ שמייצר אותה )זה יוכיח שהפונקציה היא על( ושהעץ הזה הוא יחיד )זה
 יוכיח שהפונקציה היא חח
\begin_inset Quotes erd
\end_inset

ע(.
\end_layout

\begin_layout Claim
אם 
\begin_inset Formula $w$
\end_inset

 היא המילה שמתקבלת כפלט של 
\lang english
TreeToWord
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
על 
\begin_inset Formula $G=\left(V,E\right)$
\end_inset

, אז לכל 
\begin_inset Formula $v\in V$
\end_inset

 מספר המופעים של 
\begin_inset Formula $v$
\end_inset

 ב-
\begin_inset Formula $w$
\end_inset

 הוא בדיוק 
\begin_inset Formula $d\left(v\right)-1$
\end_inset

.
\end_layout

\begin_layout Proof
עבור 
\begin_inset Formula $v$
\end_inset

 יש שתי אפשרויות: או שהוא אחד משני הצמתים שנשארים בסיום ריצת האלגוריתם,
 או שהוא מוסר מהגרף בשלב מסוים.
 האלגוריתם מסיר מהגרף רק צומת שהוא עלה, כלומר בעל שכן בודד בעץ, ולכן בכל
 אחד משני המקרים 
\begin_inset Formula $v$
\end_inset

 מגיע באלגוריתם למצב שבו יש לו שכן בודד, ומכאן ש-
\begin_inset Formula $d\left(v\right)-1$
\end_inset

 משכניו מוסרים לפניו, ובכל הפעמים הללו 
\begin_inset Formula $v$
\end_inset

 מתווסף למחרוזת.
 לאחר הסרת שכנים אלו 
\begin_inset Formula $v$
\end_inset

 הופך בעצמו לעלה, ולכן המקרה היחיד שבו לא יוסר הוא אם גם שכנו הוא עלה, ובמקרה
 זה שני צמתים אלו הם האחרונים שנותרו בעץ.
\end_layout

\begin_layout Corollary
אם 
\begin_inset Formula $v$
\end_inset

 אינו מופיע ב-
\begin_inset Formula $w$
\end_inset

, אז 
\begin_inset Formula $v$
\end_inset

 הוא עלה בכל עץ שיוצר את 
\begin_inset Formula $w$
\end_inset

.
 
\end_layout

\begin_layout Claim
בהינתן מילה 
\begin_inset Formula $w\in\left\{ 1,2,\ldots,n\right\} ^{n-2}$
\end_inset

, קיים ויחיד עץ 
\begin_inset Formula $T$
\end_inset

 היוצר אותה באמצעות האלגוריתם 
\lang english
TreeToWord
\lang hebrew
.
\end_layout

\begin_layout Proof
נוכיח באינדוקציה על 
\begin_inset Formula $n$
\end_inset

.
\end_layout

\begin_layout Proof
בסיס האינדוקציה עבור 
\begin_inset Formula $n=2$
\end_inset

: במקרה זה 
\begin_inset Formula $w$
\end_inset

 היא המחרוזת הריקה, ואכן קיים עץ יחיד בן שני הצמתים 
\begin_inset Formula $\left\{ 1,2\right\} $
\end_inset

.
\end_layout

\begin_layout Proof
צעד: נניח באינדוקציה שלמה כי לכל 
\begin_inset Formula $n^{\prime}<n$
\end_inset

, ההתאמה בין עצים ומילים של 
\lang english
TreeToWord
\lang hebrew
 היא אכן חח"ע ועל.
\end_layout

\begin_layout Proof
יהא 
\begin_inset Formula $u\in\left\{ 1,2,\dots,n\right\} $
\end_inset

 המינימלי שאינו מופיע ב-
\begin_inset Formula $w$
\end_inset

 )קיים כזה שכן אורך 
\begin_inset Formula $w$
\end_inset

 הוא 
\begin_inset Formula $n-2$
\end_inset

(.
 מכיוון ש-
\begin_inset Formula $u$
\end_inset

 הוא הקטן מבין האיברים שאינם מופיעים ב-
\begin_inset Formula $w$
\end_inset

, הוא בהכרח העלה המינימלי בכל עץ שיוצר את 
\begin_inset Formula $w$
\end_inset

.
 לכן בהכרח 
\begin_inset Formula $w_{1}$
\end_inset

 )האות הראשונה ב-
\begin_inset Formula $w$
\end_inset

( הוא השכן של 
\begin_inset Formula $u$
\end_inset

 בכל עץ שיוצר את 
\begin_inset Formula $w$
\end_inset

.
\end_layout

\begin_layout Proof
כעת "נקצוץ" את 
\begin_inset Formula $w_{1}$
\end_inset

 מ-
\begin_inset Formula $w$
\end_inset

 לקבלת 
\begin_inset Formula $w^{\prime}=w_{2}\dots w_{n-2}$
\end_inset

 ונסיר מ-
\begin_inset Formula $V$
\end_inset

 את 
\begin_inset Formula $u$
\end_inset

 לקבלת 
\begin_inset Formula $V^{\prime}=V-\left\{ u\right\} $
\end_inset

.
\end_layout

\begin_layout Proof
מהנחת האינדוקציה נובע שקיים עץ יחיד 
\begin_inset Formula $T^{\prime}=\left(V^{\prime},E^{\prime}\right)$
\end_inset

 היוצר את המילה 
\begin_inset Formula $w^{\prime}$
\end_inset

.
 מעץ זה מתקבל 
\begin_inset Formula $T$
\end_inset

 על ידי הוספת הקשת 
\begin_inset Formula $\left(u,w_{1}\right)$
\end_inset

 שראינו כי היא נקבעת באופן יחיד.
 מכאן ש-
\begin_inset Formula $T$
\end_inset

 נקבע באופן יחיד על ידי 
\begin_inset Formula $w$
\end_inset

, כנדרש.
\end_layout

\begin_layout Standard
הוכחה זו גם מתווה את האופן שבו יעבוד אלגוריתם פענוח שבונה עץ בהינתן מילה:
\end_layout

\begin_layout Paragraph
אלגוריתם
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
WordToTree
\lang hebrew
:
\end_layout

\begin_layout Standard
קלט: מילה 
\begin_inset Formula $w=\sigma_{1}\sigma_{2}\dots\sigma_{n-2}$
\end_inset

 
\end_layout

\begin_layout Standard
פלט: עץ 
\begin_inset Formula $G=\left(V,E\right)$
\end_inset


\end_layout

\begin_layout Standard
האלגוריתם:
\end_layout

\begin_layout Enumerate
אתחלו 
\begin_inset Formula $E=\emptyset$
\end_inset

, 
\begin_inset Formula $S=V$
\end_inset

.
\end_layout

\begin_layout Enumerate
עבור 
\begin_inset Formula $i=1,2,\dots,n-2$
\end_inset

:
\begin_inset Separator latexpar
\end_inset


\end_layout

\begin_deeper
\begin_layout Enumerate
מצאו את 
\begin_inset Formula $u$
\end_inset

 - הצומת המינימלי ב-
\begin_inset Formula $S$
\end_inset

 שאינו מופיע ב-
\begin_inset Formula $w_{i}w_{i+1}\dots w_{n-2}$
\end_inset

.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $E\leftarrow E\cup\left\{ \left(u,w_{i}\right)\right\} $
\end_inset

.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $S\leftarrow S-\left\{ u\right\} $
\end_inset

.
\end_layout

\end_deeper
\begin_layout Enumerate
בשלב זה 
\begin_inset Formula $S=\left\{ u,v\right\} $
\end_inset

.
 בצעו 
\begin_inset Formula $E\leftarrow E\cup\left\{ \left(u,v\right)\right\} $
\end_inset

.
\end_layout

\begin_layout Subsection
עצים מכוונים
\end_layout

\begin_layout Standard
נפתח בהגדרות הדרושות כדי להכליל את מושג העץ לגרפים מכוונים:
\end_layout

\begin_layout Definition

\series bold
שורש
\series default
 בגרף מכוון הוא צומת שקיים מסלול ממנו אל כל הצמתים.
\end_layout

\begin_layout Definition

\series bold
עץ מכוון
\series default
 הוא גרף מכוון אשר גרף התשתית שלו הוא עץ וקיים לו שורש.
\end_layout

\begin_layout Standard
כמקודם, ניתן לתת מספר אפיונים שקולים לכך שגרף הוא עץ מכוון:
\end_layout

\begin_layout Theorem
\begin_inset CommandInset label
LatexCommand label
name "thm:directed-tree-char"

\end_inset

יהא 
\begin_inset Formula $G$
\end_inset

 גרף מכוון.
 הטענות הבאות שקולות:
\end_layout

\begin_layout Enumerate
\begin_inset Formula $G$
\end_inset

 הוא עץ מכוון.
\end_layout

\begin_layout Enumerate
ל-
\begin_inset Formula $G$
\end_inset

 יש שורש ולכל צומת בגרף המסלול מהשורש אליו הוא יחיד.
\end_layout

\begin_layout Enumerate
ל-
\begin_inset Formula $G$
\end_inset

 יש שורש שדרגת הכניסה שלו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
ולשאר הצמתים בגרף דרגת כניסה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
.
\end_layout

\begin_layout Enumerate
ל-
\begin_inset Formula $G$
\end_inset

 יש שורש ומחיקת כל קשת מ-
\begin_inset Formula $G$
\end_inset

 הופכת את 
\begin_inset Formula $G$
\end_inset

 לחסר שורש.
\end_layout

\begin_layout Enumerate
גרף התשתית של 
\begin_inset Formula $G$
\end_inset

 קשיר ול-
\begin_inset Formula $G$
\end_inset

 יש צומת אחד עם דרגת כניסה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
ולשאר הצמתים דרגת כניסה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
.
\end_layout

\begin_layout Proof
נוכיח באמצעות שרשרת גרירות.
\end_layout

\begin_layout Proof
\begin_inset Formula $2\Leftarrow1$
\end_inset

: מכיוון ש-
\begin_inset Formula $G$
\end_inset

 הוא עץ מכוון קיים לו שורש 
\begin_inset Formula $v$
\end_inset

.
 נניח בשלילה כי קיים בגרף צומת 
\begin_inset Formula $u$
\end_inset

 כך שיש שני מסלולים 
\begin_inset Formula $v\overset{1}{\rightsquigarrow}u,v\overset{2}{\rightsquigarrow}u$
\end_inset

, אז בגרף התשתית של 
\begin_inset Formula $G$
\end_inset

 השרשור של שני המסלולים יוצר מעגל ולכן גרף התשתית אינו עץ, בסתירה לכך ש-
\begin_inset Formula $G$
\end_inset

 עץ מכוון.
\end_layout

\begin_layout Proof
\begin_inset Formula $3\Leftarrow2$
\end_inset

: אם דרגת הכניסה של השורש 
\begin_inset Formula $v$
\end_inset

 אינה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
זה אומר שיש צומת 
\begin_inset Formula $u$
\end_inset

 כך שהקשת 
\begin_inset Formula $u\to v$
\end_inset

 בגרף; מכיוון שקיים מסלול מ-
\begin_inset Formula $v$
\end_inset

 אל 
\begin_inset Formula $u$
\end_inset

 קיבלנו שיש שני מסלולים מ-
\begin_inset Formula $v$
\end_inset

 אל 
\begin_inset Formula $v$
\end_inset

 בגרף - המסלול 
\begin_inset Formula $v\rightsquigarrow u\to v$
\end_inset

 והמסלול מאורך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
 שכולל רק את 
\begin_inset Formula $v$
\end_inset

, בסתירה.
 באופן דומה, אם ל-
\begin_inset Formula $u$
\end_inset

 כלשהו יש דרגת כניסה לפחות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
2
\numeric off
, אז יש 
\begin_inset Formula $u_{1},u_{2}$
\end_inset

 כך שהקשתות 
\begin_inset Formula $u_{1}\to u$
\end_inset

 ו-
\begin_inset Formula $u_{2}\to u$
\end_inset

 בגרף, וקיבלנו שני מסלולים מ-
\begin_inset Formula $v$
\end_inset

 אל 
\begin_inset Formula $u$
\end_inset

: המסלול 
\begin_inset Formula $v\rightsquigarrow u_{1}\to u$
\end_inset

 והמסלול 
\begin_inset Formula $v\rightsquigarrow u_{2}\to u$
\end_inset

.
 אם ל-
\begin_inset Formula $u$
\end_inset

 יש לו דרגת כניסה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
אז לא קיים מסלול אליו מהשורש, ולכן המסקנה היא שדרגת הכניסה של כל 
\begin_inset Formula $u$
\end_inset

 שאינו השורש היא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
.
\end_layout

\begin_layout Proof
\begin_inset Formula $4\Leftarrow3$
\end_inset

: קיום שורש 
\begin_inset Formula $v$
\end_inset

 מובטח מתנאי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
3
\numeric off
.
 תהא 
\begin_inset Formula $u\to w$
\end_inset

 קשת כלשהי בגרף.
 בהכרח המסלול מ-
\begin_inset Formula $v$
\end_inset

 אל 
\begin_inset Formula $w$
\end_inset

 הוא מהצורה 
\begin_inset Formula $v\rightsquigarrow u\to w$
\end_inset

, כלומר הצעד האחרון שלו משתמש בקשת מ-
\begin_inset Formula $u$
\end_inset

 אל 
\begin_inset Formula $w$
\end_inset

, אחרת היינו מקבלים שקיימים שני מסלולים שונים מ-
\begin_inset Formula $v$
\end_inset

 אל 
\begin_inset Formula $w$
\end_inset

.
 לכן אם נמחקת הקשת 
\begin_inset Formula $u\to w$
\end_inset

 מהגרף אין מסלול מ-
\begin_inset Formula $v$
\end_inset

 אל 
\begin_inset Formula $w$
\end_inset

 ובכך 
\begin_inset Formula $v$
\end_inset

 מפסיק להיות שורש.
 מכיוון שדרגת הכניסה של 
\begin_inset Formula $v$
\end_inset

 הייתה אפס הוא היה בהכרח השורש היחיד בגרף, ולכן הגרף הפך לחסר שורש.
\end_layout

\begin_layout Proof
\begin_inset Formula $5\Leftarrow4$
\end_inset

: מכיוון שיש ל-
\begin_inset Formula $G$
\end_inset

 שורש 
\begin_inset Formula $v$
\end_inset

 גרף התשתית בהכרח קשיר )מסלול בין כל שני צמתים בגרף התשתית נבנה משרשור שני
 המסלולים שמחברים את השורש אליהם בגרף המקורי(.
 ל-
\begin_inset Formula $v$
\end_inset

 יש דרגת כניסה אפס כי אם יש קשת 
\begin_inset Formula $u\to v$
\end_inset

 אז אפשר להסיר אותה מהגרף ו-
\begin_inset Formula $v$
\end_inset

 עדיין יישאר שורש.
 בדומה לכל צומת 
\begin_inset Formula $u$
\end_inset

 אם יש שתי קשתות 
\begin_inset Formula $u_{1}\to u$
\end_inset

 ו-
\begin_inset Formula $u_{2}\to u$
\end_inset

 אפשר להסיר אחת מהן ועדיין יוותר מסלול מ-
\begin_inset Formula $v$
\end_inset

 אל 
\begin_inset Formula $u$
\end_inset

 ומכאן ש-
\begin_inset Formula $v$
\end_inset

 יוותר שורש )ואם ל-
\begin_inset Formula $u$
\end_inset

 דרגת כניסה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
אז לא קיים מסלול אליו מהשורש(.
\end_layout

\begin_layout Proof
\begin_inset Formula $1\Leftarrow5$
\end_inset

: כאן עלינו להראות כי גרף התשתית של 
\begin_inset Formula $G$
\end_inset

 הוא חסר מעגלים וכי יש ל-
\begin_inset Formula $G$
\end_inset

 שורש.
 יהא 
\begin_inset Formula $v$
\end_inset

 הצומת בעל דרגת הכניסה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
בגרף.
 ראשית נוכיח כי 
\begin_inset Formula $v$
\end_inset

 הוא שורש.
 יהא 
\begin_inset Formula $u$
\end_inset

 צומת כלשהו בגרף, אז קיים מסלול 
\begin_inset Formula $v\to w_{1}\to\dots\to w_{k}=u$
\end_inset

 בגרף התשתית של 
\begin_inset Formula $G$
\end_inset

; נותר להראות שב-
\begin_inset Formula $G$
\end_inset

 כל הקשתות מכוונות בכיוון המסלול.
 אם אין קשתות במסלול, סיימנו; בנוסף, הקשת 
\begin_inset Formula $\left(u,w_{1}\right)$
\end_inset

 חייבת להיות מכוונת לכיוון 
\begin_inset Formula $w_{1}$
\end_inset

 אחרת דרגת הכניסה של 
\begin_inset Formula $v$
\end_inset

 גדולה מאפס, ומכאן נמשיך באינדוקציה: הקשת 
\begin_inset Formula $\left(w_{i-1},w_{i}\right)$
\end_inset

 היא מ-
\begin_inset Formula $w_{i-1}$
\end_inset

 אל 
\begin_inset Formula $w_{i}$
\end_inset

 על פי הנחת האינדוקציה, ולכן כדי שדרגת הכניסה של 
\begin_inset Formula $w_{i}$
\end_inset

 תהיה בדיוק
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
הכרחי שהקשת 
\begin_inset Formula $\left(w_{i},w_{i+1}\right)$
\end_inset

 תהיה מכוונת לכיוון 
\begin_inset Formula $w_{i+1}$
\end_inset

 וכך עד 
\begin_inset Formula $w_{k}=u$
\end_inset

.
\end_layout

\begin_layout Proof
נותר להראות כי גרף התשתית של 
\begin_inset Formula $G$
\end_inset

 אינו כולל מעגלים.
 נניח בשלילה כי קיים מעגל; אז 
\begin_inset Formula $v$
\end_inset

 אינו יכול להיות עליו )אחרת הייתה קשת נכנסת ל-
\begin_inset Formula $v$
\end_inset

 ודרגת הכניסה של 
\begin_inset Formula $v$
\end_inset

 לא הייתה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
(.
 נתבונן במסלול מ-
\begin_inset Formula $v$
\end_inset

 אל צומת 
\begin_inset Formula $u$
\end_inset

 כלשהו על המעגל: 
\begin_inset Formula $v=u_{0}\to u_{1}\to u_{2}\to\dots\to u_{k}=u$
\end_inset

, ויהא 
\begin_inset Formula $u_{i}$
\end_inset

 בעל האינדקס 
\begin_inset Formula $i$
\end_inset

 המינימלי שנמצא על המעגל )
\begin_inset Formula $i\ge1$
\end_inset

 שכן ראינו כי 
\begin_inset Formula $v$
\end_inset

 אינו יכול להיות על המעגל(.
 אז מצד אחד נכנסת אליו הקשת מ-
\begin_inset Formula $u_{i-1}$
\end_inset

 שאינו על המעגל, ומצד שני נכנסת אליו קשת מצומת שכן על המעגל, ולכן דרגת הכניסה
 שלו היא לפחות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
2
\numeric off
, בסתירה לנתון.
\end_layout

\begin_layout Standard
ישנו עוד אפיון אחד שהשמטנו מהרשימה שכן הוא תקף רק עבור גרפים מכוונים 
\series bold
סופיים
\series default
:
\end_layout

\begin_layout Claim
גרף מכוון סופי 
\begin_inset Formula $G$
\end_inset

 הוא עץ בעל שורש 
\begin_inset Formula $r$
\end_inset

 אם ורק אם דרגת הכניסה של 
\begin_inset Formula $r$
\end_inset

 היא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
, דרגת הכניסה של שאר הצמתים בגרף היא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
, וגרף התשתית של 
\begin_inset Formula $G$
\end_inset

 חסר מעגלים.
\end_layout

\begin_layout Proof
כיוון אחד קל - אם 
\begin_inset Formula $G$
\end_inset

 הוא עץ מכוון בעל שורש 
\begin_inset Formula $r$
\end_inset

 אז גרף התשתית הוא עץ ולכן חסר מעגלים, וכבר ראינו כי היותו של 
\begin_inset Formula $G$
\end_inset

 עץ גוררת את התכונה הנדרשת על הדרגות )אפיון
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
3
\numeric off
 במשפט 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:directed-tree-char"

\end_inset

(.
\end_layout

\begin_layout Proof
בכיוון השני עלינו להראות כי 
\begin_inset Formula $r$
\end_inset

 הוא שורש
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 )מה שגם יגרור את קשירות גרף התשתית(.
 יהא 
\begin_inset Formula $u$
\end_inset

 צומת כלשהו בגרף.
 נבנה סדרה 
\begin_inset Formula $u_{1},u_{2},\dots$
\end_inset

 באופן הבא: 
\begin_inset Formula $u_{1}=u$
\end_inset

 ולכל 
\begin_inset Formula $i$
\end_inset

, 
\begin_inset Formula $u_{i+1}$
\end_inset

 הוא הצומת שנכנס אל 
\begin_inset Formula $u_{i}$
\end_inset

.
 יש צומת כזה כל עוד 
\begin_inset Formula $u_{i}\ne r$
\end_inset

, כי דרגת הכניסה של 
\begin_inset Formula $u_{i}$
\end_inset

 היא 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
.
\end_layout

\begin_layout Proof
נניח כעת בשלילה כי קיימים 
\begin_inset Formula $i<j$
\end_inset

 כך ש-
\begin_inset Formula $u_{i}=u_{j}$
\end_inset

.
 אז קיבלנו מעגל בגרף: 
\begin_inset Formula $u_{j}\to u_{j-1}\to\dots\to u_{i}=u_{j}$
\end_inset

.
 מכאן שכל אברי הסדרה שונים אלו מאלו.
 מכיוון שניתן להמשיך את הסדרה כל עוד לא הגענו אל 
\begin_inset Formula $r$
\end_inset

 ויש רק מספר סופי של צמתים בגרף שמספרם חוסם את אורך הסדרה, הסדרה חייבת להגיע
 אל 
\begin_inset Formula $r$
\end_inset

, מה שיראה קיום של מסלול מ-
\begin_inset Formula $r$
\end_inset

 אל 
\begin_inset Formula $u$
\end_inset

.
\end_layout

\begin_layout Standard
דוגמה נגדית פשוטה למשפט שלעיל במקרה שבו הגרף אינסופי היא גרף שמורכב מ"שרוך"
 אינסופי לשני הכיוונים 
\begin_inset Formula $\dots\to\bullet\to\bullet\to\bullet\to\dots$
\end_inset

, ועוד צומת מבודד )שישמש בתפקיד 
\begin_inset Formula $r$
\end_inset

(.
\end_layout

\begin_layout Subsection
עצים פורשים
\end_layout

\begin_layout Subsubsection
הגדרה וקיום
\end_layout

\begin_layout Definition
עבור גרף 
\begin_inset Formula $G=\left(V,E\right)$
\end_inset

 )שיכול להיות מכוון או לא מכוון(:
\begin_inset Separator latexpar
\end_inset


\end_layout

\begin_deeper
\begin_layout Itemize

\series bold
הגרף המושרה
\series default
 על 
\begin_inset Formula $G$
\end_inset

 על ידי קבוצת 
\series bold
צמתים
\series default
 
\begin_inset Formula $V^{\prime}\subseteq V$
\end_inset

 הוא הגרף 
\begin_inset Formula $G^{\prime}=\left(V^{\prime},E^{\prime}\right)$
\end_inset

 בו 
\begin_inset Formula $E^{\prime}$
\end_inset

 מכילה את קשתות 
\begin_inset Formula $E$
\end_inset

 אשר שני קצותיהן ב-
\begin_inset Formula $V^{\prime}$
\end_inset

 )
\begin_inset Formula $E^{\prime}=\left\{ \left(u,v\right)\in E\ |\ u,v\in V^{\prime}\right\} $
\end_inset

(.
\end_layout

\begin_layout Itemize

\series bold
הגרף המושרה
\series default
 על 
\begin_inset Formula $G$
\end_inset

 על ידי קבוצת 
\series bold
קשתות
\series default
 
\begin_inset Formula $E^{\prime}\subseteq E$
\end_inset

 הוא 
\begin_inset Formula $G^{\prime}=\left(V^{\prime},E^{\prime}\right)$
\end_inset

 כאשר 
\begin_inset Formula $V^{\prime}$
\end_inset

 מכילה את כל הצמתים בהם נוגעות קשתות מ-
\begin_inset Formula $E^{\prime}$
\end_inset

 
\begin_inset Newline newline
\end_inset

)
\begin_inset Formula $V^{\prime}=\left(v\in V\ |\ \exists u\in V:\left(u,v\right)\in E\vee\left(v,u\right)\in E\right)$
\end_inset

(.
\end_layout

\end_deeper
\begin_layout Standard
הגדרות אלו שימושיות באופן כללי, אך אנו רוצים לדבר על סוג מיוחד של תת-גרף
 מושרה:
\end_layout

\begin_layout Definition

\series bold
עץ פורש
\series default
 של גרף 
\begin_inset Formula $G=\left(V,E\right)$
\end_inset

 הוא עץ 
\begin_inset Formula $T=\left(V,E^{\prime}\right)$
\end_inset

 המושרה על ידי תת קבוצה 
\begin_inset Formula $E^{\prime}\subseteq E$
\end_inset

.
\end_layout

\begin_layout Standard
כלומר, עץ פורש צריך לכלול את כל צמתי הגרף המקורי וחלק מהקשתות, כך שהוא יהיה
 עץ.
\end_layout

\begin_layout Standard
ברור כי לכל גרף לא מכוון קשיר קיים עץ פורש: פשוט מסירים קשתות מהגרף עד שמגיעים
 למצב שבו הסרת כל קשת הופכת את הגרף לבלתי קשיר, ואז הוא עץ על פי משפט 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:tree-defs"

\end_inset

.
 פחות ברור המקרה של עץ מכוון:
\end_layout

\begin_layout Claim
\begin_inset CommandInset label
LatexCommand label
name "clm:existance-of-spanning-tree"

\end_inset

לכל גרף מכוון עם שורש 
\begin_inset Formula $r$
\end_inset

 יש עץ פורש עם שורש 
\begin_inset Formula $r$
\end_inset

.
\end_layout

\begin_layout Proof
לכל צומת 
\begin_inset Formula $v\in V$
\end_inset

 נגדיר את 
\begin_inset Formula $\text{dist}\left(v\right)$
\end_inset

 להיות אורך המסלול הקצר ביותר מ-
\begin_inset Formula $r$
\end_inset

 אל 
\begin_inset Formula $v$
\end_inset

 )המספר הזה תמיד מוגדר כי 
\begin_inset Formula $r$
\end_inset

 הוא שורש(.
\end_layout

\begin_layout Proof
לכל 
\begin_inset Formula $v\ne r$
\end_inset

, נתבונן במסלול מאורך 
\begin_inset Formula $\text{dist}\left(v\right)$
\end_inset

 מ-
\begin_inset Formula $r$
\end_inset

 אליו: 
\begin_inset Formula $r\to\dots\to u\to v$
\end_inset

.
 נוסיף לעץ שאנו בונים את הקשת 
\begin_inset Formula $u\to v$
\end_inset

.
\end_layout

\begin_layout Proof
ברור כי בבניה זו דרגת הכניסה של 
\begin_inset Formula $r$
\end_inset

 תהיה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
ודרגת הכניסה של כל צומת אחר תהיה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
)כי מוסיפים לגרף בדיוק קשת אחת שנכנסת אליו(.
 נותר להראות שהגרף המושרה שבנינו קשיר.
 נניח בשלילה שהוא אינו קשיר, ויהי 
\begin_inset Formula $v$
\end_inset

 צומת מינימלי ביחס ל-
\begin_inset Formula $\text{dist}\left(v\right)$
\end_inset

 שאינו ישיג מ-
\begin_inset Formula $r$
\end_inset

.
 אז בגרף המקורי 
\begin_inset Formula $v$
\end_inset

 נמצא על מסלול 
\begin_inset Formula $r\to\dots\to u\to v$
\end_inset

, ובלי הגבלת הכלליות ניתן להניח שזהו המסלול שבאמצעותו נבחרה הקשת שהוספנו
 לגרף עבור 
\begin_inset Formula $v$
\end_inset

.
 מכאן שהקשת 
\begin_inset Formula $u\to v$
\end_inset

 נמצאת בגרף המושרה שבנינו.
 כעת, 
\begin_inset Formula $\text{dist}\left(u\right)<\text{dist}\left(v\right)$
\end_inset

 )כי 
\begin_inset Formula $u$
\end_inset

 נמצא לפני 
\begin_inset Formula $v$
\end_inset

 במסלול הקצר ביותר שמוביל אל 
\begin_inset Formula $v$
\end_inset

( ומהמינימליות של 
\begin_inset Formula $v$
\end_inset

 עולה ש-
\begin_inset Formula $u$
\end_inset

 ישיג מ-
\begin_inset Formula $r$
\end_inset

 בתת הגרף המושרה שבנינו, אבל מכך נובע שגם 
\begin_inset Formula $v$
\end_inset

 ישיג.
\end_layout

\begin_layout Subsubsection
ספירת עצים פורשים - משפט קירכהוף לגרפים מכוונים
\end_layout

\begin_layout Standard
בהינתן גרף מכוון 
\begin_inset Formula $G$
\end_inset

 וצומת 
\begin_inset Formula $r$
\end_inset

, נשאלת השאלה כמה עצים פורשים יש ל-
\begin_inset Formula $G$
\end_inset

 עם שורש 
\begin_inset Formula $r$
\end_inset

.
 משפט קירכהוף מצביע על שיטה למציאת מספר זה באמצעות חישוב 
\series bold
דטרמיננטה
\series default
 של מטריצה מיוחדת המותאמת לגרף.
\end_layout

\begin_layout Definition
בהינתן גרף מכוון 
\begin_inset Formula $G$
\end_inset

 ללא חוגים עצמיים על צמתים 
\begin_inset Formula $V=\left\{ v_{1},v_{2},\dots,v_{n}\right\} $
\end_inset

, נגדיר מספר מטריצות ב-
\begin_inset Formula $\mathbb{R}^{n\times n}$
\end_inset

 המתאימות לגרף:
\end_layout

\begin_layout Itemize

\series bold
מטריצת השכנויות
\series default
 
\begin_inset Formula $A$
\end_inset

 של הגרף מוגדרת כך ש-
\begin_inset Formula $\left[A\right]_{ij}$
\end_inset

 הוא מספר הקשתות מ-
\begin_inset Formula $v_{i}$
\end_inset

 אל 
\begin_inset Formula $v_{j}$
\end_inset

 ב-
\begin_inset Formula $G$
\end_inset

.
\end_layout

\begin_layout Itemize

\series bold
מטריצת דרגת הכניסה 
\begin_inset Formula $\Delta$
\end_inset


\series default
 מוגדרת על ידי 
\begin_inset Formula $\left[\Delta\right]_{ij}=\begin{cases}
d_{in}\left(v_{i}\right) & i=j\\
0 & i\ne j
\end{cases}$
\end_inset

 כלומר זו מטריצה אלכסונית שבה דרגות הכניסה של צמתי 
\begin_inset Formula $G$
\end_inset

 מופיעים על האלכסון.
\end_layout

\begin_layout Itemize

\series bold
מטריצת הלפסליאן
\series default
 
\begin_inset Formula $L$
\end_inset

 מוגדרת על ידי 
\begin_inset Formula $\Delta-A$
\end_inset

, כלומר 
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset Formula $L_{ii}$
\end_inset

 שווה לדרגת הכניסה של 
\begin_inset Formula $v_{i}$
\end_inset

, 
\begin_inset Formula $d_{in}\left(v_{i}\right)$
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $L_{ij}$
\end_inset

 עבור 
\begin_inset Formula $i\ne j$
\end_inset

 שווה למינוס מספר הקשתות ב-
\begin_inset Formula $G$
\end_inset

 מ-
\begin_inset Formula $v_{i}$
\end_inset

 אל 
\begin_inset Formula $v_{j}$
\end_inset

 )אם מספר הקשתות הוא 
\begin_inset Formula $k_{ij}$
\end_inset

 אז 
\begin_inset Formula $L_{ij}=-k_{ij}$
\end_inset

(.
\end_layout

\end_deeper
\begin_layout Standard
ההנחה שאין ב-
\begin_inset Formula $G$
\end_inset

 חוגים עצמיים אינה מגבילה אותנו, שכן עץ פורש ממילא אינו יכול להכיל קשת מצומת
 לעצמו )היא תיצור מעגל(, ולכן בהינתן גרף כלשהו, מספר העצים הפורשים שלו זהה
 למספר העצים הפורשים של הגרף שמתקבל ממנו על ידי הסרת החוגים העצמיים.
 
\end_layout

\begin_layout Standard
עם זאת, ב-
\begin_inset Formula $G$
\end_inset

 בהחלט יכולות להיות קשתות מקבילות, ואנו סופרים בנפרד עצים פורשים שמשתמשים
 בקשתות שונות עבור אותם זוגות צמתים.
\end_layout

\begin_layout Standard
כדי לנסח את משפט קירכהוף אנו זקוקים להגדרה נוספת מאלגברה לינארית:
\end_layout

\begin_layout Definition

\series bold
מטריצת המינור
\series default
 
\begin_inset Formula $L_{r}$
\end_inset

 של 
\begin_inset Formula $L$
\end_inset

 היא המטריצה המתקבלת מ-
\begin_inset Formula $L$
\end_inset

 על ידי מחיקת השורה והעמודה ה-
\begin_inset Formula $r$
\end_inset

-ים.
\end_layout

\begin_layout Standard
וכעת ניתן לעבור לניסוח המשפט:
\end_layout

\begin_layout Theorem
)קירכהוף( יהא 
\begin_inset Formula $G$
\end_inset

 גרף מכוון עם מטריצת לפלסיאן 
\begin_inset Formula $L$
\end_inset

.
 מספר העצים הפורשים את 
\begin_inset Formula $G$
\end_inset

 עם שורש 
\begin_inset Formula $v_{r}$
\end_inset

 הוא בדיוק 
\begin_inset Formula $\det\left(L_{r}\right)$
\end_inset

.
\end_layout

\begin_layout Standard
המקרה הפשוט של המשפט הוא זה שבו מספר הקשתות בגרף קטן מ-
\begin_inset Formula $n-1$
\end_inset

.
 במקרה זה אין מספיק קשתות ב-
\begin_inset Formula $G$
\end_inset

 כדי ליצור עץ פורש )שכן כל עץ פורש הוא בעל 
\begin_inset Formula $n-1$
\end_inset

 קשתות( ולכן מספר העצים הפורשים הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
.
 קל לראות כי 
\begin_inset Formula $\det\left(L_{r}\right)=0$
\end_inset

 במקרה זה; מכיוון שיש ב-
\begin_inset Formula $G$
\end_inset

 לכל היותר 
\begin_inset Formula $n-2$
\end_inset

 קשתות, דרגת הכניסה של שני צמתים לפחות היא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
.
 זה אומר שיש צומת 
\begin_inset Formula $v_{i}$
\end_inset

 כך ש-
\begin_inset Formula $i\ne r$
\end_inset

 עבורו 
\begin_inset Formula $d_{in}\left(v_{i}\right)=0$
\end_inset

 ולכן 
\begin_inset Formula $L_{ii}=0$
\end_inset

 וכמו כן לכל 
\begin_inset Formula $j\ne i$
\end_inset

 מתקיים 
\begin_inset Formula $L_{ji}=0$
\end_inset

 )כי אין קשת מ-
\begin_inset Formula $v_{j}$
\end_inset

 שנכנסת אל 
\begin_inset Formula $v_{i}$
\end_inset

(.
 כלומר, העמודה ה-
\begin_inset Formula $i$
\end_inset

 ב-
\begin_inset Formula $L$
\end_inset

 כולה אפסים, כך שגם ב-
\begin_inset Formula $L_{r}$
\end_inset

 יש עמודה שכולה אפסים, ולכן 
\begin_inset Formula $\det\left(L_{r}\right)=0$
\end_inset

.
\end_layout

\begin_layout Standard
נעבור למקרה שבו מספר הקשתות ב-
\begin_inset Formula $G$
\end_inset

 הוא לפחות 
\begin_inset Formula $n-1$
\end_inset

.
 לצורך הוכחת המשפט נתבסס על כך שאנו יכולים לכתוב את 
\begin_inset Formula $L_{r}$
\end_inset

 כמכפלה של שתי מטריצות לא ריבועיות.
 ראשית, עבור 
\begin_inset Formula $G=\left(V,E\right)$
\end_inset

 נסמן ב-
\begin_inset Formula $n=\left|V\right|$
\end_inset

 את מספר הצמתים וב-
\begin_inset Formula $m=\left|E\right|$
\end_inset

 את מספר הקשתות.
\end_layout

\begin_layout Standard
כעת נגדיר מטריצות 
\begin_inset Formula $A,B$
\end_inset

 מסדר 
\begin_inset Formula $\left(n-1\right)\times m$
\end_inset

 כך שכל שורה מתאימה לצומת של 
\begin_inset Formula $G$
\end_inset

 פרט לצומת 
\begin_inset Formula $r$
\end_inset

 )נניח בלי הגבלת הכלליות ש-
\begin_inset Formula $r=n$
\end_inset

(, על פי הכללים הבאים:
\end_layout

\begin_layout Standard
\begin_inset Formula $A_{ik}=B_{ik}=-1$
\end_inset

 אם הקשת 
\begin_inset Formula $e_{k}$
\end_inset

 נכנסת לצומת 
\begin_inset Formula $v_{i}$
\end_inset

 ב-
\begin_inset Formula $G$
\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Formula $A_{ik}=1$
\end_inset

 אם הקשת 
\begin_inset Formula $e_{k}$
\end_inset

 יוצאת מהצומת 
\begin_inset Formula $v_{i}$
\end_inset

 ב-
\begin_inset Formula $G$
\end_inset

.
\end_layout

\begin_layout Standard
שאר הכניסות של שתי המטריצות הן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
.
\end_layout

\begin_layout Standard
כלומר, כל עמודה של 
\begin_inset Formula $A,B$
\end_inset

 מייצגת קשת בגרף, כך שבשורה שמתאימה לצומת שממנה יוצאת הקשת יש
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
ב-
\begin_inset Formula $A$
\end_inset

 ו-
\numeric on
0
\numeric off
 ב-
\begin_inset Formula $B$
\end_inset

, וכמו כן בשורה שמתאימה לצומת שאליה נכנסת הקשת יש 
\begin_inset Formula $-1$
\end_inset

 בשתי המטריצות.
 נשים לב כי השורה שמתאימה לצומת 
\begin_inset Formula $r$
\end_inset

 של השורש לא מופיעה במטריצות.
\end_layout

\begin_layout Claim
\begin_inset Formula $L_{r}=AB^{T}$
\end_inset

.
\end_layout

\begin_layout Proof
\begin_inset Formula $L_{ii}=\sum_{k=1}^{m}A_{ik}B_{ki}^{T}=\sum_{k=1}^{m}A_{ki}B_{ki}=\sum_{j:e_{k}=v_{j}\to v_{i}}\left(-1\right)\cdot\left(-1\right)=d_{in}\left(v_{i}\right)$
\end_inset

.
\end_layout

\begin_layout Proof
כמו כן עבור 
\begin_inset Formula $i\ne j$
\end_inset

:
\end_layout

\begin_layout Proof
\begin_inset Formula $L_{ij}=\sum_{k=1}^{m}A_{ik}B_{kj}^{T}=\sum_{k=1}^{m}A_{ik}B_{jk}=\sum_{e_{k}=v_{i}\to v_{j}}1\cdot\left(-1\right)$
\end_inset

, כלומר מינוס מספר הקשתות שנכנסות מ-
\begin_inset Formula $i$
\end_inset

 אל 
\begin_inset Formula $j$
\end_inset

.
\end_layout

\begin_layout Standard
כזכור, באלגברה לינארית מוכיחים את המשפט 
\begin_inset Formula $\det\left(A\cdot B\right)=\det A\det B$
\end_inset

.
 לרוע המזל, המשפט נכון רק עבור מטריצות ריבועיות, ואילו 
\begin_inset Formula $A,B$
\end_inset

 שלנו אינן ריבועיות; למרבה המזל קיימת הכללה של משפט זה.
\end_layout

\begin_layout Theorem
)קושי-בינה(: אם 
\begin_inset Formula $A,B$
\end_inset

 מטריצות מסדר 
\begin_inset Formula $n\times m$
\end_inset

 בהתאמה )כך ש-
\begin_inset Formula $AB^{T}$
\end_inset

 היא מטריצה מסדר 
\begin_inset Formula $n\times n$
\end_inset

(, וגם 
\begin_inset Formula $n\le m$
\end_inset

, אז מתקיים 
\begin_inset Formula $\det\left(AB^{T}\right)=\sum_{\sigma}\det A_{\sigma}\det B_{\sigma}^{T}$
\end_inset

, כאשר 
\begin_inset Formula $\sigma$
\end_inset

 רץ על כל הקבוצות של 
\begin_inset Formula $n$
\end_inset

 אינדקסים מתוך 
\begin_inset Formula $\left\{ 1,\dots,m\right\} $
\end_inset

, ו-
\begin_inset Formula $A_{\sigma}$
\end_inset

 מייצג את תת-המטריצה מסדר 
\begin_inset Formula $n\times n$
\end_inset

 שמתקבלת מ-
\begin_inset Formula $A$
\end_inset

 על ידי מחיקת כל העמודות פרט לאלו שהאינדקסים שלהן ב-
\begin_inset Formula $\sigma$
\end_inset

, ו-
\begin_inset Formula $B_{\sigma}$
\end_inset

 מוגדרת בדומה.
\end_layout

\begin_layout Standard
כזכור, כבר טיפלנו במקרה שבו 
\begin_inset Formula $m<n-1$
\end_inset

 )במצב זה 
\begin_inset Formula $\det\left(L_{r}\right)=0$
\end_inset

( ולכן ניתן להניח כי 
\begin_inset Formula $m\ge n-1$
\end_inset

 ותנאי משפט קושי-בינה מתקיימים.
\end_layout

\begin_layout Standard
המשפט מקל עלינו את הוכחת משפט קירכהוף בצורה משמעותית, שכן ל-
\begin_inset Formula $A_{\sigma}$
\end_inset

 ו-
\begin_inset Formula $B_{\sigma}$
\end_inset

 יש משמעות קומבינטורית פשוטה: הן מייצגות את מה שנותר מ-
\begin_inset Formula $G$
\end_inset

 לאחר שנבחרה בו תת-קבוצה 
\begin_inset Formula $\sigma$
\end_inset

 של קשתות שהן 
\series bold
מועמדות ליצור עץ
\series default
.
 שימו לב ש-
\begin_inset Formula $A,B$
\end_inset

 הן מסדר 
\begin_inset Formula $\left(n-1\right)\times m$
\end_inset

 ולכן 
\begin_inset Formula $\sigma$
\end_inset

 הוא בחירה של 
\begin_inset Formula $n-1$
\end_inset

 עמודות )קשתות( מתוך 
\begin_inset Formula $m$
\end_inset

 העמודות )קשתות( האפשריות.
 מכיוון שעל פי משפט קושי-בינה מתקיים
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\det L_{r} & =\sum_{\sigma}\det A_{\sigma}\det B_{\sigma}^{T}=\sum_{\sigma}\det A_{\sigma}\det B_{\sigma}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
מה שנותר להראות כדי להוכיח ש-
\begin_inset Formula $\det L_{r}$
\end_inset

 הוא מספר העצים הפורשים של 
\begin_inset Formula $G$
\end_inset

 עם השורש 
\begin_inset Formula $v_{r}$
\end_inset

 הוא שאם הקשתות שנבחרו ב-
\begin_inset Formula $\sigma$
\end_inset

 יוצרות עץ, המחובר שמתאים להן יהיה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
, ואם אינן יוצרות עץ, המחובר יהיה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
.
 פורמלית נראה:
\end_layout

\begin_layout Enumerate
אם 
\begin_inset Formula $\sigma$
\end_inset

 מתאים לבחירה של 
\begin_inset Formula $n-1$
\end_inset

 קשתות שיוצרות עץ פורש שהשורש שלו הוא 
\begin_inset Formula $v_{r}$
\end_inset

, אז או ש-
\begin_inset Formula $\det A_{\sigma}=\det B_{\sigma}=1$
\end_inset

 או ש-
\begin_inset Formula $\det A_{\sigma}=\det B_{\sigma}=-1$
\end_inset

 )ולכן 
\begin_inset Formula $\det A_{\sigma}\det B_{\sigma}^{T}=1$
\end_inset

(.
\end_layout

\begin_layout Enumerate
אם 
\begin_inset Formula $\sigma$
\end_inset

 מתאים לבחירה של 
\begin_inset Formula $n-1$
\end_inset

 קשתות שאינן יוצרות עץ פורש, אז 
\begin_inset Formula $\det A_{\sigma}=0$
\end_inset

 או 
\begin_inset Formula $\det B_{\sigma}=0$
\end_inset

.
\end_layout

\begin_layout Standard
לבה הטכני של ההוכחה הוא בשתי התוצאות הבאות מאלגברה לינארית:
\end_layout

\begin_layout Itemize
החלפת שתי שורות או שתי עמודות של מטריצה הופכת את סימן הדטרמיננטה שלה אך
 לא משנה את ערכה המוחלט.
\end_layout

\begin_layout Itemize
הדטרמיננטה של מטריצה משולשית תחתונה היא מכפלת האיברים שעל האלכסון.
\end_layout

\begin_layout Standard
אם כן, נביא את 
\begin_inset Formula $A_{\sigma},B_{\sigma}$
\end_inset

 לצורה של מטריצה משולשית תחתונה על ידי סידור מחדש של השורות והעמודות.
\end_layout

\begin_layout Standard
אם 
\begin_inset Formula $\sigma$
\end_inset

 מגדירה עץ פורש 
\begin_inset Formula $T$
\end_inset

 ב-
\begin_inset Formula $G$
\end_inset

, אז נבנה סדרה 
\begin_inset Formula $u_{1},u_{2},\dots$
\end_inset

 של צמתים ו-
\begin_inset Formula $e_{1},e_{2},\dots$
\end_inset

 של קשתות באופן הבא: מכיוון ש-
\begin_inset Formula $T$
\end_inset

 הוא עץ, קיימים בו לפחות שני עלים, כלומר יש בו עלה שאינו 
\begin_inset Formula $v_{r}$
\end_inset

.
 עלה זה יהיה 
\begin_inset Formula $u_{1}$
\end_inset

.
 הקשת שמחברת את 
\begin_inset Formula $u_{1}$
\end_inset

 לשאר הגרף תהיה 
\begin_inset Formula $e_{1}$
\end_inset

.
 כעת נמחק את 
\begin_inset Formula $u_{1}$
\end_inset

 ו-
\begin_inset Formula $e_{1}$
\end_inset

 מהעץ, ונקבל עץ חדש, שגם בו שני עלים שאחד מהם אינו 
\begin_inset Formula $v_{r}$
\end_inset

 ומהם נבנה את 
\begin_inset Formula $u_{2},e_{2}$
\end_inset

 וכן הלאה.
 הצומת האחרון שיוותר בגרף הוא 
\begin_inset Formula $v_{r}$
\end_inset

 וממנו פשוט נתעלם.
\end_layout

\begin_layout Standard
כעת נסדר מחדש את 
\begin_inset Formula $A_{\sigma},B_{\sigma}$
\end_inset

 כך שהשורה הראשונה היא של הצומת 
\begin_inset Formula $u_{1}$
\end_inset

, העמודה הראשונה של 
\begin_inset Formula $e_{1}$
\end_inset

, השורה השניה של 
\begin_inset Formula $u_{2}$
\end_inset

 וכן הלאה.
\end_layout

\begin_layout Standard
נתבונן בשורה שמתאימה ל-
\begin_inset Formula $u_{i}$
\end_inset

 בכל אחת משתי המטריצות.
 אנו רוצים להראות שלכל 
\begin_inset Formula $k>i$
\end_inset

 מתקיים שהכניסה ה-
\begin_inset Formula $ik$
\end_inset

 שווה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
 כדי שהמטריצות יהיו משולשיות תחתונות.
 אם 
\begin_inset Formula $u_{ik}\ne0$
\end_inset

 זה אומר שהקשת 
\begin_inset Formula $e_{k}$
\end_inset

 מחוברת לצומת 
\begin_inset Formula $u_{i}$
\end_inset

 )נכנסת או יוצאת ממנו( בעץ 
\begin_inset Formula $T$
\end_inset

, ושקשת זו הוסרה מהעץ רק אחרי הצעד שבו 
\begin_inset Formula $u_{i}$
\end_inset

 הוסר מהעץ.
 אבל כאשר 
\begin_inset Formula $u_{i}$
\end_inset

 מוסר מהעץ הוא עלה, ולכן 
\begin_inset Formula $e_{i}$
\end_inset

 הייתה הקשת האחרונה שחיברה את 
\begin_inset Formula $u_{i}$
\end_inset

 לעץ, ומכאן שלא ייתכן ש-
\begin_inset Formula $e_{k}$
\end_inset

 הייתה מחוברת אליו.
 כמו כן, 
\begin_inset Formula $e_{i}$
\end_inset

 היא קשת שנכנסת ל-
\begin_inset Formula $u_{i}$
\end_inset

, ולכן הכניסה ה-
\begin_inset Formula $ii$
\end_inset

 במטריצה היא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\begin_inset Formula $-1$
\end_inset

 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
)גם ב-
\begin_inset Formula $A_{\sigma}$
\end_inset

 וגם ב-
\begin_inset Formula $B_{\sigma}$
\end_inset

(.
 מכאן שאכן נקבל 
\begin_inset Formula $\det A_{\sigma}=\det B_{\sigma}=\pm1$
\end_inset

 במקרה זה.
\end_layout

\begin_layout Standard
נניח כעת כי 
\begin_inset Formula $\sigma$
\end_inset

 אינה מגדירה עץ, ונראה כי 
\begin_inset Formula $\det A_{\sigma}=0$
\end_inset

 או 
\begin_inset Formula $\det B_{\sigma}=0$
\end_inset

, בהתאם לשני הדברים שיכולים להשתבש.
\end_layout

\begin_layout Standard
ראשית, ייתכן ש-
\begin_inset Formula $\sigma$
\end_inset

 אינה עץ אפילו בגרף התשתית של 
\begin_inset Formula $G$
\end_inset

.
 במקרה זה, מכיוון ש-
\begin_inset Formula $\sigma$
\end_inset

 היא קבוצה של 
\begin_inset Formula $n-1$
\end_inset

 קשתות, בהכרח יש בגרף שמושרה מ-
\begin_inset Formula $\sigma$
\end_inset

 שני רכיבי קשירות, שכן כל גרף לא מכוון קשיר עם 
\begin_inset Formula $n-1$
\end_inset

 קשתות הוא עץ.
 נתבונן ברכיב הקשירות שבו 
\begin_inset Formula $v_{r}$
\end_inset

 אינו נמצא, ובאוסף השורות ב-
\begin_inset Formula $A_{\sigma}$
\end_inset

 שמתאים לצמתים של רכיב קשירות זה.
 אם נראה כי סכום שורות אלו הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
, סיימנו; זה מוכיח כי השורות תלויות לינארית ולכן 
\begin_inset Formula $A_{\sigma}$
\end_inset

 היא סינגולרית ו-
\begin_inset Formula $\det A_{\sigma}=0$
\end_inset

.
 הסכום הוא אפס שכן לכל עמודה במטריצה, אם הקשת שהיא מייצגת לא שייכת לרכיב
 הקשירות אז אף אחד משני הצמתים שמחוברים אליה לא שייכים לקבוצת הצמתים של
 השורות שלקחנו, ואז העמודה תהיה שווה ל-
\numeric on
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 בכל השורות בקבוצה שלנו; או שהקשת כן שייכת לרכיב הקשירות ואז שני הצמתים
 המחוברים יהיו בקבוצת השורות שלנו, ומכיוון שבצומת שממנו יוצאת הקשת הערך
 הוא 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
ובצומת שאליו נכנסת הקשת הערך הוא 
\begin_inset Formula $-1$
\end_inset

 שוב נקבל שהסכום הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
.
\end_layout

\begin_layout Standard
נותר לטפל במקרה שבו 
\begin_inset Formula $\sigma$
\end_inset

 מגדירה עץ בגרף התשתית אך בגרף המכוון זה איננו עץ ששורשו 
\begin_inset Formula $v_{r}$
\end_inset

.
 במקרה זה נראה כי 
\begin_inset Formula $\det B_{\sigma}=0$
\end_inset

.
 נסדר את המטריצה כפי שעשינו במקרה שבו 
\begin_inset Formula $\sigma$
\end_inset

 כן הגדירה עץ.
 מכיוון ש-
\begin_inset Formula $\sigma$
\end_inset

 לא מגדירה עץ במקרה זה, בהכרח זה מכיוון שיש קשת אחת לפחות שמכוונת בכיוון
 הלא נכון, כלומר יש 
\begin_inset Formula $i$
\end_inset

 כך ש-
\begin_inset Formula $e_{i}$
\end_inset

 
\series bold
יוצאת
\series default
 מהצומת 
\begin_inset Formula $v_{i}$
\end_inset

, ולכן הכניסה 
\begin_inset Formula $ii$
\end_inset

 במטריצה המסודרת מחדש תהיה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
, ומכאן שנקבל שהדטרמיננטה היא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
0
\numeric off
.
 זה מסיים את ההוכחה.
\end_layout

\begin_layout Subsubsection
ספירת עצים פורשים - משפט קירכהוף לגרפים לא מכוונים
\end_layout

\begin_layout Standard
משפט קירכהוף שהוכחנו קודם ניתן לניסוח גם עבור גרפים לא מכוונים; ההוכחה שלו
 מתבססת על רדוקציה למקרה של גרף מכוון.
\end_layout

\begin_layout Standard
נזכיר את המטריצות המעורבות, הפעם בהגדרה עבור גרפים לא מכוונים:
\end_layout

\begin_layout Definition
בהינתן גרף לא מכוון 
\begin_inset Formula $G$
\end_inset

 ללא חוגים עצמיים על צמתים 
\begin_inset Formula $V=\left\{ v_{1},v_{2},\dots,v_{n}\right\} $
\end_inset

, נגדיר מספר מטריצות ב-
\begin_inset Formula $\mathbb{R}^{n\times n}$
\end_inset

 המתאימות לגרף:
\end_layout

\begin_layout Itemize

\series bold
מטריצת השכנויות
\series default
 
\begin_inset Formula $A$
\end_inset

 של הגרף מוגדרת כך ש-
\begin_inset Formula $\left[A\right]_{ij}$
\end_inset

 הוא מספר הקשתות בין 
\begin_inset Formula $v_{i}$
\end_inset

 ו-
\begin_inset Formula $v_{j}$
\end_inset

 ב-
\begin_inset Formula $G$
\end_inset

.
\end_layout

\begin_layout Itemize

\series bold
מטריצת הדרגות 
\begin_inset Formula $\Delta$
\end_inset


\series default
 מוגדרת על ידי 
\begin_inset Formula $\left[\Delta\right]_{ij}=\begin{cases}
d\left(v_{i}\right) & i=j\\
0 & i\ne j
\end{cases}$
\end_inset

 כלומר זו מטריצה אלכסונית שבה הדרגות של צמתי 
\begin_inset Formula $G$
\end_inset

 מופיעים על האלכסון.
\end_layout

\begin_layout Itemize

\series bold
מטריצת הלפסליאן
\series default
 
\begin_inset Formula $L$
\end_inset

 מוגדרת על ידי 
\begin_inset Formula $\Delta-A$
\end_inset

, כלומר 
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset Formula $L_{ii}$
\end_inset

 שווה לדרגה של 
\begin_inset Formula $v_{i}$
\end_inset

, 
\begin_inset Formula $d\left(v_{i}\right)$
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $L_{ij}$
\end_inset

 עבור 
\begin_inset Formula $i\ne j$
\end_inset

 שווה למינוס מספר הקשתות ב-
\begin_inset Formula $G$
\end_inset

 בין 
\begin_inset Formula $v_{i}$
\end_inset

 ו-
\begin_inset Formula $v_{j}$
\end_inset

 )אם מספר הקשתות הוא 
\begin_inset Formula $k_{ij}$
\end_inset

 אז 
\begin_inset Formula $L_{ij}=-k_{ij}$
\end_inset

(.
\end_layout

\end_deeper
\begin_layout Standard
בניגוד למקרה המכוון, במקרה הלא מכוון מטריצת השכנויות 
\begin_inset Formula $A$
\end_inset

 היא סימטרית, שכן מספר הקשתות בין 
\begin_inset Formula $v_{i}$
\end_inset

 ו-
\begin_inset Formula $v_{j}$
\end_inset

 זהה, כמובן, למספר הקשתות בין 
\begin_inset Formula $v_{j}$
\end_inset

 ו-
\begin_inset Formula $v_{i}$
\end_inset

.
\end_layout

\begin_layout Theorem
)קירכהוף( יהא 
\begin_inset Formula $G$
\end_inset

 גרף לא מכוון עם מטריצת לפלסיאן 
\begin_inset Formula $L$
\end_inset

 ויהא 
\begin_inset Formula $v\in V$
\end_inset

 צומת כלשהו ב-
\begin_inset Formula $G$
\end_inset

.
 מספר העצים הפורשים את 
\begin_inset Formula $G$
\end_inset

 הוא בדיוק 
\begin_inset Formula $\det\left(L_{v}\right)$
\end_inset

.
\end_layout

\begin_layout Standard
בניגוד למקרה של גרפים מכוונים, בגרף לא מכוון אין חשיבות לבחירה של 
\begin_inset Formula $v\in V$
\end_inset

; כפי שנראה, עבור כל 
\begin_inset Formula $v\in V$
\end_inset

 תתקבל אותה התוצאה.
\end_layout

\begin_layout Proof
כמו במקרה המכוון, ניתן להניח שאין ב-
\begin_inset Formula $G$
\end_inset

 חוגים עצמיים שכן הם ממילא לא יכולים להשתתף באף עץ פורש.
\end_layout

\begin_layout Proof
מהגרף הלא מכוון 
\begin_inset Formula $G=\left(V,E\right)$
\end_inset

 נבנה גרף מכוון 
\begin_inset Formula $G^{\prime}=\left(V,E^{\prime}\right)$
\end_inset

 באופן הבא: ב-
\begin_inset Formula $G^{\prime}$
\end_inset

 אותם צמתים כמו 
\begin_inset Formula $G$
\end_inset

, ואם ב-
\begin_inset Formula $G$
\end_inset

 קיימת הקשת 
\begin_inset Formula $\left(v,u\right)$
\end_inset

 אז ב-
\begin_inset Formula $G^{\prime}$
\end_inset

 יהיו קיימות שתי הקשתות 
\begin_inset Formula $v\to u$
\end_inset

 ו-
\begin_inset Formula $u\to v$
\end_inset

 )אם יש יותר מקשת אחרת בין 
\begin_inset Formula $v,u$
\end_inset

 בגרף 
\begin_inset Formula $G$
\end_inset

 אז נוסיף שתי קשתות ל-
\begin_inset Formula $G^{\prime}$
\end_inset

 עבור כל קשת שכזו(.
\end_layout

\begin_layout Proof
מטריצת השכנויות של הגרף החדש היא 
\begin_inset Formula $A^{\prime}=A$
\end_inset

 על פי הגדרה.
 בנוסף 
\begin_inset Formula $\Delta^{\prime}=\Delta$
\end_inset

 שכן כל קשת שמחוברת לצומת ב-
\begin_inset Formula $G$
\end_inset

 הופכת לזוג קשתות, שאחת מהן נכנסת לצומת זו ב-
\begin_inset Formula $G^{\prime}$
\end_inset

.
 מכאן ש-
\begin_inset Formula $L^{\prime}=L$
\end_inset

, ולכן 
\begin_inset Formula $\det\left(L_{v}^{\prime}\right)=\det\left(L_{v}\right)$
\end_inset

 לכל 
\begin_inset Formula $v\in V$
\end_inset

.
\end_layout

\begin_layout Proof
כדי להשלים את ההוכחה צריך לראות שלכל 
\begin_inset Formula $v\in V$
\end_inset

 יש התאמה חח
\begin_inset Quotes erd
\end_inset

ע ועל בין עצים פורשים של 
\begin_inset Formula $G$
\end_inset

 ועצים פורשים של 
\begin_inset Formula $G^{\prime}$
\end_inset

 עם שורש 
\begin_inset Formula $v$
\end_inset

.
 בכיוון אחד, בהינתן עץ פורש 
\begin_inset Formula $T$
\end_inset

 ב-
\begin_inset Formula $G$
\end_inset

 נוסיף כיוונים לקשתות שלו כך שדרגת הכניסה של 
\begin_inset Formula $G$
\end_inset

 תהיה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ודרגת הכניסה של כל צומת אחר תהיה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
.
 ניתן לעשות זאת באופן הבא: לכל קשת 
\begin_inset Formula $\left(u,w\right)$
\end_inset

 כלשהי ב-
\begin_inset Formula $T$
\end_inset

 אנו יודעים שקיים מסלול 
\series bold
יחיד
\series default
 
\begin_inset Formula $v\rightsquigarrow u$
\end_inset

.
 אם 
\begin_inset Formula $w$
\end_inset

 מופיע על המסלול, נכוון את הקשת 
\begin_inset Formula $\left(u,w\right)$
\end_inset

 מ-
\begin_inset Formula $w$
\end_inset

 אל 
\begin_inset Formula $u$
\end_inset

; אחרת, נכוון אותה מ-
\begin_inset Formula $u$
\end_inset

 אל 
\begin_inset Formula $w$
\end_inset

.
 את הגרף שהתקבל נסמן ב-
\begin_inset Formula $T^{\prime}$
\end_inset

.
 אנו יודעים שגרף התשתית 
\begin_inset Formula $T$
\end_inset

 שלו הוא עץ, ולכן כדי להשתכנע ש-
\begin_inset Formula $T^{\prime}$
\end_inset

 הוא עץ מכוון די להראות ש-
\begin_inset Formula $v$
\end_inset

 הוא שורש.
 בהינתן 
\begin_inset Formula $u\in V$
\end_inset

, נתבונן במסלול 
\begin_inset Formula $v\rightsquigarrow u$
\end_inset

 בעץ 
\begin_inset Formula $T$
\end_inset

 ונראה שהוא מסלול גם ב-
\begin_inset Formula $T^{\prime}$
\end_inset

.
 לשם כך נתבונן במעבר כלשהו 
\begin_inset Formula $w_{1}\to w_{2}$
\end_inset

 על המסלול ב-
\begin_inset Formula $T$
\end_inset

 ונראה שהקשת 
\begin_inset Formula $\left(w_{1},w_{2}\right)$
\end_inset

 מכוונת מ-
\begin_inset Formula $w_{1}$
\end_inset

 אל 
\begin_inset Formula $w_{2}$
\end_inset

 גם ב-
\begin_inset Formula $T^{\prime}$
\end_inset

; דבר זה נובע מכך שהמסלול היחיד מ-
\begin_inset Formula $v$
\end_inset

 אל 
\begin_inset Formula $w_{2}$
\end_inset

 ב-
\begin_inset Formula $T$
\end_inset

 חייב לעבור קודם ב-
\begin_inset Formula $w_{1}$
\end_inset

 )אחרת גם המסלול מ-
\begin_inset Formula $v$
\end_inset

 אל 
\begin_inset Formula $u$
\end_inset

 לא היה עובר קודם ב-
\begin_inset Formula $w_{1}$
\end_inset

(.
\end_layout

\begin_layout Proof
הראינו התאמה שלכל עץ פורש 
\begin_inset Formula $T$
\end_inset

 של 
\begin_inset Formula $G$
\end_inset

 מחזירה עץ פורש 
\begin_inset Formula $T^{\prime}$
\end_inset

 עם השורש 
\begin_inset Formula $v$
\end_inset

 של 
\begin_inset Formula $G^{\prime}$
\end_inset

.
 בכיוון ההפוך, בהינתן עץ פורש 
\begin_inset Formula $T^{\prime}$
\end_inset

, נחזיר את גרף התשתית שלו 
\begin_inset Formula $T$
\end_inset

 שהוא בוודאי עץ על פי הגדרת עץ פורש בגרף מכוון.
 התאמה זו היא ההופכית של ההתאמה הקודמת שהראינו, מה שמוכיח שההתאמה היא חח
\begin_inset Quotes erd
\end_inset

ע ועל.
\end_layout

\begin_layout Standard
\begin_inset Branch Old
inverted 0
status open

\begin_layout Subsection
למת האינסוף של קניג
\end_layout

\begin_layout Subsubsection
תיאור הלמה
\end_layout

\begin_layout Standard
נעבור כעת לדון בתכונה של גרפים מכוונים אינסופיים.
\end_layout

\begin_layout Theorem
)למת האינסוף של קניג( יהא 
\begin_inset Formula $G$
\end_inset

 גרף מכוון אינסופי עם שורש 
\begin_inset Formula $r$
\end_inset

 כך שלכל צומת 
\begin_inset Formula $v$
\end_inset

, 
\begin_inset Formula $d_{out}\left(v\right)<\infty$
\end_inset

.
 אז קיים ב-
\begin_inset Formula $G$
\end_inset

 מסלול אינסופי שמתחיל ב-
\begin_inset Formula $r$
\end_inset

.
\end_layout

\begin_layout Standard
לא קשה לראות את הכרחיות התנאי על סופיות הדרגות )למשל, גרף "קיפוד" שבו שורש
 אחד עם אינסוף שכנים ותו לא הוא דוגמה נגדית, כי כל המסלולים בו הם מאורך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
(.
\end_layout

\begin_layout Proof
על פי טענה 
\begin_inset CommandInset ref
LatexCommand ref
reference "clm:existance-of-spanning-tree"

\end_inset

 קיים ל-
\begin_inset Formula $G$
\end_inset

 עץ פורש עם שורש 
\begin_inset Formula $r$
\end_inset

.
 העץ אינסופי ודרגת היציאה של כל צומת בו היא סופית.
\end_layout

\begin_layout Proof
נבנה מסלול באופן האינדוקטיבי הבא: 
\begin_inset Formula $v_{0}=r$
\end_inset

 ולכל 
\begin_inset Formula $i$
\end_inset

, אם 
\begin_inset Formula $v_{i}$
\end_inset

 כבר נבנה אז 
\begin_inset Formula $v_{i+1}$
\end_inset

 ייבחר להיות אחד מבניו של 
\begin_inset Formula $v_{i}$
\end_inset

 שלו אינסוף צאצאים.
 התכונה שנשמרת באינדוקציה היא של-
\begin_inset Formula $v_{i}$
\end_inset

 יש אינסוף צאצאים, מה שמתקיים עבור 
\begin_inset Formula $r$
\end_inset

, ואם ל-
\begin_inset Formula $v_{i}$
\end_inset

 אינסוף צאצאים אז יש לו בן שגם לו אינסוף צאצאים כי מספר הצאצאים של 
\begin_inset Formula $v_{i}$
\end_inset

 הוא סכום צאצאי בניו.
\end_layout

\begin_layout Proof
מכיוון שה-
\begin_inset Formula $v_{i}$
\end_inset

 נבחרו בתוך העץ הפורש באופן שיוצר מסלול, לא ייתכן שנחזור פעמיים לאותו 
\begin_inset Formula $v_{i}$
\end_inset

 שכן זה יסגור מעגל.
 מכאן שהמסלול אינסופי, כנדרש.
\end_layout

\begin_layout Subsubsection
דוגמת שימוש - ריצופי
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Wang
\end_layout

\begin_layout Standard

\emph on
אריח
\family roman
\series medium
\shape up
\size normal
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Wang
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
הוא ריבוע שצלעותיו צבועות בצבעים כלשהם )לרוב כל צלע מסומנת במספר או אות
 במקום צבע כדי להקל על הסימון(.
 ריצוף של המישור באמצעות אריחי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Wang
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
פירושו כיסוי כל המישור על ידי אריחים הצמודים זה לזה אך אינם עולים זה על
 זה, כך שכל זוג צלעות סמוכות של אריחים שונים הוא בעל אותו צבע.
\end_layout

\begin_layout Standard
בעית ההכרעה הקלאסית של אריחי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Wang
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
היא זו: בהינתן קבוצה סופית של אריחים, כך שמכל אריח בקבוצה זמינים לנו אינסוף
 עותקים שלו, האם ניתן לרצף את המישור או לא באמצעות אריחים אלו?
\end_layout

\begin_layout Standard
ניתן להוכיח כי בעיה זו אינה כריעה אלגוריתמית; לא קיים אלגוריתם הקובע לכל
 קבוצה האם היא מרצפת את המישור או לא.
 מצד שני, ישנו קריטריון שמאפשר להקל על ההוכחה שקיים ריצוף במקרים מסויימים:
\end_layout

\begin_layout Theorem
)וואנג( בהינתן קבוצת אריחים 
\begin_inset Formula $A$
\end_inset

 קיים ריצוף של המישור באמצעות 
\begin_inset Formula $A$
\end_inset

 אם ורק אם לכל 
\begin_inset Formula $n$
\end_inset

 טבעי קיים ריצוף של ריבוע 
\begin_inset Formula $n\times n$
\end_inset

 באמצעות 
\begin_inset Formula $A$
\end_inset

.
\end_layout

\begin_layout Proof
כיוון אחד קל: אם 
\begin_inset Formula $A$
\end_inset

 מרצפת את המישור, אז לכל 
\begin_inset Formula $n$
\end_inset

 נתבונן על ריבוע בגודל 
\begin_inset Formula $n\times n$
\end_inset

 כלשהו במישור; הוא עצמו יהיה מרוצף באופן חוקי ולכן קיבלנו ריצוף שלו באמצעות
 
\begin_inset Formula $A$
\end_inset

.
\end_layout

\begin_layout Proof
בכיוון השני, נגדיר גרף באופן הבא: צמתי הגרף יהיו ריצופים חוקיים באמצעות
 
\begin_inset Formula $A$
\end_inset

 של ריבועים בגודל 
\begin_inset Formula $n\times n$
\end_inset

 לכל 
\begin_inset Formula $n$
\end_inset

 טבעי אי זוגי )
\begin_inset Formula $1,3,5,\dots$
\end_inset

(.
 על פי ההנחה, יש אינסוף ריצופים שכאלו )לפחות אחד לכל 
\begin_inset Formula $n$
\end_inset

( ולכן הגרף אינסופי.
\end_layout

\begin_layout Proof
נגדיר קשתות בגרף באופן הבא: יש קשת מהצומת 
\begin_inset Formula $u$
\end_inset

 אל הצומת 
\begin_inset Formula $v$
\end_inset

 אם ורק אם 
\begin_inset Formula $u$
\end_inset

 הוא ריצוף של ריבוע בגודל 
\begin_inset Formula $2n-1$
\end_inset

, 
\begin_inset Formula $v$
\end_inset

 הוא ריצוף של ריבוע בגודל 
\begin_inset Formula $2n+1$
\end_inset

, ו-
\begin_inset Formula $u$
\end_inset

 מתקבל מ-
\begin_inset Formula $v$
\end_inset

 על ידי "קילוף" הטבעת החיצונית ביותר.
\end_layout

\begin_layout Proof
כמו כן נוסיף לגרף צומת 
\begin_inset Formula $r$
\end_inset

 ונוציא קשת ממנו לכל צומת 
\begin_inset Formula $u$
\end_inset

 שמייצג ריצוף בגודל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
.
\end_layout

\begin_layout Proof
בבירור 
\begin_inset Formula $r$
\end_inset

 הוא שורש של הגרף שהתקבל: בהינתן 
\begin_inset Formula $u$
\end_inset

, "נקלף" אותו שכבה שכבה עד להגעה אל 
\begin_inset Formula $r$
\end_inset

.
\end_layout

\begin_layout Proof
בנוסף, דרגת היציאה של כל צומת בגרף היא סופית - לכל ריצוף יש רק מספר סופי
 של טבעות שבהן אפשר להקיף אותו.
\end_layout

\begin_layout Proof
מלמת האינסוף של קניג נובע כעת כי קיים בגרף מסלול אינסופי.
 הצמתים במסלול זה מייצגים ריצוף הולך ומתרחב של המישור )כל צומת "מסכים" עם
 הצמתים שקדמו לו על המשבצות שכבר רוצפו(, וריצוף של המישור כולו מתקבל בתור
 הגבול של סדרה זו )לכל ריבוע במישור, האריח שיונח בריבוע זה מופיע בכל אברי
 הסדרה החל ממקום מסויים(.
\end_layout

\begin_layout Corollary
קיים ריצוף של המישור בעזרת 
\begin_inset Formula $A$
\end_inset

 אם ורק אם קיים ריצוף של רבע המישור בעזרת 
\begin_inset Formula $A$
\end_inset

.
\end_layout

\end_inset


\end_layout

\begin_layout Section
מספרי קטלן
\end_layout

\begin_layout Standard
נעבור כעת לתאר סדרת מספרים שמופיעה בבעיות ספירה טבעיות רבות, ובפרט שתיים
 הקשורות לעצים.
\end_layout

\begin_layout Enumerate
כמה מסלולים יש ב-
\begin_inset Formula $\mathbb{Z}^{2}$
\end_inset

 מ-
\begin_inset Formula $\left(0,0\right)$
\end_inset

 אל 
\begin_inset Formula $\left(n,n\right)$
\end_inset

 כאשר הצעדים המותרים הם ימינה ולמעלה והמסלול אף פעם לא מגיע אל מתחת לאלכסון
 הראשי 
\begin_inset Formula $x=y$
\end_inset

?
\end_layout

\begin_layout Enumerate
כמה סדרות סוגריים חוקיות קיימות עם 
\begin_inset Formula $n$
\end_inset

 פותחים ו-
\begin_inset Formula $n$
\end_inset

 סוגרים? )סדרת סוגריים היא 
\series bold
חוקית
\series default
 אם כשקוראים אותה משמאל לימין בשום שלב אין יותר סוגריים סוגרים מפותחים,
 ובסיום מספרם שווה(.
\end_layout

\begin_layout Enumerate
כמה עצים מכוונים בינאריים יש עם 
\begin_inset Formula $n$
\end_inset

 צמתים?
\end_layout

\begin_layout Enumerate
כמה עצים מכוונים בינאריים מלאים יש עם 
\begin_inset Formula $n+1$
\end_inset

 עלים? )בעץ בינארי מלא, לכל צומת שאינו עלה יש שני בנים בדיוק(.
\end_layout

\begin_layout Enumerate
כמה עצים מכוונים סדורים יש עם 
\begin_inset Formula $n+1$
\end_inset

 צמתים? )בעץ סדור יש חשיבות לסדר הבנים של כל צומת(
\end_layout

\begin_layout Enumerate
בכמה דרכים ניתן לחלק מצולע בן 
\begin_inset Formula $n+2$
\end_inset

 צלעות למשולשים?
\end_layout

\begin_layout Standard
הפתרון לכל הבעיות הללו הוא 
\begin_inset Formula $C_{n}$
\end_inset

 - מספר קטלן ה-
\begin_inset Formula $n$
\end_inset

-י.
\end_layout

\begin_layout Subsection
מסלולי שריג
\end_layout

\begin_layout Standard
נפתח בפתרון
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
שיאפשר לנו למצוא נוסחה מפורשת ל-
\begin_inset Formula $C_{n}$
\end_inset

.
\end_layout

\begin_layout Standard
מספר מסלולי השריג הכוללים מ-
\begin_inset Formula $\left(0,0\right)$
\end_inset

 אל 
\begin_inset Formula $\left(n,n\right)$
\end_inset

 שכוללים צעדים ימינה ולמעלה ואין עליהם מגבלות אחרות הוא 
\begin_inset Formula ${2n \choose n}$
\end_inset

 - בוחרים את 
\begin_inset Formula $n$
\end_inset

 הצעדים שבהם נעלה למעלה, ובשאר הצעדים הולכים ימינה.
\end_layout

\begin_layout Standard
מסלול "רע" הוא כזה שיורד מתחת לאלכסון 
\begin_inset Formula $x=y$
\end_inset

.
 נראה כי מספר המסלולים הרעים הוא כמספר המסלולים הכולל מ-
\begin_inset Formula $\left(1,-1\right)$
\end_inset

 אל 
\begin_inset Formula $\left(n,n\right)$
\end_inset

, כלומר 
\begin_inset Formula ${2n \choose n-1}$
\end_inset

.
\end_layout

\begin_layout Standard
כל מסלול רע חייב לפגוש מתישהו את האלכסון המשני 
\begin_inset Formula $y=x-1$
\end_inset

 שכן בהתחלה המסלול מקיים 
\begin_inset Formula $x=y$
\end_inset

 ובכל צעד משנים את אחת הקוארדינטות ב-
\numeric on
1
\numeric off
.
\end_layout

\begin_layout Standard
נסמן ב-
\begin_inset Formula $p$
\end_inset

 את נקודת המפגש הראשונה של המסלול הרע עם 
\begin_inset Formula $y=x-1$
\end_inset

.
 כעת נשקף את המסלול בקטע שבין 
\begin_inset Formula $\left(0,0\right)$
\end_inset

 אל 
\begin_inset Formula $p$
\end_inset

 ביחס לאלכסון 
\begin_inset Formula $y=x-1$
\end_inset

 )שיקוף שכזה פירושו שהמסלול מתחיל מ-
\begin_inset Formula $\left(1,-1\right)$
\end_inset

, עולה בכל פעם שבה המסלול המקורי הולך ימינה, והולך ימינה בכל פעם שבה המסלול
 המקורי עולה(.
 קל לראות פורמלית כי גם המסלול המשוקף מגיע אל 
\begin_inset Formula $p$
\end_inset

, ולכן אפשר לשרשר לו את המשך המסלול הרגיל.
\end_layout

\begin_layout Standard
קל לראות כי ההתאמה שתיארנו היא חד חד ערכית, שכן ניתן להפוך אותה על ידי ביצוע
 שיקוף חוזר.
 כמו כן נשים לב שההתאמה הפיכה 
\series bold
לכל
\series default
 מסלול מ-
\begin_inset Formula $\left(1,-1\right)$
\end_inset

 אל 
\begin_inset Formula $\left(n,n\right)$
\end_inset

 שכן מסלול שכזה חייב לגעת מתישהו ב-
\begin_inset Formula $y=x-1$
\end_inset

 )כי הוא מתחיל מתחת לאלכסון זה וצריך לסיים מעליו(, ולכן קיבלנו התאמה חח"ע
 ועל כמבוקש.
\end_layout

\begin_layout Standard
קיבלנו כי 
\begin_inset Formula $C_{\text{n}}={2n \choose n}-{2n \choose n-1}$
\end_inset

.
 כדי לפשט את הביטוי נשים לב לכך ש-
\begin_inset Formula 
\begin{eqnarray*}
{2n \choose n-1} & = & \frac{\left(2n\right)!}{\left(n-1\right)!\left(n+1\right)!}=\frac{\left(2n\right)!}{n!n!}\cdot\frac{n!}{\left(n-1\right)!}\cdot\frac{n!}{\left(n+1\right)!}\\
 & = & {2n \choose n}\cdot\frac{n}{n+1}
\end{eqnarray*}

\end_inset


\end_layout

\begin_layout Standard
ומכאן:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{eqnarray*}
C_{n} & = & {2n \choose n}-{2n \choose n-1}\\
 & = & {2n \choose n}\left(1-\frac{n}{n+1}\right)\\
 & = & \frac{1}{n+1}{2n \choose n}
\end{eqnarray*}

\end_inset


\end_layout

\begin_layout Standard
זהו ביטוי מפורש למספר קטלן 
\begin_inset Formula $C_{n}$
\end_inset

.
\end_layout

\begin_layout Subsection
סוגריים מאוזנים ומילות דיק
\end_layout

\begin_layout Standard
סוגריים מאוזנים הם מקרה פרטי של מושג כללי יותר:
\end_layout

\begin_layout Definition

\series bold
מילת דיק
\series default
 מאורך 
\begin_inset Formula $2n$
\end_inset

 מעל הסימנים 
\begin_inset Formula $\left\{ a,b\right\} $
\end_inset

 היא מילה 
\begin_inset Formula $w\in\left\{ a,b\right\} ^{2n}$
\end_inset

 עם בדיוק 
\begin_inset Formula $n$
\end_inset

 מופעים של 
\begin_inset Formula $a$
\end_inset

 ו-
\begin_inset Formula $n$
\end_inset

 מופעים של 
\begin_inset Formula $b$
\end_inset

 שהיא בעלת התכונה שבכל רישא של המילה, מספר ה-
\begin_inset Formula $a$
\end_inset

-ים גדול או שווה למספר ה-
\begin_inset Formula $b$
\end_inset

-ים.
 פורמלית מסמנים זאת באופן הבא: לכל פירוק 
\begin_inset Formula $w=uv$
\end_inset

 מתקיים ש-
\begin_inset Formula $\#_{a}\left(u\right)\ge\#_{b}\left(u\right)$
\end_inset

, וכמו כן מתקיים 
\begin_inset Formula $\#_{a}\left(w\right)=\#_{b}\left(w\right)$
\end_inset

.
\end_layout

\begin_layout Standard
סדרת סוגריים חוקית היא מילת דיק שבה הסימנים הם 
\begin_inset Formula $(,)$
\end_inset

 בהתאמה.
 לצורך נוחות הסימונים נעבור כעת להשתמש בסימנים 
\begin_inset Formula $U,R$
\end_inset

.
\end_layout

\begin_layout Standard
ראשית נשים לב לשקילות הברורה שבין מסלולי שריג וסדרות סוגריים חוקיות - 
\begin_inset Formula $U$
\end_inset

 מציין צעד עלייה למעלה, 
\begin_inset Formula $R$
\end_inset

 מציין צעד ימינה, והתנאי על האלכסון שקול לתנאי על מילות דיק.
 לכן 
\begin_inset Formula $C_{n}$
\end_inset

 הוא מספרן של מילות הדיק מאורך 
\begin_inset Formula $2n$
\end_inset

.
\end_layout

\begin_layout Standard
כעת נשתמש בדרך ההצגה באמצעות מילות דיק כדי לפתח ביטוי רקורסיבי למספרי קטלן.
\end_layout

\begin_layout Standard

\series bold
בסיס:
\series default
 
\begin_inset Formula $C_{0}=1$
\end_inset


\end_layout

\begin_layout Standard

\series bold
צעד:
\series default
 
\begin_inset Formula $C_{n+1}=\sum_{i=0}^{n}C_{i}C_{n-i}$
\end_inset


\end_layout

\begin_layout Standard
הנוסחה נובעת מהאבחנה הבאה: לכל מילת דיק לא ריקה 
\begin_inset Formula $w$
\end_inset

 קיימת הצגה יחידה מהצורה 
\begin_inset Formula $w=UxRy$
\end_inset

 כך ש-
\begin_inset Formula $x,y$
\end_inset

 הן מילות דיק, אולי ריקות.
 מכאן שמספר ה-
\begin_inset Formula $w$
\end_inset

-ים מאורך 
\begin_inset Formula $2\left(n+1\right)$
\end_inset

 הוא כמספרם של כל הזוגות 
\begin_inset Formula $x,y$
\end_inset

 של מילות דיק שמקיימות 
\begin_inset Formula $\left|x\right|+\left|y\right|=2n$
\end_inset

.
\end_layout

\begin_layout Standard
מכאן מתקבלת הנוסחה: 
\begin_inset Formula $C_{n+1}=\sum_{i=0}^{n}C_{i}C_{n-i}$
\end_inset

 הוא עיקרון החיבור בפעולה, כשמפרידים בין מקרים שונים לפי אורך 
\begin_inset Formula $x$
\end_inset

 )שהוא במקרה הכללי 
\begin_inset Formula $2i$
\end_inset

(.
 בהינתן בחירה של מילת דיק באורך 
\begin_inset Formula $2i$
\end_inset

 עבור 
\begin_inset Formula $x$
\end_inset

 )
\begin_inset Formula $C_{i}$
\end_inset

 אפשרויות( אנו בוחרים מילת דיק 
\begin_inset Formula $y$
\end_inset

 מאורך 
\begin_inset Formula $2\left(n-i\right)$
\end_inset

 )
\begin_inset Formula $C_{n-i}$
\end_inset

 אפשרויות( ומשתמשים בעיקרון הכפל לקבלת מספר כל הזוגות של 
\begin_inset Formula $\left(x,y\right)$
\end_inset

 שכאלו.
\end_layout

\begin_layout Standard
נוכיח את הטענה על קיום הפירוק היחיד 
\begin_inset Formula $w=UxRy$
\end_inset

.
 ראשית, האות הראשונה ב-
\begin_inset Formula $w$
\end_inset

 חייבת להיות 
\begin_inset Formula $U$
\end_inset

 כי אם היא תהיה 
\begin_inset Formula $R$
\end_inset

 זה יפר את התנאי שמגדיר מילות דיק.
\end_layout

\begin_layout Standard
נתבונן על הפירוקים האפשריים של 
\begin_inset Formula $w$
\end_inset

 לרישא וסיפא, 
\begin_inset Formula $w=uy$
\end_inset

, וניקח פירוק שמקיים 
\begin_inset Formula $\#_{R}\left(u\right)=\#_{U}\left(u\right)$
\end_inset

 כך שאורך 
\begin_inset Formula $u$
\end_inset

 הוא מינימלי מבין כל הפירוקים שמקיימים זאת.
 נשים לב לכך שבהכרח קיים פירוק אחד לפחות כזה, שכן 
\begin_inset Formula $u=w$
\end_inset

 מקיים זאת על פי הגדרת מילות דיק.
\end_layout

\begin_layout Standard
נסמן 
\begin_inset Formula $u=u^{\prime}\sigma$
\end_inset

.
 לפי התנאי על מילות דיק 
\begin_inset Formula $\#_{R}\left(u^{\prime}\right)\le\#_{U}\left(u^{\prime}\right)$
\end_inset

.
 לכן בהכרח 
\begin_inset Formula $\sigma=R$
\end_inset

 )אחרת היינו מקבלים 
\begin_inset Formula $\#_{R}\left(u\right)<\#_{U}\left(u\right)$
\end_inset

( ולכן ניתן לכתוב 
\begin_inset Formula $u=UxR$
\end_inset

.
 כעת נראה כי 
\begin_inset Formula $x$
\end_inset

 היא מילת דיק: לכל רישא 
\begin_inset Formula $x^{\prime}$
\end_inset

 של 
\begin_inset Formula $x$
\end_inset

 מתקיים
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\#_{R}\left(x^{\prime}\right) & =\#_{R}\left(Ux^{\prime}\right)<\#_{U}\left(Ux^{\prime}\right)=\#_{U}\left(x^{\prime}\right)+1
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
כאשר אי השוויון הוא חזק בזכות המינימליות של 
\begin_inset Formula $u$
\end_inset

.
 מכך ש-
\begin_inset Formula $\#_{R}\left(x^{\prime}\right)<\#_{U}\left(x^{\prime}\right)+1$
\end_inset

 והעובדה שכל המספרים במשוואה שלמים, נסיק 
\begin_inset Formula $\#_{R}\left(x^{\prime}\right)\le\#_{U}\left(x^{\prime}\right)$
\end_inset

.
\end_layout

\begin_layout Standard
כמו כן, 
\begin_inset Formula $\#_{R}\left(x\right)=\#_{R}\left(UxR\right)-1=\#_{U}\left(UxR\right)-1=\#_{U}\left(x\right)$
\end_inset


\end_layout

\begin_layout Standard
ולכן 
\begin_inset Formula $x$
\end_inset

 מקיימת את התכונה שמספר ה-
\begin_inset Formula $U$
\end_inset

 וה-
\begin_inset Formula $R$
\end_inset

-ים בה מתאזן בסוף.
 מכאן ש-
\begin_inset Formula $x$
\end_inset

 היא מילת דיק.
\end_layout

\begin_layout Standard
כעת נעבור ל-
\begin_inset Formula $y$
\end_inset

.
 כדי לראות שהיא מילת דיק נסתמך כמקודם על התכונה שמגדירה מילות דיק והעובדה
 ש-
\begin_inset Formula $u$
\end_inset

 ו-
\begin_inset Formula $w=uy$
\end_inset

 הן מילת דיק:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\#_{R}\left(y\right) & =\#_{R}\left(uy\right)-\#_{R}\left(u\right)=\#_{U}\left(uy\right)-\#_{U}\left(u\right)=\#_{U}\left(y\right)
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
ולכל רישא 
\begin_inset Formula $y^{\prime}$
\end_inset

 של 
\begin_inset Formula $y$
\end_inset

, נסתמך על כך ש-
\begin_inset Formula $uy^{\prime}$
\end_inset

 היא רישא של 
\begin_inset Formula $w$
\end_inset

 ונקבל:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\#_{R}\left(y^{\prime}\right) & =\#_{R}\left(uy^{\prime}\right)-\#_{R}\left(u\right)\le\#_{U}\left(uy^{\prime}\right)-\#_{U}\left(u\right)=\#_{U}\left(y^{\prime}\right)
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
כמבוקש.
\end_layout

\begin_layout Subsection
עצים בינאריים
\end_layout

\begin_layout Definition

\series bold
עץ בינארי
\series default
 הוא עץ מכוון שבו דרגת היציאה של כל צומת היא לכל היותר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
2
\numeric off
.
\end_layout

\begin_layout Definition

\series bold
עץ בינארי מלא
\series default
 הוא עץ בינארי שבו דרגת היציאה של כל צומת היא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
או
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
2
\numeric off
.
\end_layout

\begin_layout Standard
אם יש קשת מצומת 
\begin_inset Formula $u$
\end_inset

 אל צומת 
\begin_inset Formula $v$
\end_inset

 אנו אומרים ש-
\begin_inset Formula $v$
\end_inset

 הוא 
\series bold
בן
\series default
 של 
\begin_inset Formula $u$
\end_inset

.
 בן יכול להיות אחד מהשניים: 
\series bold
בן ימני
\series default
 או 
\series bold
בן שמאלי
\series default
 )אך לא שניהם(, ולכן לכל צומת יש ארבע אפשרויות: או שיש לו בן ימני ובן שמאלי,
 או שיש לו רק בן ימני, או שיש לו רק בן שמאלי, או שאין לו בנים כלל.
 אנו מבדילים בין עצים שונים על פי הבנים שלהם: למשל, עץ שמורכב משני צמתים
 שאחד מהם הוא בן ימני של השני ייחשב 
\series bold
שונה
\series default
 מעץ בעל שני צמתים שאחד מהם הוא בן שמאלי של השני.
\end_layout

\begin_layout Standard
כמה עצים בינאריים בעלי 
\begin_inset Formula $n$
\end_inset

 צמתים )לא מסומנים( קיימים?
\end_layout

\begin_layout Standard
כאן נוח להשתמש בתיאור רקורסיבי של עצים בינאריים:
\end_layout

\begin_layout Claim
)עצים בינאריים, הגדרה רקורסיבית(
\begin_inset Separator latexpar
\end_inset


\end_layout

\begin_deeper
\begin_layout Itemize
הגרף הריק הוא עץ בינארי.
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $T_{1},T_{2}$
\end_inset

 הם עצים בינאריים אז גרף מצומת 
\begin_inset Formula $r$
\end_inset

 וקשתות אל 
\begin_inset Formula $T_{1},T_{2}$
\end_inset

 הוא עץ בינארי )"קשת אל 
\begin_inset Formula $T$
\end_inset

" פירושה קשת אל השורש של 
\begin_inset Formula $T$
\end_inset

 אם 
\begin_inset Formula $T$
\end_inset

 לא ריק, ואחרת אין קשת(
\end_layout

\end_deeper
\begin_layout Standard
נסמן ב-
\begin_inset Formula $B_{n}$
\end_inset

 את מספר העצים הבינאריים על 
\begin_inset Formula $n$
\end_inset

 צמתים.
 מהתיאור הרקורסיבי שלעיל נובעת הנוסחה הרקורסיבית הבאה:
\end_layout

\begin_layout Standard
\begin_inset Formula $B_{0}=1$
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula $B_{n+1}=\sum_{i=0}^{n}B_{i}B_{n-i}$
\end_inset

 - סכימה על הבחירות האפשריות של עצים בתור בנים ל-
\begin_inset Formula $r$
\end_inset

; סכום הצמתים בשני העצים הוא 
\begin_inset Formula $n$
\end_inset

 כי הצומת הנוסף משמש בתפקיד 
\begin_inset Formula $r$
\end_inset

.
\end_layout

\begin_layout Standard
נוסחה זו זהה לחלוטין לנוסחה של מספרי קטלן, דהיינו 
\begin_inset Formula $B_{n}=C_{n}$
\end_inset

.
\end_layout

\begin_layout Standard
נעבור כעת לטפל באופן דומה בעצים בינאריים מלאים.
 ההבדל העיקרי הוא שאנחנו סופרים את מספר העצים הבינאריים המלאים בעלי 
\begin_inset Formula $n$
\end_inset

 
\series bold
עלים
\series default
, ולא צמתים.
 נסמן מספר זה ב-
\begin_inset Formula $D_{n}$
\end_inset

 ונוכיח שמתקיים 
\begin_inset Formula $D_{n+1}=C_{n}$
\end_inset

, כלומר מספר קטלן ה-
\begin_inset Formula $n$
\end_inset

-י הוא מספר העצים הבינאריים המלאים בעלי 
\begin_inset Formula $n+1$
\end_inset

 עלים.
\end_layout

\begin_layout Claim
)עצים בינאריים מלאים, הגדרה רקורסיבית(
\begin_inset Separator latexpar
\end_inset


\end_layout

\begin_deeper
\begin_layout Itemize
גרף בעל צומת בודד הוא עץ בינארי מלא.
\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $T_{1},T_{2}$
\end_inset

 הם עצים בינאריים מלאים לא ריקים אז גרף שמורכב מצומת 
\begin_inset Formula $r$
\end_inset

 וקשתות אל 
\begin_inset Formula $T_{1},T_{2}$
\end_inset

 הוא עץ בינארי מלא.
\end_layout

\end_deeper
\begin_layout Standard
בעץ בעל צומת אחד יש גם עלה בודד.
 בעץ שנבנה מתוך 
\begin_inset Formula $T_{1}$
\end_inset

 ו-
\begin_inset Formula $T_{2}$
\end_inset

 מספר העלים הוא סכום מספרי העלים של 
\begin_inset Formula $T_{1},T_{2}$
\end_inset

.
 זה מוביל לנוסחה הבאה:
\end_layout

\begin_layout Standard
\begin_inset Formula $D_{1}=1$
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula $D_{n+1}=\sum_{i=1}^{n}D_{i}D_{n+1-i}$
\end_inset

 - דומה לנוסחה הקודמת, אבל כעת עץ אינו יכול להכיל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
עלים.
\end_layout

\begin_layout Standard
נוכיח ש-
\begin_inset Formula $C_{n}=D_{n+1}$
\end_inset

 באינדוקציה על 
\begin_inset Formula $n$
\end_inset

.
\end_layout

\begin_layout Standard

\series bold
בסיס: 
\begin_inset Formula $C_{0}=1=D_{1}$
\end_inset


\end_layout

\begin_layout Standard

\series bold
צעד: 
\series default
נניח 
\begin_inset Formula $C_{k}=D_{k+1}$
\end_inset

 לכל 
\begin_inset Formula $k\le n$
\end_inset

 ונוכיח עבור 
\begin_inset Formula $n+1$
\end_inset

 תוך שניעזר בהחלפת המשתנה 
\begin_inset Formula $i=k+1$
\end_inset

 )ולכן 
\begin_inset Formula $k=i-1$
\end_inset

(:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
C_{n+1} & =\sum_{k=0}^{n}C_{k}C_{n-k}=\sum_{k=0}^{n}D_{k+1}D_{n+1-k}\\
 & =\sum_{i=1}^{n+1}D_{i}D_{n+2-i}=D_{n+2}
\end{align*}

\end_inset

כלומר, מספר העצים הבינאריים המלאים בעלי 
\begin_inset Formula $n+1$
\end_inset

 עלים הוא בדיוק מספר קטלן ה-
\begin_inset Formula $n$
\end_inset

.
\end_layout

\begin_layout Standard
נעבור כעת לעצים 
\series bold
לא בינאריים
\series default
 אבל שעדיין יש בהם חשיבות לסדר הבנים.
 עצים כאלו נקראים 
\series bold
עצים סדורים
\series default
.
 נסמן ב-
\begin_inset Formula $E_{n}$
\end_inset

 את מספר העצים הבינאריים הסדורים בעלי 
\begin_inset Formula $n$
\end_inset

 צמתים.
\end_layout

\begin_layout Claim
\begin_inset Formula $E_{n+1}=C_{n}$
\end_inset

, כלומר מספר קטלן ה-
\begin_inset Formula $n$
\end_inset

 הוא מספר העצים הסדורים בעלי 
\begin_inset Formula $n+1$
\end_inset

 צמתים.
\end_layout

\begin_layout Proof
להבדיל מהמקרים הקודמים בהם נעזרנו בהגדרה האינדוקטיבית של מספרי קטלן, כאן
 נראה התאמה חח
\begin_inset Quotes erd
\end_inset

ע ועל ישירה בין עצים בעלי 
\begin_inset Formula $n+1$
\end_inset

 צמתים ומילות דיק מאורך 
\begin_inset Formula $2n$
\end_inset

 מעל 
\begin_inset Formula $\left\{ a,b\right\} $
\end_inset

.
\end_layout

\begin_layout Proof
בהינתן עץ מכוון כלשהו 
\begin_inset Formula $T=\left(V,E\right)$
\end_inset

 עם שורש 
\begin_inset Formula $r$
\end_inset

 נגדיר פונקציה 
\begin_inset Formula $f:V\to\left\{ a,b\right\} ^{*}$
\end_inset

 באופן הרקורסיבי הבא: לכל צומת 
\begin_inset Formula $v$
\end_inset

, נסמן את בניו בתור 
\begin_inset Formula $u_{1},\ldots,u_{k}$
\end_inset

 על פי הסדר שלהם )אם 
\begin_inset Formula $v$
\end_inset

 הוא עלה סדרת הבנים תהיה ריקה(.
 ניתן להניח כי 
\begin_inset Formula $f$
\end_inset

 כבר הוגדרה רקורסיבית על בנים אלו.
\end_layout

\begin_deeper
\begin_layout Itemize
אם 
\begin_inset Formula $v\ne r$
\end_inset

 נגדיר 
\begin_inset Formula $f\left(v\right)=af\left(u_{1}\right)f\left(u_{2}\right)\cdots f\left(u_{k}\right)b$
\end_inset


\end_layout

\begin_layout Itemize
אם 
\begin_inset Formula $v=r$
\end_inset

 נגדיר 
\begin_inset Formula $f\left(v\right)=f\left(u_{1}\right)f\left(u_{2}\right)\cdots f\left(u_{k}\right)$
\end_inset

 )אותה הגדרה, אך ללא ה-
\begin_inset Formula $a$
\end_inset

 בהתחלה וה-
\begin_inset Formula $b$
\end_inset

 בסוף(
\end_layout

\end_deeper
\begin_layout Proof
בבירור 
\begin_inset Formula $f$
\end_inset

 מוגדרת היטב וקל לבדוק שהיא מחזירה מילת דיק על פי בדיקה ישירה של התנאים
 שמגדירים מילת דיק.
 כעת, לכל עץ 
\begin_inset Formula $T$
\end_inset

 בעל 
\begin_inset Formula $n+1$
\end_inset

 צמתים נתאים את המילה 
\begin_inset Formula $f\left(r\right)$
\end_inset

.
 יש להוכיח מילה זו היא מאורך 
\begin_inset Formula $2n$
\end_inset

; כדי לעשות זאת מוכיחים באינדוקציה כי לכל 
\begin_inset Formula $v\ne r$
\end_inset

 מתקיים ש-
\begin_inset Formula $f\left(v\right)$
\end_inset

 היא מאורך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כפול גודל תת-העץ ששורשו 
\begin_inset Formula $v$
\end_inset

 )כולל 
\begin_inset Formula $v$
\end_inset

 עצמו(.
\end_layout

\begin_layout Proof
נותר להראות כי ההתאמה הפיכה, כלומר לכל מילת דיק מאורך 
\begin_inset Formula $2n$
\end_inset

 עלינו להראות עץ סדור בעל 
\begin_inset Formula $n+1$
\end_inset

 צמתים שמייצר מילה זו.
 ההוכחה היא באינדוקציה על 
\begin_inset Formula $n$
\end_inset

.
 עבור 
\begin_inset Formula $n=0$
\end_inset

, העץ בעל צומת בודד מייצר את המילה הריקה.
 נניח כי לכל 
\begin_inset Formula $k<n$
\end_inset

, לכל מילת דיק מאורך 
\begin_inset Formula $2k$
\end_inset

 קיים עץ בעל 
\begin_inset Formula $k+1$
\end_inset

 צמתים שמייצר את המילה הזו.
 נוכיח את הטענה עבור מילת דיק מאורך 
\begin_inset Formula $2\left(n+1\right)$
\end_inset

 עבור 
\begin_inset Formula $n\ge0$
\end_inset

 כלשהו.
\end_layout

\begin_layout Proof
כפי שראינו קודם, מילת דיק מאורך גדול מ-
\numeric on
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא בעלת הצגה יחידה בצורה 
\begin_inset Formula $axby$
\end_inset

 כאשר 
\begin_inset Formula $x,y$
\end_inset

 מילות דיק.
 אז 
\begin_inset Formula $\left|x\right|+\left|y\right|=2\left(n+1\right)-2=2n$
\end_inset

.
 נסמן 
\begin_inset Formula $\left|x\right|=2i$
\end_inset

, אז 
\begin_inset Formula $\left|y\right|=2\left(n-i\right)$
\end_inset

.
 ניתן להשתמש בהנחת האינדוקציה הן עבור 
\begin_inset Formula $x$
\end_inset

 והן עבור 
\begin_inset Formula $y$
\end_inset

 ולקבל שקיימים עבורם עצים בעלי 
\begin_inset Formula $i+1$
\end_inset

 ו-
\begin_inset Formula $n+1-i$
\end_inset

 צמתים בהתאמה שהאלגוריתם מייצר עליהם את המילים 
\begin_inset Formula $x,y$
\end_inset

.
 נסמן עצים אלו ב-
\begin_inset Formula $T_{x},T_{y}$
\end_inset

.
\end_layout

\begin_layout Proof
כעת נבנה עץ חדש 
\begin_inset Formula $T_{w}$
\end_inset

 באופן הבא: 
\begin_inset Formula $T_{w}$
\end_inset

 יכלול צומת 
\begin_inset Formula $r$
\end_inset

 שישמש כשורש העץ, ואליו נחבר את השורש של העץ 
\begin_inset Formula $T_{x}$
\end_inset

 )כשאל שורש זה מחובר יתר העץ(, וכמו כן נחבר אליו על פי הסדר שלהם את כל 
\series bold
הבנים
\series default
 של השורש של 
\begin_inset Formula $T_{y}$
\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 )את השורש של 
\begin_inset Formula $T_{y}$
\end_inset

 עצמו לא נחבר(.
\end_layout

\begin_layout Proof
בעץ החדש שקיבלנו מספר הצמתים הוא כמספר צמתי 
\begin_inset Formula $T_{x}$
\end_inset

 ועוד מספר צמתי 
\begin_inset Formula $T_{y}$
\end_inset

 למעט אחד )השורש( ועוד אחד )השורש החדש(.
 בסך הכל יש בעץ 
\begin_inset Formula $\left(i+1\right)+\left(n+1-i\right)=n+2$
\end_inset

 צמתים, בהתאם לכך ש-
\begin_inset Formula $w$
\end_inset

 היא מאורך 
\begin_inset Formula $2\left(n+1\right)$
\end_inset

.
\end_layout

\begin_layout Proof
כדי לראות כי האלגוריתם מחזיר את 
\begin_inset Formula $w$
\end_inset

 על 
\begin_inset Formula $T_{w}$
\end_inset

, נסמן את שורש 
\begin_inset Formula $T_{w}$
\end_inset

 ב-
\begin_inset Formula $r$
\end_inset

, את שורשח 
\begin_inset Formula $T_{x},T_{y}$
\end_inset

 ב-
\begin_inset Formula $r_{x},r_{y}$
\end_inset

 ואת בניו של 
\begin_inset Formula $r_{y}$
\end_inset

 ב-
\begin_inset Formula $v_{1},\ldots,v_{k}$
\end_inset

.
\end_layout

\begin_layout Proof
אנו יודעים ש-
\begin_inset Formula $x=f\left(T_{x}\right)=f\left(r_{x}\right)$
\end_inset

 כאשר 
\begin_inset Formula $r_{x}$
\end_inset

 הוא שורש, ולכן נסיק שאם 
\begin_inset Formula $r_{x}$
\end_inset

 
\series bold
איננו
\series default
 שורש בעץ כלשהו, אז 
\begin_inset Formula $f\left(r_{x}\right)=axy$
\end_inset

.
\end_layout

\begin_layout Proof
כמו כן אנו יודעים ש-
\begin_inset Formula $y=f\left(T_{y}\right)=f\left(r_{y}\right)=f\left(v_{1}\right)\ldots f\left(v_{k}\right)$
\end_inset

.
 כעת נסיק:
\end_layout

\begin_layout Proof
\begin_inset Formula 
\begin{align*}
f\left(T_{w}\right) & =f\left(r\right)=f\left(r_{x}\right)f\left(v_{1}\right)\ldots f\left(v_{k}\right)\\
 & =axbf\left(v_{1}\right)\ldots f\left(v_{k}\right)\\
 & =axby
\end{align*}

\end_inset


\end_layout

\begin_layout Proof
כמבוקש.
\end_layout

\begin_layout Subsection
שילושים של מצולע קמור
\end_layout

\begin_layout Standard
בהינתן מצולע קמור, 
\series bold
שילוש
\series default
 שלו הוא אוסף של אלכסונים שמועברים בתוכו מבלי לחתוך אלו את אלו ומחלקים אותו
 למשולשים.
\end_layout

\begin_layout Paragraph
\begin_inset Graphics
	filename images/triangulations.png
	scale 50

\end_inset


\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Standard
נתון מצולע קמור בן 
\begin_inset Formula $n$
\end_inset

 צלעות.
 כמה חלוקות אפשריות שלו למשולשים יש?
\end_layout

\begin_layout Standard
נמספר את קודקודי המצולע ב-
\begin_inset Formula $1,2,3,\ldots,n$
\end_inset

 לפי סדר הופעתם על המצולע.
 נתבונן על הצלע שמחברת את הקודקודים 
\begin_inset Formula $n,1$
\end_inset

: אנחנו יודעים שבכל חלוקה של המצולע למשולשים, הצלע הזו היא חלק ממשולש.
 כל אחד מ-
\begin_inset Formula $n-2$
\end_inset

 הקודקודים האחרים של המצולע יכול לשמש בתור הקודקוד השלישי של המשולש.
 אם בחרנו את הקודקוד 
\begin_inset Formula $i$
\end_inset

 ואנו מוחקים את המשולש מהמצולע, מתקבלים שני מצולעים קמורים חדשים: המצולע
 שמורכב מהקודקודים 
\begin_inset Formula $1,2,\ldots,i$
\end_inset

 והצלע 
\begin_inset Formula $\left(1,i\right)$
\end_inset

, והמצולע שמורכב מהקודקודים 
\begin_inset Formula $i,i+1,\ldots,n$
\end_inset

 והצלע 
\begin_inset Formula $\left(i,n\right)$
\end_inset

.
 אפשר כעת לטפל רקורסיבית בכל אחד מהמקרים, אולם נשים לב לכך שאם 
\begin_inset Formula $i=2$
\end_inset

 או 
\begin_inset Formula $i=n-1$
\end_inset

, אחד משני המצולעים החדשים שנקבל הוא 
\begin_inset Quotes eld
\end_inset

מנוון
\begin_inset Quotes erd
\end_inset

; הוא כולל רק שני קודקודים.
 בסיטואציה כזו, של מצולע בעל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
קודוקדים, אנו מגדירים את מספר השילושים שלו להיות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)
\begin_inset Quotes erd
\end_inset

השילוש הריק
\begin_inset Quotes erd
\end_inset

(.
\end_layout

\begin_layout Standard
אם נסמן ב-
\begin_inset Formula $T_{n}$
\end_inset

 את מספר השילושים של מצולע קמור בעל 
\begin_inset Formula $n$
\end_inset

 צלעות, אז הדיון לעיל מראה כי מתקיימת נוסחת הנסיגה
\end_layout

\begin_layout Standard
\begin_inset Formula $T_{2}=1$
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula $T_{n}=\sum_{i=2}^{n-1}T_{i}T_{n+1-i}$
\end_inset


\end_layout

\begin_layout Standard
כאשר 
\begin_inset Formula $i$
\end_inset

 רץ על הבחירות האפשריות לקודקוד השלישי שאליו מחברים את 
\begin_inset Formula $1,n$
\end_inset

, מה שמוביל לשילוש של מצולע בעל 
\begin_inset Formula $i$
\end_inset

 קודקודים )
\begin_inset Formula $1,2,\ldots i$
\end_inset

( ומצולע בעל 
\begin_inset Formula $n+1-i$
\end_inset

 קודקודים )
\begin_inset Formula $i,i+1,\ldots,n$
\end_inset

(.
\end_layout

\begin_layout Standard
קל לראות כעת באינדוקציה כי 
\begin_inset Formula $C_{n}=T_{n+2}$
\end_inset

, שכן
\end_layout

\begin_layout Standard

\series bold
בסיס:
\series default
 
\begin_inset Formula $C_{0}=1=T_{2}$
\end_inset


\end_layout

\begin_layout Standard

\series bold
צעד:
\series default
 נניח 
\begin_inset Formula $C_{k}=T_{k+2}$
\end_inset

 לכל 
\begin_inset Formula $k\le n$
\end_inset

 ונוכיח עבור 
\begin_inset Formula $n+1$
\end_inset

, תוך שניעזר בהצבה 
\begin_inset Formula $i=k+2$
\end_inset

 )ולכן 
\begin_inset Formula $k=i-2$
\end_inset

(:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
C_{n+1} & =\sum_{k=0}^{n}C_{k}C_{n-k}=\sum_{k=0}^{n}T_{k+2}T_{\left(n-k\right)+2}=\\
 & =\sum_{i=2}^{n+2}T_{i}T_{\left(n-i+2\right)+2}=\sum_{i=2}^{n+2}T_{i}T_{\left(n+3\right)+1-i}\\
 & =T_{n+3}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
כמבוקש.
\end_layout

\begin_layout Section
ספירת מסלולים בגרף
\end_layout

\begin_layout Subsection
מבוא
\end_layout

\begin_layout Standard
בעיות ספירה רבות ניתנות לרדוקציה אל הבעיה של 
\series bold
ספירת מסלולים בגרף
\series default
.
 נציג כאן דוגמא ספציפית אחת.
 נניח שאנו מעוניינים לדעת מה מספרן של המילים 
\begin_inset Formula $w\in\left\{ 1,2,3\right\} ^{n}$
\end_inset

 שהרצף
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
11
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 והרצף 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
23
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לא מופיע בהן.
 פתרון הבעיה בעזרת כלים אלמנטריים או בעזרת עקרון ההכלה וההפרדה לא נראה מבטיח;
 נוסחת נסיגה נראית מתבקשת יותר.
 מה שנציג כאן הוא דרך שיטתית למצוא נוסחת נסיגה שכזו.
\end_layout

\begin_layout Standard
נבנה גרף שצמתיו מסומנים ב-
\begin_inset Formula $1,2,3$
\end_inset

 כך שיש קשת מ-
\begin_inset Formula $i$
\end_inset

 אל 
\begin_inset Formula $j$
\end_inset

 אם לרצף 
\begin_inset Formula $ij$
\end_inset

 מותר להופיע במחרוזת:
\end_layout

\begin_layout Paragraph
\begin_inset Graphics
	filename images/path_count_example.png
	scale 75

\end_inset


\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Standard
מסלול מאורך 
\begin_inset Formula $n-1$
\end_inset

 בגרף מתאר מילה חוקית מאורך 
\begin_inset Formula $n$
\end_inset

.
 נשים לב לכך שמסלול כזה יכול להתחיל בכל אחד מהצמתים, ולכן עלינו לפתור את
 השאלה: בהינתן צומת 
\begin_inset Formula $v_{i}$
\end_inset

 בגרף, כמה מסלולים מאורך 
\begin_inset Formula $n$
\end_inset

 שמתחילים מ-
\begin_inset Formula $v_{i}$
\end_inset

 קיימים? לצורך כך, נזכיר מושג שראינו קודם:
\end_layout

\begin_layout Definition
בהינתן גרף לא מכוון 
\begin_inset Formula $G$
\end_inset

 ללא חוגים עצמיים על צמתים 
\begin_inset Formula $V=\left\{ v_{1},v_{2},\dots,v_{m}\right\} $
\end_inset

 
\series bold
מטריצת השכנויות
\series default
 
\begin_inset Formula $A\in\mathbb{R}^{m\times m}$
\end_inset

 של הגרף מוגדרת כך ש-
\begin_inset Formula $\left[A\right]_{ij}$
\end_inset

 הוא מספר הקשתות בין 
\begin_inset Formula $v_{i}$
\end_inset

 ו-
\begin_inset Formula $v_{j}$
\end_inset

 ב-
\begin_inset Formula $G$
\end_inset

.
\end_layout

\begin_layout Definition
עבור הגרף שבאיור, מטריצת השכנויות היא
\end_layout

\begin_layout Definition
\begin_inset Formula 
\begin{align*}
A= & \left(\begin{array}{ccc}
0 & 1 & 1\\
1 & 1 & 0\\
1 & 1 & 1
\end{array}\right)
\end{align*}

\end_inset


\end_layout

\begin_layout Definition
אפשר לחשוב על המטריצה הזו כמייצגת את מספר המסלולים מאורך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בין צמתי הגרף: מסלול מאורך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כולל קשת בודדת, ולכן מספר הקשתות בין 
\begin_inset Formula $v_{i}$
\end_inset

 ו-
\begin_inset Formula $v_{j}$
\end_inset

 שווה למספר המסלולים ביניהם.
\end_layout

\begin_layout Definition
אם נכפול את 
\begin_inset Formula $A$
\end_inset

 בעצמה )נזכיר בהמשך את ההגדרה הפורמלית של כפל מטריצות( נקבל
\end_layout

\begin_layout Definition
\begin_inset Formula 
\begin{align*}
A^{2} & =\left(\begin{array}{ccc}
2 & 2 & 1\\
1 & 2 & 1\\
2 & 3 & 2
\end{array}\right)
\end{align*}

\end_inset


\end_layout

\begin_layout Definition
נתבונן על ה-
\numeric on
3
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בכניסה ה-
\begin_inset Formula $\left(3,2\right)$
\end_inset

 של המטריצה; הוא סופר את שלושת המסלולים האפשריים מאורך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 מ-
\begin_inset Formula $v_{3}$
\end_inset

 אל 
\begin_inset Formula $v_{2}$
\end_inset

:
\end_layout

\begin_layout Definition
\begin_inset Formula $v_{3}\to v_{3}\to v_{2}$
\end_inset


\end_layout

\begin_layout Definition
\begin_inset Formula $v_{3}\to v_{2}\to v_{2}$
\end_inset


\end_layout

\begin_layout Definition
\begin_inset Formula $v_{3}\to v_{1}\to v_{2}$
\end_inset


\end_layout

\begin_layout Definition
באופן דומה, כל כניסה במטריצה סופרת את המסלולים מאורך 
\begin_inset Formula $2$
\end_inset

.
 הרעיון כעת ברור: 
\begin_inset Formula $\left[A^{n}\right]_{ij}$
\end_inset

 סופר את המסלולים מאורך 
\begin_inset Formula $n$
\end_inset

 מ-
\begin_inset Formula $v_{i}$
\end_inset

 אל 
\begin_inset Formula $v_{j}$
\end_inset

.
 נותר רק להוכיח זאת.
\end_layout

\begin_layout Subsection
הוכחת הטענה הכללית
\end_layout

\begin_layout Standard
ניגש להוכחת המשפט המרכזי שלנו:
\end_layout

\begin_layout Theorem
אם 
\begin_inset Formula $G=\left(V,E\right)$
\end_inset

 הוא גרף )מכוון או לא מכוון( עם קבוצת צמתים 
\begin_inset Formula $V=\left\{ v_{1},\ldots,v_{m}\right\} $
\end_inset

 ו-
\begin_inset Formula $A$
\end_inset

 מטריצת השכנויות של הגרף, אז 
\begin_inset Formula $\left[A^{n}\right]_{ij}$
\end_inset

 הוא מספר המסלולים מאורך 
\begin_inset Formula $n$
\end_inset

 מ-
\begin_inset Formula $v_{i}$
\end_inset

 אל 
\begin_inset Formula $v_{j}$
\end_inset

 בגרף.
\end_layout

\begin_layout Standard
מכיוון שהמשפט והוכחתו מתבססים על חזקות של מטריצות, נזכיר את ההגדרה:
\end_layout

\begin_layout Definition
אם 
\begin_inset Formula $A$
\end_inset

 מטריצה מסדר 
\begin_inset Formula $n\times t$
\end_inset

 ו-
\begin_inset Formula $B$
\end_inset

 מטריצה מסדר 
\begin_inset Formula $t\times m$
\end_inset

 אז 
\begin_inset Formula $AB$
\end_inset

 היא מטריצה מסדר 
\begin_inset Formula $n\times m$
\end_inset

 המוגדרת על ידי 
\begin_inset Formula 
\begin{align*}
\left[AB\right]_{ij} & =\sum_{k=1}^{t}\left[A\right]_{ik}\left[B\right]_{kj}
\end{align*}

\end_inset


\end_layout

\begin_layout Definition
אנו מגדירים חזקות של מטריצות באופן רקורסיבי באמצעות כפל: 
\begin_inset Formula $A^{0}=I$
\end_inset

 ו-
\begin_inset Formula $A^{n+1}=A^{n}\cdot A$
\end_inset

, כאשר 
\begin_inset Formula $I$
\end_inset

 היא מטריצת היחידה: 
\begin_inset Formula $\left[I\right]_{ij}=\delta_{ij}=\begin{cases}
1 & i=j\\
0 & i\ne j
\end{cases}$
\end_inset

.
\end_layout

\begin_layout Standard
ההגדרה של כפל מטריצות אינה קלה לעיכול, אולם דווקא התוצאה שנוכיח כעת היא
 אחת מהדרכים לקבל אינטואיציה עבורה.
 לכן נעבור כעת להוכחת המשפט.
\end_layout

\begin_layout Proof
ההוכחה תהיה באינדוקציה על 
\begin_inset Formula $n$
\end_inset

.
\end_layout

\begin_layout Proof

\series bold
בסיס
\series default
: עבור 
\begin_inset Formula $n=0$
\end_inset

, מכיוון שקיים מסלול יחיד מאורך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מצומת 
\begin_inset Formula $v_{i}$
\end_inset

 לעצמו )המסלול 
\begin_inset Formula $v_{i}$
\end_inset

 שכולל צומת יחיד ואפס קשתות( וקיימים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מסלולים מ-
\begin_inset Formula $v_{i}$
\end_inset

 אל 
\begin_inset Formula $v_{j}$
\end_inset

 עבור 
\begin_inset Formula $i\ne j$
\end_inset

, נקבל על פי הגדרה ש-
\begin_inset Formula $A^{0}=I$
\end_inset

 אכן מתארת את מספר המסלולים המבוקש.
\end_layout

\begin_layout Proof
נניח את נכונות הטענה עבור 
\begin_inset Formula $n$
\end_inset

 ונוכיח עבור 
\begin_inset Formula $n+1$
\end_inset

.
 יהיו 
\begin_inset Formula $1\le i,j\le m$
\end_inset

 כלשהם: נוכיח ש-
\begin_inset Formula $\left[A^{n+1}\right]_{ij}$
\end_inset

 הוא מספר המסלולים מאורך 
\begin_inset Formula $n+1$
\end_inset

 מ-
\begin_inset Formula $v_{i}$
\end_inset

 אל 
\begin_inset Formula $v_{j}$
\end_inset

.
\end_layout

\begin_layout Proof
בהינתן מסלול 
\begin_inset Formula $v_{i}\rightsquigarrow v_{j}$
\end_inset

 שהוא מאורך לפחות 
\begin_inset Formula $1$
\end_inset

, ניתן לסמן ב-
\begin_inset Formula $v_{k}$
\end_inset

 את הצומת הלפני אחרון במסלול ולקבל את המסלול 
\begin_inset Formula $v_{i}\rightsquigarrow v_{k}\to v_{j}$
\end_inset

 כך שהמסלול 
\begin_inset Formula $v_{i}\rightsquigarrow v_{k}$
\end_inset

 הוא מאורך 
\begin_inset Formula $n$
\end_inset

.
 על פי הנחת האינדוקציה, מספר המסלולים מ-
\begin_inset Formula $v_{i}$
\end_inset

 אל 
\begin_inset Formula $v_{k}$
\end_inset

 הוא 
\begin_inset Formula $\left[A^{n}\right]_{ik}$
\end_inset

, ועל פי הגדרת 
\begin_inset Formula $A$
\end_inset

 מספר הקשתות מ-
\begin_inset Formula $v_{k}$
\end_inset

 אל 
\begin_inset Formula $v_{j}$
\end_inset

 הוא 
\begin_inset Formula $\left[A\right]_{kj}$
\end_inset

.
 כל מסלול מהצורה 
\begin_inset Formula $v_{i}\rightsquigarrow v_{k}\to v_{j}$
\end_inset

 מתקבל על ידי בחירה בלתי תלויה של מסלול 
\begin_inset Formula $v_{i}\rightsquigarrow v_{k}$
\end_inset

 וקשת 
\begin_inset Formula $v_{k}\to v_{j}$
\end_inset

 ולכן מעיקרון הכפל מספר המסלולים הכולל מהצורה 
\begin_inset Formula $v_{i}\rightsquigarrow v_{k}\to v_{j}$
\end_inset

 הוא 
\begin_inset Formula $\left[A^{n}\right]_{ik}\left[A\right]_{kj}$
\end_inset

.
\end_layout

\begin_layout Proof
כעת, על פי עיקרון החיבור, מספר המסלולים הכולל 
\begin_inset Formula $v_{i}\rightsquigarrow v_{j}$
\end_inset

 מאורך 
\begin_inset Formula $n+1$
\end_inset

 הוא סכום על מספר המסלולים מהצורה 
\begin_inset Formula $v_{i}\rightsquigarrow v_{k}\to v_{j}$
\end_inset

 לכל הערכים האפשריים של 
\begin_inset Formula $1\le k\le m$
\end_inset

.
 כלומר מספר זה הוא
\end_layout

\begin_layout Proof
\begin_inset Formula 
\begin{align*}
\sum_{k=1}^{m}\left[A^{n}\right]_{ik}\left[A\right]_{kj} & =\left[A^{n+1}\right]_{ij}
\end{align*}

\end_inset


\end_layout

\begin_layout Proof
על פי הגדרת כפל מטריצות, מה שמסיים את ההוכחה.
\end_layout

\begin_layout Standard
אם כן, כאשר אנו מתבוננים על הביטוי 
\begin_inset Formula $\left[AB\right]_{ij}=\sum_{k=1}^{t}\left[A\right]_{ik}\left[B\right]_{kj}$
\end_inset

 שמגדיר כפל מטריצות אנו רואים כי ניתן לתת לו משמעות קומבינטורית: הסכום 
\begin_inset Formula $\sum_{k=1}^{t}$
\end_inset

 הוא 
\series bold
עיקרון החיבור
\series default
 בפעולה, והמכפלה 
\begin_inset Formula $\left[A\right]_{it}\left[B\right]_{tj}$
\end_inset

 היא 
\series bold
עיקרון הכפל
\series default
 בפעולה.
\end_layout

\begin_layout Subsection
שימוש: פונקציות יוצרות ונוסחאות נסיגה
\end_layout

\begin_layout Standard
בפני עצמה, התוצאה שראינו עד כה לא מקדמת אותנו יותר מדי - כפל מטריצות הוא
 פעולה יקרה יחסית ואנו מעוניינים בייצוג טוב יותר לסדרת המספרים שאנחנו מחפשים
 מאשר הייצוג המובלע ב-
\begin_inset Formula $A$
\end_inset

.
 למרבה המזל, קיימת טכניקה כללית שבהינתן 
\begin_inset Formula $A$
\end_inset

 מוצאת את הפונקציה היוצרת 
\begin_inset Formula $f_{ij}\left(x\right)$
\end_inset

 של מספר המסלולים מ-
\begin_inset Formula $v_{i}$
\end_inset

 אל 
\begin_inset Formula $v_{j}$
\end_inset

 מכל אורך 
\begin_inset Formula $n$
\end_inset

.
\end_layout

\begin_layout Standard
נסתמך ללא הוכחה על משפט מאלגברה לינארית:
\end_layout

\begin_layout Theorem
אם 
\begin_inset Formula $B$
\end_inset

 היא מטריצה הפיכה, אז 
\begin_inset Formula $\left[B^{-1}\right]_{ij}=\left(-1\right)^{i+j}\frac{\det B_{ji}}{\det B}$
\end_inset

 כאשר 
\begin_inset Formula $B_{ji}$
\end_inset

 היא המטריצה המתקבלת מ-
\begin_inset Formula $B$
\end_inset

 על ידי מחיקת השורה ה-
\begin_inset Formula $j$
\end_inset

 והעמודה ה-
\begin_inset Formula $i$
\end_inset

.
\end_layout

\begin_layout Standard
נעבור כעת למשפט שברצוננו להוכיח.
 ראשית, נציג את האינטואיציה המובילה אליו.
 במקום להסתכל על המטריצה 
\begin_inset Formula $A$
\end_inset

 נתבונן על המטריצה 
\begin_inset Formula $xA$
\end_inset

, שבה כל הכניסות של 
\begin_inset Formula $A$
\end_inset

 מוכפלות ב-
\begin_inset Formula $x$
\end_inset

.
 נקבל ש-
\begin_inset Formula $\left[\left(xA\right)^{n}\right]_{ij}=\left[A^{n}\right]_{ij}x^{n}$
\end_inset

 הוא מספר המסלולים מאורך 
\begin_inset Formula $n$
\end_inset

 מ-
\begin_inset Formula $v_{i}$
\end_inset

 אל 
\begin_inset Formula $v_{j}$
\end_inset

 כשמספר זה מוכפל ב-
\begin_inset Formula $x^{n}$
\end_inset

.
 כלומר, מתקיים
\end_layout

\begin_layout Standard
\begin_inset Formula $f_{ij}\left(x\right)=\sum_{n=0}^{\infty}\left[\left(xA\right)^{n}\right]_{ij}$
\end_inset


\end_layout

\begin_layout Standard
נתבונן במטריצה 
\begin_inset Formula $F$
\end_inset

 המוגדרת על ידי 
\begin_inset Formula $\left[F\right]_{ij}=f_{ij}\left(x\right)$
\end_inset

, אז מתקיים
\end_layout

\begin_layout Standard
\begin_inset Formula $F=\sum_{n=0}^{\infty}\left(xA\right)^{n}$
\end_inset


\end_layout

\begin_layout Standard
כזכור, ראינו כבר כי ניתן להוכיח את השוויון הפורמלי 
\begin_inset Formula $\sum_{n=0}^{\infty}x^{n}=\frac{1}{1-x}$
\end_inset

.
 
\begin_inset Quotes eld
\end_inset

קפיצת האמונה
\begin_inset Quotes erd
\end_inset

 שעלינו לבצע כאן נובעת מכך שנעשה כעת את אותו הדבר עבור 
\series bold
מטריצה
\series default
.
 דהיינו
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\sum_{n=0}^{\infty}\left(xA\right)^{n} & =\left(I-xA\right)^{-1}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
ההוכחה זהה לחלוטין לזו שכבר ראינו: נכפול את 
\begin_inset Formula $\sum_{n=0}^{\infty}\left(xA\right)^{n}$
\end_inset

 ב-
\begin_inset Formula $\left(I-xA\right)$
\end_inset

, ונקבל טור טלסקופי אינסופי שבו כל האיברים מתבטלים מלבד ה-
\begin_inset Formula $I$
\end_inset

 בהתחלה.
\end_layout

\begin_layout Standard
מכאן נסיק שמתקיים 
\begin_inset Formula $F=\left(I-xA\right)^{-1}$
\end_inset

, ומהמשפט מאלגברה לינארית שציטטנו קודם, נקבל את התוצאה:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
f_{ij}\left(x\right) & =\left[F\right]_{ij}=\left[\left(I-xA\right)^{-1}\right]_{ij}\\
 & =\left(-1\right)^{i+j}\frac{\det\left(I-xA\right)_{ji}}{\det\left(I-xA\right)}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
כאשר, כזכור, 
\begin_inset Formula $\left(I-xA\right)_{ji}$
\end_inset

 הוא המטריצה 
\begin_inset Formula $I-xA$
\end_inset

 לאחר שנמחקו ממנה השורה ה-
\begin_inset Formula $j$
\end_inset

 והעמודה ה-
\begin_inset Formula $i$
\end_inset

.
\end_layout

\begin_layout Standard
קיבלנו שהפונקציה היוצרת של מספר המסלולים מ-
\begin_inset Formula $v_{i}$
\end_inset

 אל 
\begin_inset Formula $v_{j}$
\end_inset

 היא 
\series bold
פונקציה רציונלית
\series default
 במשתנה 
\begin_inset Formula $x$
\end_inset

.
 יותר מכך: המכנה 
\begin_inset Formula $\det\left(I-xA\right)$
\end_inset

 אינו תלוי ב-
\begin_inset Formula $v_{i},v_{j}$
\end_inset

 והוא זהה לכל זוג צמתים בגרף.
 כזכור, המכנה של פונקציה יוצרת רציונלית מגדיר נוסחת נסיגה עבור סדרת המספרים
 שהיא מייצגת; המונה קובע את תנאי ההתחלה.
\end_layout

\begin_layout Standard
חישוב בפועל של הביטוי 
\begin_inset Formula $\left(-1\right)^{i+j}\frac{\det\left(I-xA\right)_{ji}}{\det\left(I-xA\right)}$
\end_inset

 ומציאת נוסחאות הנסיגה ממנו אינו קל לביצוע ידנית, אך למרבה המזל ניתן לביצוע
 בקלות באמצעות מחשב וספריית מתמטיקה התומכת בחישוב סימבולי; זה הופך את פתרון
 הבעיה הקומבינטורית כולה לבעיה של מציאת הפונקציה 
\begin_inset Formula $A$
\end_inset

 שמתארת את הבעיה.
\end_layout

\begin_layout Subsection
חזרה אל הדוגמא
\end_layout

\begin_layout Standard
בדוגמא הקונקרטית שלנו המטריצה הרלוונטית הייתה
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
A=\left(\begin{array}{ccc}
0 & 1 & 1\\
1 & 1 & 0\\
1 & 1 & 1
\end{array}\right)
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
ואנו מתעניינים במספר המסלולים 
\series bold
הכולל
\series default
, מכל צומת לכל צומת.
\end_layout

\begin_layout Standard
ראשית נחשב את 
\begin_inset Formula $I-xA$
\end_inset

:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
I-xA & =\left(\begin{array}{ccc}
1 & -x & -x\\
-x & 1-x & 0\\
-x & -x & 1-x
\end{array}\right)\\
\text{\ensuremath{\det}}\left(I-xA\right) & =-x\left|\begin{array}{cc}
-x & 1-x\\
-x & -x
\end{array}\right|+\left(1-x\right)\left|\begin{array}{cc}
1 & -x\\
-x & 1-x
\end{array}\right|\\
 & =-x\left(x^{2}+x-x^{2}\right)+\left(1-x\right)\left(1-x-x^{2}\right)\\
 & =-x^{2}+\left(1-x-x^{2}\right)-\left(x-x^{2}-x^{3}\right)\\
 & =1-2x-x^{2}+x^{3}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
חישוב הדטרמיננטה של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
9
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
המינורים של המטריצה הוא מהיר יחסית כי אלו דטרמיננטות של מטריצות 
\begin_inset Formula $2\times2$
\end_inset

.
 מקבלים:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\left(I-xA\right)^{-1} & =\frac{1}{1-2x-x^{2}+x^{3}}\left(\begin{array}{ccc}
\left(1-x\right)^{2} & x & x\left(1-x\right)\\
x\left(1-x\right) & 1-x-x^{2} & x^{2}\\
x & x\left(1+x\right) & 1-x-x^{2}
\end{array}\right)
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
הפונקציה היוצרת המבוקשת שלנו היא 
\begin_inset Formula $\sum_{ij}f\left(x\right)$
\end_inset

, כלומר המכנה שלה הוא 
\begin_inset Formula $1-2x-x^{2}+x^{3}$
\end_inset

 והמונה שלה הוא סכום כל אברי המטריצה; חישוב מראה שהסכום הזה הוא 
\begin_inset Formula $3+x-x^{2}$
\end_inset

, כך שקיבלנו את הפונקציה היוצרת
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
f\left(x\right)=\frac{3+x-x^{2}}{1-2x-x^{2}+x^{3}}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
)כל החישוב הנ
\begin_inset Quotes erd
\end_inset

ל ניתן לביצוע באמצעות מחשב(.
\end_layout

\begin_layout Standard
עבור נוסחת הנסיגה, חישוב המונה אינו באמת הכרחי; די במכנה כדי לקבל את נוסחת
 הנסיגה 
\begin_inset Formula $a_{n}=2a_{n-1}+a_{n-2}-a_{n-3}$
\end_inset

 ולחשב באופן מפורש שלושה תנאי התחלה על ידי ספירת כל האפשרויות:
\end_layout

\begin_layout Itemize
\begin_inset Formula $a_{0}=1$
\end_inset

 )המחרוזת הריקה(
\end_layout

\begin_layout Itemize
\begin_inset Formula $a_{1}=3$
\end_inset

 )המחרוזות 
\begin_inset Formula $1,2,3$
\end_inset

(
\end_layout

\begin_layout Itemize
\begin_inset Formula $a_{2}=7$
\end_inset

 )כל המחרוזות מאורך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
9
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
למעט 
\begin_inset Formula $11,23$
\end_inset

(.
\end_layout

\begin_layout Standard
הטכניקה שראינו ל
\begin_inset Quotes erd
\end_inset

חילוץ
\begin_inset Quotes erd
\end_inset

 האיברים הראשונים בסדרה מתוך המונה והמכנה ניתנת למימוש באמצעות מחשב, ותניב
 בצורה אוטומטית את אותם תנאי התחלה, כאשר לוקחים בחשבון שמלכתחילה עסקנו בבעיה
 עם היסט של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
: בנינו גרף כך ש-
\begin_inset Formula $a_{n}$
\end_inset

 שווה למספר המסלולים מאורך 
\begin_inset Formula $n-1$
\end_inset

 בו, ולכן הפונקציה היוצרת מתאימה לסדרה 
\begin_inset Formula $3,7,16\ldots$
\end_inset

.
\end_layout

\end_body
\end_document
