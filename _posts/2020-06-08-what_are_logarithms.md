---
title: "מה זה לוגריתמים ובשביל מה זה טוב?"
layout: post
categories:
  - כללי
tags:
  - לוגריתמים
---

מבין כל המושגים במתמטיקה שנלמדים בבית הספר, לוגריתמים הם כנראה המושג שנשכח הכי בקלות והכי פחות ברור בשביל מה הוא טוב, בעצם. זה כמובן חבל מאוד כי זה מושג מגניב מאוד (וגם שימושי, אבל לא בחיי היום יום שלנו ואני לא אנסה לטעון אחרת) והוא גם לא קשה כל כך להבנה. אני אתחיל מלהסביר מה זה בעצם, ואז נדבר על הבשביל-מה-זה-טוב.

התשובה הקצרה היא "לוגריתם זו הפעולה ההפוכה לחזקה כמו שחיסור הוא הפעולה ההפוכה לחיבור וחילוק הוא הפעולה ההפוכה לכפל" אבל העלילה מסתבכת כבר בשלב הזה, כי יש <strong>שתי</strong> פעולות הפוכות לחזקה ששונות אחת מהשניה מאוד, כי בניגוד לחיבור וכפל, חזקה היא לא פעולה <strong>סימטרית</strong>. מבלבל? כן, אז בואו נתחיל מההתחלה.

אני מניח שאנחנו מכירים חיבור - זו נקודת התחלה לא רעה. אנחנו יודעים ש-{% equation %}3+5=5+3{% endequation %} (זה <strong>חוק החילוף</strong>). אנחנו יודעים שחיסור הוא פעולה הפוכה לחיבור במובן הבא: {% equation %}3+5-5=3{% endequation %}. כלומר, אם חיברתי ל-3 ואז חיסרתי ממנו את אותו מספר, אז אני אחזור אל מה שהתחלתי ממנו. אני רוצה טיפה לחדד את זה בצורה שנשמעת פדנטית אבל בהמשך אולי יהיה ברור למה אני מתעקש עליה: הפעולה "לחסר 5" היא הפעולה ההפוכה של "לחבר 5". כמובן שלא נכון לומר ש"לחסר 5" היא הפעולה ההפוכה של "לחבר 4", כלומר יש חשיבות לשאלה מה המספר הספציפי שמחסרים.

עכשיו נעבור אל פעולת הכפל. מה זה כפל? סביר שגם אותו אנחנו מכירים: על כפל במספר טבעי אפשר לחשוב בתור הרבה פעולות חיבור. {% equation %}3\times5{% endequation %} הוא דרך אחרת לומר {% equation %}3+3+3+3+3{% endequation %} - חיברנו את 3 לעצמו 5 פעמים. עכשיו, עבור כפל, קורה אותו הסיפור שקרה עבור חיבור בדיוק: {% equation %}3\times5=5\times3{% endequation %} - הנה שוב חוק החילוף בפעולה. והפעולה ההפוכה ל"כפל ב-5" נקראת "חלוקה ב-5" ואני לרוב מסמן אותה ככה: {% equation %}3\times5\times\frac{1}{5}=3{% endequation %} (כלומר, אני <strong>מגדיר</strong> חלוקה ב-5 בתור כפל ב-{% equation %}\frac{1}{5}{% endequation %}). ההבדל היחיד בין חיבור וחיסור ובין כפל וחילוק הוא שבכפל וחילוק, לא קיימת פעולה הפוכה ל"כפל ב-0". אבל זה <a href="https://gadial.net/2008/10/16/nullity_part_1/">סיפור לפעם אחרת</a>.

אחרי כפל, הפעולה הבאה שאפשר לדבר עליה היא <strong>חזקה</strong>. אם כפל במספר טבעי מוגדר בתור "לחזור על החיבור כמה פעמים", אז העלאה בחזקת מספר טבעי מוגדרת בתור "לחזור על הכפל כמה פעמים". כלומר, הסימון {% equation %}3^{5}{% endequation %} מייצג את {% equation %}3\times3\times3\times3\times3{% endequation %} - כופלים את 3 בעצמו 5 פעמים.

וכאן הסיפור מתחיל להסתבך.

בניגוד לחיבור וכפל, חוק החילוף <strong>לא מתקיים</strong> עבור חזקות. אפשר פשוט לבדוק את זה בעזרת דוגמא: {% equation %}3^{5}=243{% endequation %} אבל {% equation %}5^{3}=125{% endequation %}. המקרה היחיד של שני מספרים שונים זה מזה שעבורם חוק החילוף מתקיים הוא {% equation %}2^{4}=4^{2}=16{% endequation %} (ואיכשהו אלו תמיד שני המספרים הראשונים שעולים לי לראש כשאני רוצה לתת דוגמאות לחזקה). גם הכתיב של חזקה מאפשר לנו לראות שאין סימטריה: בביטוי {% equation %}3^{5}{% endequation %} יש את המספר שכתוב בגדול ואת זה שנמצא בקטן למעלה. למספר הגדול שלמטה, 3 במקרה שלנו, קוראים <strong>בסיס החזקה</strong>. למספר הקטן שלמעלה, 5 במקרה הנוכחי, קוראים <strong>מעריך החזקה</strong>. פעולת החזקה פירושה לכפול את בסיס החזקה שוב ושוב בעצמו מספר פעמים ששווה למעריך החזקה.

אם כן, העלאה בחזקה היא פעולה שכוללת שני "קלטים" שונים. נוח לדבר על הפעולה הזו כש"מקפיאים" את אחד מהקלטים להיות איזה שהוא ערך קונקרטי ואז שואלים את עצמו מה קורה כשנותנים ערכים שונים ומשונים בתור הקלט השני. קשר כזה בין קלטים ופלטים נקרא "פונקציה".

בואו נראה דוגמא קונקרטית. נניח שנקפיא את <strong>מעריך</strong> החזקה להיות תמיד 2, ונשאל את עצמנו מה קורה עבור בסיסים שונים. נקבל את הפונקציה {% equation %}f\left(x\right)=x^{2}{% endequation %} שאנחנו קוראים לה <strong>העלאה בריבוע</strong>. הפעולה ה"הפוכה" להעלאה בריבוע היא הוצאת שורש ריבועי: {% equation %}g\left(x\right)=\sqrt{x}{% endequation %}. אני כותב "הפוכה" במרכאות כי זה לא מדויק במאה אחוזים: אם אני לוקח את {% equation %}-2{% endequation %} ומעלה אותו בריבוע אקבל 4, ואחרי הוצאת שורש ריבועי אקבל 2 כי מגדירים את פעולת הוצאת השורש ככזו שמחזירה את השורש החיובי.

באופן דומה אפשר לדבר על העלאה בחזקות גבוהות יותר: {% equation %}f\left(x\right)=x^{n}{% endequation %} עבור {% equation %}n{% endequation %} טבעי כלשהו. הפעולה ההפוכה לזה נקראת "שורש מסדר גבוה" ומסומנת ב-{% equation %}g\left(x\right)=\sqrt[n]{x}{% endequation %}. את הפעולות הללו אנחנו מכירים יחסית טוב; למשל, הקפיצה מאורך צלע של קוביה אל הנפח שלה היא העלאה בחזקה שלישית, ולכן הקפיצה חזרה מנפח של קובייה אל אורך הצלע שלה הוא הוצאת שורש שלישי. כמובן, במכולת אנחנו לא זקוקים לפעולות הללו אבל הן יותר נטועות במציאות היומיומית שלנו מאשר מה שאנחנו הולכים לדבר עליו עכשיו.

עכשיו, סוף כל סוף, אנחנו מגיעים אל לוגריתמים.

ראשית, בואו נדבר על הפעולה של העלאה בחזקה כשדווקא <strong>הבסיס</strong> קבוע. בואו נקבע אותו להיות מספר שרירותי כלשהו, נאמר 10 כי אנחנו אוהבים את 10. אז יש לנו את הפונקציה {% equation %}f\left(x\right)=10^{x}{% endequation %}. הפונקציה הזו נקראת <strong>פונקציה אקספוננציאלית</strong> והיא אחת מהפונקציות שמצטלמות הכי גרוע שאפשר:

<img src="{{site.baseurl}}{{site.post_images}}/2020/06/exponential.PNG" alt=""/>

לוגריתם הוא ההפך מהפונקציה האקספוננציאלית הזו: {% equation %}\log\left(10^{x}\right)=x{% endequation %}. באופן כללי: {% equation %}\log{% endequation %} על קלט {% equation %}y{% endequation %} כלשהו בודק מהו ה-{% equation %}x{% endequation %} שעבורו {% equation %}10^{x}=y{% endequation %}, ואז הוא מחזיר את ה-{% equation %}x{% endequation %} הזה. הוא עונה על השאלה "10 בחזקת איזה מעריך נותן לנו את {% equation %}y{% endequation %}?"

אז כדי לראות כמה דוגמאות: {% equation %}\log\left(10\right)=1{% endequation %} ו-{% equation %}\log\left(1000\right)=3{% endequation %} ו-{% equation %}\log\left(10000000\right)=6{% endequation %} ו-{% equation %}\log\left(1\right)=0{% endequation %} כי {% equation %}10^{0}=1{% endequation %} (כי <a href="https://gadial.net/2018/01/01/zero_power_equals_one/">דברים בחזקת 0 שווים 1</a>). כאן אנחנו רואים משהו חשוב על לוגריתמים: זו פונקציה שגדלה <strong>לאט</strong>. כדי לקבל ערכים יותר ויותר גדולים של לוגריתם, צריך להזין קלטים <strong>הרבה יותר גדולים</strong>. 

ומה עם {% equation %}\log\left(121\right){% endequation %}, למשל? לכמה זה שווה? אם תבדקו במחשבון הוא יגיד משהו בסגנון {% equation %}\log\left(121\right)=2.08278\ldots{% endequation %}. זה קצת מוזר, כי עד עכשיו בפוסט הזה לא דיברנו בכלל על חזקות שהן לא מספר טבעי. מה זה {% equation %}10^{2.08278\ldots}{% endequation %}? זה לכפול את 10 בעצמו פעמיים ואז... לעשות... מה בעצם?

בואו ניקח, אם כן, צעד אחד אחורה וננסה להבין קצת יותר טוב איך הולך כל העניין הזה עם חזקות - כי אחרי שנבין אותו, נבין מצויין גם מה הולך עם לוגריתמים.

בואו ניקח בסיס חזקה קבוע שהוא מספר חיובי, שאני אסמן באות {% equation %}a{% endequation %} כי אין לי כוח לכתוב {% equation %}10{% endequation %} או משהו דומה כל הזמן. בואו ניקח עכשיו שתי חזקות שונות של {% equation %}a{% endequation %}: {% equation %}a^{x},a^{y}{% endequation %} ו<strong>נכפול</strong> אותן. מה נקבל? אם {% equation %}x,y{% endequation %} הם מספרים טבעיים ואנחנו הולכים על פי ההגדרה של "חזקה היא ביצוע של אותה פעולת כפל שוב ושוב" קל לראות ש-{% equation %}a^{x}\cdot a^{y}=a^{x+y}{% endequation %} (שימו לב שהתחלתי לתאר כפל עם נקודה ולא עם {% equation %}\times{% endequation %} סתם כי זה סימון שיותר נוח לי). באופן דומה לא קשה לראות ש-{% equation %}\left(a^{x}\right)^{y}=a^{xy}{% endequation %}. במילים אחרות: פעולת החזקה איכשהו מתרגמת את פעולת <strong>החיבור </strong>של המעריכים לפעולת <strong>כפל </strong>של תוצאות החזקה, ואת פעולת <strong>הכפל</strong> של המעריכים לפעולת העלאה בחזקה נוספת של פעולת החזקה. זה כל כך חשוב שאני אכתוב את זה שוב במפורש:

<ul> <li>{% equation %}a^{x+y}=a^{x}\cdot a^{y}{% endequation %}</li>


<li>{% equation %}a^{xy}=\left(a^{x}\right)^{y}{% endequation %}</li>

</ul>

ההגדרה של פעולת החזקה לחזקות שהן לא מספרים טבעיים לוקחת את המשוואות הללו בתור נקודת המוצא ושואלת את השאלה - אם אני רוצה שהן ימשיכו להתקיים גם אחרי שנרשה ל-{% equation %}x,y{% endequation %} להיות מספרים לא טבעיים, מה חייב לקרות?

אז למשל, אם {% equation %}y=0{% endequation %}, השוויון {% equation %}a^{x+0}=a^{x}\cdot a^{0}{% endequation %} מתורגם ל-{% equation %}a^{x}=a^{x}\cdot a^{0}{% endequation %} מה ש"מכריח" את {% equation %}a^{0}=1{% endequation %}. ועכשיו, {% equation %}a^{x+\left(-x\right)}=a^{x}\cdot a^{-x}{% endequation %} מתורגם ל-{% equation %}1=a^{x}\cdot a^{-x}{% endequation %} מה ש"מכריח" את {% equation %}a^{-x}=\frac{1}{a^{x}}{% endequation %} (זה לא עובד אם {% equation %}a=0{% endequation %}! לכן אני דורש ש-{% equation %}a{% endequation %} יהיה מספר חיובי!). כמו כן, מכיוון ש-{% equation %}\frac{1}{2}+\frac{1}{2}=1{% endequation %} אז {% equation %}a=a^{1}=a^{\frac{1}{2}+\frac{1}{2}}=\left(a^{\frac{1}{2}}\right)^{2}{% endequation %} "מכריח" את {% equation %}a^{\frac{1}{2}}=\sqrt{a}{% endequation %} ובאופן כללי יותר מקבלים {% equation %}a^{\frac{1}{n}}=\sqrt[n]{a}{% endequation %}. מכל אלו אנחנו מקבלים את ההגדרה {% equation %}a^{\frac{x}{y}}=\sqrt[y]{a^{x}}{% endequation %} שעובדת למעריך שהוא מספר רציונלי כללי (מספר רציונלי הוא מספר שהוא מנה של שני מספרים שלמים, {% equation %}\frac{x}{y}{% endequation %}).

השלב האחרון, של להגדיר חזקה שהיא לא מספר רציונלי אלא מספר ממשי כללי, היא מסובכת יותר פשוט כי ההגדרה של "מספר ממשי כללי" היא מסובכת. אני יכול לומר ש-{% equation %}a^{x}{% endequation %} מוגדר בתור {% equation %}\lim_{q\to x}a^{q}{% endequation %} כך ש-{% equation %}q{% endequation %} היא סדרת רציונליים ששואפת ל-{% equation %}x{% endequation %}, אבל זה לא יגיד כלום אם לא מכירים את המושגים הרלוונטיים וגם אם מכירים אותם יש כל מני שאלות מציקות (למה זה אותו גבול עבור כל סדרת רציונליים?) אז אני לא אכנס לזה הפעם, אבל זה עובד יפה.

עכשיו נחזור לדבר על לוגריתמים. ראשית כל, עד עכשיו דיברתי על לוגריתם שהיה קשור למספר 10, אבל אין משהו קדוש ב-10; גם מספרים אחרים יכולים להיות בסיס ללוגריתם. למשל 2: אפשר לדבר על {% equation %}\log_{2}{% endequation %} שמוגדר כך: אם {% equation %}y=2^{x}{% endequation %} אז {% equation %}\log_{2}y=x{% endequation %}. יש ל-{% equation %}\log_{2}{% endequation %} הזה אפילו סימון מיוחד: {% equation %}\lg{% endequation %}. ואפשר לעשות את אות והדבר גם עבור בסיסים אחרים. המגבלה שאנחנו דורשים היא שהבסיס יהיה מספר גדול מ-1, כי עבור 1 העסק כבר מתחיל להיות מעצבן (מכיוון שלכל {% equation %}x{% endequation %} מתקיים {% equation %}1^{x}=1{% endequation %} יוצא ש-{% equation %}\log{% endequation %} על בסיס 1 לא מוגדר לשום מספר שונה מ-1) וגם עבור מספרים קטנים ממנו העסק בעייתי בצורות דומות. לכן דורשים {% equation %}1<a{% endequation %} ואז אפשר לדבר על {% equation %}\log_{a}{% endequation %}, שמוגדרת כפי שכבר ראינו: אם {% equation %}y=a^{x}{% endequation %} אז {% equation %}\log_{a}\left(y\right)=x{% endequation %}. כלומר, יש הרבה סוגים שונים של לוגריתמים, כפי שיש הרבה סוגים שונים של שורשים (ריבועי, שורש שלישי וכן הלאה).

למעשה, הבסיס <strong>הכי חשוב</strong> של הלוגריתם הוא בכלל לא מספר טבעי אלא מספר שמסומן ב-{% equation %}e{% endequation %} ושווה בערך ל-{% equation %}2.7182\ldots{% endequation %} (זה לא מספר רציונלי ולכן אין מחזוריות בספרות). מה זה המספר הזה? למה הוא חשוב כל כך? <a href="https://gadial.net/2010/03/27/exponent/">יש לי פוסט</a> שמציג אותו בצורה שנראית לי טבעית יחסית, אבל לא ניכנס לכך בפוסט הנוכחי - ההסבר המדויק מערב, כרגיל, חשבון דיפרנציאלי ואינטגרלי. גם ל-{% equation %}\log_{e}{% endequation %} יש סימון מיוחד: {% equation %}\ln{% endequation %} (ולפעמים אפילו כותבים פשוט {% equation %}\log{% endequation %} למרות שמתכוונים אל {% equation %}\ln{% endequation %}), אבל לא ארחיב על כך יותר בפוסט הזה.

עכשיו, אם נסתכל שניה על מחשבון, נראה שאין בו הרבה כפתורים עבור לוגריתמים. אם יש לנו מזל יש אחד עבור {% equation %}\log{% endequation %} ואחד עבור {% equation %}\ln{% endequation %} וזהו זה.

<img src="{{site.baseurl}}{{site.post_images}}/2020/06/calc.PNG" alt=""/>

איך אפשר לחשוב לוגריתמים עבור בסיסים אחרים? למרבה המזל, יש קשר הדוק בין לוגריתמים בבסיסים שונים שמאפשר לנו לחשב את {% equation %}\log_{a}b{% endequation %} גם אם כל מה שיש לנו הוא {% equation %}\log{% endequation %} רגיל על בסיס 10 (או עבור כל בסיס אחר).

התעלול עובד כך: נניח ש-{% equation %}x=\log_{a}b{% endequation %}, ונחפש דרך נחמדה לבטא את {% equation %}x{% endequation %} באמצעות {% equation %}\log{% endequation %} רגיל, על בסיס 10. מכיוון ש-{% equation %}x=\log_{a}b{% endequation %} אז <strong>על פי ההגדרה ממש</strong> אנחנו יודעים ש-{% equation %}a^{x}=b{% endequation %}.

עכשיו, לתעלול! כל עוד {% equation %}a>1{% endequation %}, אפשר להוכיח (שוב, זה דורש חדו"א) ש-{% equation %}t=\log a{% endequation %} הוא מספר שבאמת קיים. כלומר, שקיים {% equation %}t{% endequation %} כלשהו כך ש-{% equation %}a=10^{t}{% endequation %}. כשאנחנו מצויידים בידע הזה בואו נחזור למשוואה {% equation %}a^{x}=b{% endequation %} ונציב {% equation %}10^{t}{% endequation %} במקום {% equation %}a{% endequation %}. נקבל:

{% equation %}b=a^{x}=\left(10^{t}\right)^{x}=10^{tx}{% endequation %}

כשהמעבר האחרון נובע מחוקי החזקות שהראיתי קודם.

עכשיו, מה המשמעות של השוויון {% equation %}b=10^{tx}{% endequation %}? כמקודם, <strong>על פי ההגדרה ממש</strong> משמעותו היא {% equation %}\log b=tx{% endequation %}. או במילים אחרות, {% equation %}x=\frac{\log b}{t}{% endequation %}. אבל מה היה {% equation %}t{% endequation %}? לכו טיפה אחורה ותראו ש-{% equation %}t=\log a{% endequation %}. כלומר קיבלנו {% equation %}x=\frac{\log b}{\log a}{% endequation %}, ובמילים אחרות: {% equation %}\log_{a}b=\frac{\log b}{\log a}{% endequation %}. כך אפשר לחשב לוגריתם על פי כל בסיס בעזרת מחשבון שיודע רק לחשב את {% equation %}\log{% endequation %} על בסיס 10.

למעשה, אנחנו רואים כאן אפילו טיפה יותר מכך: אם נגדיר פונקציה {% equation %}f\left(x\right)=\log_{a}x{% endequation %}, אנחנו רואים ש-{% equation %}f\left(x\right)=\frac{1}{\log a}\log x{% endequation %}. במילים אחרות, ההבדל בין פונקציית הלוגריתם "הרגילה", על בסיס 10, ובין כל פונקציית לוגריתם אחרת הוא רק <strong>כפל בקבוע</strong>. זו תוצאה מעניינת מאוד כשאנחנו במדעי המחשב, למשל, ואנחנו מתעניינים רק בסדרי גודל של דברים ולא בערך המספרי המדויק שלהן; זה אומר שכל הפונקציות הלוגריתמיות הן <strong>מאותו סדר גודל.</strong>

עכשיו, אחרי שהבנו מה זה לוגריתמים, בואו ננסה לראות בשביל מה זה טוב. בשביל זה כדאי לראות עוד תכונות שלוגריתמים מקיימים. נתחיל עם יישום של הנוסחה {% equation %}\log_{a}b=\frac{\log b}{\log a}{% endequation %} שראינו עבור מקרה פרטי. אם {% equation %}b=a^{x}{% endequation %}, אז {% equation %}x=\log_{a}b=\frac{\log\left(a^{x}\right)}{\log\left(a\right)}{% endequation %}. אם נכפול את שני קצוות המשוואה ב-{% equation %}\log\left(a\right){% endequation %} נקבל {% equation %}\log\left(a^{x}\right)=x\log\left(a\right){% endequation %}. זו תכונה חשובה של לוגריתם - הוא "מוריד את המעריך" מחזקה והופך אותו לכפל; זה בעצם ההופכי של תכונת ה-{% equation %}a^{xy}=\left(a^{x}\right)^{y}{% endequation %} של הפונקציה המעריכית, שבה כפל הופך לחזקה.

באופן דומה גם לתכונת ה"חיבור הופך לכפל", {% equation %}a^{x+y}=a^{x}\cdot a^{y}{% endequation %}, יש היפוך: {% equation %}\log_{a}x+\log_{a}y=\log_{a}\left(xy\right){% endequation %}. כדי לראות את זה אני הולך להיעזר בעוד תכונה פשוטה של לוגריתמים: {% equation %}a^{\log_{a}x}=x{% endequation %}. כלומר, לוגריתם בתוך מעריך של חזקה מתבטל עם החזקה; זו פחות או יותר ההגדרה. הרי אמרנו ש-{% equation %}\log_{a}x=t{% endequation %} פירושו ש-{% equation %}a^{t}=x{% endequation %}, אז אם נכתוב את {% equation %}\log_{a}x{% endequation %} במקום {% equation %}t{% endequation %} נקבל בדיוק {% equation %}a^{\log_{a}x}=x{% endequation %}.

עכשיו בואו נוכיח את התכונה על סכום הלוגריתמים. לשם כך, בואו נתקע את הסכום בתוך המעריך של חזקה:

{% equation %}a^{\log_{a}x+\log_{a}y}=a^{\log_{a}x}\cdot a^{\log_{a}y}=x\cdot y{% endequation %}

כאשר המעבר הראשון נובע מהתכונה של אקספוננטים להפוך סכום למכפלה, והמעבר השני הוא ה-{% equation %}a^{\log_{a}x}=x{% endequation %} שהראיתי. עכשיו אפשר לקחת את {% equation %}xy{% endequation %} ולהשתמש עליו באותה נוסחה: {% equation %}xy=a^{\log_{a}\left(xy\right)}{% endequation %}. קיבלנו בסך הכל:

{% equation %}a^{\log_{a}x+\log_{a}y}=a^{\log_{a}\left(xy\right)}{% endequation %}

עכשיו נפעיל את {% equation %}\log_{a}{% endequation %} על שני האגפים ונקבל {% equation %}\log_{a}\left(x\right)+\log_{a}\left(y\right)=\log_{a}\left(xy\right){% endequation %}, כפי שרצינו.

הנוסחה הזו חשובה. <strong>ממש חשובה</strong>. עד כמה חשובה? חשובה ברמה של להשפיע על כל ההיסטוריה האנושית. אבל למה? כי פעם, חברות וחברים, לא היו מחשבונים. כשאנשים רצו לחשב משהו, הם היו צריכים <strong>לחשב</strong> אותו. נניח, צריך לכפול שני מספרים גדולים, כי למשל אתם ימאים וצריכים לחשב מסלול וזה מאוד חשוב כדי לא להתרסק עם סלעים? עדיף שתעשו את זה <strong>מדויק</strong>. הצורך הזה בדיוק אצל ימאים הוביל להמצאת שעונים סופר-מדויקים שעבדו גם בים, וזה סיפור מרתק בפני עצמו; אז גם שיטות חישוב מדויקות זה דבר חשוב.

עכשיו, להכפיל שני מספרים גדולים זה לא <strong>כזה</strong> קשה, אבל זה גם לא קל - תנסו לכפול שני מספרים של 10 ספרות כל אחד ומהר מאוד תראו שזו הרבה עבודה, והסכנה לטעות היא גדולה. מה שיפה בלוגריתמים זה שהם יכולים לחסוך חלק נכבד מהעבודה כי הם <strong>ממירים בעיה של כפל בבעיה של חיבור</strong>.

הנה שיטת העבודה: נניח שיש לי מספרים {% equation %}x,y{% endequation %} ואני רוצה לחשב את {% equation %}xy{% endequation %} בקלות. מה אעשה? ראשית כל, אחשב את {% equation %}\log\left(x\right),\log\left(y\right){% endequation %}; עכשיו אבצע פעולת <strong>חיבור</strong> שתיתן לי את {% equation %}\log\left(x\right)+\log\left(y\right)=\log\left(xy\right){% endequation %}. עכשיו רק צריך לשחזר מתוך {% equation %}\log\left(xy\right){% endequation %} את {% equation %}xy{% endequation %} ו... ניצחנו! איזה יופי! רק שאלה קטנה נשארה: איך, בהינתן {% equation %}x,y{% endequation %}, מחשבים מתוכם את {% equation %}\log\left(x\right){% endequation %} ואת {% equation %}\log\left(y\right){% endequation %}? ואיך מתוך {% equation %}\log\left(xy\right){% endequation %} מקבלים חזרה את {% equation %}xy{% endequation %}? התשובה היא כמובן... מחשבון! רגע, משהו לא מסתדר פה.

אפשר לחשב לוגריתמים גם בלי מחשבון, אבל זו יכולה להיות עבודה קשה למדי. הנקודה היא שזו עבודה שמספיק לבצע <strong>פעם אחת</strong>, ואז לכתוב את כל התוצאות בטבלה יפה, ואז להפיץ את הטבלה הזו באינסוף עותקים ברחבי העולם, וכולם יוכלו להשתמש בה. זה היה הרעיון מאחורי טבלות הלוגריתמים שערכו במאה ה-17 ג'ון נפייר והנרי בריגס.

<img src="{{site.baseurl}}{{site.post_images}}/2020/06/logarithms.jpg" alt=""/>

אני מתחמק כאן מכניסה לפרטים הטכניים של איך להשתמש בטבלאות הללו כי הפוסט ממילא ארוך מדי, אבל הרעיון ברור - בעזרת הטבלאות היה אפשר לחשב יחסית בקלות לוגריתמים, מה שאיפשר למי שיש לו טבלה כזו להמיר כפל בחיבור. באופן דומה גם אפשר היה להמיר חילוק בחיסור, כי מתקיים גם הכלל הבא: {% equation %}\log_{a}x-\log_{a}y=\frac{x}{y}{% endequation %}. כדי לראות את זה אפשר להשתמש בכללים שכבר ראינו: ראינו ש-{% equation %}\log_{a}x^{t}=t\log_{a}x{% endequation %}, ולכן בפרט עבור {% equation %}t=-1{% endequation %} נקבל {% equation %}-\log_{a}x=\log_{a}x^{-1}=\log_{a}\frac{1}{x}{% endequation %}, ומכאן נשתמש בכלל החיבור עבור {% equation %}\log_{a}x-\log_{a}y=\log_{a}x+\left(-\log_{a}y\right){% endequation %}.

כדי לפשט את העניינים אף יותר, הומצא גם מכשיר שנקרא "סרגל חישוב" שדומה לסרגל רגיל פרט לכך שהסקלות שעליו הן לוגריתמיות. גם לו מגיע פוסט משל עצמו (שאני תמיד מתכנן ואף פעם לא כותב) ולא אתעכב עליו הפעם.

<img src="{{site.baseurl}}{{site.post_images}}/2020/06/Pocket_slide_rule.jpg" alt=""/>

אם כן, ראינו את השימוש ה"היסטורי" החשוב של לוגריתמים. אבל בימינו יש מחשבונים וכבר לא צריך את הלוגריתמים לשם כך. האם אפשר לשכוח מהם לחלוטין?

ובכן, במתמטיקה בוודאי שאין סיבה לשכוח מהם. הם היו ונותרו כלי עזר מאוד מועילים בהתמודדות עם בעיות מסויימות, בזכות התכונות הנחמדות של המרת-כפל-לחיבור והורדת-חזקה-למטה. לוגריתם הוא כלי בסיסי בארגז הכלים של מתמטיקאי שעוסק באנליזה של ביטוי מסובך כלשהו, אבל אני לא אדבר על זה יותר מדי כאן. שאלה קצת יותר מעניינת היא האם לוגריתמים רלוונטיים איכשהו בחיי היום יום שלנו. והתשובה היא - במיוחד כיום, לצערי כן.

למה "לצערי"? כי הדוגמא הראשונה שקופצת לי לראש היא זו של מגיפת הקורונה של 2020.

הבה ונסתכל בגרף של מספר מקרי הקורונה בעולם בין ינואר ליוני 2020:

<img src="{{site.baseurl}}{{site.post_images}}/2020/06/corona-linear.PNG" alt=""/>

מה זה גרף, בעצם? לכל תאריך בטווח התאריכים המדובר, נצבעה נקודה כחולה שקואורדינטת ה-{% equation %}x{% endequation %} שלה (המיקום שלה מבחינת ימין/שמאל) היא התאריך הזה, וקואורדינטת ה-{% equation %}y{% endequation %} שלה (הגובה שלה) מתאימה למספר החולים באותו תאריך. אחר כך כל הנקודות חוברו זו לזו בצורה שמאפשרת לראות בקלות את קו המגמה. זה גרף מעניין כי הוא מתחיל אקספוננציאלי - יש קפיצה אדירה באיזור חודש מרץ - ואז משנה מגמה והופך ללינארי (כלומר, נראה כמו קו ישר).

המשמעות של גידול אקספוננציאלי היא זו: שאם מחלקים את הגידול לפרקי זמן קצרים, אז בכל פרק זמן הגידול <strong>כפול</strong> ממה שהיה קודם (כפול בקבוע כלשהו,לאו דווקא ב-2). זה מאופיין על ידי פונקציה כמו {% equation %}f\left(t\right)=a^{t}{% endequation %} (כאן {% equation %}t{% endequation %} הוא הזמן). המשמעות של גידול לינארי היא שאם מחלקים את הגידול לפרקי זמן קצרים, אז בכל פרק זמן הגידול זהה למה שהיה קודם - למשל {% equation %}f\left(t\right)=at{% endequation %}. את החלק הלינארי אפשר לראות די בבירור, אבל הקפיצה האקספוננציאלית היא פשוט קפיצה: נראה שהגרף "שטוח" ברגע אחד, ופתאום הוא מתחיל לעלות - שינוי שמעביר אותו מאפס למיליון כמעט בבת אחת.

אבל יש דרך אחרת להציג את הנתונים, שעוזרת להבין אותם יותר טוב - סקלה <strong>לוגריתמית</strong>. מה זה אומר? ובכן, בסקלה רגילה, לינארית, הגובה של ערך בציר {% equation %}y{% endequation %} הוא פונקציה לינארית של הערך שלו. אם נסתכל על הגרף שלמעלה, נראה שערכים של 2 מיליון מפוזרים במרווחים שווים. אם {% equation %}f{% endequation %} היא הפונקציה שמתאימה לערך את הגובה שלו אז {% equation %}f\left(2\cdot10^{6}\right)=a{% endequation %} כאשר {% equation %}a{% endequation %} הוא הגובה של הקו הראשון, זה שכתוב לידו {% equation %}\text{2M}{% endequation %}; ואז {% equation %}f\left(4\cdot10^{6}\right)=2a{% endequation %} ו-{% equation %}f\left(6\cdot10^{6}\right)=3a{% endequation %} וכן הלאה: הפונקציה באופן כללי היא {% equation %}f\left(x\right)=\frac{a}{2\cdot10^{6}}x{% endequation %}. זו דוגמא לפונקציה לינארית - היא לוקחת את {% equation %}x{% endequation %} וכופלת אותו בקבוע.

הנה איך אותו גרף נראה בסקלה לוגריתמית:

<img src="{{site.baseurl}}{{site.post_images}}/2020/06/corona-log.PNG" alt=""/>

מה השתנה? ציר {% equation %}y{% endequation %}. אם נסתכל על הערכים שם, נראה שעכשיו מה שקורה במרווחים שווים הוא שהערך שמיוצג <strong>מוכפל ב-</strong><strong>10</strong>. הערך הנמוך ביותר הוא 100; אחר כך, במרווח שווה ממנו, יש את {% equation %}1,000{% endequation %}; אחר כך במרווח שווה ממנו יש את {% equation %}10,000{% endequation %} וכן הלאה. אם נסמן את הגובה של הקו של ה-1,000 ב-{% equation %}a{% endequation %} אז נקבל את הפונקציה {% equation %}f\left(x\right)=\log\left(x\right)a-2a{% endequation %} (ה-{% equation %}-2a{% endequation %} מגיע מכך שהקו התחתון בגרף, זה שבגובה 0, הוא 100).

דרך ההתבוננות הזו על הנתונים מאפשרת לנו לראות בצורה יותר טובה מה קרה באיזור של מרץ, שבגרף הלינארי פשוט נראה כמו קפיצה אדירה: אנחנו רואים שהעלייה כמעט נפסקה לתקופה כלשהי ואז התחדשה במלוא המרץ (זה קרה כשהוירוס התחיל להתפשט באירופה וארה"ב). זו דוגמא קטנה לשימושיות של סקלות לוגריתמיות.

יש עוד סקלות לוגריתמיות שמשמשות אותנו בחיי היום יום - מדידה של חומציות עם סקלת pH היא לוגריתמית; מדידה של רעש עם סקלת הדציבלים היא לוגריתמית, ואולי הסקלה הלוגריתמית המוכרת ביותר היא סולם ריכטר למדידת העוצמה של רעידות אדמה. כשמדווחים על רעידות אדמה בדרך כלל אומרים שהן היו בעוצמה של "5.8 בסולם ריכטר" או "6.1 בסולם ריכטר" וכדומה. אל תתנו למספרים הדומים לבלבל אתכם - כל עליה בסולם ריכטר פירושה <strong>הכפלה</strong> בקבוע כלשהו של עוצמת רעידת האדמה. רעידת אדמה שהיא 3 בסולם ריכטר בקושי תורגש; רעידת האדמה של יפן ב-2011 שהייתה 9 בסולם ריכטר לא הייתה פי 3 יותר מה"בקושי תורגש" הזה אלא הייתה אסון אדיר ממדים וחריג בעוצמתו.

הייתי רוצה לסיים כאן את הפוסט, אבל הוא לקח כיוון אפל מאוד לקראת סופו - מגיפות, רעידות אדמה... הלוגריתמים האומללים שבסך הכל רצו לעזור לנו לכפול ולחלק מעורבים בזוועות הללו בגלל היכולת שלהם לתאר לנו דברים בקנה מידה <strong>גדול</strong>, כולל אסונות. אז אני רוצה לסיים דווקא בגישה האופטימית - זמן ריצה של אלגוריתמים.

בלי להיכנס לעובי הקורה של איך מודדים זמן ריצה של אלגוריתמים, הרעיון הוא שאם יש לנו מספר {% equation %}n{% endequation %} שמהווה מדד כלשהו לגודל של הקלט, ויש לנו פונקציה {% equation %}f\left(n\right){% endequation %} שאומרת לנו מה הולך להיות זמן הריצה על קלט בגודל {% equation %}n{% endequation %} במקרה הגרוע ביותר, אז אנחנו מתעניינים במה סדר הגודל <strong>בערך</strong> של {% equation %}f{% endequation %} הזו. <a href="https://gadial.net/2012/07/06/asymptotic_notation/">יש לי פוסט</a> שמסביר את הסימון שבו משתמשים למטרה הזו אבל אין צורך לקרוא אותו כרגע: הרעיון הוא שאם אני כותב {% equation %}f\left(n\right)=O\left(n^{2}\right){% endequation %}, למשל, זה אומר שאני יכול להבטיח ש-{% equation %}f{% endequation %} היא לא יותר מאשר בערך הפונקציה {% equation %}n^{2}{% endequation %}.

בעיה בסיסית במדעי המחשב היא בעיה של <strong>מיון</strong>. נניח שיש לנו קבוצה של {% equation %}n{% endequation %} מספרים ואני רוצה לסדר אותם בסדר עולה. כמה זמן יידרש לי לשם כך? שיטות נאיביות כמו לקחת איבר ולהשוות אותו לכל האיברים שסידרנו עד כה כדי לדעת איפה לדחוף אותו (שיטה שנקראת <strong>מיון הכנסה</strong> ודומה לאופן שבו מסדרים קלפים ביד במשחק קלפים) לוקחות לי בערך {% equation %}O\left(n^{2}\right){% endequation %} זמן. זה לא טוב. תחשבו על סיטואציה עם 1000 קלטים - זמן הריצה יהיה בערך 1,000,000 (מיליון מה? כאמור, אני מטאטא את הפרטים מתחת לשטיח). ואם אני מכפיל את מספר הקלטים ב-10, אז זמן הריצה גדל פי 100. זה בהחלט לא משהו.

אבל יש מיונים יותר מתוחכמים ויותר מהירים, למשל <a href="https://gadial.net/2012/07/10/all_sorts_of_slow_sorts/">מיון מיזוג</a>. מבלי להיכנס לפרטים, הרעיון במיון הזה הוא לחלק את הקבוצה שצריך למיין לשני חלקים. ואז כל חלק למיין לשני חלקים. ושוב, ושוב, עד שמגיעים לקבוצות קטנות מספיק כדי שאפשר יהיה למיין אותן "מייד" ואז מתחילים למזג בצורה חכמה את הקבוצות הממויינות. והרי לכם שאלה: נניח שיש לי {% equation %}n{% endequation %} איברים ובכל סיבוב אני מחלק את קבוצות האיברים שלי ל-2; כמה סיבובים יידרשו עד שקבוצות האיברים שלי יהיו מגודל אפסי?

נניח שהקבוצה שלי היא בת 16 איברים. אחרי סיבוב אחד אקבל שתי קבוצות של 8 איברים; אחרי 2 סיבובים הקבוצות יהיו בנות 4 איברים ואחרי 3 סיבובים הן יהיו בנות 2 איברים. אחרי 4 סיבובים הן יהיו בנות 4 איברים ואפשר יהיה לסיים כאן. כל סיבוב הקטין את גודל הקבוצה פי 2, כלומר כפל אותה בחצי: אם {% equation %}n{% endequation %} הוא הגודל המקורי של הקבוצה אז אחרי {% equation %}k{% endequation %} סיבובים נקבל קבוצות בנות {% equation %}\frac{n}{2^{k}}{% endequation %} איברים. אם {% equation %}\frac{n}{2^{k}}=1{% endequation %} אז {% equation %}n=2^{k}{% endequation %}, כלומר {% equation %}k=\lg n{% endequation %} (כזכור, {% equation %}\lg{% endequation %} הוא לוגריתם על בסיס 2). אם כן, מספר הצעדים עד שמגיעים לקבוצות קטנות הוא <strong>לוגריתמי</strong> ב-{% equation %}n{% endequation %}. זה אומר שגם כאשר {% equation %}n{% endequation %} הוא <strong>ממש גדול</strong>, מספר הצעדים עד לפיצול יהיה ממש קטן. המשך הניתוח של האלגוריתם יראה שבהתחשב בזמן שלוקח לבצע את המיזוג, זמן הריצה הכולל של האלגוריתם יהיה {% equation %}O\left(n\log n\right){% endequation %}, וזאת להבדיל מהאלגוריתמים של {% equation %}O\left(n^{2}\right){% endequation %}. הדבר הזה הוא <strong>שיפור גדול</strong>, כי {% equation %}\log n{% endequation %} הרבה יותר קטן מ-{% equation %}n{% endequation %} ולכן {% equation %}n\log n{% endequation %} הרבה יותר קטן מ-{% equation %}n^{2}{% endequation %}. למשל, עבור {% equation %}n=1000{% endequation %}, ראינו ש-{% equation %}n^{2}=1,000,000{% endequation %} בעוד ש-{% equation %}n\log n=3000{% endequation %}.

והנה עוד דוגמא אחרונה לסיום - מספרים גדולים. אנחנו מתעסקים עם מספרים גדולים כל הזמן - דוגמא פופולרית במיוחד היא שיטת ההצפנה {% equation %}\text{RSA}{% endequation %} שמתבססת על עבודה עם מספרים בני מאות ספרות. אנחנו צריכים לבצע איתם פעולות כמו חיבור, כפל, העלאה בחזקה וכדומה; כמה זמן זה לוקח?

ובכן, התשובה טמונה במה שאמרתי במשפט הקודם: כשאני מדבר על "מספר בן מאות ספרות" המשמעות היא "מספר שהלוגריתם שלו הוא בסדר גודל של כמה מאות". הלוגריתם בבסיס 10 של מספר כלשהו הוא פשוט מספר הספרות שלו פחות 1 ועוד תיקון כלשהו. למשל, עבור {% equation %}100{% endequation %} הלוגריתם הוא בדיוק 2, ואילו עבור 121 ראינו שהלוגריתם הוא "2 ועוד קצת משהו" שהוא פחות ממספר שלם.

עכשיו, אלגוריתמים עבור חיבור וכפל, גם מאלו שלומדים בבית הספר היסודי, הם משהו שעובד <strong>על הספרות</strong> של המספר. למשל, אלגוריתם לחיבור מחבר ספרה-ספרה, החל מספרת האחדות. אז הזמן שאלגוריתמים כאלו לוקחים הוא מסדר גודל של לוגריתם של המספר, או ריבוע של לוגריתם כזה, וכו; כלומר משהו כמו {% equation %}O\left(\log^{2}n\right){% endequation %} כדי לבצע כפל. כשמתעסקים במספרים, אלו זמני הריצה שנחשבים יעילים; זמן ריצה של {% equation %}O\left(n\right){% endequation %} הוא אסון, כי אם {% equation %}n=10^{100}{% endequation %} למשל (וזה מספר קטן יחסית למספרים שאנחנו עשויים להתעסק איתם) אז פרק זמן ששווה בערך ל-{% equation %}10^{100}{% endequation %} הוא גדול בהרבה מהשניות שחלפו מאז תחילת היקום.

לסיכום, ראינו לוגריתמים וראינו קצת איך הם רלוונטיים לדברים במתמטיקה; אני מקווה שעכשיו הם מפחידים או מסתוריים קצת פחות, כי בסך הכל הם חברים די טובים שלנו. 