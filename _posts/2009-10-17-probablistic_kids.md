---
id: 214
title: "ילדים (הסתברותיים) זה שמחה"
date: 2009-10-17 12:06:10
layout: post
categories: 
  - הסתברות
  - משחקים וחידות מתמטיות
tags: 
  - הסתברות
  - חידות
  - תוצאות לא אינטואיטיביות
social_media_share: true
---
תורת ההסתברות היא כר פורה לחידות שונות ומשונות שמעוררות ויכוחים מזוויעים, גם בקרב מתמטיקאים, מהטעם הפשוט שקיים פער גדול בין ניסוחים מתמטיים-פורמליים של בעיות, ובין ניסוחים מילוליים שלהם. הרבה פעמים המודל המילולי פשוט אינו מוגדר היטב וניתן למספר ניסוחים מתמטיים שונים ולא שקולים, והשאלה באיזה ניסוח מתמטי יש לבחור הופכת ל"פילוסופית" - ופילוסופיה (בפרט כשהיא נוחתת על מתמטיקאים) גורמת תמיד לויכוחים מזוויעים.

במקור נתקלתי בבעיה הזו כאשר באחת התגובות בבלוג קישרו ל<a href="http://www.codinghorror.com/blog/archives/001204.html">אתר</a> שהציג אותה. באתר התפתח ויכוח ארוך כאורך הגלות שלא קראתי את כולו. אני צידדתי בפתרון שבאתר, ולא חשבתי עוד על השאלה עד שנתקלתי בה שוב לפני מספר ימים, הגעתי למסקנה שאפשר לכתוב עליה פוסט קצר ונחמד בבלוג, והתחלתי לכתוב. באמצע שמתי לב לכך שכל מה שחשבתי לא נכון, ושיש לחידה הזו עוקץ בעייתי יותר משנדמה. אם כן, נעבור לאקשן.

החידה הולכת כך: לחברכם הטוב יש שני ילדים, אך אין לכם שמץ של מושג מה מינם. אתם באים לביתו ודופקים על הדלת. את הדלת פותחת בת. מה ההסתברות שהילד השני הוא בן? באתר שקישרתי אליו לא הולכים לבית ודופקים על דלת אלא החבר עצמו מספר שאחד מילדיו הוא בת.

כמובן שיש בחידה הזו נתון מובלע - אנחנו מניחים שכאשר ילד נולד, בהסתברות {% equation %}\frac{1}{2}{% endequation %} הוא יהיה בן, ובהסתברות {% equation %}\frac{1}{2}{% endequation %} הוא יהיה בת. האינטואיציה שלנו אומרת לנו שאין תלות בין הלידה של הילד שפתח לנו את הילד והלידה של הילד השני - ולכן ההסתברות שהילד השני יהיה בת היא {% equation %}\frac{1}{2}{% endequation %}. זה נשמע הגיוני, אלא שאז באים המתמטיקאים (והאתר) וטוענים שההסתברות היא בכלל {% equation %}\frac{2}{3}{% endequation %}. איך זה ייתכן?

ובכן, הנימוק המתמטי ה"יבש" הוא זה: אפשר לחשוב על הרכב הילדים במשפחת החבר כאיבר במרחב הסתברותי שמכיל בסך הכל ארבעה איברים: {% equation %}\left\{ GG,GB,BG,BB\right\} {% endequation %}, כש-{% equation %}BG{% endequation %} אומר "בן בכור, בת צעירה", {% equation %}GB{% endequation %} אומר "בת בכורה, בן צעיר" וכדומה. מה ההסתברות לקבלת כל איבר במרחב? בדיוק {% equation %}\frac{1}{4}{% endequation %}; למשל, ההסתברות של {% equation %}GB{% endequation %} היא מכפלת ההסתברויות של "הילד הראשון יהיה בת" ({% equation %}\frac{1}{2}{% endequation %}) ושל "הילד השני יהיה בן" (גם כן {% equation %}\frac{1}{2}{% endequation %}). אנו כופלים את ההסתברויות שכן מאורעות אלו הם בלתי תלויים (כפי שכבר אמרתי - מינו של אחד הילדים לא משפיע על מינו של השני).

כעת, השאלה שלנו היא "בהינתן שידוע שאחד מהילדים היא בת, מה ההסתברות שהילד השני הוא בן"? וזוהי שאלה קלאסית בהסתברות מותנית. אם נסמן ב-{% equation %}A{% endequation %} את המאורע "יש בן במשפחה" וב-{% equation %}B{% endequation %} את המאורע "יש בת במשפחה" אז ההסתברות של {% equation %}A{% endequation %} בהינתן ש-{% equation %}B{% endequation %} נכון נתונה על ידי {% equation %}\frac{P\left(A\cap B\right)}{P\left(B\right)}{% endequation %}. ההסתברות {% equation %}P\left(A\cap B\right){% endequation %} היא בעצם ההסתברות של אחד משני האיברים {% equation %}GB,BG{% endequation %}, כלומר {% equation %}\frac{1}{2}{% endequation %}; וההסתברות {% equation %}P\left(B\right){% endequation %} היא ההסתברות של אחד משלושת האיברים {% equation %}GB,BG,GG{% endequation %} (כל איבר פרט לזה שמייצג את "יש רק בנים במשפחה"), כלומר {% equation %}\frac{3}{4}{% endequation %}. לכן סה"כ מקבלים הסתברות של {% equation %}\frac{1/2}{3/4}=\frac{2}{3}{% endequation %}, וסיימנו. או שלא?

בואו ננסה להבין שוב מה הלך כאן כרגע. אמרתי "בהתחלה היו ארבע אפשרויות להרכב המשפחה. אפשרות אחת נפלה, כי אנחנו יודעים שיש בת במשפחה, ולכן כל אחת משלוש האפשרויות הנותרות סבירה באותה מידה, ובשתיים מהן יש בן במשפחה, אז הסיכוי לבן הוא {% equation %}\frac{2}{3}{% endequation %}". לא יודע מה אתכם, אבל לי זה נשמע משכנע בהחלט. רק חבל שזה לא נכון.

הסיבה שזה לא נכון היא שיש נתון נוסף מאחורי הקלעים, שעד כה התייחסנו אליו באופן מאוד מאוד מובלע. הנתון הזה הוא השאלה "איך <strong>נבחר</strong> מי שיפתח את הדלת?" (או לחילופין, השאלה "איך החבר שמספר לך על הילדים <strong>בוחר</strong> על מי ומה לספר?"). כדי לראות שהשאלה הזו היא <strong>קריטית</strong>, הבה נבחן כמה סיטואציות אפשריות. אם, למשל, הבית שוביניסטי ויש בו חוק לפיו אם דופקים בדלת, אז בן זכר חייב לפתוח אלא אם אין בנים כאלו, אז אם בת פתחה לנו את הדלת ההסתברות שהילד השני הוא בן היא אפס, שהרי אם הוא היה בן, זה הוא שהיה פותח לנו את הדלת. הסתברות {% equation %}0{% endequation %}, ולא {% equation %}\frac{2}{3}{% endequation %}; כבר אנחנו רואים שיש כאן בעיה.

אם, לעומת זאת, החוק היה "הילד הבכור תמיד פותח את הדלת", ההסתברות הייתה בבירור {% equation %}\frac{1}{2}{% endequation %}, כי המין של הילד הבכור אינו תלוי במין של הילד הצעיר. פורמלית, המאורע "הבן הבכור שפתח את הדלת הוא זכר" מורכב מהאיברים {% equation %}BG,BB{% endequation %}, והמאורע "הבן הבכור שפתח את הדלת הוא זכר והילד הנוסף הוא בת" מורכב מהאיבר הבודד {% equation %}BG{% endequation %}, כך שההסתברות המותנית היא חצי, גם מבחינה מתמטית מדוייקת.

אם כן, היה לנו אפס והיה לנו חצי. לאן נעלם השני-שליש? אה, הוא חוזר אם אנחנו מניחים שהבית הוא <strong>פמיניסטי</strong> ואם יש בת, היא זו שפותחת את הדלת. במקרה זה, המאורע "בת פתחה את הדלת" מורכב מהאיברים {% equation %}GB,BG,GG{% endequation %} (כל האפשרויות פרט ל"יש רק בנים במשפחה"), וכאן שני שליש מהמאורעות אכן מייצגים משפחות עם בן, ולכן מקבלים הסתברות של {% equation %}\frac{2}{3}{% endequation %}.

בקצרה, ההסתברות שמקבלים תלויה באופן קריטי בבחירה מסויימת שמתרחשת מאחורי הקלעים. אבל אף אחת משיטות הבחירה שהצגתי אינה "טבעית"; מה קורה אם שיטת הבחירה היא הפשוטה ביותר שניתן להעלות על הדעת בהקשר הזה, ולכן גם זו שכנראה רוב האנשים מניחים באופן בלתי מודע - ילד שנבחר באקראי משני הילדים פותח את הדלת? במקרה הזה עלינו להרחיב קצת את מרחב ההסתברות שלנו, כי מבוצעת בו שתי הגרלות - גם מגרילים את הרכב המשפחה, וגם מגרילים איזה ילד יפתח את הדלת. הדבר קצת דומה למה שקרה ב<a href="http://www.gadial.net/2008/02/23/monty_hall/">וריאציה שהצגתי על בעית מונטי הול</a>, זו שעסקה באסירים שעומדים להיות מוצאים להורג - גם שם, האופן שבו השומר בחר לספר דברים לאסירים השפיע על ההסתברות המותנית שלהם להיתלות.

אם כן, מרחב ההסתברות שהצגתי קודם היה טיפה "מזוייף". מרחב יותר מדוייק יכיל זוגות מהצורה {% equation %}\left(BB,1\right){% endequation %} וכדומה, כשהמספר אומר מהו מספרו של הילד שפתח לנו את הדלת. במרחב הזה יש שמונה איברים (אילו?) שכולם שווי הסתברות. כעת, המאורע של "בת פתחה לנו את הדלת" הוא הקבוצה {% equation %}\left\{ \left(GG,1\right),\left(GG,2\right),\left(GB,1\right),\left(BG,2\right)\right\} {% endequation %}. המאורע של "בת פתחה את הדלת וגם הילד השני הוא בן" הוא הקבוצה {% equation %}\left\{ \left(GB,1\right),\left(BG,2\right)\right\} {% endequation %}. כלומר, ההסתברות היא {% equation %}\frac{1}{2}{% endequation %}, כמו שהאינטואיציה אומרת. זו הבעיה המרכזית בחידה הזו - הניתוח המתמטי הפשטני (זה שפשוט חוטף את המאורע {% equation %}\left\{ GB,BG,GG\right\} {% endequation %} ללא הצדקה) נותן תוצאה שונה מהאינטואיציה ולכן החידה מקבלת הילה מונטי-הולית סביבה. יש כאן לקח טוב - אם כבר מנסים ללכת באופן מתמטי ומדויק, צריך ללכת עם זה עד הסוף ולא להשאיר אף הנחה קבורה מתחת לפני השטח.
