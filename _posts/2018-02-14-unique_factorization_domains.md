---
id: 3554
title: "תחומי פריקות יחידה"
date: 2018-02-14 14:44:55
layout: post
categories: 
  - אלגברה מופשטת
tags: 
  - המשפט היסודי של האריתמטיקה
  - תחום פריקות יחידה
  - תחום ראשי
---
<h2>מבוא</h2>
בסדרת הפוסטים על חוגים עד כה האבטיפוס שלי לחוג היה המספרים השלמים, {% equation %}\mathbb{Z}{% endequation %}. במובן מסויים זו נקודת מבט צרה מדי, כי {% equation %}\mathbb{Z}{% endequation %} הוא בעל שתי תכונות שממש לא נדרשות בחוגים כלליים - ראשית, הכפל שלו הוא <strong>קומוטטיבי</strong>; שנית, הוא <strong>תחום שלמות</strong>, כלומר אין בו מחלקי אפס. למרות שזו מראש התמקדות במחלקה צרה יחסית של חוגים, עדיין מקבלים הרבה דברים מעניינים אם מסתכלים רק על חוגים שמקיימים את שתי התכונות הללו. למשל, כל <strong>חוגי השלמים</strong> שמתקבלים על ידי הרחבה של השדה {% equation %}\mathbb{Q}{% endequation %} באמצעות הוספת מספרים אלגבריים אי רציונליים (כמו {% equation %}\sqrt{2}{% endequation %}) ואז בדיקה מי האיברים של השדה שהתקבל ש"מתנהגים כמו שלמים" (לא אגדיר זאת במפורש כרגע) יהיו תחומי שלמות קומוטטיביים, עם רמות שונות ומשונות של דמיון ל-{% equation %}\mathbb{Z}{% endequation %}. בפוסט הזה אני רוצה לדבר בדיוק על אותן "רמות שונות ומשונות של דמיון".

אני אתחיל עם סיפור מפורסם מההיסטוריה של המתמטיקה (<a href="http://www.gadial.net/2011/08/14/fermat_last_theorem_overview/">שכבר הזכרתי בבלוג</a>) על היום שבו כמעט הוכיחו את המשפט האחרון של פרמה, כ-150 שנה לערך לפני ההוכחה של אנדרו וויילס. בשנת 1847 הצהיר המתמטיקאי לאמה, בכינוס של האקדמיה בפריז, שהצליח להוכיח את המשפט האחרון של פרמה. ההוכחה שלו הסתמכה על הרעיון הבא: המשפט האחרון של פרמה מדבר על הפתרונות של משוואה מהצורה {% equation %}x^{n}+y^{n}=z^{n}{% endequation %} . אם אפשר <strong>לפרק לגורמים</strong> את הביטוי שבאגף שמאל, מצבנו טוב, כי יותר קל להתעסק עם מכפלה מאשר עם סכום. פירוק כזה אפשר לעשות עם מספרים מרוכבים: למשל, {% equation %}x^{2}+y^{2}=\left(x+iy\right)\left(x-iy\right){% endequation %}. קיבלנו פה ש-{% equation %}x^{2}+y^{2}{% endequation %} הוא מכפלה של איברים מהחוג {% equation %}\mathbb{Z}\left[i\right]{% endequation %} - חוג השלמים הגאוסיים (כמובן, המשפט האחרון של פרמה לא מדבר בכלל על המקרה {% equation %}n=2{% endequation %} אבל זו המחשה לעניין הפירוק).

מה שלאמה עשה הוא זה: לכל {% equation %}n{% endequation %}, הוא לקח מספר מרוכב {% equation %}\theta{% endequation %} כך ש-{% equation %}\theta^{n}=1{% endequation %} וכל החזקות של {% equation %}\theta{% endequation %} עד {% equation %}\theta^{n}{% endequation %} שונות זו מזו, ורשם את הפירוק הבא:

{% equation %}x^{n}+y^{n}=\left(x+\theta^{0}y\right)\left(x+\theta^{1}y\right)\cdots\left(x+\theta^{n-1}y\right){% endequation %}

אם תפתחו את הסוגריים באגף ימין יתברר לכם שהפירוק אכן עובד, זו לא הייתה הבעיה. הבעיה הייתה טמונה בהמשך הניתוח. לאמה התבסס על ניתוחים דומים שנעשו עבור חזקות נמוכות קונקרטיות; מה שאותם ניתוחים עשו היה להשתמש בהנחה שבחוג השלמים שאנחנו מתעסקים בו, החוג {% equation %}\mathbb{Z}\left[\theta\right]{% endequation %}, יש <strong>פירוק יחיד לגורמים</strong> אי פריקים של כל איבר. אבל, לרוע המזל, זה פשוט לא היה נכון וכל ההוכחה של לאמה קרסה. במקביל אל לאמה המתמטיקאי קומר התעסק גם הוא בבעיה הזו של חוגי שלמים שאין בהם פירוק יחיד לגורמים, המציא את המושג של "מחלקים אידאליים" ש<a href="http://www.gadial.net/2017/12/26/ideals_of_rings/">הזכרתי בפוסט קודם</a>, הצליח לתקן חלקית את הבעיה והוכיח את המשפט האחרון של פרמה למקרים רבים (אבל ממש לא כולם). היעד שלו, אגב, היה בכלל הוכחה של משפט אחר, הכללה של <a href="http://www.gadial.net/2009/06/26/sums_of_squares_and_quadratic_reciprocity/">משפט ההדדיות הריבועית</a>; המשפט האחרון של פרמה זה משהו שיצא לו על הדרך.
<h2>תחום פריקות יחידה</h2>
אז מה זה אומר, פירוק יחיד לגורמים אי פריקים? בואו נביא הגדרות. ניקח חוג {% equation %}R{% endequation %} כלשהו שכל מה שאני מניח עליו הוא שהוא תחום שלמות קומוטטיבי עם יחידה (אני לא מניח שהוא מרחיב את {% equation %}\mathbb{Z}{% endequation %} או כל דבר דומה). אני אשתמש הרבה במושג של "חלוקה" אז הנה תזכורת פורמלית: אני אומר ש-{% equation %}a{% endequation %} <strong>מחלק</strong> את {% equation %}b{% endequation %} ומסמן את זה {% equation %}a|b{% endequation %} אם קיים {% equation %}d\in R{% endequation %} כך ש-{% equation %}ad=b{% endequation %}. עכשיו, בחוג הזה יש שלושה סוגי איברים מעניינים, שמכלילים את מה שאנחנו מכירים מהשלמים:
<ul>
 	<li>איבר {% equation %}u\in R{% endequation %} הוא <strong>הפיך</strong> (באנגלית קוראים לזה Unit) אם קיים {% equation %}v\in R{% endequation %} כך ש-{% equation %}uv=1{% endequation %}.</li>
 	<li>איבר {% equation %}p\in R{% endequation %} הוא <strong>ראשוני</strong> אם {% equation %}p|ab{% endequation %} גורר ש-{% equation %}p|a{% endequation %} או {% equation %}p|b{% endequation %} (זו בעצם דרך שונה להגיד שהאידאל ש-{% equation %}p{% endequation %} יוצר הוא אידאל ראשוני).</li>
 	<li>איבר {% equation %}r\in R{% endequation %} הוא <strong>אי פריק</strong> אם {% equation %}r=ab{% endequation %} גורר ש-{% equation %}a{% endequation %} הפיך או {% equation %}b{% endequation %} הפיך.</li>
</ul>
ב-{% equation %}\mathbb{Z}{% endequation %} יש שני איברים הפיכים: {% equation %}1,-1{% endequation %}. ב-{% equation %}\mathbb{Z}\left[i\right]{% endequation %} יש לנו כבר ארבעה: {% equation %}\left\{ 1,-1,i,-i\right\} {% endequation %}. כמו כן, ב-{% equation %}\mathbb{Z}{% endequation %} מה שאנחנו קוראים לו "ראשוני" ומה שאנחנו קוראים לו "אי פריק" זה אותו דבר בדיוק - אלו שתי תכונות שונות של ראשוניים. אוקלידס, למשל, הגדיר ראשוני בתור מה שאני קורא לו כאן "אי פריק" ו<strong>הוכיח</strong> שכל ראשוני שלו מקיים את התכונה שלחלק מכפלה גורר לחלק את אחד המוכפלים. מההוכחה הזו הוא הגיע די בקלות להוכחה של <strong>המשפט היסודי של האריתמטיקה</strong> שמראה שכל מספר ניתן לפירוק <strong>יחיד</strong> לגורמים ראשוניים (אם לדייק, אצל אוקלידס אין את הניסוח הזה; טענות 30-32 בספר 7 וטענה 14 בספר 9 ביחד הן כמעט המשפט הזה, אבל משהו חסר בקטע של ה"יחיד").

האם גם אצלנו ראשוני ואי פריק זה אותו דבר? כמעט. בואו נראה שבכל תחום שלמות, איבר <strong>ראשוני</strong> הוא גם אי פריק: נניח ש-{% equation %}p{% endequation %} ראשוני, ונסתכל על פירוק {% equation %}p=ab{% endequation %} כלשהו שלו. אנחנו רוצים להוכיח ש-{% equation %}a{% endequation %} הפיך או {% equation %}b{% endequation %} הפיך. מכיוון ש-{% equation %}p{% endequation %} ראשוני והוא בוודאי מחלק את עצמו, אז {% equation %}p|ab{% endequation %} ולכן בלי הגבלת הכלליות {% equation %}p|a{% endequation %}. מסקנה: קיים {% equation %}d{% endequation %} כך ש-

{% equation %}a=dp=dab{% endequation %}

ומכיוון שאנחנו בתחום שלמות קומוטטיבי אפשר לצמצם ולקבל {% equation %}db=1{% endequation %}, כלומר {% equation %}b{% endequation %} הפיך וסיימנו. זה היה פשוט כל כך שנראה לנו שיהיה קל להוכיח גם את ההפך, אבל ההפך הוא פשוט <strong>לא נכון</strong>. יש תחומי שלמות עם איברים אי פריקים שאינם ראשוניים.

בשביל לראות את זה, בואו נסתכל על חוג "הדוגמא הנגדית" החביב עלי - {% equation %}\mathbb{Z}\left[\sqrt{-5}\right]{% endequation %}. החוג הזה ידוע לשמצה בגלל שתי דרכים שונות לכתוב את 6 בו: או בתור {% equation %}2\cdot3{% endequation %} המובן מאליו, או בתור {% equation %}\left(1+\sqrt{-5}\right)\left(1-\sqrt{-5}\right){% endequation %}. הפואנטה היא שכל ארבעת האיברים הללו הם, כפי שתכף אראה, <strong>אי פריקים</strong>: {% equation %}2,3,\left(1+\sqrt{-5}\right),\left(1-\sqrt{-5}\right){% endequation %} כולם אי פריקים. זה אומר ש-{% equation %}2{% endequation %} מחלק את המכפלה {% equation %}\left(1+\sqrt{-5}\right)\left(1-\sqrt{-5}\right){% endequation %} אבל הוא <strong>לא יכול</strong> לחלק את הגורמים שלה, כי הם אי פריקים ו-2 איננו הפיך. זה מצביע על תוצאה כללית יותר: אם בתחום שלמות לא קיים <strong>פירוק יחיד</strong> לגורמים אי פריקים, אז בהחלט יהיו בחוג אי פריקים שאינם ראשוניים. זה משאיר אותנו עם השאלה הבאה: האם בחוג שבו כן קיים פירוק יחיד לגורמים אי פריקים כל אי פריק הוא ראשוני? התשובה חיובית, אבל ההוכחה לא תהיה טריוויאלית.

הנה דרך להיווכח בכך שהאיברים הללו הם אכן אי פריקים. אני אשתמש במושג שנקרא <strong>נורמה</strong> והדרך הנכונה להבין אותו היא במהלך דיון על תורת השדות אבל כרגע נוכל להסתפק בהגדרה פשוטה יותר. הנורמה של איבר בחוג {% equation %}\mathbb{Z}\left[\sqrt{D}\right]{% endequation %} מוגדרת להיות

{% equation %}N\left(a+b\sqrt{D}\right)=\left(a+b\sqrt{D}\right)\left(a-b\sqrt{D}\right)=a^{2}-Db^{2}{% endequation %}

את האינטואיציה כל מי שלמד תיכון יכול לזהות - אנחנו כופלים ב"צמוד" של {% equation %}a+b\sqrt{D}{% endequation %} כדי לנטרל את השורש של {% equation %}D{% endequation %} ולקבל איבר ששייך ממש ל-{% equation %}\mathbb{Z}{% endequation %}. עבור המרוכבים, למשל, הנורמה יוצאת פשוט {% equation %}N\left(a+bi\right)=a^{2}+b^{2}{% endequation %}, מה שמזכיר לנו את הגדרת הערך המוחלט של מספר מרוכב ({% equation %}\left|a+bi\right|=\sqrt{a^{2}+b^{2}}{% endequation %}). במקרה שלנו {% equation %}D=-5{% endequation %} ולכן הנורמה תהיה {% equation %}N\left(a+b\sqrt{-5}\right)=a^{2}+5b^{2}{% endequation %}.

מההגדרה של הנורמה בתור סוג של מכפלה קל לראות שהיא <strong>כפלית</strong>, כלומר שאם {% equation %}\alpha,\beta\in\mathbb{Z}\left[\sqrt{D}\right]{% endequation %} אז {% equation %}N\left(\alpha\beta\right)=N\left(\alpha\right)N\left(\beta\right){% endequation %}. זה מאפשר לנו לזהות בקלות הפיכים: אם {% equation %}\alpha\beta=1{% endequation %} אז {% equation %}N\left(\alpha\right)N\left(\beta\right)=1{% endequation %}, ומכך ש-{% equation %}\alpha,\beta{% endequation %} שלמים נקבל שהנורמה שלהם היא {% equation %}\pm1{% endequation %}. ספציפית במקרה שלנו היא חייבת להיות 1 כי {% equation %}a^{2}+5b^{2}{% endequation %} הוא תמיד אי-שלילי. מכאן קל לראות שההפיכים היחידים ב-{% equation %}\mathbb{Z}\left[\sqrt{-5}\right]{% endequation %} הם {% equation %}\pm1{% endequation %}.

כעת, בואו נראה ש-{% equation %}3{% endequation %} למשל הוא אי-פריק: {% equation %}N\left(3\right)=9{% endequation %} ולכן אם {% equation %}3=\alpha\beta{% endequation %} אז {% equation %}9=N\left(\alpha\right)N\left(\beta\right){% endequation %}. אם {% equation %}\alpha,\beta{% endequation %} שניהם לא הפיכים נובע מכך שהנורמה של שניהם חייבת להיות גדולה מ-1, כלומר בהכרח {% equation %}N\left(\alpha\right)=3{% endequation %}, אבל קל לראות על ידי ניסוי וטעיה זריזים שלמשוואה {% equation %}a^{2}+5b^{2}=3{% endequation %} אין פתרון. באופן דומה רואים שגם 2 (נורמה 4) הוא אי פריק, וגם {% equation %}1+\sqrt{-5}{% endequation %} ו-{% equation %}1-\sqrt{-5}{% endequation %} (נורמה 6).

אם כן, נסכם: אני אומר על תחום שלמות קומוטטיבי {% equation %}R{% endequation %} שהוא <strong>תחום פריקות יחידה</strong> אם לכל {% equation %}a\in R{% endequation %} שאיננו הפיך קיימת הצגה <strong>יחידה</strong> {% equation %}a=r_{1}r_{2}\cdots r_{n}{% endequation %} כאשר כל ה-{% equation %}r_{i}{% endequation %}-ים הם אי-פריקים (לאו דווקא שונים זה מזה). למה הכוונה ב"יחידה" פה? צריך להיות קצת זהירים. ראשית, נאמר על שני איברים לא הפיכים {% equation %}a,b\in R{% endequation %} שהם <strong>ידידים</strong> אם הם שווים עד כדי כפל בהפיך, כלומר {% equation %}a=ub{% endequation %} כך ש-{% equation %}u{% endequation %} הפיך. כעת, הצגה יחידה פירושה הדבר הבא: אם {% equation %}a=r_{1}\cdots r_{n}{% endequation %} וגם {% equation %}a=s_{1}\cdots s_{m}{% endequation %} כאשר גם ה-{% equation %}r{% endequation %}-ים וגם ה-{% equation %}s{% endequation %}-ים הם אי פריקים, אז ראשית כל {% equation %}n=m{% endequation %} - מספר המוכפלים זהה - ושנית, אפשר למספר מחדש את ה-{% equation %}s{% endequation %}-ים כך שיתקיים ש-{% equation %}r_{i},s_{i}{% endequation %} הם ידידים לכל {% equation %}1\le i\le n{% endequation %}.

הנה דוגמא פשוטה עבור השלמים: {% equation %}6=2\cdot3=\left(-3\right)\cdot\left(-2\right){% endequation %}. כאן {% equation %}r_{1}=2,r_{2}=3{% endequation %} ואילו {% equation %}s_{1}=-3,s_{2}=-2{% endequation %}. אחרי מספור מחדש של ה-{% equation %}s{% endequation %}-ים נקבל {% equation %}s_{1}=-2,s_{2}=-3{% endequation %} וכמובן ש-{% equation %}2,-2{% endequation %} ידידים וכך גם {% equation %}3,-3{% endequation %}. מה שיש לנו פה הוא הכללה של המשפט היסודי של האריתמטיקה אפילו עבור {% equation %}\mathbb{Z}{% endequation %}, כי המשפט היסודי של האריתמטיקה מראש מדבר על פירוק לחיוביים בלבד ולא מרשה את כל המינוסים הללו.
<h2>מדוע בשלמים קיים פירוק לגורמים?</h2>
זו שאלה מעניינת בהחלט מה גורם לחוג להפוך לתחום פריקות יחידה. אין לשאלה הזו תשובה כללית, אבל אפשר לחשוב מה גורם לכך ב-{% equation %}\mathbb{Z}{% endequation %} ולראות איך מכלילים את זה הלאה. ובכן, צריך להפריד בין שני המרכיבים השונים של המשפט היסודי של האריתמטיקה: <strong>קיום</strong> פירוק לגורמים אי פריקים הוא דבר אחד, ו<strong>יחידות</strong> הפירוק הזה היא דבר אחר, ובאופן שהוא אולי די מפתיע, דווקא קיום הפירוק יהיה החלק היותר בעייתי בהכללה שאנחנו רוצים למצוא.

קחו מספר {% equation %}a\in\mathbb{Z}{% endequation %}. אם הוא אי פריק, סיימנו; מצאנו הצגה של {% equation %}a{% endequation %} כמכפלת איברים אי פריקים. אחרת, {% equation %}a=bc{% endequation %} כך ש-{% equation %}b,c{% endequation %} שניהם לא הפיכים (זו ממש ההגדרה של מתי {% equation %}a{% endequation %} אינו אי-פריק). האינטואיציה עכשיו היא שאם {% equation %}b,c{% endequation %} שניהם אי פריקים אז סיימנו, ואחרת אפשר לעבור לפרק את {% equation %}b,c{% endequation %} באותה הדרך שבה פירקנו את {% equation %}a{% endequation %}, ו<strong>מתישהו זה צריך לעצור</strong>. מרגישים את נפנוף הידיים? זה לב העניין פה: <strong>למה</strong> שהתהליך הזה יעצור? מה מונע מאיתנו לפרק את הגורמים עוד ועוד, עד אינסוף? אצל אוקלידס, למשל (ספר 7, טענה 31) הוא משתמש בהנחה שזה בלתי אפשרי באופן חצי מובלע (כלומר, הוא אומר אותה במפורש, אבל הוא לא טרח לציין אותה בתור אקסיומה, או הנחה, או עקרון מפורש או שום דבר אחר). אבל איך אנחנו מנמקים את זה? אנחנו מדברים על <strong>הגודל</strong> של {% equation %}a,b,c{% endequation %}. אני אומר את הטיעון הבא: יש לי פונקציית "נורמה" על השלמים שמוגדרת באמצעות {% equation %}N\left(a\right)=\left|a\right|{% endequation %}. הפונקציה הזו היא כפלית: {% equation %}N\left(ab\right)=N\left(a\right)N\left(b\right){% endequation %}, ולכן כמקודם קל לראות ש-{% equation %}a{% endequation %} הוא הפיך אם ורק אם {% equation %}N\left(a\right)=1{% endequation %}. יותר מכך - הנורמה הזו תמיד מחזירה מספרים אי-שליליים: {% equation %}N:\mathbb{Z}\to\mathbb{N}{% endequation %}. לכן, אם {% equation %}a=bc{% endequation %} כאשר {% equation %}b,c{% endequation %} שניהם לא הפיכים, אז {% equation %}N\left(a\right)=N\left(b\right)N\left(c\right){% endequation %} גורר ש-{% equation %}N\left(b\right)&lt;N\left(a\right){% endequation %} וגם {% equation %}N\left(c\right)&lt;N\left(a\right){% endequation %}. זה מאפשר לנו <strong>להוכיח באינדוקציה</strong> את הטענה שלנו.

הנה ניסוח מסודר: אני מוכיח באינדוקציה על {% equation %}N\left(a\right){% endequation %} שאם {% equation %}a\ne0{% endequation %} ו-{% equation %}a{% endequation %} אינו הפיך אז קיים פירוק {% equation %}a=p_{1}\cdots p_{k}{% endequation %} כך ש-{% equation %}p_{1},\dots,p_{k}{% endequation %} אי-פריקים. ההוכחה: אם {% equation %}N\left(a\right)=0{% endequation %} אז {% equation %}a=0{% endequation %} בהכרח ואין מה להוכיח; אם {% equation %}N\left(a\right)=1{% endequation %} אז {% equation %}a=\pm1{% endequation %}, כלומר הוא הפיך, ואין מה להוכיח; אלו מקרי הבסיס. בשלב הצעד ניקח {% equation %}n&gt;1{% endequation %}, ונניח שאם {% equation %}N\left(a\right)&lt;n{% endequation %} אז הטענה מתקיימת כבר עבור {% equation %}a{% endequation %}. יהא {% equation %}a{% endequation %} כך ש-{% equation %}N\left(a\right)=n{% endequation %}, אז או ש-{% equation %}a{% endequation %} אי פריק ואז סיימנו או ש-{% equation %}a=bc{% endequation %} כך ש-{% equation %}b,c{% endequation %} שונים מאפס ואינם הפיכים. מכיוון ש-{% equation %}N\left(b\right),N\left(c\right)&lt;n{% endequation %} אפשר להשתמש עליהם בהנחת האינדוקציה ולקבל ש-{% equation %}b=p_{1}\cdots p_{k}{% endequation %} ו-{% equation %}c=q_{1}\cdots q_{t}{% endequation %} כאשר כל המוכפלים הם אי פריקים, ואז נקבל ש-{% equation %}a=p_{1}\cdots p_{k}q_{1}\cdots q_{t}{% endequation %} הוא פירוק לגורמים אי פריקים של {% equation %}a{% endequation %}, וסיימנו.

במה השתמשתי פה, בעצם? באילו תכונות של השלמים? כמעט בשום דבר. הדגש פה היה על <strong>הנורמה</strong> שבה השתמשתי. מה היו התכונות הרלוונטיות שלה?
<ol>
 	<li>הנורמה היא פונקציה שהטווח שלה הוא השלמים האי-שליליים (מה שאני קורא לו "הטבעיים" כי בעיני טבעיים זה עם 0): {% equation %}N:\mathbb{Z}\to\mathbb{N}{% endequation %}.</li>
 	<li>כפליות: {% equation %}N\left(ab\right)=N\left(a\right)N\left(b\right){% endequation %}.</li>
 	<li>{% equation %}N\left(a\right)=0{% endequation %} גורר {% equation %}a=0{% endequation %}.</li>
 	<li>{% equation %}N\left(a\right)=1{% endequation %} גורר ש-{% equation %}a{% endequation %} הפיך.</li>
</ol>
התכונות הללו אינן סוף פסוק, כמובן. אני לא <strong>חייב</strong> שממש תתקיים כפליות כדי שההוכחה תעבוד, אלא רק התכונה החלשה יותר {% equation %}N\left(ab\right)\le N\left(a\right)N\left(b\right){% endequation %}. ואני לא <strong>חייב</strong> שיתקיים {% equation %}N\left(a\right)=1{% endequation %} אם ורק אם {% equation %}a{% endequation %} הפיך, אלא מספיק לי שהנורמה של ההפיכים תהיה הערך המינימלי שאיבר שונה מ-0 בחוג יכול לקבל, ורק הפיכים יקבלו אותה, וכדומה. בשל כך, ההגדרה הכללית של נורמה שאני הולך להציג בקרוב תהיה קצת שונה, אבל ההוכחה שתנבע ממנה עבור חוג כללי תהיה מאוד דומה להוכחה עבור {% equation %}\mathbb{Z}{% endequation %}.
<h2>מדוע בשלמים הפירוק לגורמים הוא יחיד?</h2>
נעבור עכשיו לחלק השני של ההוכחה - העניין של <strong>פריקות יחידה</strong>. כאן התכונה הבסיסית של {% equation %}\mathbb{Z}{% endequation %} שנסתמך עליה היא פשוטה יותר לניסוח: בשלמים, <strong>כל אי-פריק הוא ראשוני</strong>. אני אזכיר שוב על מה מדובר. איבר לא הפיך {% equation %}p{% endequation %} הוא <strong>ראשוני</strong> אם {% equation %}p|ab{% endequation %} גורר ש-{% equation %}p|a{% endequation %} או {% equation %}p|b{% endequation %}; ואילו {% equation %}p{% endequation %} הוא <strong>אי-פריק</strong> אם {% equation %}p=ab{% endequation %} גורר ש-{% equation %}a=p{% endequation %} או {% equation %}b=p{% endequation %}. ראינו כבר שכל ראשוני הוא אי פריק; הקושי הוא בכיוון השני.

ביום יום, המילה "ראשוני" מתייחסת למספרים טבעיים ומוגדרת דווקא באמצעות מה שקראתי לו "אי-פריק", כלומר אם תפתחו ויקיפדיה יגידו לכם שראשוני הוא מספר טבעי גדול מ-1 שמתחלק רק בעצמו וב-1. ההוכחה שמספר ראשוני כזה מקיים את התכונה הפלאית שאם הוא מחלק מכפלה הוא מחלק את אחד מהמוכפלים - זו הוכחה לא טריוויאלית בכלל, שהופיעה לראשונה אצל אוקלידס (ספר 7, טענה 30). עוד מעט נראה איך מוכיחים אותה, אבל בינתיים בואו ונראה איך היא רלוונטית לעניין הזה של פירוק יחיד.

אני הולך להשתמש באינדוקציה כדי להוכיח את הטענה הבאה: אם {% equation %}p_{1}\cdots p_{n}=q_{1}\cdots q_{k}{% endequation %} כך שכל ה-{% equation %}p,q{% endequation %}-ים הללו הם אי פריקים, אז {% equation %}n=k{% endequation %} וכמו כן אפשר לסדר מחדש את ה-{% equation %}q{% endequation %}-ים כך ש-{% equation %}p_{i},q_{i}{% endequation %} הם ידידים ({% equation %}p_{i}=u_{i}q_{i}{% endequation %} כך ש-{% equation %}u_{i}{% endequation %} הפיך). האינדוקציה היא על {% equation %}n{% endequation %}, כשמקרה הבסיס הוא 0. במקרה הזה, המכפלה {% equation %}p_{1}\cdots p_{n}{% endequation %} היא "מכפלה ריקה" ולכן שווה 1, ומכך ש-{% equation %}1=q_{1}\cdots q_{k}{% endequation %} נקבל בהכרח ש-{% equation %}k=0{% endequation %} כי לא ייתכן שיהיו מוכפלים באגף שמאל (כי מכך שההכפלה שלהם במשהו הניבה 1 עולה שהם הפיכים, אבל אי-פריקים הם על פי הגדרתם לא הפיכים). בקיצור, מקרה הבסיס הוא טריוויאלי לחלוטין.

נעבור למקרה הכללי: {% equation %}p_{1}\cdots p_{n}=q_{1}\cdots q_{k}{% endequation %}. ניקח את {% equation %}p_{n}{% endequation %} ונסמן אותו מעכשיו פשוט {% equation %}p{% endequation %}, כלומר יש לנו את השוויון {% equation %}p_{1}\dots p_{n-1}p=q_{1}\cdots q_{k}{% endequation %}. כעת, {% equation %}p{% endequation %} הוא אי-פריק ולכן ראשוני. מכיוון ש-{% equation %}p{% endequation %} כפול משהו נותן את {% equation %}q_{1}\cdots q_{k}{% endequation %}, קיבלנו ש-{% equation %}p|q_{1}\cdots q_{k}{% endequation %}. עכשיו, אפשר להציג את המכפלה של {% equation %}k{% endequation %} האיברים הללו בתור מכפלה של שני איברים: {% equation %}q_{1}\cdots q_{k}=q_{1}\cdot\left(q_{2}\cdots q_{k}\right){% endequation %}. אז או ש-{% equation %}p|q_{1}{% endequation %} או ש-{% equation %}p|q_{2}\cdots q_{k}{% endequation %}. אפשר להמשיך ככה (באינדוקציה על {% equation %}k{% endequation %} אם ממש קריטי לכם להיות פורמליים) ומקבלים שקיים {% equation %}1\le i\le k{% endequation %} כך ש-{% equation %}p|q_{i}{% endequation %} (אין פה משהו מיוחד להוכחה הספציפית שלנו, זו התכונה הכללית של איבר ראשוני: אם הוא מחלק מכפלה של מספר סופי של מוכפלים, הוא מחלק לפחות את אחד מהם).

כעת, {% equation %}q_{i}{% endequation %} הוא אי-פריק, ולכן אם {% equation %}q_{i}=p\cdot d{% endequation %} אז או ש-{% equation %}p{% endequation %} הפיך (בלתי אפשרי, הרי {% equation %}p{% endequation %} הוא אי-פריק ולכן לא הפיך) או ש-{% equation %}d{% endequation %} הפיך ובמקרה הזה נקבל ש-{% equation %}p,q_{i}{% endequation %} הם ידידים. נשנה אם כן את הסדר של אברי {% equation %}q_{1}\cdots q_{k}{% endequation %} כך שהידיד הזה של {% equation %}p{% endequation %} הוא האיבר האחרון, {% equation %}q_{k}{% endequation %}.

כעת, בואו נחזור לשוויון שכתבנו קודם:

{% equation %}p_{1}\cdots p_{n-1}p=q_{1}\cdots q_{k-1}q_{k}=q_{1}\cdots q_{k-1}\left(pd\right){% endequation %}

מכיוון שאנחנו בתחום שלמות, אפשר לצמצם איברים שמופיעים בשני אגפי המשוואה, ולקבל:

{% equation %}p_{1}\cdots p_{n-1}=q_{1}\cdots\left(q_{k-1}d\right){% endequation %}

מכיוון ש-{% equation %}q_{k-1}{% endequation %} היה אי-פריק, גם {% equation %}q_{k-1}d{% endequation %} הוא כזה. בואו נראה זאת, כלומר נראה שכפל אי-פריק בהפיך מותיר אותו אי-פריק: אם {% equation %}a{% endequation %} אי-פריק ו-{% equation %}u{% endequation %} הפיך, ומתקיים {% equation %}ua=bc{% endequation %}, אז נקבל {% equation %}a=\left(u^{-1}b\right)c{% endequation %} ומכיוון ש-{% equation %}a{% endequation %} אי-פריק אז {% equation %}c{% endequation %} הפיך או ש-{% equation %}u^{-1}b{% endequation %} הפיך; ואם {% equation %}u^{-1}b{% endequation %} הפיך, כך גם {% equation %}b{% endequation %} כי כפל שני הפיכים (במקרה הזה {% equation %}u{% endequation %} ו-{% equation %}u^{-1}b{% endequation %}) נותן הפיך.

אם כן, אפשר להשתמש בהנחת האינדוקציה עבור השוויון {% equation %}p_{1}\cdots p_{n-1}=q_{1}\cdots\left(q_{k-1}d\right){% endequation %} ולקבל ש-{% equation %}n-1=k-1{% endequation %} וכמו כן שאפשר לסדר מחדש את ה-{% equation %}q{% endequation %}-ים כך שכל {% equation %}q_{i}{% endequation %} הוא ידיד של {% equation %}p_{i}{% endequation %}, ובפרט מתקיים ש-{% equation %}p_{n-1}{% endequation %} הוא ידיד של {% equation %}q_{n-1}d{% endequation %} ולכן גם של {% equation %}q_{n-1}{% endequation %}. נוסיף לזה את העובדה שמצאנו ש-{% equation %}p_{n}{% endequation %} ידיד של {% equation %}q_{n}{% endequation %} וסיימנו.

ההוכחה הזו היא קלה למדי. יש בה הרבה נוקדנות אינדקסים מעצבנת, אבל הרעיון הבסיסי שלה הוא כמעט טריוויאלי; לב העניין פה הוא בכך ש<strong>אי פריק הוא גם ראשוני</strong>. עוד לא הוכחתי את הטענה הזו ולכן בעצם אני מרגיש שעוד לא הוכחתי כלום.

את הטענה הזו אפשר להוכיח עבור הטבעיים בצורה ישירה, וזה מה שאוקלידס עשה, אבל זה בדיוק מה שאני <strong>לא</strong> רוצה לעשות כאן - זה יפספס את כל הדברים היפים שכבר ראינו בתורת החוגים. אז הנה הוכחה שהיא מאוד "אלגברה מופשטת" באופיה. <a href="http://gadial.net/2017/12/26/ideals_of_rings/">בפוסט שדיבר על אידאלים</a> ראינו שתי טענות על חוגים קומוטטיביים {% equation %}R{% endequation %}:
<ul>
 	<li>{% equation %}I{% endequation %} הוא אידאל ראשוני ב-{% equation %}R{% endequation %} אם ורק אם {% equation %}R/I{% endequation %} הוא תחום שלמות.</li>
 	<li>{% equation %}I{% endequation %} הוא אידאל מקסימלי ב-{% equation %}R{% endequation %} אם ורק אם {% equation %}R/I{% endequation %} הוא שדה.</li>
</ul>
מכיוון שכל שדה הוא בפרט תחום שלמות, המסקנה המיידית היא זו: אם {% equation %}I{% endequation %} הוא אידאל מקסימלי ב-{% equation %}R{% endequation %} אז הוא בפרט אידאל ראשוני ב-{% equation %}R{% endequation %}.

למה זה רלוונטי אלינו? כי ב-{% equation %}\mathbb{Z}{% endequation %}, יש התאמה מלאה בין מספרים ובין אידאלים: כל מספר {% equation %}a{% endequation %} יוצר אידאל {% equation %}\left\langle a\right\rangle {% endequation %}, וכל אידאל ב-{% equation %}\mathbb{Z}{% endequation %} נוצר בצורה כזו. כעת, {% equation %}a{% endequation %} הוא אי-פריק אם ורק אם {% equation %}\left\langle a\right\rangle {% endequation %} הוא מקסימלי, ו-{% equation %}a{% endequation %} הוא ראשוני אם ורק אם {% equation %}\left\langle a\right\rangle {% endequation %} הוא ראשוני; אם נשתכנע בשני אלו, סיימנו את ההוכחה. במילים אחרות, במקום לדבר ישירות על התכונות של המספרים, דיברנו על התכונות של <strong>האידאלים שמתאימים להם</strong>. אותי סגנון ההוכחה הזה מאוד מלהיב - אני מקווה שגם אתכם!

להראות ש-{% equation %}a{% endequation %} ראשוני אם ורק אם {% equation %}\left\langle a\right\rangle {% endequation %} הוא אידאל ראשוני זה קל. הרי {% equation %}a|x{% endequation %} זה <strong>בדיוק אותו דבר</strong> כמו {% equation %}x\in\left\langle a\right\rangle {% endequation %}, מה שמאפשר לי לכתוב את הדיאגרמה הבאה:

{% equation %}\begin{array}{ccc} a|bc & \iff & bc\in\left\langle a\right\rangle \\ \Downarrow & & \Downarrow\\ a|b\vee a|c & \iff & b\in\left\langle a\right\rangle \vee c\in\left\langle a\right\rangle \end{array}{% endequation %}

החץ השמאלי שמצביע למטה נכון אם {% equation %}a{% endequation %} ראשוני, והחץ הימני שמצביע למטה נכון אם {% equation %}\left\langle a\right\rangle {% endequation %} ראשוני; הדיאגרמה מראה שמספיק להניח את אחד מהדברים הללו כדי שהשני ינבע מאליו. הטענה הזו נכונה <strong>בכל תחום שלמות</strong>.

נשאר רק לדבר על הטענה הבאה: {% equation %}a{% endequation %} הוא אי-פריק אם ורק אם {% equation %}\left\langle a\right\rangle {% endequation %} הוא מקסימלי. הטענה הזו <strong>לא נכונה</strong> בכל תחום שלמות; אם {% equation %}a{% endequation %} הוא אי-פריק, זה לאו דווקא מספיק כדי להוכיח ש-{% equation %}\left\langle a\right\rangle {% endequation %} הוא מקסימלי. עם זאת, במקרים רבים ובפרט במקרה של {% equation %}\mathbb{Z}{% endequation %} זה כן מספיק.

בואו נתחיל דווקא מהוכחת הכיוון השני, עבור תחום שלמות {% equation %}R{% endequation %} כלשהו. נניח ש-{% equation %}\left\langle a\right\rangle {% endequation %} הוא אידאל מקסימלי ונוכיח ש-{% equation %}a{% endequation %} אי פריק. לשם כך, נתבונן על {% equation %}a=bc{% endequation %}. מכיוון ש-{% equation %}b|a{% endequation %} אז {% equation %}\left\langle a\right\rangle \subseteq\left\langle b\right\rangle {% endequation %}. מכיוון ש-{% equation %}a{% endequation %} מקסימלי, המסקנה מכך היא ש-{% equation %}\left\langle a\right\rangle =\left\langle b\right\rangle {% endequation %} או ש-{% equation %}\left\langle b\right\rangle =R{% endequation %}. במקרה ש-{% equation %}\left\langle a\right\rangle =\left\langle b\right\rangle {% endequation %} נקבל בפרט ש-{% equation %}b\in\left\langle a\right\rangle {% endequation %}, כלומר {% equation %}b=ad=bcd{% endequation %}, ומכיוון ש-{% equation %}R{% endequation %} הוא תחום שלמות אפשר לצמצם ולקבל {% equation %}cd=1{% endequation %}, כלומר {% equation %}c{% endequation %} הפיך. במקרה השני, שבו {% equation %}\left\langle b\right\rangle =R{% endequation %} אז בפרט {% equation %}1\in\left\langle b\right\rangle {% endequation %}, כלומר {% equation %}bd=1{% endequation %} ולכן {% equation %}b{% endequation %} הפיך.

זה מסיים את הכיוון הזה של ההוכחה, אבל שימו לב לנקודה עדינה למדי כאן: אני לא באמת זקוק לכך ש-{% equation %}\left\langle a\right\rangle {% endequation %} יהיה אידאל מקסימלי; רק שהוא יהיה מקסימלי בקרב כל <strong>האידאלים הראשיים</strong> הלא טריוויאליים. אידאל ראשי, כזכור, הוא אידאל שנוצר על ידי איבר בודד, כמו {% equation %}\left\langle b\right\rangle {% endequation %} במקרה שלנו.

בכיוון ההפוך, שבו אנחנו מניחים ש-{% equation %}a{% endequation %} הוא אי-פריק, זה גם כל מה שנוכל להוכיח: ש-{% equation %}\left\langle a\right\rangle {% endequation %} הוא מקסימלי מבין כל האידאלים הראשיים הלא טריוויאליים. האינטואיציה היא שהדואליות הזו של איבר-אידאל עובדת טוב כל עוד אנחנו מגבילים את העולם שלנו רק לאידאלים ששייכים לאותה דואליות; כשאנחנו מכניסים לתמונה גם אידאלים שאין להם התאמה מלאה לאיבר בחוג, הכל מתרסק. זו הסיבה שבגללה חוגים שבהם <strong>כל</strong> אידאל נוצר על ידי איבר בודד הם מעניינים; עוד מעט נדבר עליהם יותר בפירוט.

אם כן, נניח ש-{% equation %}a{% endequation %} הוא אי-פריק, ויהא {% equation %}I=\left\langle b\right\rangle {% endequation %} אידאל ראשי כלשהו כך ש-{% equation %}\left\langle a\right\rangle \subseteq I{% endequation %}. אנחנו רוצים להראות ש-{% equation %}I=\left\langle a\right\rangle {% endequation %} או {% equation %}I=R{% endequation %}.

מכיוון ש-{% equation %}\left\langle a\right\rangle \subseteq\left\langle b\right\rangle {% endequation %} הרי ש-{% equation %}a\in\left\langle b\right\rangle {% endequation %}, כלומר {% equation %}a=bc{% endequation %} עבור {% equation %}c{% endequation %} כלשהו. מכיוון ש-{% equation %}a{% endequation %} אי פריק, יש שתי אפשרויות: או ש-{% equation %}b{% endequation %} הפיך (ואז {% equation %}I=\left\langle b\right\rangle =R{% endequation %}) או ש-{% equation %}c{% endequation %} הפיך, ואז {% equation %}b=ac^{-1}\in\left\langle a\right\rangle {% endequation %} ונקבל {% equation %}\left\langle b\right\rangle \subseteq\left\langle a\right\rangle {% endequation %}, כלומר {% equation %}\left\langle a\right\rangle =\left\langle b\right\rangle {% endequation %}. בכל מקרה קיבלנו את מה שרצינו.

בואו נעשה סיכום ביניים קצר. אני קורא לחוג {% equation %}R{% endequation %} <strong>תחום ראשי</strong> (Principle Ideal Domain, ובקיצור PID) אם כל אידאל בו הוא אידאל ראשי. מה שראינו הוא שבתחום ראשי כן מתקיים שאידאל הוא מקסימלי אם ורק אם הוא נוצר על ידי אי פריק, וכתוצאה מכך בכל תחום ראשי מתקיים המשפט ש<strong>אי-פריק הוא ראשוני</strong>. זה מוכיח לנו שבכל תחום שלמות, <strong>אם קיים פירוק לגורמים אי פריקים אז הוא יחיד</strong>.

מה עוד לא הראיתי?
<ul>
 	<li>ש-{% equation %}\mathbb{Z}{% endequation %} הוא תחום ראשי, אבל כבר ראינו את זה בפוסט קודם ועוד מעט נראה משהו כללי יותר.</li>
 	<li>שבכל תחום ראשי (לא רק {% equation %}\mathbb{Z}{% endequation %}) בכלל קיים פירוק לגורמים אי-פריקים (הראיתי רק יחידות).</li>
</ul>
ומה כן הראיתי?
<ul>
 	<li>שבחוגים שיש בהם מושג של <strong>נורמה</strong> שמקיימת תכונות נחמדות מסויימות, קל לראות שיש פירוק לגורמים אי פריקים.</li>
 	<li>שבחוגים שהם תחומים ראשיים אם קיים פירוק לגורמים אי פריקים אז הוא יחיד.</li>
</ul>
מה אני הולך לעשות בהמשך?
<ul>
 	<li>לפרמל את עניין ה"נורמה נחמדה" עם המושג של <strong>תחום אוקלידי</strong>.</li>
 	<li>להוכיח שבכל תחום אוקלידי קיים פירוק לגורמים ראשוניים.</li>
 	<li>להוכיח שכל תחום אוקלידי הוא בפרט תחום ראשי, ולכן אוטומטית הפירוק לגורמים ראשוניים בו הוא יחיד.</li>
 	<li>להוכיח שבכל תחום ראשי קיים פירוק לגורמים ראשוניים - אבל זה ידרוש ממני את <strong>אקסיומת הבחירה</strong> שלא נדרשת עבור תחומים אוקלידיים.</li>
</ul>
כל העסק נראה כמו בלאגן אחד גדול? בהחלט. הדרך ה"נכונה" ללמוד אותו היא על ידי ספר לימוד שמתחיל מהצגה של תחומים אוקלידיים, עובר הלאה לתחומים ראשיים ומסיים בתחומי פריקות יחידה. העניין הוא שבדרך ההצגה הזו קשה לראות איך המושגים הללו של תחום אוקלידי ושל תחום ראשי צצים באופן טבעי ומתבקש מתוך שאלת הפירוק היחיד לגורמים, וזה מה שניסיתי להראות בפוסט הזה.
