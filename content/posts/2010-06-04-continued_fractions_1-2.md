---
id: 517
title: "שברים משולבים, ולמה הם מגניבים (חלק 2)"
date: 2010-06-04 19:13:53
layout: post
categories: 
  - תורת המספרים
tags: 
  - שברים משולבים
---
<a href="http://www.gadial.net/2010/05/29/continued_fractions_1/">בפוסט הקודם</a> הצגתי את השברים המשולבים - שברים מהצורה הכללית {% equation %}a_{0}+\frac{1}{a_{1}+\frac{1}{a_{2}+\frac{1}{a_{3}+\dots}}}{% endequation %} שכזכור, העדפתי לסמן בתור {% equation %}a_{0}+\frac{1}{a_{1}+}\frac{1}{a_{2}+}\frac{1}{a_{3}+\dots}{% endequation %}. מלמלתי משהו על כך שהם מעניינים במיוחד כאשר משתמשים בהם לייצג מספרים ממשיים אי רציונליים, ואז שקעתי בערב רב של חישובים ונוסחאות. הנה השורה התחתונה של אותם חישובים: אם {% equation %}\alpha{% endequation %} הוא מספר ממשי כלשהו ומציגים אותו כשבר משולב אינסופי, אז ניתן לדבר על סדרת הסכומים החלקיים {% equation %}\frac{A_{n}}{B_{n}}{% endequation %} שמתקבלים כאשר קוטמים את השבר המשולב לאחר ההגעה לאיבר {% equation %}a_{n}{% endequation %}. הסתבר שלסדרה הזו כמה תכונות מעניינות למדי: ראשית, תת-הסדרה של האיברים במקומות הזוגיים היא עולה, ואילו תת-הסדרה של האיברים במקומות האי זוגיים היא יורדת; שתי תת-הסדרות הללו מתכנסות לאותו איבר, ושלא במפתיע, איבר זה הוא {% equation %}\alpha{% endequation %}; וקצב ההתכנסות הוא ריבועי, במובן זה ש-{% equation %}\left|\alpha-\frac{A_{n}}{B_{n}}\right|&lt;\frac{1}{B_{n}B_{n+1}}{% endequation %}. כדי להראות למה תוצאות אלו (ואחרות שאציג בהמשך) הן מעניינות אני רוצה להשוות את השברים המשולבים לדרך ה"רגילה" שבה אנחנו מייצגים מספרים ממשיים - השיטה העשרונית.

<a href="http://he.wikipedia.org/wiki/%D7%94%D7%A9%D7%99%D7%98%D7%94_%D7%94%D7%A2%D7%A9%D7%A8%D7%95%D7%A0%D7%99%D7%AA">בשיטה העשרונית</a> מספרים מיוצגים באמצעות <a href="http://he.wikipedia.org/wiki/%D7%98%D7%95%D7%A8_%D7%97%D7%96%D7%A7%D7%95%D7%AA">טור חזקות</a>: {% equation %}\alpha=\sum_{n=-\infty}^{k}a_{n}10^{n}{% endequation %}. כך למשל {% equation %}342.56{% endequation %} זו פשוט דרך מקוצרת לכתוב את טור החזקות {% equation %}3\cdot10^{2}+4\cdot10^{1}+2\cdot10^{0}+5\cdot10^{-1}+6\cdot10^{-2}{% endequation %}. היתרון הגדול של שיטת ייצוג זו היא שאנו נזקקים רק ל-10 ספרות ({% equation %}0,1,\dots,9{% endequation %}) כדי לייצג כל מספר ממשי שהוא. כמובן, הבחירה ב-10 היא שרירותית ויכלנו להשתמש גם בבסיסי ספירה אחרים, אך גם בהם הייתה נשמרת אותה תכונה - אנו זקוקים רק למספר סופי של ספרות כדי לייצג כל מספר ממשי.

צריך להיזהר כאן - כשאני אומר "מספר סופי של ספרות" הכוונה היא שאיני זקוק ליותר מאשר {% equation %}0,1,\dots,9{% endequation %} כדי לייצג כל מספר, אבל אני בהחלט עלול להזדקק לחלק מהספרות אינסוף פעמים. כך למשל את המספר {% equation %}\frac{1}{3}{% endequation %} אני יכול לכתוב בבסיס עשרוני רק בתור {% equation %}0.333\dots{% endequation %}, כש-3 הנקודות פירושן שהמספר נמשך עוד ועוד באותה הצורה לנצח (כלומר, סדרה אינסופית של 3-ים). מבחינה פורמלית אין כאן בעיה - חשבון אינפיניטסימלי בסיסי מראה כי {% equation %}\sum_{n=1}^{\infty}\frac{3}{10^{n}}=\frac{1}{3}{% endequation %} (שימו לב שכתבתי את הטור כעת בצורה קצת יותר פשוטה, כי אין לי חזקות חיוביות). גם מבחינה מעשית אפשר איכשהו "לסלוח" לכך שצריך לכתוב אינסוף ספרות, מכיוון שלא <strong>באמת</strong> צריך - הייצוג {% equation %}0.333\dots{% endequation %} כבר כולל את כל האינפורמציה על המספר. הוא אומר שיש לנו אפס, ואחריו סדרה אינסופית של 3-ים. האינפורמציה הזו מזהה את המספר בצורה מושלמת.

לרוע המזל, באופן כללי זה לא יכול לקרות, כפי שמראים טיעונים בסיסיים מתורת הקבוצות. לא קשה להראות שיש רק <a href="http://he.wikipedia.org/wiki/%D7%A7%D7%91%D7%95%D7%A6%D7%94_%D7%91%D7%AA_%D7%9E%D7%A0%D7%99%D7%94">מספר בן מניה</a> של ייצוגים סופיים למספרים כל עוד מגבילים את סט האותיות שבהן אנו משתמשים להיות סופי (כמו במקרה זה - הסימנים המותרים היחידים הם ספרות, נקודה עשרונית ושלוש נקודות -{% equation %}\dots{% endequation %}; יש דרך סימון מעט יותר מדוייקת למספרים עשרוניים שבה יש קו מעל רצף הספרות שחוזר על עצמו לנצח, אבל גם הוא סובל מאותה מגבלה), אבל מספרם הכולל של המספרים הממשיים אינו בן מניה. אינטואיטיבית, למי שלא מכיר מושגים אלו - יש אינסוף מספרים ממשיים ויש אינסוף מספרים שניתן לייצג בשיטה העשרונית באופן מחזורי, אבל האינסוף של הממשיים "גדול יותר" מהאינסוף של המספרים המחזוריים (במובן מתמטי פורמלי ומדוייק לחלוטין) כך שהמסקנה היא שאת <strong>רוב</strong> המספרים הממשיים לא ניתן לייצג בשיטה העשרונית באופן מחזורי. צריך לכתוב אינסוף ספרות - אבל זה כבר משהו שאנחנו לא מסוגלים לכתוב על נייר. לכן כשכותבים את פאי, כותבים {% equation %}\pi=3.14159265\dots{% endequation %} - כלומר, כותבים חלק מהספרות הראשונות, ואז מתייאשים וכותבים שלוש נקודות שבאות לציין "זה נמשך ונמשך, אבל לא באופן שבו קבוצת ספרות חוזרת באופן מחזורי על עצמה". לא קשה להראות שהסיטואציה הזו מפרידה בין מספרים רציונליים ואי רציונליים: מספר הוא רציונלי אם ורק אם הייצוג העשרוני שלו הוא מחזורי (גם חזרה אינסופית של אפסים נחשבת למחזורית). כבר {% equation %}\sqrt{2}{% endequation %} לא ניתן להצגה באופן מחזורי בבסיס עשרוני.

עוד בעיה מוזרה למדי של הייצוג העשרוני היא שיש מספרים שניתן לייצג בשתי דרכים שונות, כשהדוגמה המפורסמת ביותר היא {% equation %}1{% endequation %} ו-{% equation %}0.999\dots{% endequation %}, ש<a href="http://www.gadial.net/2008/06/07/almost_1_is_one/">כבר הקדשתי לה פוסט</a>. הבעיה אמנם נגמרת כאן - הסיטואציה היחידה שבה יש ייצוג כפול שכזה היא במספרים שבאחד מדרכי הייצוג שלהם הם מסתיימים בסדרה אינסופית של 9-ים, אבל היא קיימת בכל ייצוג על פי בסיס ספירה כלשהו (למשל, בבסיס 7 הבעיה הייתה עם מספרים שמסתיימים ב-{% equation %}666\dots{% endequation %}).

לסיום, נשאלת השאלה מה קורה כאשר קוטמים את הייצוג העשרוני האינסופי אחרי מספר סופי של ספרות. למשל, אם ניקח את {% equation %}\pi{% endequation %} ואת הייצוג העשרוני שלו, ואז נכתוב את הקירוב הבא: {% equation %}\pi\approx3.141{% endequation %}. מה גודל ה"טעות" שלנו? ובכן, היא המספר {% equation %}0.00059265\dots{% endequation %}. אם נעבור לכתיב של מספרים רציונליים, לקחנו את הקירוב {% equation %}\frac{3141}{10^{3}}{% endequation %} ונותרנו עם טעות מסדר גודל שהוא בערך {% equation %}\frac{6}{10^{4}}{% endequation %} ("בערך", כי כמובן שלא ניתן להציג את ערכה של הטעות במדוייק בתור מספר רציונלי - זה היה מראה ש-{% equation %}\pi{% endequation %} עצמו רציונלי). במילים - סדר הגודל של הטעות הוא חצי מהמכנה בקירוב שלנו. זה לא הקירוב הכי מוצלח בעולם, וכדי לראות זאת נצטרך להבין קודם כל איך נראה קירוב מוצלח. שלא במפתיע, זה יהיה הקירוב שמספקים לנו השברים המשולבים.

ה"בעיה" הגדולה בשברים משולבים שמייצגים מספרים ממשיים היא שה"ספרות" שלנו אינן חסומות: עבור כמעט כל המספרים הממשיים, הייצוג שלהם כשבר משולב {% equation %}a_{0}+\frac{1}{a_{1}+}\frac{1}{a_{2}+}\frac{1}{a_{3}+\dots}{% endequation %} יקיים את התכונה שסדרת ה-{% equation %}a_{n}{% endequation %}-ים אינה חסומה. זה לא סוף העולם, כי כל {% equation %}a_{n}{% endequation %} בעצמו מיוצג בפועל כסדרה סופית של ספרות בבסיס עשרוני, כך שעדיין ניתן לחשוב על שבר משולב כאילו הוא משתמש במספר סופי של ספרות כדי לייצג כל מספר ממשי.

לעומת הבעיה הזו, שתי ה"בעיות" הבסיסיות שהצגתי של השיטה העשרונית לא קיימות: ראשית, השבר המשולב שמייצג כל מספר ממשי הוא יחיד. אין עיוותיים סטייל {% equation %}1=0.999\dots{% endequation %}. שנית, כל מספר רציונלי מיוצג על ידי שבר משולב <strong>סופי</strong>. כבר אין עיוותים סטייל {% equation %}\frac{1}{3}=0.333\dots{% endequation %}. זה מעלה מייד את השאלה המסקרנת הבאה - עבור ייצוג עשרוני, מחזוריות גררה רציונליות; מה האנלוג עבור שברים משולבים? האם יש אפיון פשוט לשברים משולבים מחזוריים? התשובה היא כן, וזוהי אולי התוצאה הכי מרהיבה כאן (שמיוחסת ללגראנז'): השבר המשולב של {% equation %}\alpha{% endequation %}הוא מחזורי אם ורק אם {% equation %}\alpha{% endequation %} הוא פתרון של משוואה ריבועית במספרים שלמים - יצור כזה מכונה באנגלית Quadratic Number. כך למשל {% equation %}\sqrt{2}{% endequation %} הוא הפתרון של המשוואה הריבועית בשלמים {% equation %}x^{2}-2=0{% endequation %} ולכן השבר המשולב שלו הוא מחזורי: {% equation %}\sqrt{2}=1+\frac{1}{2+}\frac{1}{2+}\frac{1}{2+\dots}{% endequation %}. זו תוצאה מעניינת במיוחד למי ש(כמוני) אי רציונליות התערבבה אצלו בראש איכשהו עם "חוסר מחזוריות". שברים משולבים מאפשרים לנו לייצג חלק מהמספרים האי רציונליים באופן מחזורי למהדרין, שמציג בניית קירוב שלהם באמצעות ארבע פעולות החשבון בלבד.

הסקרנים ביותר מכם אולי תוהים כעת - אם שבר משולב אינסופי הוא תמיד אי רציונלי, מהו המספר האי רציונלי (ואי רציונלי תמיד מזוהה אינטואיטיבית עם "מסובך" ברמה מסויימת) שמתואר באמצעות השבר המשולב הפשוט ביותר - {% equation %}1+\frac{1}{1+}\frac{1}{1+\dots}{% endequation %}? ברור שזה לא יהיה {% equation %}\sqrt{1}{% endequation %} שהוא רציונלי ולכן מיוצג על ידי שבר משולב סופי ({% equation %}1{% endequation %}), אז מה כן? הבה ונסמן לרגע {% equation %}a=1+\frac{1}{1+}\frac{1}{1+\dots}{% endequation %}; אם כן, לא קשה לראות ש-{% equation %}a-1=\frac{1}{a}{% endequation %} (אם קשה לכם לראות זאת, נסו לרגע לכתוב את השבר המשולב "כמו שהוא באמת" ולא בטיפוגרפיה המפושטת שלי - תראו מייד שבמכנה יש לנו שוב פעם את {% equation %}a{% endequation %}). על ידי כפל ב-{% equation %}a{% endequation %} והעברת אגפים מקבלים שמתקיים {% equation %}a^{2}-a-1=0{% endequation %}. המשוואה הזו אולי לא מוכרת לכם, אבל הפתרון החיובי שלה מפורסם מאוד: המספר {% equation %}\phi=1.61803\dots{% endequation %} הידוע בכינוי "<a href="http://he.wikipedia.org/wiki/%D7%99%D7%97%D7%A1_%D7%94%D7%96%D7%94%D7%91">יחס הזהב</a>". תשכחו מהפרתנון או מהפרופורציות המושלמות של גוף האדם - הנה לכם מקום שבו יחס הזהב מופיע באמת ובתמים וללא שום ספק, ובאופן הכי טבעי שרק אפשר.

אגב, אולי אתם זוכרים מהפוסט הקודם שבהינתן שבר משולב {% equation %}a_{0},a_{1},a_{2},\dots{% endequation %}, סדרת הסכומים שמתכנסת אליו {% equation %}\frac{A_{n}}{B_{n}}{% endequation %} קיימה את נוסחת הנסיגה {% equation %}A_{n}=a_{n}A_{n-1}+A_{n-2}{% endequation %} ו-{% equation %}B_{n}=a_{n}B_{n-1}+B_{n-2}{% endequation %}. עבור יחס הזהב {% equation %}a_{n}=1{% endequation %} תמיד, ולכן נקבל את נוסחאות הנסיגה {% equation %}A_{n}=A_{n-1}+A_{n-2}{% endequation %} ו-{% equation %}B_{n}=B_{n-1}+B_{n-2}{% endequation %} שנבדלות רק בערכים ההתחלתיים: {% equation %}A_{0}=1,A_{1}=2{% endequation %} ואילו {% equation %}B_{0}=1,B_{1}=1{% endequation %}. אלו הן נוסחאות הנסיגה של <a href="http://he.wikipedia.org/wiki/%D7%A1%D7%93%D7%A8%D7%AA_%D7%A4%D7%99%D7%91%D7%95%D7%A0%D7%90%D7%A6%27%D7%99">מספרי פיבונאצ'י</a>, והשברים המשולבים מראים לנו מיידית שהסכומים החלקיים הם מהצורה {% equation %}\frac{F_{n+1}}{F_{n}}{% endequation %} כש-{% equation %}F_{n}{% endequation %} הוא מספר פיבונאצ'י ה-{% equation %}n{% endequation %}-י. זוהי דרך פשוטה לראות את הטענה המוכרת שיחס הזהב הוא היחס שאליו שואפים מספרי פיבונאצ'י (כלומר, "פי כמה" גדול מספר פיבונאצ'י ביחס לקודמו בסדרה).

עוד שאלה שאולי אתם שואלים את עצמכם היא מדוע אנחנו מגבילים את עצמנו לדיבורים על מחזוריות בלבד. האם לא ייתכן שבר משולב שבו יש תבנית ברורה כלשהי לאיברים, גם אם אינה מחזורית? התשובה חיובית עבור מקרים מסויימים, כשהדוגמה הבולטת היא {% equation %}e{% endequation %}: השבר המשולב שלו היא {% equation %}e=2+\frac{1}{1+}\frac{1}{2+}\frac{1}{1+}\frac{1}{1+}\frac{1}{4+}\frac{1}{1+}\frac{1}{1+}\frac{1}{6+\dots}{% endequation %}. כלומר, אחרי ה-{% equation %}2,1{% endequation %} הראשוניים יש לנו סדרת מספרים מהצורה {% equation %}2,1,1,4,1,1,6,1,1,\dots{% endequation %} וכן הלאה. זו איננה מחזוריות במובן הרגיל של המילה, אבל בהחלט יש כאן תבנית פשוטה ויפה (אגב, יש עוד דרכים רבות אחרות להציג את {% equation %}e{% endequation %} באמצעות פעולות החשבון באופן שאינו מחזורי אך הוא מאוד תבניתי - הדרך הפשוטה ביותר היא זו שנובעת מטור טיילור שלו, {% equation %}e=\sum_{n=0}^{\infty}\frac{1}{n!}{% endequation %}).

עבור פאי אין תבנית שכזו, אבל אם עוברים לדיבור על שברים משולבים מוכללים, שבהם לא חייב להופיע 1 ב"מונים", דווקא יש תבניות יפות, למשל {% equation %}\pi=\frac{4}{1+}\frac{1^{2}}{2+}\frac{3^{2}}{2+}\frac{5^{2}}{2+}\frac{7^{2}}{2+\dots}{% endequation %}. לא נכנסתי לתיאוריה שמאחורי שברים משולבים מוכללים שכאלו שכן היא מסובכת מעט יותר, אבל אני מניח שהעיקרון ברור.

ואולי לכל מספר ממשי אפשר למצוא תבנית "יפה" שכזו? ובכן, התשובה שלילית וקל לראות זאת אם מסכימים על כך שתנאי הכרחי לכך שתבנית תהיה "יפה" היא שתהיה קיימת תוכנית מחשב שמייצרת אותה - בבירור כל התבניות שלעיל מקיימות תכונה זו. מכיוון שמספר תוכנית המחשב הקיימות הוא בן מניה, ויש מספר לא בן מניה של ממשיים, עולה מיידית שיש ממשיים שלא ניתן לתאר כשבר משולב "יפה" שכזה. אלא שזו לא תוצאה מפחידה כל כך כי את רוב הממשיים אין דרך לתאר <strong>בכלל</strong> (מאותו נימוק שהבאתי כרגע) - מה שמעניין כאן הוא שעבור הקבועים הממשיים הידועים ביותר במתמטיקה קיימים שברים משולבים פשוטים ותבניתיים מאוד. זה משהו שייצוג בבסיס עשרוני פשוט לא מסוגל לתת.

בואו נעבור לדבר על <strong>איכות</strong> הקירובים שמספקים השברים המשולבים. ניקח את השבר המשולב הרגיל של {% equation %}\pi{% endequation %}: {% equation %}\pi=3+\frac{1}{7+}\frac{1}{15+}\frac{1}{1+}\frac{1}{292+\dots}{% endequation %}. אם נחשב את הסכומים החלקיים, נקבל את סדרת הקירובים הבאה עבור {% equation %}\pi{% endequation %}: {% equation %}3,\frac{22}{7},\frac{333}{106},\frac{355}{113},\dots{% endequation %}. בואו ננסה להבין עד כמה קירובים אלו טובים.

הקירוב {% equation %}\frac{22}{7}{% endequation %} היה ידוע כבר מהעת העתיקה והוא "קירוב בית הספר" לפאי, עד כדי כך שה-22 ביולי מכונה "יום קירוב פאי". לעומתו, ה-14 במרץ זכה לשם "יום פאי", אך האם הקירוב {% equation %}3.14{% endequation %} אכן מדויק יותר מהקירוב {% equation %}\frac{22}{7}{% endequation %}? למרבה הזוועה, התשובה היא שלילית, כך שיש לנו כאן אי צדק היסטורי. {% equation %}\frac{22}{7}=3.\overline{142857}{% endequation %} (החלק שמעליו יש קו הוא החלק המחזורי), כך שהשגיאה שמקבלים היא {% equation %}\left|\pi-\frac{22}{7}\right|=0.0012644\dots{% endequation %}, בעוד שהשגיאה שמקבלים מהקירוב השני היא {% equation %}\left|\pi-3.14\right|=0.0015926\dots{% endequation %}. זה נהיה עוד יותר מרשים כאשר שמים לב לכך ש-{% equation %}3.14=\frac{314}{100}{% endequation %}, כלומר המכנה הוא 100, בעוד שהמכנה של {% equation %}\frac{22}{7}{% endequation %} הוא קטן משמעותית.

בואו נעבור לקירוב הבא: {% equation %}\frac{333}{106}=3.1\overline{4150943396226}{% endequation %}. השגיאה כאן היא {% equation %}\left|\pi-\frac{333}{106}\right|=0.000083219\dots{% endequation %} שהיא זעירה למדי: מסדר גודל של {% equation %}10^{-5}{% endequation %}. לעומת זאת אם היינו מבצעים קירוב עם המכנה {% equation %}100{% endequation %} (כמו שעשינו קודם) היינו מקבלים שגיאה מסדר גודל של {% equation %}10^{-3}{% endequation %} - גדולה פי מאה!

השורה התחתונה היא ששברים משולבים מספקים קירוב ריבועי, במובן הבא: אם {% equation %}\frac{A}{B}{% endequation %} התקבל מתישהו בפיתוח של {% equation %}\alpha{% endequation %} לשבר משולב, אז {% equation %}\left|\alpha-\frac{A}{B}\right|&lt;\frac{1}{B^{2}}{% endequation %}: גודל השגיאה שלנו הוא ריבועי ביחס ל-{% equation %}B{% endequation %}, מה שאומר, נניח, שאם ל-{% equation %}B{% endequation %} יש עשר ספרות, אז השגיאה היא מסדר גודל של עשרים ספרות אחרי הנקודה. זו רמת דיוק מרשימה ביותר, ומתברר שזה לא הכל - ניתן להוכיח כי הקירובים ששברים משולבים מספקים הם הטובים ביותר גם במובן הבא: אם {% equation %}\frac{A}{B}{% endequation %} הוא קירוב שכזה, לא קיים קירוב יותר טוב לאותו מספר עם אותו ערך {% equation %}B{% endequation %} במכנה.

זה לא סוף הסיפור אלא רק תחילתו, בכל הנוגע לאופנים שבהם ניתן לקרב מספרים אי רציונליים בעזרת מספרים רציונליים. זה <a href="http://he.wikipedia.org/wiki/%D7%A7%D7%99%D7%A8%D7%95%D7%91_%D7%93%D7%99%D7%95%D7%A4%D7%A0%D7%98%D7%99">תחום רחב ומעניין</a> בפני עצמו. לעת עתה, מכיוון שגמרתי להציג את התוצאות ה"סקסיות" המיידיות, אנוח על זרי הדפנה.
