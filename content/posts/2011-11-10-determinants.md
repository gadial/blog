---
id: 1418
title: "דטרמיננטות"
date: 2011-11-10 08:48:17
layout: post
categories: 
  - אלגברה לינארית
tags: 
  - דטרמיננטה
  - טכני
---
דטרמיננטה היא אולי המושג החשוב ביותר שקשור למטריצות. כמו כל מושג חשוב במתמטיקה, היא צצה בהקשרים רבים ושונים (לא מזמן <a href="http://www.gadial.net/2011/09/13/kirkhoffs_matrix_tree_theorem/">הראיתי</a><strong> </strong>כיצד היא צצה בהקשר הלכאורה לא קשור לכלום של ספירת עצים פורשים בגרף) ויש לה כמה הגדרות שקולות שונות. לרוע המזל, זה גם מושג טכני למדי שעלול להרתיע את מי שזה עתה החלו ללמוד מתמטיקה; אני מקווה שהפוסט הזה יצליח להיות ידידותי (ובפרט, את החלקים ה"כבדים"- ויהיו כאלו - אשמור לסוף ומי שיישבר שם, באמת שלא נורא).

בפשטות, דטרמיננטה של מטריצה <strong>ריבועית</strong> {% equation %}A{% endequation %}, שמסומנת כ-{% equation %}\left|A\right|{% endequation %}, היא מספר (סקלר) שמחושב מתוך {% equation %}A{% endequation %} ומאפיין אותה במידת מה. כך למשל מטריצה היא הפיכה אם ורק אם {% equation %}\left|A\right|\ne0{% endequation %}, ומתקיים {% equation %}\left|A^{-1}\right|=\left|A\right|^{-1}{% endequation %}. אולי התיאור האינטואיטיבי הטוב ביותר שאני מכיר לדטרמיננטות הוא באמצעות גאומטריה: דטרמיננטה (או ליתר דיוק, הערך המוחלט שלה) היא נפח המקבילון שמוגדר על ידי שורות {% equation %}A{% endequation %}. בואו ננסה להסביר את ההגדרה הזו לפני שנגיע לפורמליזמים.

<strong>מקבילית</strong> בדו מימד ניתנת לתיאור באמצעות שני וקטורים. לוקחים את הוקטורים ומדביקים אותם על ראשית הצירים, ואז לוקחים אותם שוב ומדביקים את הזנב של כל אחד על הראש של השני שכבר הודבק. במילים אחרות, אם {% equation %}u,v{% endequation %} הם הוקטורים, אז המעטפת של המקבילית מורכבת משני "מסלולים" שנפגשים באותה נקודה: בראשון הולכים קודם כמו ב-{% equation %}u{% endequation %} ואז כמו {% equation %}v{% endequation %}, ובשני הולכים קודם כמו ב-{% equation %}v{% endequation %} ואז כמו {% equation %}u{% endequation %}.

מקבילון זה אותו דבר, רק ב-{% equation %}n{% endequation %} מימדים ועם {% equation %}n{% endequation %}וקטורים.

המקבילונים הפשוטים ביותר הם <strong>קוביות</strong>. כאן הוקטורים הם מאותו אורך ומאונכים זה לזה. בדו מימד נקבל ריבוע. וקטורים מאותו אורך אבל שאינם מאונכים יתנו לנו מעויין; וקטורים מאונכים שאינם מאותו אורך יתנו לנו מלבן; וכשניתן לוקטורים להתפרע בשתי התכונות גם יחד נקבל מקבילית "כללית".

הנוסחה שאנחנו מכירים מהתיכון לשטח של מקבילית מערבת איזה גובה, לא את שני הוקטורים שעליהם המקבילית בנויה. הרעיון הוא שאם מעבירים שני גבהים בתוך המקבילית אפשר לחלק אותה למלבן (שאת השטח שלו קל לחשב) ושני משולשים (שגם השטח שלהם לא נורא כל כך). מקבלים ששטח המקבילית הוא {% equation %}h\cdot a{% endequation %} כאשר {% equation %}h{% endequation %} הוא הגובה ו-{% equation %}a{% endequation %} הוא אורך הצלע שאליה מורידים את הגובה (כלומר, האורך של אחד מהוקטורים {% equation %}u{% endequation %} או {% equation %}v{% endequation %}).

כרגע אני לא מנסה למצוא נוסחה אלטרנטיבית - במקום זה, בואו נחשוב שניה על ה<strong>תכונות</strong> של שטח מקבילית כתלות בוקטורים {% equation %}u,v{% endequation %} שפורשים אותה. הנוסחה שראינו מבהירה לנו מייד שאם כופלים את אחד הוקטורים בסקלר אי שלילי, השטח של המקבילית מוכפל גם הוא באותו סקלר (כי {% equation %}a{% endequation %} מוחלף ב-{% equation %}\lambda a{% endequation %} אבל {% equation %}h{% endequation %} לא משתנה - הגובה לא מושפע מאורך הצלע שאליה מורידים אותו). אם אנחנו רוצים להכניס גם סקלרים שליליים למשחק אנחנו עוברים לדבר על "שטח מכוון" - השטח של המקבילית שנקבעת על ידי {% equation %}u,v{% endequation %} הוא חיובי אם כשהולכים מ-{% equation %}u{% endequation %} אל {% equation %}v{% endequation %} נגד כיוון השעון עוברים דרך המקבילית ושלילי אחרת (מי שלמד קצת פיזיקה אולי מזהה את זה בתור "כלל יד ימין"). מי שעניין הכיוון מבלבל אותו, לא נורא; כל מה שצריך להבין מהדיון הזה הוא שהכללנו טיפה את מושג השטח כך שכעת כפל בסקלר כלשהו של אחד הוקטורים אכן יכפיל בסקלר גם את השטח.

בואו נשתמש בסימונים כדי להקל על ההבנה של מה שהולך כאן: אשתמש ב-{% equation %}S\left(u,v\right){% endequation %} כדי לתאר את שטח המקבילית שנקבעת על ידי {% equation %}u,v{% endequation %}. בינתיים ראינו כי {% equation %}S\left(\lambda u,v\right)=S\left(u,\lambda v\right)=\lambda\cdot S\left(u,v\right){% endequation %}. האבחנה הבאה, שהיא אולי מבלבלת קצת יותר, היא ש-{% equation %}S\left(u+v,w\right)=S\left(u,w\right)+S\left(v,w\right){% endequation %} (ובדומה גם {% equation %}S\left(u,v+w\right)=S\left(u,v\right)+S\left(u,w\right){% endequation %}). כלומר, אם יש לנו מקבילית שאחד מהוקטורים שלה הוא סכום של שני וקטורים {% equation %}u,v{% endequation %}, אז אפשר להסתכל על שתי המקביליות שהוקטורים הללו יוצרים בנפרד יחד עם {% equation %}w{% endequation %} ולחבר את השטחים שלהם כדי לקבל את שטח המקבילית המקורית. כדי להוכיח את זה פורמלית צריך ממש לצייר את הסיטואציה ולהשתמש בחפיפת משולשים ואקשן. אם כן, קיבלנו ש-{% equation %}S{% endequation %} היא פונקציה <strong>לינארית</strong> בכל משתנה בנפרד (כלומר, אם מקפיאים משתנה אחד, אז {% equation %}S{% endequation %} היא לינארית כפונקציה של המשתנה השני). לפונקציה כזו קוראים "מולטי-לינארית".

כעת, הנה תכונה קצת יותר ברורה: {% equation %}S\left(u,u\right)=0{% endequation %}. כלומר, למקבילית "מנוונת" שבה כל הצלעות הן אותו קו, יש שטח אפס. עוד תכונה ברורה למדי היא ש-{% equation %}S\left(\left(1,0\right),\left(0,1\right)\right)=1{% endequation %}, כלומר המקבילית שצלעותיה הם בדיוק וקטורי הבסיס הסטנדרטי ב-{% equation %}\mathbb{R}^{2}{% endequation %} ולכן היא בעצם ריבוע עם אורך צלע 1 יש שטח 1. מסתבר שהתכונות שציינתי עד כה של {% equation %}S{% endequation %} - מולטי-לינאריות, התאפסות על אותו הוקטור ו-1 על וקטורי הבסיס הסטנדרטי - מספיקות כדי לאפיין את {% equation %}S{% endequation %} לחלוטין.

אפשר להכליל את הדיון כאן גם ל-{% equation %}\mathbb{R}^{n}{% endequation %}; לא אכנס כאן לאופן המדויק שבו מגדירים מקבילון {% equation %}n{% endequation %}-ממדי, אבל גם במקרה הזה אפשר לדבר על פונקציה {% equation %}S\left(v_{1},\dots,v_{n}\right){% endequation %} שמקבלת וקטורים ב-{% equation %}\mathbb{R}^{n}{% endequation %}, וניתן להראות שהיא מקיימת מולטי-לינאריות, ושאם {% equation %}v_{i}=v_{j}{% endequation %} עבור {% equation %}i\ne j{% endequation %} כלשהם אז {% equation %}S\left(v_{1},\dots,v_{n}\right)=0{% endequation %} (כלומר, מספיק ששתי צלעות של המקבילון יהיו זהות כדי שהוא יהיה מנוון ובעל נפח 0), ו-{% equation %}S\left(e_{1},\dots,e_{n}\right)=1{% endequation %} - נפח המקבילון על אברי הבסיס הסטנדרטי ב-{% equation %}\mathbb{R}^{n}{% endequation %} הוא 1. אם כן, יש לנו מוטיבציה לחקור פונקציות שמקיימות את התנאים הללו - וכאמור, אנו עומדים לראות כי קיימת פונקציה אחת ויחידה כזו (עבור {% equation %}n{% endequation %} נתון) שמקיימת את כל התכונות גם יחד. הפונקציה הזו נקראת <strong>דטרמיננטה</strong>. רק שאת הפונקציה הזו אפשר להגדיר לכל מרחב {% equation %}\mathbb{F}^{n}{% endequation %}, גם לא מעל {% equation %}\mathbb{R}{% endequation %} ספציפית (למרות שבשדות {% equation %}\mathbb{F}{% endequation %} אחרים לא תמיד ברור מהו "מקבילון", אבל כאמור - המשמעות של דטרמיננטה היא רחבה הרבה יותר מכך), וכך גם נעשה.

אם כן, יהא {% equation %}V=\mathbb{F}^{n}{% endequation %} מרחב וקטורי מעל השדה {% equation %}\mathbb{F}{% endequation %}. אנו מתעניינים בפונקציות {% equation %}f:V^{n}\to\mathbb{F}{% endequation %}, כלומר פונקציות שמקבלות {% equation %}n{% endequation %} משתנים שכל אחד מהם הוא איבר של {% equation %}V=\mathbb{F}^{n}{% endequation %}, ומחזירות ערך ב-{% equation %}\mathbb{F}{% endequation %} (במילים אחרות, פונקציונלים).

פונקציה {% equation %}f{% endequation %} שכזו נקראת <strong>לינארית</strong> במשתנה ה-{% equation %}i{% endequation %} אם מתקיים {% equation %}f\left(v_{1},v_{2},\dots,\alpha v_{i}+\beta u_{i},v_{i+1},\dots,v_{n}\right)=\alpha f\left(v_{1},\dots,v_{i},\dots,v_{n}\right)+\beta f\left(v_{1},\dots,u_{i},\dots,v_{n}\right){% endequation %}, כלומר אם כאשר מקפיאים את כל המשתנים פרט למשתנה ה-{% equation %}i{% endequation %} של {% equation %}f{% endequation %} מקבלים פונקציה לינארית. כעת, {% equation %}f{% endequation %} היא <strong>מולטי-לינארית</strong> אם היא לינארית בכל {% equation %}n{% endequation %} המשתנים שלה.

{% equation %}f{% endequation %} היא <strong>מתחלפת</strong> אם {% equation %}v_{i}=v_{j}{% endequation %} עבור {% equation %}i\ne j{% endequation %} גורר ש-{% equation %}f\left(v_{1},\dots,v_{n}\right)=0{% endequation %}, כלומר הצבת אותו ערך בשניים מהמשתנים של {% equation %}f{% endequation %} מבטיחה שערכה של {% equation %}f{% endequation %} יהיה 0. כדי להבין את הכוונה ב"מתחלפת", בואו נראה תעלול בפונקציה בשני משתנים שמשתמש במולטי-לינאריות שלה:

{% equation %}0=f\left(a+b,a+b\right)=f\left(a,a+b\right)+f\left(b,a+b\right)=f\left(a,a\right)+f\left(a,b\right)+f\left(b,a\right)+f\left(b,b\right)=f\left(a,b\right)+f\left(b,a\right){% endequation %}

כאן השתמשנו בכך ש-{% equation %}f\left(a+b,a+b\right)=f\left(a,a\right)=f\left(b,b\right)=0{% endequation %} כי {% equation %}f{% endequation %} מתחלפת. כעת, העברת אגפים נותנת לנו {% equation %}f\left(a,b\right)=-f\left(b,a\right){% endequation %}. כלומר, אם החלפנו את המקומות של {% equation %}a,b{% endequation %} ב-{% equation %}f{% endequation %} זה גרם בדיוק להחלפת הסימן של ערך {% equation %}f{% endequation %}. את אותו התעלול אפשר לעשות גם עבור {% equation %}f{% endequation %} עם יותר משתנים: הכלל הוא שאם מחליפים שניים מתוך {% equation %}n{% endequation %} הערכים שהוצבו ב-{% equation %}f{% endequation %}, התוצאה היא היפוך הסימן של {% equation %}f{% endequation %}.

אחרי כל הפמפום הזה כבר ברור מה אני רוצה להוכיח: שקיים פונקציונל מולטי-לינארי מתחלף יחיד {% equation %}f{% endequation %} שמקיים {% equation %}f_{0}\left(e_{1},\dots,e_{n}\right)=1{% endequation %} כאשר {% equation %}e_{1},\dots,e_{n}\in V{% endequation %} הם וקטורי הבסיס הסטנדרטי של {% equation %}V{% endequation %} (זכרו ש-{% equation %}V=\mathbb{F}^{n}{% endequation %} ולכן יש משמעות ל"בסיס סטנדרטי" כאן). בואו ננסה להבין איך {% equation %}f{% endequation %} הזה חייב להיראות.

כמקודם, כדי שהעסק יהיה ביותר ברור אני אניח בהתחלה ש-{% equation %}f{% endequation %} היא פונקציה על שני קלטים, אבל ההוכחה הכללית תהיה זהה. נניח אם כן ש-{% equation %}f{% endequation %} היא פונקציה שמקיימת את שלוש הדרישות שלעיל ונסתכל על ערכה על שני קלטים שרירותיים לחלוטין, כלומר {% equation %}f\left(u,v\right){% endequation %}. אפשר לייצג את הקלטים הללו באמצעות הבסיס הסטנדרטי באופן יחיד, ולכן {% equation %}f\left(u,v\right)=f\left(\alpha_{1}e_{1}+\alpha_{2}e_{2},\beta_{1}e_{1}+\beta_{2}e_{2}\right){% endequation %}, ועל ידי שימוש במולטי-לינאריות נקבל:

{% equation %}f\left(u,v\right)=\alpha_{1}\beta_{1}f\left(e_{1},e_{1}\right)+\alpha_{1}\beta_{2}f\left(e_{1},e_{2}\right)+\alpha_{2}\beta_{1}f\left(e_{2},e_{1}\right)+\alpha_{2}\beta_{2}f\left(e_{2},e_{2}\right){% endequation %}

או בקיצור, הערכים של {% equation %}f{% endequation %} על קלטים שרירותיים נקבעים על ידי הערכים שלה על זוגות של איברים מהבסיס הסטנדרטי. זה לא ממש מפתיע; זו הכללה של העובדה שהערכים של פונקציה לינארית נקבעים על ידי ערכיה על אברי הבסיס הסטנדרטי.

כעת, בגלל ש-{% equation %}f{% endequation %} מתחלפת, {% equation %}f\left(e_{1},e_{1}\right)=f\left(e_{2},e_{2}\right)=0{% endequation %}. לכן כל מה שקובע את ערכיה של {% equation %}f{% endequation %} הוא {% equation %}f\left(e_{1},e_{2}\right){% endequation %} ו-{% equation %}f\left(e_{2},e_{1}\right){% endequation %}. אבל כפי שראינו, {% equation %}f\left(e_{2},e_{1}\right)=-f\left(e_{1},e_{2}\right){% endequation %}, ולכן הדבר <strong>היחיד</strong> שקובע את ערכיה של {% equation %}f{% endequation %} הוא {% equation %}f\left(e_{1},e_{2}\right){% endequation %}. אבל כאן אין לנו חופש בחירה - דרשנו במפורש ש-{% equation %}f\left(e_{1},e_{2}\right)=1{% endequation %}.

עכשיו קל להבין איך זה עובד במקרה הכללי: אם {% equation %}f\left(x_{1},\dots,x_{n}\right){% endequation %} היא פונקציה מולטי-לינארית מתחלפת על {% equation %}n{% endequation %} משתנים, הערכים שלה נקבעים באופן יחיד על סדרות של {% equation %}n{% endequation %} איברים מהבסיס הסטנדרטי. בגלל ש-{% equation %}f{% endequation %} מתחלפת, כל הסדרות שבהן יש איבר שמופיע פעמיים נותנות אפס, ולכן כל מה שחשוב הוא ערכיה של {% equation %}f{% endequation %} על <strong>פרמוטציות</strong> של אברי הבסיס הסטנדרטי - סידור מחדש שלהם בסדר כלשהו. במתמטיקה אוהבים לסמן פרמוטציות באות {% equation %}\sigma{% endequation %}; פורמלית, {% equation %}\sigma{% endequation %} היא פשוט פונקציה חח"ע ועל מ-{% equation %}\left\{ 1,2,\dots,n\right\} {% endequation %} לעצמו, ואז אפשר לתאר את "הפעלה של {% equation %}f{% endequation %} על הפרמוטציה {% equation %}\sigma{% endequation %} של אברי הבסיס הסטנדרטי" ב-{% equation %}f\left(e_{\sigma\left(1\right)},\dots,e_{\sigma\left(n\right)}\right){% endequation %}.

עכשיו, כל פרמוטציה כזו אפשר "לתקן" ולהחזיר אותה למצב שבו כל האיברים מסודרים לפי הסדר שלהם על ידי ביצוע זוגות של החלפות בין איברים. למשל, את הפרמוטציה {% equation %}312{% endequation %} (פורמלית: {% equation %}\sigma\left(1\right)=3{% endequation %} ו-{% equation %}\sigma\left(2\right)=1{% endequation %} ו-{% equation %}\sigma\left(3\right)=2{% endequation %}) מתקנים על ידי כך שמחליפים את 3 ב-1 ומקבלים {% equation %}132{% endequation %} ואז מחליפים את 3 ב-2 ומקבלים {% equation %}123{% endequation %}. כאן נדרשו לנו שתי החלפות; באופן כללי, אם נדרש מספר זוגי של החלפות כדי "לתקן" את הפרמוטציה אומרים שהיא <strong>זוגית</strong> ואחרת אומרים שהיא <strong>אי זוגית</strong>. לצורך נוחות מגדירים {% equation %}\text{sgn}\left(\sigma\right)=1{% endequation %} אם {% equation %}\sigma{% endequation %} זוגית ו-{% equation %}\text{sgn}\left(\sigma\right)=-1{% endequation %} אם היא אי זוגית (יש כאן הוכחה לא לגמרי טריוויאלית שאני משמיט - שלא ייתכן מצב שבו ניתן לתקן את הפרמוטציה גם על ידי מספר זוגי וגם על ידי מספר אי זוגי של החלפות).

בשביל מה כל זה טוב? בשביל הנוסחה הנפלאה והפשוטה {% equation %}f\left(e_{\sigma\left(1\right)},\dots,e_{\sigma\left(n\right)}\right)=\text{sgn}\left(\sigma\right)f\left(e_{1},\dots,e_{n}\right)=\text{sgn}\left(\sigma\right){% endequation %}. הסבירו לעצמכם מדוע היא נכונה! זה נובע, כפי שכבר ראינו, מכך שהחלפה של שני ערכים שמוצבים ב-{% equation %}f{% endequation %} הופכת את הסימן של {% equation %}f{% endequation %}.

נסכם - ראינו שאם יש פונקציה כלשהי שמקיימת את כל הדרישות (מולטי-לינארית, מתחלפת ו-1 על וקטורי הבסיס הסטנדרטי) אז היא חייבת להיות הפונקציה שמקיימת {% equation %}f\left(e_{\sigma\left(1\right)},\dots,e_{\sigma\left(n\right)}\right)=\text{sgn}\left(\sigma\right){% endequation %} ו-0 על סדרות של וקטורי הבסיס הסטנדרטי שבהן אותו וקטור חוזר על עצמו, מה שקובע את יתר ערכיה באופן מוחלט. זה מראה שאם קיימת פונקציה כלשהי שעונה על הדרישות, היא יחידה; זה עדיין לא מראה שהיא קיימת, למרות שמפתה לומר זאת. הסיבה לכך היא שגם אם נגדיר את {% equation %}f{% endequation %} על וקטורי הבסיס באופן הזה זה לא מבטיח מייד שהיא תקיים את כל הדרישות, אבל קל לראות שזה אכן כך - מולטי-לינאריות נובעת מכך שאנחנו מרחיבים את {% equation %}f{% endequation %} באופן כזה שמבטיח שהיא תהיה מולטי-לינארית; 1 על וקטורי הבסיס נובע מיידית מההגדרה; החלק המסובך היחיד הוא להראות ש-{% equation %}f{% endequation %} היא מתחלפת. ראינו שזה כך על קלט שמורכב מאברי הבסיס הסטנדרטי, אבל למה זה כך באופן כללי?

כדי לטפל בבעיה הזו אנחנו רוצים ראשית למצוא נוסחה קצת יותר מפורשת עבור {% equation %}f{% endequation %}. כאן נוח לחשוב על {% equation %}f{% endequation %} לא כפונקציה שפועלת על וקטורים, אלא כפונקציה על מטריצה {% equation %}A{% endequation %}, כך שהשורה ה-{% equation %}i{% endequation %} במטריצה היא הוקטור ה-{% equation %}i{% endequation %} שעליו {% equation %}f{% endequation %} פועלת. כלומר, {% equation %}A_{ij}{% endequation %} הוא הכניסה ה-{% equation %}j{% endequation %} בתוך הוקטור {% equation %}v_{i}{% endequation %}. כדי לקשור את זה למה שכבר ראינו, בואו נזכור ש-{% equation %}v_{i}=\sum_{j=1}^{n}A_{ij}e_{j}{% endequation %}. כעת, אם נפתח את {% equation %}f\left(A\right)=f\left(v_{1},\dots,v_{n}\right){% endequation %} לסכום על ידי כתיבת כל {% equation %}v_{i}{% endequation %} בתור צירוף לינארי שכזה ושימוש במולטי-לינאריות של {% equation %}f{% endequation %}, ונשתמש בנוסחה לערכי {% equation %}f{% endequation %} על אברי בסיס שראינו קודם, נקבל לבסוף את התוצאה הזו:

{% equation %}f\left(A\right)=\sum_{\sigma}\text{sgn}\left(\sigma\right)A_{1\sigma\left(1\right)}A_{2\sigma\left(2\right)}\cdots A_{n\sigma\left(n\right)}{% endequation %}

כאן הסכום נלקח על כל התמורות {% equation %}\sigma{% endequation %} הקיימות על {% equation %}n{% endequation %} איברים. אם רוצים להיות אפילו יותר קומפקטיים מבחינת הסימון, אפשר לכתוב:

{% equation %}f\left(A\right)=\sum_{\sigma}\text{sgn}\left(\sigma\right)\prod_{i=1}^{n}A_{i\sigma\left(i\right)}{% endequation %}

וכעת אפשר כבר להפסיק להשתמש בסימון {% equation %}f{% endequation %}: הסימון המקובל לפונקציה הזו הוא {% equation %}\det A{% endequation %}, או {% equation %}\left|A\right|{% endequation %}. הנוסחה שלמעלה היא לרוב ההגדרה הסטנדרטית שלה.

עכשיו אפשר לנסות ולהבין למה {% equation %}\det{% endequation %} היא אכן פונקציה מתחלפת. בהקשר של פונקציה על מטריצות, המשמעות של מתחלפת היא "אם יש שתי שורות זהות במטריצה, הדטרמיננטה היא אפס". הרעיון הוא שאם שתי שורות הן זהות, אז גם אחרי שמערבבים את השורות על ידי החלפתן אמורים לקבל את אותו ערך בדיוק של הדטרמיננטה. בואו נסמן ב-

{% equation %}\sum_{\sigma}\text{sgn}\left(\sigma\right)\prod_{i=1}^{n}A_{i\sigma\left(i\right)}=\sum_{\sigma\tau}\text{sgn}\left(\sigma\tau\right)\prod_{i=1}^{n}A_{i\sigma\tau\left(i\right)}=\sum_{\sigma\tau}-\text{sgn}\left(\sigma\right)\prod_{i=1}^{n}A_{i\sigma\tau\left(i\right)}{% endequation %}

אלא שבגלל שהחלפנו שתי שורות זהות, {% equation %}\prod_{i=1}^{n}A_{i\sigma\tau\left(i\right)}=\prod_{i=1}^{n}A_{i\sigma\left(i\right)}{% endequation %} (כלומר, ל-{% equation %}\tau{% endequation %} "אין השפעה"), ולכן מקבלים

{% equation %}\sum_{\sigma}\text{sgn}\left(\sigma\right)\prod_{i=1}^{n}A_{i\sigma\left(i\right)}=-\sum_{\sigma}\text{sgn}\left(\sigma\right)\prod_{i=1}^{n}A_{i\sigma\left(i\right)}{% endequation %}

ומכאן שבהכרח {% equation %}\left|A\right|=0{% endequation %}. זו הוכחה טיפה טכנית, ומי שלא הצליח לעקוב אחריה לגמרי - לא נורא.

לכאורה סיימנו - יש לנו עכשיו הגדרה עם נוסחה יפה (כן כן, הנוסחה הזו יפהפיה!) לדטרמיננטה שהיא מה שרצינו כל הזמן. אלא שהנוסחה הזו לא פרקטית לחישובים מעשיים - יש {% equation %}n!{% endequation %} פרמוטציות על {% equation %}n{% endequation %} איברים, ו-{% equation %}n!{% endequation %} גדל מאוד מאוד מהר, כך שחישוב דטרמיננטה בעזרת הנוסחה הוא בעיה חישובית קשה. למעשה, יש פונקציה מאוד דומה לדטרמיננטה - ה<strong>פרמננטה</strong>, שמוגדרת כך: {% equation %}\text{perm}\left(A\right)=\sum_{\sigma}\prod_{i=1}^{n}A_{i\sigma\left(i\right)}{% endequation %}. כלומר, אותו הדבר רק בלי הפלוס-מינוס של סימן התמורה. הפרמנטטה היא, באופן מוכח, בעיה {% equation %}\text{NP}{% endequation %}-קשה; זה אומר שמאוד לא סביר שיימצא יום אחד אלגוריתם לחישוב יעיל שלה. אז מה שהופך את הדטרמיננטה לקלה (מאוד!) לחישוב הוא לא הנוסחה שהצגתי כבר אלא תכונות שלה שעוד צריך לדבר עליהן.

אם כן, ראינו שהדטרמיננטה היא פונקציה מולטי-לינארית ומתחלפת; מה זה אומר כשחושבים עליה כפונקציה של מטריצות? מתחלפת אומר שאם מחליפים שתי שורות במטריצה זה הופך את סימן הדטרמיננטה. מולטי-לינארית אומר, קודם כל, שאם כופלים שורה כלשהי בסקלר, זה מכפיל את הדטרמיננטה כולה באותו סקלר. את התכונה השניה שנובעת ממולטי-לינאריות אפשר לנסח כך: אם {% equation %}A{% endequation %} היא מטריצה, ו-{% equation %}B,C{% endequation %} הן מטריצות הזהות ל-{% equation %}A{% endequation %} פרט לשורה ה-{% equation %}i{% endequation %} כך שסכום השורות ה-{% equation %}i{% endequation %} של {% equation %}B,C{% endequation %} הוא השורה ה-{% equation %}i{% endequation %} של {% equation %}A{% endequation %}, אז {% equation %}\left|A\right|=\left|B\right|+\left|C\right|{% endequation %}. שימו לב שזה <strong>לא נכון</strong> שמתקיים {% equation %}\left|B+C\right|=\left|B\right|+\left|C\right|{% endequation %}! מולטי-לינאריות עובדת רק אם "מקפיאים" את כל השורות פרט לאחת ומפצלים את החיבור אך ורק בה. לצורך הפוסט הזה בלבד אמציא את הסימון הלא סטנדרטי והמוזר {% equation %}A=B\oplus_{i}C{% endequation %} שאומר בדיוק את מה שתיארתי למעלה - ש-{% equation %}A{% endequation %} היא המטריצה שמתקבלת מ-{% equation %}B,C{% endequation %} (שהן מטריצות זהות פרט לשורה ה-{% equation %}i{% endequation %}) כאשר השורה ה-{% equation %}i{% endequation %} של {% equation %}A{% endequation %} היא סכום השורות ה-{% equation %}i{% endequation %} של {% equation %}B,C{% endequation %} ושאר השורות של {% equation %}A{% endequation %} זהות לשורות של {% equation %}B,C{% endequation %}.

כשלמדתי אלגברה לינארית, התכונה הכמו-חיבורית הזו נראתה לי מאוד מוזרה, אבל זה קרה מכיוון שלא למדתי על ההגדרה של דטרמיננטה כפונקציה מולטי-לינארית; אני מקווה שקצת ריככתי את המוזרות הזו עבור אלו מכם שלא הכירו את המושג קודם.

במבט ראשון התכונה הכמו-חיבורית הזו נראית חלשה למדי. אבל היא אומרת משהו מאוד לא טריוויאלי ומאוד מפתיע: נניח ש-{% equation %}A{% endequation %} מתקבלת מ-{% equation %}B{% endequation %} על ידי כך שלוקחים שורה {% equation %}j{% endequation %} של {% equation %}B{% endequation %}, כופלים אותה בסקלר ומחברים אותה לשורה אחרת {% equation %}i{% endequation %}; אז {% equation %}\left|A\right|=\left|B\right|{% endequation %}, כלומר הפעולה הזו בכלל לא משנה את הדטרמיננטה! הסיבה לכך היא שאפשר לחשוב על {% equation %}A{% endequation %} בתור {% equation %}A=B\oplus_{i}C{% endequation %} כאשר {% equation %}C{% endequation %} זהה ל-{% equation %}B{% endequation %} פרט לכך שבשורה ה-{% equation %}i{% endequation %} מופיעה השורה ה-{% equation %}j{% endequation %} של {% equation %}B{% endequation %} (ולכן גם של {% equation %}C{% endequation %}). כעת, {% equation %}\left|A\right|=\left|B\right|+\left|C\right|{% endequation %} אבל {% equation %}\left|C\right|=0{% endequation %} כי השורה ה-{% equation %}i{% endequation %} של {% equation %}C{% endequation %} שווה לשורה ה-{% equation %}j{% endequation %} של {% equation %}C{% endequation %}, והדטרמיננטה היא פונקציה מתחלפת.

מה ראינו כאן? ראינו שאנחנו יודעים בדיוק איך שלוש הפעולות האלמנטריות של <strong>דירוג מטריצות</strong> משפיעות על הדטרמיננטה. זה אומר שאם {% equation %}A{% endequation %} היא מטריצה כלשהי, אפשר לדרג את {% equation %}A{% endequation %} לקבלת מטריצה {% equation %}D{% endequation %} שבה נוח יותר לחשב את הדטרמיננטה, ואם זוכרים אילו פעולות אלמנטריות בוצעו בדרך אפשר בקלות רבה לחשב את {% equation %}\left|A\right|{% endequation %} מתוך {% equation %}\left|D\right|{% endequation %}. כל מה שנשאר להבין הוא אם יש מטריצות שבהן קל לחשב את הדטרמיננטה וגם ניתן להגיע אליהן באמצעות פעולות אלמנטריות על מטריצות; התשובה הפשוטה היא שמטריצות משולשיות, שהן מה שמגיעים אליו באופן טבעי בדירוג של מטריצות ריבועיות, הן בדיוק מטריצות שבהן קל לחשב את הדטרמיננטה: במטריצה משולשית, הדטרמיננטה היא פשוט <strong>מכפלת האיברים על האלכסון הראשי</strong>.

את הטענה שלעיל אפשר לראות ישירות מהנוסחה. כזכור, מטריצה משולשית עליונה היא מטריצה שבה {% equation %}A_{ij}=0{% endequation %} אם {% equation %}i>j{% endequation %} (כלומר, כל מה שמתחת לאלכסון הראשי הוא אפס). כעת, לכל פרמוטציה {% equation %}\sigma{% endequation %} שאיננה הזהות, בהכרח יהיה {% equation %}i{% endequation %} כלשהו עבורו {% equation %}i>\sigma\left(i\right){% endequation %} (זה תרגיל נחמד להוכיח זאת) ולכן {% equation %}A_{i\sigma\left(i\right)}=0{% endequation %} ולכן {% equation %}\prod_{i=1}^{n}A_{i\sigma\left(i\right)}=0{% endequation %} לכל {% equation %}\sigma{% endequation %} שאיננה הזהות, ולכן נותרנו עם {% equation %}\left|A\right|=\prod_{i=1}^{n}A_{ii}{% endequation %}. אותו דבר תקף, כמובן, גם עבור מטריצה משולשית תחתונה (אבל בדירוג מטריצות רגיל מגיעים למטריצה משולשית עליונה). מכיוון שדירוג מטריצות ניתן לביצוע במהירות רבה, גם חישוב דטרמיננטה יכול להתבצע במהירות רבה, וזה מבלי שדיברנו על אופטימיזציות אחרות שאפשר אולי לנקוט בהן.

אני רוצה לסיים את הפוסט בהצגה של הגדרה שקולה נוספת של דטרמיננטה, שהיא <strong>רקורסיבית</strong> באופיה: דטרמיננטה של מטריצה מסדר {% equation %}n\times n{% endequation %} מוגדרת בעזרת דטרמיננטה של מטריצה מסדר {% equation %}\left(n-1\right)\times\left(n-1\right){% endequation %}, עם תנאי ההתחלה הטריוויאלי שבמטריצה בעלת כניסה בודדת, הדטרמיננטה היא בדיוק הכניסה הזו. קודם אציג את ההגדרה, שאיננה פשוטה כל כך להבנה, ואז ננסה להבין מדוע היא נכונה.

אם כן, תהא {% equation %}A{% endequation %} מטריצה מסדר {% equation %}n\times n{% endequation %}. אני יכול לבחור שורה {% equation %}i{% endequation %} ועמודה {% equation %}j{% endequation %} של המטריצה ופשוט למחוק אותן לחלוטין, כאילו מעולם לא נתקיימו. לתוצאה קוראים <strong>מטריצת המינור</strong> ה-{% equation %}i,j{% endequation %}-ית של {% equation %}A{% endequation %} וזוהי מטריצה מסדר {% equation %}\left(n-1\right)\times\left(n-1\right){% endequation %}. למטריצה הזו אפשר לחשב דטרמיננטה, והדטרמיננטה הזו נקראת <strong>המינור</strong> ה-{% equation %}i,j{% endequation %}-י של {% equation %}A{% endequation %} (לפעמים קוראים בשם "המינור" למטריצת המינור, אבל בואו לא ניתן לשמות וסימונים לבלבל אותנו יותר ממה שצריך). אשתמש בסימון שאני המצאתי, {% equation %}\left|A^{ij}\right|{% endequation %} כדי לתאר את המינור ה-{% equation %}i,j{% endequation %} של {% equation %}A{% endequation %}.

כעת, הבה ונקבע שורה {% equation %}i{% endequation %} כלשהי באופן שרירותי. אני טוען שמתקיים {% equation %}\left|A\right|=\sum_{j=1}^{n}\left(-1\right)^{i+j}A_{ij}\left|A^{ij}\right|{% endequation %}. במילים אחרות, {% equation %}\left|A\right|{% endequation %} היא סכום של המינורים שמתקבלים ממחיקת השורה ה-{% equation %}i{% endequation %} וכל העמודות של {% equation %}A{% endequation %} (כל עמודה בתורה), ובנוסף לכך הסכום הזה הוא מתחלף - לאיברים יש סימן פלוס או סימן מינוס, בהתאם לשאלה אם {% equation %}i+j{% endequation %} זוגי או אי זוגי. הנוסחה הזו נקראת <strong>פיתוח לפי השורה </strong>ה-{% equation %}i{% endequation %} של {% equation %}\left|A\right|{% endequation %}, ובאותה מידה אפשר גם לפתח לפי עמודות.

אציג דוגמה. ראשית, שימו לב לכך ש-{% equation %}\left|\begin{array}{cc}a & b\\c & d\end{array}\right|=ad-bc{% endequation %} (קל לראות שזה נובע מההגדרה). כעת, בואו נראה פיתוח של דטרמיננטה של מטריצה מסדר {% equation %}3\times3{% endequation %} על פי השורה הראשונה:

{% equation %}\left|\begin{array}{ccc}1 & 2 & 0\\5 & 1 & 7\\1 & 5 & 2\end{array}\right|=1\cdot\left|\begin{array}{cc}1 & 7\\5 & 2\end{array}\right|-2\left|\begin{array}{cc}5 & 7\\1 & 2\end{array}\right|+0\cdot\left|\begin{array}{cc}5 & 1\\1 & 5\end{array}\right|=\left(2-35\right)-2\left(10-7\right)+0\left(25-1\right)=-33-6=-39{% endequation %}.

כדאי להעיר שדרך ההצגה הזו היא אמנם נוחה למדי לחישוב של דטרמיננטות של מטריצות קטנות (בוודאי שיותר מאשר הנוסחה הבסיסית, ולטעמי גם יותר נוחה לביצוע בידי אדם מאשר דירוג מטריצות) אבל מבחינה חישובית היא גרועה בדיוק כמו לחשב על פי הנוסחה המקורית: אם {% equation %}t\left(n\right){% endequation %} הוא הזמן שלוקח לחשב במקרה הגרוע דטרמיננטה של מטריצה מסדר {% equation %}n\times n{% endequation %}, אז קל לראות ש-{% equation %}t\left(n\right)=n\cdot t\left(n-1\right){% endequation %}, כלומר זמן ריצה של {% equation %}\Theta\left(n^{n}\right){% endequation %} שהוא ממש לא מוצלח.

בכל זאת, לעתים דרך ההצגה הזו נוחה להוכחות, ולכן אנו רוצים להוכיח שהיא נכונה. אבל איך? ובכן, לשמחתנו אין לנו שום צורך להוכיח שההגדרה שנתתי כרגע שקולה להגדרה עם הנוסחה; תחת זאת מספיק להראות שגם עם ההגדרה שנתתי כרגע לדטרמיננטה, אני מקבל פונקציה שהיא מולטי-לינארית, מתחלפת ומחזירה 1 על איברי הבסיס הסטנדרטי, כלומר על מטריצת היחידה. הטענה האחרונה ברורה (שימו לב כמה נוח לפתח על פי שורה או עמודה שכוללת כמעט רק אפסים), ולכן נותר להבהיר את שתי הטענות האחרות.

אעבור במעין אינדוקציה על {% equation %}n{% endequation %}: זה אומר שבנוסחה {% equation %}f\left(A\right)=\sum_{j=1}^{n}\left(-1\right)^{i+j}A_{ij}\left|A^{ij}\right|{% endequation %} אני יכול להניח שהדטרמיננטה שמופיעה באגף ימין היא באמת פונקציית הדטרמיננטה המוכרת והאהובה עלינו, עבור מטריצות {% equation %}\left(n-1\right)\times\left(n-1\right){% endequation %}, וכל שנותר לי לעשות הוא להוכיח ש-{% equation %}f{% endequation %} מקיימת את התכונות הנדרשות מדטרמיננטה של מטריצות {% equation %}n\times n{% endequation %}. זה אומר, בפרט, שאני יכול להניח שהדטרמיננטות באגף ימין הן כבר מולטי-לינאריות, וזה גורר מייד שגם {% equation %}f{% endequation %} כזו, כי היא בסך הכל צירוף לינארי של פונקציות מולטי-לינאריות - הרי לכם טיעון מחץ מתמטי שחוסך לנו לא מעט כתיבה מתישה (וכנראה לא משכנע חצי מכם).

כל מה שנשאר לעשות הוא להשתכנע ש-{% equation %}f{% endequation %} היא מתחלפת. נניח אם כן ש-{% equation %}k,l{% endequation %} הן שתי שורות זהות של {% equation %}A{% endequation %} ונוכיח ש-{% equation %}f\left(A\right){% endequation %} היא אפס. ראשית, אם {% equation %}i\ne k,l{% endequation %} אז נהדר, סיימנו: במקרה זה {% equation %}A^{ij}{% endequation %} תהיה מטריצה שבה השורות שהגיעו משורות {% equation %}k,l{% endequation %} הן זהות (כי כל השינוי שעשינו הוא למחוק משתי השורות הללו את הכניסה ה-{% equation %}j{% endequation %}-ית) ולכן {% equation %}\left|A^{ij}\right|=0{% endequation %} ונגמר העניין. אם כן, נניח לנו ש-{% equation %}k=i{% endequation %}. אז במקרה זה:

{% equation %}f\left(A\right)=\sum_{j=1}^{n}\left(-1\right)^{k+j}A_{kj}\left|A^{kj}\right|{% endequation %}

ועכשיו אני אשתמש בתעלול הופך קיבה: אני אשתמש בנוסחה הרקורסיבית (שכבר הוכחתי עבור מטריצות {% equation %}\left(n-1\right)\times\left(n-1\right){% endequation %}) כדי לחשב את {% equation %}\left|A^{kj}\right|{% endequation %} על ידי כך שאני אפתח את הדטרמיננטה הזו לפי השורה... אם הצלחתם לעקוב אחרי עד לכאן, אולי כבר ניחשתם שעל פי השורה ה-{% equation %}l{% endequation %} (כי איזו עוד שורה אפשר לבחור? השורה ה-{% equation %}k{% endequation %} כבר נרצחה, וחוץ ממנה רק לשורה ה-{% equation %}l{% endequation %} היה ייחוד; שימו לב איך אנחנו "נדחפים" כאן בכוח לכיוון ההוכחה הנכון).

ובכן, איך נראה הפיתוח של {% equation %}\left|A^{kj}\right|{% endequation %} על פי השורה ה-{% equation %}l{% endequation %}? מבחינה טכנית צריך טיפה להיזהר פה: מפתה לכתוב {% equation %}\left|A^{kj}\right|=\sum_{\begin{array}{c}i=1\end{array}}^{n}\left(-1\right)^{l+i}A_{li}\left|\left(A^{kj}\right)^{li}\right|{% endequation %} כאשר {% equation %}\left(A^{kj}\right)^{li}{% endequation %} היא מינור של מינור - המטריצה שמתקבלת מ-{% equation %}A{% endequation %} על ידי מחיקת השורות {% equation %}l,k{% endequation %} והעמודות {% equation %}j,i{% endequation %}. לרוע המזל, זו לא הנוסחה הנכונה: אבל שימו לב שכך אנו כוללים בפיתוח גם את העמודה {% equation %}j{% endequation %} שכבר נרצחה (הרי אני מחשב את הדטרמיננטה של {% equation %}A^{kj}{% endequation %}). גם {% equation %}\left|A^{kj}\right|=\sum_{\begin{array}{c}i\ne j\end{array}}^{n}\left(-1\right)^{l+i}A_{li}\left|\left(A^{kj}\right)^{li}\right|{% endequation %} (כש-{% equation %}i{% endequation %} מתחיל מ-1, כרגיל) היא לא נוסחה נכונה, בגלל שהחזקה של ה-{% equation %}-1{% endequation %} מתקלקלת מתישהו (בדיוק כאשר {% equation %}i{% endequation %} קופץ "מעל" {% equation %}j{% endequation %}). הנוסחה הנכונה היא:

{% equation %}\left|A^{kj}\right|=\sum_{\begin{array}{c}i=1\end{array}}^{j-1}\left(-1\right)^{l+i}A_{li}\left|\left(A^{kj}\right)^{li}\right|+\sum_{\begin{array}{c}i=j+1\end{array}}^{n}\left(-1\right)^{l+i-1}A_{li}\left|\left(A^{kj}\right)^{li}\right|{% endequation %}

הבה ונציב את כל המפלץ הזה בנוסחה המקורית:

{% equation %}f\left(A\right)=\sum_{j=1}^{n}\left(-1\right)^{k+j}A_{kj}\left(\sum_{\begin{array}{c}i=1\end{array}}^{j-1}\left(-1\right)^{l+i}A_{li}\left|\left(A^{kj}\right)^{li}\right|+\sum_{\begin{array}{c}i=j+1\end{array}}^{n}\left(-1\right)^{l+i-1}A_{li}\left|\left(A^{kj}\right)^{li}\right|\right){% endequation %}

ומכל זה נקבל:

{% equation %}f\left(A\right)=\sum_{j=1}^{n}\sum_{i=1}^{j-1}\left(-1\right)^{l+k+i+j}A_{kj}A_{li}\left|\left(A^{kj}\right)^{li}\right|+\sum_{j=1}^{n}\sum_{i=1}^{j+1}\left(-1\right)^{l+k+i+j-1}A_{kj}A_{li}\left|\left(A^{kj}\right)^{li}\right|{% endequation %}

עכשיו מגיע הפאנץ'. זכרו ש-{% equation %}k,l{% endequation %} היו שורות זהות, ולכן {% equation %}A_{kj}=A_{lj}{% endequation %} זה אומר שהאיבר {% equation %}A_{lt}A_{lr}\left|\left(A^{lt}\right)^{lr}\right|{% endequation %} מופיע <strong>פעמיים</strong> - פעם בסכום השמאלי, ופעם בסכום הימני, וזאת לכל {% equation %}t,r{% endequation %} רלוונטיים. רק שהמופעים של שני האיברים הללו הם עם סימנים הפוכים בגלל ההבדל הקטנטן בחזקה של ה-{% equation %}-1{% endequation %}, ולכן הסכום הכולל הוא אפס.

אחרי כזה בלאגן טכני (אבל באמת, בלי שום דבר מסובך במיוחד) אין מנוס אלא לסיים מייד כדי לתת לכם להתאושש; בפעם הבאה נראה איך דטרמיננטה מתקשרת לשאלת ההפיכות של מטריצות.

