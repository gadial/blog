---
id: 1061
title: "מערכות הוכחה אינטראקטיביות - דוגמאות"
date: 2011-03-25 12:37:52
layout: post
categories: 
  - תורת הסיבוכיות
tags: 
  - הוכחה באפס ידע
  - מערכות הוכחה אינטראקטיביות
  - פרוייקט "תוצאות מפתיעות בסיבוכיות"
  - תורת הסיבוכיות
---
בפוסט הקודם הצגתי את המושג של מערכת הוכחה אינטראקטיבית ועכשיו הייתי רוצה לתת כמה דוגמאות. לרוע המזל, מציאת דוגמאות קונקרטיות היא לא עניין פשוט כל כך. הסיבה לכך היא זו: ראשית, לכל בעיה ששייכת למחלקה {% equation %}\mbox{NP}{% endequation %} יש מערכת הוכחה אינטראקטיבית טריוויאלית - המוכיח פשוט שולח את ההוכחה הכתובה שלו והבודק בודק אותה. זהו, לא צריך שום אינטראקציה. זה מבטל את הצורך במערכת הוכחה אינטראקטיבית עבור בעיות ב-{% equation %}\mbox{NP}{% endequation %}, ולכן מחסל את מרבית הדוגמאות הטבעיות לבעיות שאנחנו מכירים.

באופן טבעי אנחנו מפנים את מבטנו אל המחלקה {% equation %}\mbox{coNP}{% endequation %}, של הבעיות ה"משלימות" לבעיות ב-{% equation %}\mbox{NP}{% endequation %}. אם ב-{% equation %}\mbox{NP}{% endequation %} יש את השפה "הגרפים שניתנים לצביעה ב-3 צבעים", הרי שב-{% equation %}\mbox{coNP}{% endequation %} יש את השפה "הגרפים שאינם ניתנים לצביעה ב-3 צבעים". רק מה? רוב הבעיות שאנו מכירים ב-{% equation %}\mbox{coNP}{% endequation %} הן או קלות (כלומר, ב-{% equation %}\mbox{P}{% endequation %}) או ממש קשות - מה שנקרא "{% equation %}\mbox{coNP}{% endequation %}-שלמות". פירוש הדבר הוא שאם פתרנו בעיה אחת מהן, פתרנו את כל {% equation %}\mbox{coNP}{% endequation %}. עבורנו זה אומר שאם נמצא מערכת הוכחה אינטראקטיבית עבור בעיה כלשהי שהיא {% equation %}\mbox{coNP}{% endequation %} שלמה, הדבר נותן לנו מערכת הוכחה אינטראקטיבית עבור כל שפה ב-{% equation %}\mbox{coNP}{% endequation %}. אני באמת הולך להראות מערכת הוכחה שכזו, כחלק מההוכחה ש-{% equation %}\mbox{IP=PSPACE}{% endequation %}; אבל זו כבר מערכת מסובכת למדי. האם קיימות מערכות פשוטות עבור שפות שהן {% equation %}\mbox{coNP}{% endequation %}-שלמות? זו שאלה טובה והתשובה עליה כנראה שלילית אם אנחנו מזהים "פשטות" עם "מספר סיבובים קבוע". קיימת הוכחה שאם יש מערכת הוכחה אינטראקטיבית בעלת מספר סיבובים קבוע עבור שפה שהיא {% equation %}\mbox{coNP}{% endequation %}-שלמה, אז "דברים רעים קורים" ("ההיררכייה הפולינומית קורסת לרמה השניה"). ומערכת הוכחה עבור שפות שהן מחוץ ל-{% equation %}\mbox{coNP}{% endequation %} ו-{% equation %}\mbox{NP}{% endequation %}? גם זה כבר קשה ולא צפוי שנוכל לתת דוגמה פשוטה יותר מהדוגמה-שהיא-כבר-הוכחה של {% equation %}\mbox{IP=PSPACE}{% endequation %}.

אז המקום שבו אנחנו מחפשים בעיות שיש להן מערכת הוכחה אינטראקטיבית פשוטה ונחמדה ומתאימה לדוגמאות הוא רק בבעיות ב-{% equation %}\mbox{coNP}{% endequation %} שאינן ידועות להיות לא ב-{% equation %}\mbox{P}{% endequation %} ולא ב-{% equation %}\mbox{NP}{% endequation %} ולא {% equation %}\mbox{coNP}{% endequation %} שלמות; וכאלו בעיות, מה לעשות, אנחנו לא מכירים כל כך הרבה. ובכל זאת יש אחת פשוטה ויפה, ולכן כזו שמוצגת תמיד כדוגמא - איזומורפיזם של גרפים.

גרף הוא אחד מהמושגים הבסיסיים ביותר במדעי המחשב והצגתי אותו כאן כבר מספרים פעמים. הוא מורכב מקבוצה של צמתים {% equation %}V{% endequation %}, ומקשתות, שהן זוגות של צמתים: {% equation %}E\subseteq V\times V{% endequation %}. כל זוג צמתים {% equation %}u,v{% endequation %} הוא או מחובר בקשת או שלא. זה הכל; אבל המושג הפשוט הזה ממדל אינספור דברים.

שני גרפים הם איזומורפיים אם הם זהים עד כדי הסימון שאנחנו נותנים לצמתים. אצלנו תמיד נסמן את הצמתים במספרים טבעיים, כלומר {% equation %}V=\left\{ 1,2,3,\dots,n\right\} {% endequation %}, ואז שני גרפים {% equation %}G_{1}=\left(V_{1},E_{1}\right){% endequation %} ו-{% equation %}G_{2}=\left(V_{2},E_{2}\right){% endequation %} הם איזומורפיים אם קיימת תמורה {% equation %}\sigma{% endequation %} של הקבוצה {% equation %}\left\{ 1,\dots,n\right\} {% endequation %} (תמורה היא סידור מחדש של אברי הקבוצה - פונקציה חד-חד ערכית ועל מהקבוצה לעצמה) כך ש-{% equation %}\left(u,v\right)\in E_{1}{% endequation %} אם ורק אם {% equation %}\left(\sigma\left(u\right),\sigma\left(v\right)\right)\in E_{2}{% endequation %}. במילים: שני צמתים בגרף {% equation %}G_{1}{% endequation %} מחוברים בקשת אם ורק אם שני הצמתים ב-{% equation %}G_{2}{% endequation %} שאליהם {% equation %}\sigma{% endequation %} מעבירה אותם גם הם מחוברים בקשת. כרגיל, תמונה אחת שווה אלף מילים:

<a href="{{site.baseurl}}{{site.post_images}}/2011/03/GNI.png"><img class="alignnone size-full wp-image-1065" title="GNI" src="{{site.baseurl}}{{site.post_images}}/2011/03/GNI.png" alt="" width="552" height="214" /></a>

כאן יש שני גרפים. בשניהם {% equation %}V=\left\{ 1,2,3,4\right\} {% endequation %}, אבל בראשון {% equation %}E_{1}=\left\{ \left(1,2\right),\left(1,3\right),\left(2,4\right),\left(3,4\right)\right\} {% endequation %} ובשני {% equation %}E_{2}=\left\{ \left(1,2\right),\left(1,4\right),\left(2,3\right),\left(3,4\right)\right\} {% endequation %}. הגרפים הללו "נראים" שונה, אבל הם איזומורפיים: {% equation %}\sigma\left(1\right)=1,\sigma\left(2\right)=2,\sigma\left(3\right)=4,\sigma\left(4\right)=3{% endequation %}, ששווה ערך להחלפת צמתים 3 ו-4 (דמיינו שאתם עושים זאת לגרף הראשון בלי "לקרוע" את הקשתות) הוא האיזומורפיזם המתאים.

הבה ונגדיר שפה: {% equation %}\mbox{GI}=\left\{ \left(G_{1},G_{2}\right)|G_{1}\cong G_{2}\right\} {% endequation %} - שפת כל זוגות הגרפים שאיזומורפיים זה לזה. מה אפשר להגיד על השפה הזו? בבירור {% equation %}\mbox{GI}\in\mbox{NP}{% endequation %} - אם יש לנו זוג גרפים איזומורפיים, אז הוכחה לכך היא פשוט {% equation %}\sigma{% endequation %} שמהווה איזומורפיזם; בהינתן {% equation %}\sigma{% endequation %} כזו לא קשה לבדוק את התנאי על הקשתות. האם {% equation %}\mbox{GI}\in\mbox{P}{% endequation %}? זוהי שאלה פתוחה. הייחוד של {% equation %}\mbox{GI}{% endequation %} היא בכך שמאוד לא סביר שהיא {% equation %}\mbox{NP}{% endequation %}-שלמה - יש הוכחה לכך שאם {% equation %}\mbox{GI}{% endequation %} היא {% equation %}\mbox{NP}{% endequation %}-שלמה אז "דברים רעים קורים" (שוב, ההיררכייה הפולינומית קורסת). הרבה יותר סביר שיתגלה ש-{% equation %}\mbox{GI}\in\mbox{P}{% endequation %}, אבל לעת עתה, למרות שלפני כמה שנים היה נדמה לרגע שנמצאה לכך הוכחה - זו עדיין שאלה פתוחה.

אבל {% equation %}\mbox{GI\ensuremath{\in}NP}{% endequation %}, אז איך היא רלוונטית לדיון בכלל? ובכן, היא לא, אבל השפה המשלימה שלה כן: {% equation %}\mbox{GNI}{% endequation %}, שפת כל זוגות הגרפים שאינם איזומורפיים, היא אמנם ב-{% equation %}\mbox{coNP}{% endequation %} אך איננו חושבים שהיא {% equation %}\mbox{coNP}{% endequation %}-שלמה (אם היא הייתה כזו אז {% equation %}\mbox{GI}{% endequation %} הייתה {% equation %}\mbox{NP}{% endequation %}-שלמה) וגם איננו יודעים אם היא ב-{% equation %}\mbox{P}{% endequation %}. זה הופך אותה לדוגמה המושלמת עבורנו. אם כן, איך תעבוד מערכת הוכחה אינטראקטיבית לשפה זו? איך להוכיח ששני גרפים אינם איזומורפיים?

כאן מאוד לא סביר שמשהו שהמוכיח יגיד ואינו תלוי כלל במוודא יעזור. יש פה את אותו קושי שהזכרתי כבר כאשר דיברתי על משפט אימרמן - הקושי של להוכיח שמשהו לא קורה. אני צריך איכשהו לשכנע את המוודא שכל {% equation %}\sigma{% endequation %} שהוא ינסה לא יהיה איזומורפיזם טוב; איך אפשר לעשות את זה? נסו לחשוב על הבעיה רגע כדי לקבל מושג על הקושי שלה.

הפתרון הוא משהו ששונה מאוד באופיו מהוכחות שאנחנו מכירים, ולכן אולי קשה אינטואיטיבית לעיכול. מה שהמוודא יעשה הוא להציב "אתגר" למוכיח - שאלה כלשהי, שהמוכיח יכול לענות עליה אם {% equation %}G_{1}{% endequation %} אינו איזומורפי ל-{% equation %}G_{2}{% endequation %}, אבל אם הם איזומורפיים אין למוכיח שום דרך לענות עליה, והוא יצטרך "לנחש" מה המוודא רוצה לשמוע אם הוא מנסה לרמות אותו.

התעלול של המוודא פשוט. בתחילת הדיאלוג, הוא מטיל מטבע בחשאי לעצמו - בחשאי, כלומר באופן שבו המוכיח אינו יודע מה המוודא קיבל בהטלת המטבע. על פי הטלת המטבע המוודא בוחר אחד משני הגרפים - או {% equation %}G_{1}{% endequation %} או {% equation %}G_{2}{% endequation %}. כעת המוודא מגריל - שוב, בחשאי - פרמוטציה {% equation %}\sigma{% endequation %}, ומפעיל אותה על צמתי הגרף שהוא בחר. התוצאה היא גרף חדש, {% equation %}G_{3}{% endequation %}, שאיזומורפי אל... אל מי, בעצם? ברור ש-{% equation %}G_{3}{% endequation %} איזומורפי לגרף שהמוודא בחר, אבל אם {% equation %}G_{1}\cong G_{2}{% endequation %}, אז {% equation %}G_{3}{% endequation %} איזומורפי לשני הגרפים גם יחד.

כעת המוודא שואל את המוכיח שאלה פשוטה - מה הגרף שבחרתי בהגרלה? אם {% equation %}G_{1}{% endequation %} אינו איזומורפי ל-{% equation %}G_{2}{% endequation %}, אז {% equation %}G_{3}{% endequation %} איזומורפי בדיוק לאחד משני הגרפים הללו. המוכיח הוא בעל כוח חישובי בלתי מוגבל ולכן הוא יכול לבדוק למי משניהם {% equation %}G_{3}{% endequation %} איזומורפי ולענות בהתאם. הוא תמיד יענה נכון, ולכן המוודא יקבל. לעומת זאת, אם {% equation %}G_{1}\cong G_{2}{% endequation %} אז {% equation %}G_{3}{% endequation %} איזומורפי לשניהם, ולכן המוכיח לא מקבל שום אינפורמציה על הגרף שבו המוודא בחר; ומכיוון שהמוודא בחר את הגרף שלו בהסתברות חצי-חצי, אז בכלל לא משנה איך המוכיח בוחר מה לענות לו, המוכיח יצליח לקלוע לבחירה של המוודא רק בהסתברות {% equation %}\frac{1}{2}{% endequation %}. כלומר, יש למוודא הסתברות של {% equation %}\frac{1}{2}{% endequation %} לטעות.

כדי להקטין את ההסתברות לטעות, המוודא יכול לשחק את המשחק הזה כמה סיבובים שמתחשק לו. אם הוא משחק {% equation %}k{% endequation %} סיבובים עם המוכיח, ההסתברות שהמוכיח יצליח לעבוד עליו בכל {% equation %}k{% endequation %} הסיבובים היא {% equation %}\frac{1}{2^{k}}{% endequation %} - והדבר הזה שואף מהר מאוד לאפס, בלי להגדיל משמעותית את זמן החישוב של המוודא (פורמלית - יש לנו הקטנה אקספוננציאלית של הטעות במחיר הגדלה פולינומית של זמן הריצה). בקיצור, קיבלנו מערכת הוכחה אינטראקטיבית בדיוק כפי שרצינו - שלמות מלאה, נאותות בהסתברות טובה כרצוננו, וזמן ריצה פולינומי.

מערכת ההוכחה שלנו התבססה בצורה חזקה למדי על כך שהמוודא יכול להטיל מטבעות בצורה חשאית - זה נותן לו יתרון כלשהו על המוכיח. באופן כללי אכן נדבוק בהנחה הזו, אך תוצאה מפתיעה למדי מראה שעבור חלק מהבעיות, ובפרט עבור {% equation %}\mbox{GNI}{% endequation %} היא איננה הכרחית - יש מערכת הוכחה אינטראקטיבית ל-{% equation %}\mbox{GNI}{% endequation %} שבה כל ההגרלות שמבצע המוודא גלויות למוכיח. מערכת ההוכחה הזו מחוכמת בהרבה ממה שהצגתי כאן ולא אציג אותה כעת; זה בהחלט נושא מעניין לפוסט נפרד.

מערכת הוכחה מאוד דומה באופיה לבעיה אחרת שגם היא ב-{% equation %}\mbox{coNP}{% endequation %} אך איננו יודעים אם היא ב-{% equation %}\mbox{P}{% endequation %} קשורה לבעיית שארית ריבועית. בהינתן מספר {% equation %}n{% endequation %}, אומרים ש-{% equation %}a{% endequation %} הוא שארית ריבועית מודולו {% equation %}n{% endequation %} אם קיים פתרון למשוואה {% equation %}x^{2}\equiv a\left(\mbox{mod n}\right){% endequation %}. במילים אחרות, קיים {% equation %}x{% endequation %} כלשהו שכאשר מעלים אותו בריבוע ומחלקים ב-{% equation %}n{% endequation %}, השארית המתקבלת שווה לשארית החלוקה של {% equation %}a{% endequation %} ב-{% equation %}n{% endequation %}. בדרך כלל מסתפקים בדיון הזה במספרים שהם בין {% equation %}0{% endequation %} ו-{% equation %}n-1{% endequation %}.

אם {% equation %}n{% endequation %} הוא ראשוני, קיימות דרכים יעילות לבדוק האם {% equation %}a{% endequation %} הוא שארית ריבועית מודולו {% equation %}n{% endequation %}. לעומת זאת אם {% equation %}n{% endequation %} אינו ראשוני, האלגוריתמים המוכרים כיום לבדיקה האם {% equation %}a{% endequation %} הוא שארית ריבועית מודולו {% equation %}n{% endequation %} מסתמכים על ידיעת הפירוק לגורמים של {% equation %}n{% endequation %} - ואם הוא לא ידוע מראש, אנחנו לא מכירים כיום דרך יעילה למצוא אותו. מכאן שגם בדיקה האם מספר הוא שארית ריבועית היא קשה. מה שכן יודעים לחשב ביעילות הוא משהו שנקרא "סימן יעקובי" של {% equation %}a{% endequation %} שיכול להיות 1 או {% equation %}-1{% endequation %}; אם סימן יעקובי הוא {% equation %}-1{% endequation %}אז בודאות {% equation %}a{% endequation %} אינו שארית ריבועית, אך אם הוא {% equation %}1{% endequation %} ייתכן ש-{% equation %}a{% endequation %} הוא שארית ריבועית וייתכן שלא. מכאן והלאה כל המספרים שאדבר עליהם יהיו כאלו שסימן יעקובי שלהם הוא 1.

כעת, נניח שהמוכיח רוצה להוכיח למוודא ש-{% equation %}a{% endequation %} כלשהו, שסימן יעקובי שלו הוא 1, איננו שארית ריבועית. אז מערכת הוכחה תתנהל כך: המוודא יגריל מספר כלשהו {% equation %}x{% endequation %} בין {% equation %}0{% endequation %} ל-{% equation %}n-1{% endequation %},יגריל ביט {% equation %}b\in\left\{ 0,1\right\} {% endequation %}, ישלח למוכיח את {% equation %}a^{b}x^{2}{% endequation %} וישאל אותו מהו הביט {% equation %}b{% endequation %}. איך המוכיח יכול לענות על כך?

ובכן, נניח ש-{% equation %}a{% endequation %} אינו שארית ריבועית. אז {% equation %}a^{0}x^{2}=x^{2}{% endequation %} הוא בוודאי שארית ריבועית; ואפשר להוכיח ש-{% equation %}a^{1}x^{2}{% endequation %} איננו שארית ריבועית (מכיוון ששארית ריבועית כפול משהו שאינו שארית ריבועית, אינו שארית ריבועית). לכן המוכיח (הכל יכול מבחינה חישובית) רק צריך לבדוק אם מה ששלחו לו הוא שארית ריבועית או לא, ולענות 0 או 1 בהתאם. לעומת זאת, אם {% equation %}a{% endequation %} הוא כן שארית ריבועית, אז גם {% equation %}x^{2}{% endequation %} וגם {% equation %}ax^{2}{% endequation %} הם שאריות ריבועיות, ומכיוון ש-{% equation %}x{% endequation %} נבחר באקראי, גם {% equation %}x^{2}{% endequation %} וגם {% equation %}ax^{2}{% endequation %} שניהם שאריות ריבועיות אקראיות כלשהן, ולכן למוכיח לא יהיה מושג מה לענות. אני מניח שהדמיון למערכת ההוכחה של איזומורפיזם הגרפים ברור.

עכשיו אני לא יכול להתאפק ורוצה לעבור לדון בסוג מיוחד של הוכחות אינטראקטיביות - הוכחות באפס ידע. את המושג הזכרתי כבר בראשית ימי הבלוג (לינק), אבל עכשיו זו הזדמנות פז להציג עוד כמה דוגמאות. נתחיל מאיזומורפיזם גרפים - השפה {% equation %}\mbox{GI}{% endequation %}, של זוגות גרפים שהם כן איזומורפיים. האם יש דרך שבה המוכיח יוכיח למוודא ש-{% equation %}G_{1}\cong G_{2}{% endequation %}? ובכן, כמובן, הוא יכול פשוט לתת לו את פונקציית האיזומורפיזם, {% equation %}\sigma{% endequation %}; אבל האם יש דרך שבה הוא יכול להוכיח זאת למוודא מבלי לגלות לו כלום? כלומר, שהמידע היחיד שהמוודא יסיק מתהליך ההוכחה הוא שאכן {% equation %}G_{1}\cong G_{2}{% endequation %}?

התשובה חיובית, והפתרון פשוט ואלגנטי ביותר. הוא מעין היפוך להוכחה של {% equation %}\mbox{GNI}{% endequation %}. המוכיח יגריל פרמוטציה כלשהי {% equation %}\pi{% endequation %}, יבחר באקראי אחד משני הגרפים {% equation %}G_{1},G_{2}{% endequation %}, יפעיל את הפרמוטציה עליו ויקבל גרף {% equation %}G_{3}{% endequation %}, וישלח אותו למוודא. המוודא יגריל מספר {% equation %}b{% endequation %} - או 1, או 2, וישלח אותו למוכיח. המוכיח ישלח לו בחזרה פרמוטציה שהופכת את {% equation %}G_{b}{% endequation %} ל-{% equation %}G_{3}{% endequation %}. האם אתם רואים מדוע זו מערכת הוכחה אינטראקטיבית?

אולי אתם תוהים לעצמכם - רגע, מה אפס ידע כאן? הרי המוודא לומד משהו מהפרוטוקול - המוכיח נותן לו איזומורפיזם בין {% equation %}G_{b}{% endequation %} ובין גרף חדש, {% equation %}G_{3}{% endequation %}. זה נכון, כמובן, אבל הנקודה היא שהידע הזה הוא משהו שהמוודא היה יכול לייצר בעצמו. מה כבר המוודא קיבל? איזומורפיזם בין אחד מהגרפים המקוריים ובין גרף אקראי כלשהו. גם המוודא יכל לייצר את זה בצורה פשוטה - להגריל {% equation %}\pi{% endequation %}, להפעיל אותה על אחד מהגרפים, ולקבל כתוצאה גרף חדש, שנבחר באקראי בין הגרפים שאיזומורפיים ל-{% equation %}G_{1},G_{2}{% endequation %}. זו המשמעות של אפס-ידע - המוודא לא לומד שום אינפורמציה שהוא לא יכל לייצר בעצמו. יש לכל זה גם הגדרה מתמטית מדויקת, כמובן, והצגתי את הרעיון שמאחוריה בעבר, אבל לא אחזור עליה כעת.

אוקיי, ומה על מערכות ההוכחה שכבר הצגתי, זו עבור {% equation %}\mbox{GNI}{% endequation %} וזו עבור {% equation %}\mbox{QNR}{% endequation %}? הן בהחלט נראות כמו הוכחות אפס-ידע; כל מה שהמוכיח מוסר למוודא זה ביט יחיד שאומר למוודא את מה שהוא כבר יודע מראש - מה הייתה הבחירה האקראית שלו. אם כן, גם אלו הוכחות אפס-ידע, כן? ממש, ממש לא.

מה הבעיה? שהמוודא יכול לרמות. על פי הפרוטקול של {% equation %}\mbox{GNI}{% endequation %} המוודא צריך לבחור גרף מבין {% equation %}G_{!},G_{2}{% endequation %}, להפעיל עליו פרמוטציה כלשהי ולשלוח למוכיח. אבל בואו נניח שיש למוודא גרף {% equation %}G_{3}{% endequation %} שלו עצמו אין מושג למי משני הגרפים הוא איזומורפי אבל הוא יודע שהוא איזומורפי לאחד מהם. איך סיטואציה כזו התרחשה בכלל? לא חשוב - העיקר שהיא עשויה להתרחש. כעת, המוודא יעבוד על המוכיח ובמקום לפעול על פי הפרוטוקול הוא ישלח את {% equation %}G_{3}{% endequation %} למוכיח, והמוכיח יעשה בשבילו את העבודה ויגיד לו לאיזה משני הגרפים {% equation %}G_{3}{% endequation %} איזומורפי. הנה - המוודא למד מידע חדש שלא היה ידוע לו קודם.

לא ארחיב יותר מכך כרגע על העניינים הללו כי זה ראוי לפוסט נפרד שעוסק בהוכחות אפס ידע; רק אעיר שניתן לפתור את הבעיה ולהציג מערכות אפס-ידע טובות גם עבור {% equation %}\mbox{GNI}{% endequation %} ו-{% equation %}\mbox{QNR}{% endequation %}. לבינתיים נשכח מהוכחות אפס ידע - בפוסט הבא אתאר את {% equation %}\mbox{PSPACE}{% endequation %} ולאחר מכן אעבור להוכחה ש-{% equation %}\mbox{IP=}\mbox{PSPACE}{% endequation %}.
