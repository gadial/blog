---
id: 2081
title: "בקשת עזרה מקהילת הקוד הפתוח בכלל ומכל מי שמבין משהו ב-LaTeX בפרט"
date: 2012-07-11 13:47:01
layout: post
categories: 
  - כללי
---
<strong>עדכון, 20/7/2012:</strong> כל הבעיות שהתלוננתי עליהן בפוסט הזה <strong>נפתרו לחלוטין</strong> על ידי רונן אברבנאל (ניתן לראות את הודעת ה"נצחון!" שלו למטה). כל הכבוד לרונן, שהוכיח (ולא בפעם הראשונה) שהוא המומחה הגדול בעולם ל-LyX בעברית.

פרסומת זולה לבלוג הפיזיקה של רונן שמתארח אצלי על השרת:

<a href="http://aprettiershell.gadial.net/">http://aprettiershell.gadial.net/</a>

<a href="{{site.baseurl}}{{site.post_images}}/2012/07/Wiley-Coyote-Help.jpg"><img class="alignnone size-full wp-image-2083" title="Wiley-Coyote-Help" src="{{site.baseurl}}{{site.post_images}}/2012/07/Wiley-Coyote-Help.jpg" alt="" width="309" height="425" /></a>

קצת רקע למי שלא מכיר אותי: אני גדי, סיימתי תואר שלישי במדעי המחשב לא מזמן, ואני כותב את הבלוג המתמטי הזה כבר חמש שנים בערך. ואני צריך את עזרתכם.

לפני כמה חודשים התחלתי בכתיבת ספר על בסיס סיכומי הרצאות בקורס שהעברתי. התקווה היא שאצליח לנצל את המומנטום הזה כדי ליצור סדרה של ספרי לימוד חינמיים, בעברית, בפורמט דיגיטלי, שיתעדכנו ויתוקנו באופן תדיר בסיוע משוב מהקוראים, ובתקווה יהיו בסופו של דבר איכותיים ומועילים לכלל אוכלוסיית הסטודנטים לתואר ראשון בארץ ואולי גם למתעניינים נוספים.

הבעיה היא שאני לא מצליח לקמפל את הדבר הארור. וכאן אתם (האנשים שמבינים בפרטים הטכניים או מכירים מישהו שמבין)  נכנסים לתמונה.

הפרטים הטכנים: אני כותב את הספר <strong>בעברית</strong> עם LyX 2.0.2. הספר מתקמפל היטב עם pdflatex. עד כה זה מה שעשיתי תמיד, הן בתרגילי בית, הן בסיכומי ההרצאות שלי והן בכתיבת פוסטים לבלוג.

עבור ספר זה כבר לא מספיק טוב.

יש שני מרכיבים שלדעתי הם קריטיים בספר אלקטרוני ו-pdflatex לא מסוגל להתמודד איתם כאשר כותבים ספר בעברית: hyperref ואינדקס.

למרבה המזל יש לשני אלו פתרון פשוט: לעבור ל-XeTeX. אם מקמפלים ב-XeTeX, האינדקס נוצר אוטומטית ואילו hyperref יכולים לעבוד בעזרת התיקון שמתואר <a href="http://www.guyrutenberg.com/2009/06/27/getting-hyperref-to-work-with-hebrew-in-xetex/">כאן</a>.

אז מה הבעיה? הפרטים הקטנים והמעצבנים שהופכים את העסק לבלתי אפשרי.
<ol>
	<li>אני לא מכיר דרך לקמפל ישירות ל-XeTeX מתוך LyX. פתרונות שניסיתי להשתמש בהם לא עבדו. מילא, אפשר לייצר ל-TeX ואז לקמפל (אני מקמפל בלינוקס ומשתמש בעורך kile, לא שהעורך שאני משתמש בו רלוונטי במיוחד).</li>
	<li>המרה של קובץ LyX לקובץ TeX שאז יתקמפל ב-XeTeX משאירה בעיות רבות שלא ברור לי איך לתקן - סוגריים מתהפכים. טקסט באנגלית מוצג בסדר הפוך (זה בעייתי בפרט כשאני רוצה שהוא יהיה באותה שורה כמו הטקסט בעברית). רשימות ממוספרות לא מוצגות טוב (קודם נקודה ואז מספר) ועוד דברים קטנים שהם בלתי נסבלים בספר אמיתי.</li>
	<li>האינדקס עצמו מוצג בסדר הפוך (מתחילים בטור משמאל במקום בטור מימין).</li>
	<li>אם אני מנסה להשתמש בתעלול של ה-hyperref משום מה כל המסמך הופך ללינק אחד גדול (כל הטקסט מוקף ריבועים אדומים).</li>
</ol>
התוצאה, בפועל, היא שכבר למעלה מחודש אני נאבק עם XeTeX, שבו אני מבין מעט מאוד, במקום להקדיש את הזמן הפנוי הזה לכתיבת ספרי מתמטיקה. ניסיתי פתרון אד-הוקי בדמות סקריפט שעובר על קובץ ה-TeX לפני הקומפילציה ומתקן נקודתית בעיות. הוא הצליח, חלקית, אבל על כל בעיה שאני פותר צצות שתיים חדשות ואני כבר מיואש למדי. קשה מאוד לטפל בבעיה הזו כשאני מגשש באפלה ולא ממש מבין איך XeTeX עובד, או באילו תגים אפשר להשתמש (איך אפשר לגרום לטקסט אנגלי להופיע בסדר הנכון בתוך שורה שהיא מימין לשמאל?), וכדומה.

אז אני פונה לעזרה לכל מי שמבין בנושא יותר ממני. וזה לא רק בשבילי; הדבר הזה הוא מכשול לכל מי שרוצה לכתוב ספר מקצועי בעברית ב-LaTeX. זה לא צריך לקרות.

אשמח לשתף פעולה עם כל מי שמנסה לעזור. אני יכול לספק קבצים לדוגמה מתוך הספר, את הסקריפט שכתבתי עד כה וכל דבר אחר שתזדקקו לו. מה שאני רוצה לקבל, בשורה התחתונה: את היכולת לכתוב שורת קוד אחת שאליה אני מזין את קובץ ה-LyX של הספר, ולקבל כפלט קובץ PDF של הספר. בלי בעיות. עם אינדקס. עם לינקים.

האם זה אפשרי?
