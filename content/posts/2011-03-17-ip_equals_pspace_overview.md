---
id: 1054
title: "אז מה זה IP=PSPACE?"
date: 2011-03-17 21:16:33
layout: post
categories: 
  - תורת הסיבוכיות
tags: 
  - מערכות הוכחה
  - מערכות הוכחה אינטראקטיביות
  - פרוייקט "תוצאות מפתיעות בסיבוכיות"
  - תורת הסיבוכיות
social_media_share: true
---
מה היא הוכחה? מילון אבן-שושן מגדיר אותה כ"ראיה, אות לדבר כי אמנם כן הוא, הבאת מופת לאישור דבר". <a href="http://he.wikipedia.org/wiki/%D7%94%D7%95%D7%9B%D7%97%D7%94">ויקיפדיה העברית</a> מדברת על "סדרה סופית של טענות הנובעות זו מזו בעזרת כללי היסק, תוך שימוש בהגדרות, באקסיומות, ובידע קודם שהוכח קודם לכן, המראה שטענה מסוימת היא נכונה". מי צודק? ההגדרה של ויקיפדיה היא יותר קונקרטית, ומתאימה למושג הפורמלי של "הוכחה" שאותו לומדים בקורסים בלוגיקה; אולם ההגדרה שיותר מתאימה למשמעות היומיומית והכללית שאנו מייחסים למילה הוכחה היא כמובן זו של אבן-שושן. הוכחה, בראש ובראשונה, היא <strong>משהו</strong> שבא לשכנע אותנו שטענה כלשהי היא נכונה. האופן הספציפי שבו ההוכחה מבצעת הדבר הזה הוא מה שמבדיל בין סוגים שונים של הוכחות, וביניהן ההוכחה המתמטית שעליה ויקיפדיה העברית מדברת.

הוכחה במדעי הטבע לרוב תבוא בצורת נתונים אמפיריים התואמים לטענה מסויימת. כך זוכה מכניקת הקוונטים, שהניסוח המתמטי-פורמלי שלה והפרשנויות שמסבירות כיצד הוא מתיישב עם המציאות הם מאוד לא אינטואיטיביים, להילה של תורה מוכחת בגלל שהניבויים שהיא מספקת לניסויים אמפיריים מתגלים שוב ושוב כנכונים. כשהולכים למקומות אחרים במדעי הטבע מגלים שמושג ה"הוכחה" הוא עוד יותר מעורפל - מצד אחד תומכי האבולוציה טוענים שהיא הוכחה מעבר לכל ספק סביר - "האבולוציה היא עובדה", ומצד שני מתנגדיה טוענים שהכל בולשיט. אם ממשיכים לחפור עוד קצת נתקלים באנשים בעלי גישה קצת שונה למדעי הטבע, שטוענים טענות על קיום יצורים מסויימים - למשל, מפלצת ספגטי מעופפת - איך מוסיפים שקיום זה כלל לא <strong>ניתן</strong> להוכחה, או שהוכחה אינה נדרשת.

כל בלבול המוח הזה מוביל לכך שנהוג להגיד שבמדעי הטבע אין הוכחות בטוחות במאה אחוזים, אלא "רק במתמטיקה". המתמטיקה זוכה בציבור הרחב לעתים קרובות להילה של "התחום שבו אפשר לדעת בודאות אם דברים הם נכונים או לא". הכלי מספר 1 שבו המתמטיקה משתמשת למטרה זו הוא מושג ההוכחה שויקיפדיה הזכירה למעלה - סדרות סופיות של טענות, כך שכל טענה היא או אקסיומה, או נובעת מטענות קודמות בעזרת כללי היסק. אלא שכאן מתחילות הצרות - מי מבטיח לנו שהאקסיומות נכונות? מי מבטיח לנו שכללי ההיסק נכונים? ואפילו היו האקסיומות וכללי ההיסק נכונים, מי מבטיח לנו שהוכחה היא נכונה - כלומר, שמה שנכתב בה הוא אכן אקסיומה ושכל טענה נובעת מקודמותיה בעזרת כללי ההיסק?

התשובה היא ששום דבר לא מבטיח לנו את זה. ייתכן שיש שד מתעתע שגורם לנו להאמין באקסיומות וכללי היסק שגויים או לקרוא לא נכון הוכחות. אולי אנחנו חיים במטריקס ומיוצרת בנו אמונה לגבי דברים שגויים. אבל גם אם אין מטריקס ואין שדים מתעתעים, אין לנו דרך "להוכיח" שהאקסיומות וכללי ההיסק נכונים; איך נוכיח זאת? בשיטה המתמטית, עם אקסיומות וכללי היסק? יש כאן בעיה מעגלית, ואין שום דרך לצאת ממנה.

אם כן, לא הייתי אומר שהוכחה-של-ויקי-העברית "מראה" שטענה כלשהי היא נכונה; לדעתי יותר נכון לומר שהיא מהווה <strong>ראיה</strong> לכך שהטענה נכונה. כלומר, עוד גורם במכלול הגורמים שבאים לשכנע אותנו, קוראי ההוכחה, בנכונותה. בזאת ההוכחה המתמטית היא מקרה פרטי של ההוכחה של אבן-שושן, ולמרות הכבוד הרב שהיא זוכה לו כיום בציבור, צריך להיזהר ולא לתת לה מונופול.

בואו נביט שניה בהוכחה מתמטית "אמיתית" - הוכחת אוקלידס לקיום אינסוף ראשוניים. נניח שיש רק מספר סופי של ראשוניים, {% equation %}p_{1},\dots,p_{n}{% endequation %}. נתבונן במספר {% equation %}p_{1}\cdot p_{2}\cdots p_{n}+1{% endequation %}. הוא אינו מתחלק על ידי אף אחד מהראשוניים {% equation %}p_{1},\dots,p_{n}{% endequation %} ולכן מתחלק על ידי ראשוני שונה מהם. זו כל ההוכחה, ועבור המתמטיקאים בקהל אני בטוח שהיא מספיקה, אבל האם זו הייתה "סדרה סופית של טענות הנובעות זו מזו בעזרת כללי היסק תוך שימוש באקסיומות"? היכן האקסיומות? מיהם כללי ההיסק? גרוע מכך - ההוכחה הזו מבצעת הרבה קפיצות לוגיות שעבור מתמטיקאי הן טריוויאליות אבל עבור מי שמעולם לא ראה אותן הן אסון. למה ש-{% equation %}p_{1}\cdots p_{n}+1{% endequation %} לא יתחלק על ידי אף אחד מהראשוניים {% equation %}p_{1},\dots,p_{n}{% endequation %}? ולמה שהוא <strong>כן</strong> יתחלק על ידי ראשוני שונה מהם? אלו דברים שדורשים הסבר - למעשה, הוכחה - בפני עצמם. ויקיפדיה העברית מכסה זאת בעזרת "ידע קודם שהוכח קודם לכן", אבל כשקוראים הוכחות אמיתיות לא תמיד ברור בכלל לאיזה ידע קודם ההוכחה מתייחסת. בהוכחות אמיתיות (כאלו שנמצאות בספרי לימוד מתקדמים; בספרי מבוא לרוב ההוכחות יותר ידידותיות) יש המון קפיצות מעל פרטים שרק קורא שבקיא בחומר מסוגל להשלים; קוראים אחרים נאלצים לפנות לעזרה לאתרים כמו <a href="http://mathoverflow.net/">MathOverflow</a> ו-<a href="http://math.stackexchange.com/">MathStackExchange</a>.

מה שאני חותר אליו הוא שתהליך בדיקת ההוכחה מאוד תלוי בקורא. ההוכחה לעתים קרובות מניחה שהקורא מסוגל להשלים פרטים בעצמו; היא מצפה ממנו לבצע, סליחה על המילה הגסה, <strong>תהליך חישובי</strong> כחלק מבדיקת ההוכחה. החישוביות הזו נעוצה עמוקה בלבה של הלוגיקה - בפרט, משפטי אי השלמות של גדל פועלים רק על מערכות הוכחה ש(בין היתר) הוכחות בהן ניתנות לבדיקה אלגוריתמית - דהיינו, קיים תהליך חישובי שבהינתן טענה (שהיא בסך הכל סדרה של תווים בא"ב כלשהו) בודק האם היא א) אקסיומה או ב) נובעת מטענות קודמות באמצעות כללי ההיסק של מערכת ההוכחה. מערכות הוכחה שאינן מקיימות תנאי זה הן מוזרות למדי - אלו מערכות הוכחה שכלל לא ברור איך ניתן לבדוק הוכחות שנתונות בהן! לכן, לדעתי, זה אך טבעי להכליל את מערכת ההוכחה על ידי השמטת הדרישה שההוכחה תהיה מהצורה "סדרה של טענות כך שכל אחת נובעת..." ובמקום זאת להפוך את <strong>תהליך הבדיקה</strong> לחלק אינטגרלי ממערכת ההוכחה עצמה.

כאן כדאי לעצור ולהעיר שלהוכחות מתמטיות רגילות, מהסוג שיש בספרים, יש כמה מטרות שונות. מטרה אחת היא כמובן לשכנע אותנו בכך שהטענה שמופיעה בספר נכונה; אבל מטרה אחרת, חשובה הרבה יותר, היא לעזור לנו להבין <strong>למה</strong> הטענה נכונה. הוכחה שלא עוזרת לאינטואיציה שלנו היא בעייתית. מטרה נוספת, אולי החשובה ביותר, היא לגרום לנו ל<strong>הנאה</strong>. הוכחות מוצלחות הן דבר יפה, בדיוק כמו יצירת אומנות (וכמובן שיש שיגידו שהוכחות יפות <strong>הן</strong> יצירת אומנות). כמובן שכמו שיש אנשים ששונאים אומנות מסוגים מסויימים או משתעממים ממנה, כך לא חסרים (לצערי...) האנשים ששונאים הוכחות מתמטיות ובוודאי שאינם נהנים מלקרוא אותן; וכמובן שלא כל ההוכחות יפות באותה מידה. עם זאת, שני המרכיבים שציינתי - הן ההנאה מהיופי של ההוכחה, והן ההבנה של "מה הולך שם" שההוכחה מקנה, הן היעד העיקרי של הוכחות-מוכוונות-אנשים. רק שמעתה והלאה אני שוכח במכוון מהאספקטים הללו של הוכחות ומסתפק ביעד הראשון והבסיסי - להשתכנע בכך שטענה היא נכונה. לצורך כך ההוכחה יכולה להיות מכוערת ומשעממת ובלתי מחכימה ביותר - לא אכפת לנו.

בואו נעבור לדבר באופן טהור על גישתם של מדעי המחשב לכל העסק הזה. עבור מדעני המחשב, "טענה" היא בסך הכל סדרה סופית של תווים מעל א"ב כלשהו (למשל, כזה שבו יש רק שתי אותיות - 0 ו-1; שני אלו מספיקים כדי לקודד כל דבר וזה בדיוק מה שקורה במחשבים). לסדרה סופית כזו של תווים קוראים "מילה", ולקבוצה כלשהי של מילים קוראים "שפה" ומסמנים אותה ב-{% equation %}L{% endequation %} לרוב. היעד של מערכות ההוכחה שלנו הוא להראות עבור מילה {% equation %}w{% endequation %} כלשהי כי {% equation %}w\in L{% endequation %}. אם {% equation %}L{% endequation %} היא אוסף כל המחרוזות אשר מקודדות טענות נכונות במתמטיקה ו-{% equation %}w{% endequation %} היא המחרוזת "יש אינסוף זוגות ראשוניים שההפרש בין אברי הזוג הוא 2", הרי שלהראות {% equation %}w\in L{% endequation %} במקרה הזה זה בעצם "להוכיח את השערת הראשוניים התאומים", כך שכל הדיבורים הללו על מילים ושפות לא באמת מגבילות את מה שאנחנו מסוגלים לדבר עליו, אלא רק נותנות לו פורמליזם שנוח עבורנו. לכל שפה תהיה מערכת הוכחה משל עצמה.

את המושג של "תהליך הבדיקה" ממדלים בצורה פורמלית בעזרת <strong>אלגוריתם</strong>, {% equation %}V{% endequation %} - "המוודא" (מלשון Verifier). למי שהמושג אלגוריתם מעורפל מדי בשבילו, בדרך כלל דורשים ש-{% equation %}V{% endequation %} הוא מודל חישוב קונקרטי מסויים, דוגמת מכונת טיורינג; אלו לא פרטים שיש צורך להיכנס אליהם כאן. {% equation %}V{% endequation %} מקבל כקלט זוג {% equation %}\left(w,\pi\right){% endequation %}, כש-{% equation %}w{% endequation %} היא מילה כלשהי ו-{% equation %}\pi{% endequation %} היא מחרוזת שמטרתה להוות הוכחה לכך ש-{% equation %}w{% endequation %} שייך ל-{% equation %}L{% endequation %}. מ-{% equation %}V{% endequation %} אנחנו דורשים שבהינתן קלט {% equation %}\left(w,\pi\right){% endequation %}, {% equation %}V{% endequation %} יסיים מתישהו את ריצתו על הזוג (אם הוא לא עוצר לעולם, כל העסק חסר ערך מבחינתנו), ויגיד "כן" או "לא". כדי שנוכל לומר שהאלגוריתם {% equation %}V{% endequation %} פועל נכון, נצטרך שיקרו שני דברים:
<ol>
	<li>שלמות: אם {% equation %}w\in L{% endequation %} אז קיימת הוכחה {% equation %}\pi{% endequation %} כלשהי כך ש-{% equation %}V{% endequation %} מסיים את ריצתו על {% equation %}\left(w,\pi\right){% endequation %} ואומר "כן".</li>
	<li>נאותות: אם {% equation %}w\notin L{% endequation %} אז לכל {% equation %}\pi{% endequation %} מתקיים ש-{% equation %}V{% endequation %} מסיים את ריצתו על {% equation %}\left(w,\pi\right){% endequation %} ואומר "לא".</li>
</ol>
כלומר, אם {% equation %}V{% endequation %} אומר "כן" הוא בעצם אומר "כן, {% equation %}w\in L{% endequation %} וההוכחה {% equation %}\pi{% endequation %} שכנעה אותי בכך", ואילו אם הוא אומר "לא", הוא בעצם אומר "{% equation %}\pi{% endequation %} לא שכנעה אותי ש-{% equation %}w\in L{% endequation %}" (שימו לב להבדל המהותי בין זה ובין לומר "{% equation %}w\notin L{% endequation %}, נקודה").

ההגדרה הזו נותנת המון חופש פעולה ל-{% equation %}V{% endequation %}; הוא רק צריך לעצור ולקיים את תנאי השלמות והנאותות, אבל אף אחד לא אומר לו איך בדיוק הוא צריך לבדוק ש-{% equation %}w{% endequation %} נכון, איך הוא אמור להשתמש ב-{% equation %}\pi{% endequation %}, וכדומה. למעשה, הוא יכול גם להתעלם מ-{% equation %}\pi{% endequation %} לחלוטין ולבצע בדיקה על {% equation %}w{% endequation %} באופן בלתי תלוי. אם למשל {% equation %}L{% endequation %} היא שפת המספרים הראשוניים, אז {% equation %}V{% endequation %} יכול פשוט לבדוק את כל המחלקים האפשריים של {% equation %}w{% endequation %} ואם לא התגלו מחלקים לא טריוויאליים - לעצור ולהגיד "כן", ואחרת לעצור ולהגיד "לא". בלי שהוא השתמש בכלל ב-{% equation %}\pi{% endequation %} לשום מטרה שהיא.

אם כן, עולה השאלה הטבעית - האם השימוש ב-{% equation %}\pi{% endequation %} - האם המעבר מ"{% equation %}V{% endequation %} בודק דברים לבד" ל-"{% equation %}V{% endequation %} מקבל הוכחה מהעולם החיצון ונעזר בה" - מוסיפה למערכת כוח חישובי? התשובה היא - בהחלט כן.

הבה וניקח כדוגמה את <a href="http://www.gadial.net/2007/09/14/hilbert_tenth_problem_intro/">הבעיה העשירית של הילברט</a>. בבעיה הזו נתונה משוואה דיופנטית (משוואה פולינומית במקדמים שלמים), והשאלה היא אם קיים לה פתרון במקדמים שלמים. הילברט ביקש למצוא אלגוריתם לפתרון הבעיה כבר ב-1900, אך רק בשנות השבעים של המאה ה-20 הוכח סופית כי אלגוריתם שכזה <strong>אינו קיים</strong>. הבה ונקבל כנתון את הטענה הזו (שתזכה יום אחד לפוסט - או סדרת פוסטים - משל עצמה) - זה אומר ש-{% equation %}V{% endequation %} המסכן, אם קיבל {% equation %}w{% endequation %} שמקודדת משוואה דיופנטית, לא יכול לבצע אף חישוב שגם יעצור תמיד וגם יחזיר תמיד את התשובה הנכונה. פורמלית אומרים על כך שהבעיה איננה במחלקה {% equation %}\text{R}{% endequation %}. מה הוא כן יכול לעשות? ובכן, <strong>אם</strong> קיים פתרון, אפשר בעזרת חיפוש ממצה למצוא אותו לבסוף, לעצור ולהחזיר אותו. רק מה? אם לא קיים פתרון, החישוב לא יסתיים לעולם (וזה, כזכור, מנוגד באופן חזק לדרישה הבסיסית שלנו מ-{% equation %}V{% endequation %} שיעצור תמיד). על בעיות שניתנות ל"חצי פתרון" שכזה אומרים שהן במחלקה {% equation %}\text{RE}{% endequation %}.

כעת, לבעיה העשירית של הילברט יש מערכת הוכחה פשוטה למדי: אם {% equation %}w{% endequation %} משוואה דיופנטית בעלת פתרון, אז {% equation %}\pi{% endequation %} יקודד את הפתרון הזה - ההצבה הנדרשת למשתנים. אם {% equation %}V{% endequation %} מקבל {% equation %}\left(w,\pi\right){% endequation %}, הוא פשוט מציב את {% equation %}\pi{% endequation %} לתוך המשוואה ובודק אם המשוואה מתקיימת או לא. אם כן - האח, {% equation %}V{% endequation %} עוצר ומקבל; אחרת, {% equation %}V{% endequation %} עוצר ודוחה. בכל מקרה {% equation %}V{% endequation %} יעצור, ובכל מקרה הוא לא יטעה - אם ל-{% equation %}w{% endequation %} יש פתרון, אז יש {% equation %}\pi{% endequation %} שעבורו {% equation %}V{% endequation %} יקבל (ההצבה ה"נכונה" למשוואה) ואם ל-{% equation %}w{% endequation %} אין פתרון, ברור שלכל {% equation %}\pi{% endequation %} הוא ידחה.

לא קשה להוכיח טענה כללית על מערכות הוכחה שכאלו - השפות שקיימת להן מערכת הוכחה שכזו הן בדיוק השפות שב-{% equation %}\text{RE}{% endequation %}. מכיוון ש-{% equation %}\text{RE}{% endequation %} גדולה יותר מ-{% equation %}\text{R}{% endequation %}, זה מראה שמערכת ההוכחה שתיארנו מוסיפה כוח חישובי רב.

המחלקות {% equation %}\text{R}{% endequation %} ו-{% equation %}\text{RE}{% endequation %} שייכות לעולם המופלא של תורת החישוביות - לשאלה מה ניתן לחשב <strong>בכלל</strong>. העניינים נהיים סבוכים ומעניינים בהרבה כאשר עוברים לעולם המפלא של תורת הסיבוכיות - שבו השאלה היא מה ניתן לחשב <strong>ביעילות</strong>, כשכאן "יעילות" מזוהה עם "ריצה בזמן שהוא פולינומי בגודל הקלט". לכן אנחנו מדברים פה על מערכת הוכחה שזהה למה שתיארנו קודם פרט לדרישה ש-{% equation %}V{% endequation %} ירוץ בזמן שהוא פולינומי בגודל של {% equation %}w{% endequation %} (וכפועל יוצא מכך נובע ש-{% equation %}\pi{% endequation %} אף הוא צריך להיות פולינומי בגודל {% equation %}w{% endequation %} אחרת {% equation %}V{% endequation %} לא יספיק לקרוא את כולו).

בעולם החדש הזה המחלקה {% equation %}\text{P}{% endequation %} היא המקבילה של {% equation %}\text{R}{% endequation %}, ולמחלקת השפות שיש להן מערכת הוכחה מהסוג שתיארתי קוראים {% equation %}\text{NP}{% endequation %}. זו, אם כן, המקבילה של {% equation %}\text{RE}{% endequation %} בעולם הסיבוכיותי, וכמו שאפשר להוכיח ש-{% equation %}\text{R}\ne\text{RE}{% endequation %} ולכן הוכחות מוסיפות כוח באופן כללי, עולה השאלה האם {% equation %}\text{P}\ne\text{NP}{% endequation %} ולכן הוכחות מוסיפות כוח בהקשר של חישובים יעילים. זו, <a href="http://www.gadial.net/2010/08/15/p_vs_np_overview/">אולי כבר שמעתם</a>, הבעיה הפתוחה המרכזית במדעי המחשב, ואחת מהבעיות הפתוחות החשובות ביותר במתמטיקה באופן כללי. ההשערה היא שאכן {% equation %}\text{P}\ne\text{NP}{% endequation %}, אבל לכו תוכיחו - העולם הסיבוכיותי מאתגר הרבה יותר מהעולם החישוביותי וכבר <a href="http://www.gadial.net/2010/08/16/p_vs_np_hard_to_diagonalize/">נתתי דוגמה לכך בעבר</a>.

אלא שכאן הכיף רק מתחיל. אם אנחנו כבר מכלילים את מושג ההוכחה, למה לעצור ב"מחרוזת כלשהי שאותה נותנים ל-{% equation %}V{% endequation %} והוא נעזר בה כדי להכריע את הטענה בזמן יעיל"? את רעיון ההוכחה אפשר להכליל בשתי דרכים יחסית טבעיות - אינטראקציה, ואקראיות.

אינטראקציה אומרת כך - הבה ונניח שלמשחק שלנו מצטרף מתמודד נוסף, {% equation %}P{% endequation %}, "המוכיח" (מלשון Prover). בהינתן {% equation %}w{% endequation %} {% equation %}P{% endequation %} ו-{% equation %}V{% endequation %} מנהלים ביניהם דיאלוג כלשהו - {% equation %}P{% endequation %} שולח ל-{% equation %}V{% endequation %} הודעה, ו-{% equation %}V{% endequation %} יכול לענות לו, ו-{% equation %}P{% endequation %} יכול לענות לתשובה, וכן הלאה. בסופו של דבר (ואחרי זמן פולינומי) {% equation %}V{% endequation %} צריך לעצור ולקבל או לדחות את {% equation %}w{% endequation %}, ואותם תנאים של קודם תקפים: אם {% equation %}w\in L{% endequation %} אז יש דרך התנהגות של {% equation %}P{% endequation %} שגורמת ל-{% equation %}V{% endequation %} לקבל, ואילו אם {% equation %}w\notin L{% endequation %} אז לא משנה איך {% equation %}P{% endequation %} יתנהג, {% equation %}V{% endequation %} ידחה. בדרך כלל במערכות כאלו אנחנו לא מניחים ש-{% equation %}P{% endequation %} מוגבל חישובית בכלל - כמו שקודם ההוכחה {% equation %}\pi{% endequation %} הגיעה באורח קסום מהשמיים, כך גם כאן {% equation %}P{% endequation %} הוא יצור שמיימי בעל כוח לא מוגבל (בעולם האמיתי הכוח של {% equation %}P{% endequation %} ינבע לרוב מכך שיש לו כבר ידע קודם שאין ל-{% equation %}V{% endequation %}; למשל, {% equation %}P{% endequation %} יכיר פירוק לגורמים של מספר {% equation %}n=pq{% endequation %} מסויים בגלל שהוא עצמו הגריל מלכתחילה את {% equation %}p,q{% endequation %} והכפיל אותם לקבלת {% equation %}n{% endequation %}) .

טוב, אז מה נשתנה אם מרשים אינטראקציה? באופן מאכזב למדי, כלום. {% equation %}\text{NP}{% endequation %} היא עדיין מחלקת הבעיות שקיימת להן הוכחה, גם עם מוכיח אינטראקטיבי שכזה. הסיבה לכך היא שאת כל מה ש-{% equation %}P{% endequation %} עושה "אינטראקטיבית" אפשר היה לכתוב ב-{% equation %}\pi{% endequation %} מראש, שכן ברור למוכיח בדיוק איך {% equation %}V{% endequation %} הולך להגיב לכל דבר ש-{% equation %}P{% endequation %} יאמר, כי {% equation %}V{% endequation %} הוא <strong>דטרמיניסטי</strong>. אז ההוכחה תהיה בערך כך: "התשובה לשאלה הראשונה שלך היא: 42. התשובה לשאלה השניה שלך היא: 0. נכון שזה קריפי שאני יודע מה אתה הולך לשאול? נכון? נכון? נכון? טוב, בוא נמשיך, התשובה לשאלה השלישית היא: 42. וואו, השאלות שלך לא מקוריות. טוב, בוא נמשיך...".

איך אפשר להתקדם מכאן? בכמה דרכים. אחת מהדרכים היפות היא <strong>מערכת בוררות</strong>. במערכת שכזו אין מוכיח אחד אלא <strong>שני</strong> מוכיחים, שכל אחד מהם רוצה להוכיח משהו שונה. המטרה של אחד מהם היא להוכיח ש-{% equation %}w\in L{% endequation %} והמטרה של השני - ש-{% equation %}w\notin L{% endequation %}. ברור שאחד מהם משקר, ולכן הם מנהלים מאבק כלשהו. בינתיים {% equation %}V{% endequation %} יושב בצד ומאזין לויכוח שלהם (הוא לא צריך לשאול שאלות בעצמו כי, כמו קודם, המוכיחים יודעים בדיוק מה הוא הולך לשאול שכן הוא דטרמיניסטי). בסוף הויכוח (שצריך להימשך זמן פולינומי), {% equation %}V{% endequation %} חורץ דין ומחליט האם {% equation %}w\in L{% endequation %} או לא. כרגיל, ל-{% equation %}V{% endequation %} אסור לטעות, בכלל.

האם המערכת הזו מוסיפה כוח? ככל הנראה כן. אפשר להוכיח שמחלקת השפות שיש להן מערכת בוררות שכזו היא {% equation %}\text{PSPACE}{% endequation %} - מחלקת כל השפות שניתן להכריע ב<strong>זכרון</strong> פולינומי. {% equation %}\text{PSPACE}{% endequation %} היא מחלקה ענקית, שכוללת את {% equation %}\text{NP}{% endequation %} וגם הרבה מעבר לכך; אתאר אותה בפוסט הבא יותר בפירוט. מצד שני, אין לנו מושג כיום אם {% equation %}\text{P}\ne\text{PSPACE}{% endequation %}.

הדרך השניה להתקדם מכאן היא להרשות <strong>אקראיות</strong>. נניח שאנחנו מרשים למוודא לעשות הגרלות שמכתיבות אילו שאלות הוא ישאל את המוכיח. האם שינינו משהו? ובכן, אם כל מה שעשינו הוא להרשות למוודא להגריל שאלות, לא ממש. כי איך תיראה כעת הוכחה {% equation %}\pi{% endequation %} לנכונות טענה? היא תהיה מהצורה "אם היית מגריל 0, אז היית שואל כך וכך, והייתי עונה לך: 42! ואז, אם היית מגריל 1, היית שואל כך וכך והייתי עונה לך: 17! ואחר כך...". כלומר, ההוכחה מתארת מה קורה בסדרת בחירות אקראיות <strong>אחת</strong> של המוודא ומתעלמת מכל שאר האפשרויות. למה זה עובד? כי בסוף הדיאלוג הזה, התשובה של המוודא חייבת להיות התשובה הנכונה. אם {% equation %}w\in L{% endequation %}, כל מה שאנחנו רוצים הוא לראות סדרת בחירות אקראיות <strong>אחת</strong> שגורמת למוודא להשיב "כן". לא אכפת לנו מכך שיש אולי עוד המון דרכים לגרום לו להשיב כך.

אז כדי לפרוץ את גבולות {% equation %}\text{NP}{% endequation %}, אנחנו מכניסים לתמונה משהו שנראה כמו חילול הקודש כאשר מדובר על הוכחות - משהו שבאמת משנה לגמרי את התמונה: אנחנו מרשים למוודא לטעות. אנחנו עדיין דורשים שאם {% equation %}w\in L{% endequation %} אז המוכיח יהיה מסוגל לשכנע אותו, ולא משנה מה המוודא שואל; אבל אם {% equation %}w\notin L{% endequation %} אנחנו מרשים למוודא לענות בטעות "כן" בסוף הפרוטוקול. אנחנו רק דורשים שההסתברות לכך תהיה נמוכה. כמה נמוכה? ובכן, כמה שתרצו! אני ארחיב על כך בהמשך. הנקודה היא שלמוודא חייבת להיות הסתברות כלשהי, זניחה ככל שתהיה, לטעות.

מבחינה תיאורטית זה נשמע כמו חילול הקודש. מבחינה קצת יותר מעשית, זה ממש לא נורא. לא רק שההסתברות לטעות יכולה להיות כל כך קטנה עד כי אפילו אם בכל העולם, למשך כל חיי היקום, כל מה שאנשים יעשו הוא שוב ושוב לנהל את הדיאלוג של מערכת ההוכחה, לא סביר שתהיה אפילו טעות אחת אי פעם; זו גם העובדה שאפילו הוכחות מתמטיות "אמיתיות" במובן הקלאסי של המילה עשויות להכיל טעויות שאנחנו לא נשים לב אליהן בבדיקה. אפילו אם כותבים בודקי הוכחות אוטומטיים ממוחשבים, עדיין יש סכנה לבאג חומרה שגורם לשגיאה בבדיקה של הוכחה כלשהי. והסיכוי לבאג כזה גדול מהסיכוי שמערכת ההוכחה שלנו תיכשל (שוב, אם אנחנו בוחרים הסתברות כשלון נמוכה מספיק).

כמה כוח הוסיפה לנו האפשרות הן לבצע אינטראקיציה והן האקראיות? כלומר, מהי המחלקה {% equation %}\text{IP}{% endequation %} של כל השפות שיש להן הוכחה אינטראקטיבית הסתברותית? זו הייתה שאלה פתוחה במשך זמן מה מאז שהוצע המודל. היה ברור לכולם ש-{% equation %}\text{IP}\subseteq\text{PSPACE}{% endequation %}, אבל מה פרט לכך? כשהסתכלו על המחלקות {% equation %}\text{IP}\left[k\right]{% endequation %} של מערכות הוכחה שבהן האינטראקציה היא של {% equation %}k{% endequation %} סיבובים בדיוק, התגלה שלא משנה כמה {% equation %}k{% endequation %} גדול - כל עוד הוא קבוע בגודלו ביחס לגודל הקלט, מתקבלת המחלקה {% equation %}\text{IP}\left[2\right]{% endequation %}. רק כשמרשים למספר הסיבובים בפרוטוקול להיות פולינומי בגודלו ביחס לגודל הקלט יש סיכוי לקבל משהו גדול יותר. מצד שני, אף אחד לא הכיר בעיות שדרשו זאת - כל מה שמצאו לו פרוטוקול הוכחה אינטראקטיבית (ונראה לכך דוגמאות בפוסט הבא) יכל להסתפק במספר קבוע של סיבובים. בנוסף, לא נראה היה שהסתברות אמורה להוסיף <strong>הרבה</strong> כוח למערכת ההוכחה; הסתברות לא מוסיפה הרבה כוח גם לחישוב רגיל (המחלקה {% equation %}\text{BPP}{% endequation %}, שהיא המקבילה ההסתברותית של {% equation %}\text{P}{% endequation %}, איננה גדולה מ-{% equation %}\text{P}{% endequation %} בהרבה ויש החושדים ש-{% equation %}\text{P=BPP}{% endequation %}, ובניגוד ל-{% equation %}\text{P=NP}{% endequation %} זה גם לא מופרך).

אם כן, האמונה הרווחת בקרב מדעני המחשב הייתה ש-{% equation %}\text{IP}{% endequation %} היא מחלקה חלשה יחסית. ואז ב-1990 הוכיחו ש-{% equation %}\text{IP=PSPACE}{% endequation %} (הוכיח את זה עדי שמיר, ה-S שב-RSA, ובאופן בלתי תלוי הוכיחה את זה עוד חבורה שלא אכתוב את כולה). זו באמת הייתה פצצה, בדיוק בגלל ש-PSPACE היא מחלקה כל כך גדולה ו"חזקה". זה היה גילוי מאוד מפתיע גם מבחינה רעיונית - האופן שבו הוכחה אינטראקטיבית היא הרבה, הרבה יותר מאשר הוכחה "קלאסית". וכמובן, ההוכחה של {% equation %}\text{IP=PSPACE}{% endequation %} הייתה גם מבריקה בפני עצמה והשתמשה בטכניקות חדשות ביחס למה שהיה קיים אז.

בפוסטים הבאים אתן דוגמה למערכות הוכחה אינטראקטיביות קונקרטיות כדי שנבין על מה בכלל מדובר, אציג קצת יותר את המחלקה PSPACE כדי שנבין למה היא כל כך חזקה, ואז נעבור לאקשן - אוכיח בצורה מלאה כי ש-{% equation %}\text{IP=PSPACE}{% endequation %}, כולל כל הפרטים הטכניים. יהיה כיף.

