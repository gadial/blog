<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>על מטבעות, שיקויים ובסיסי ספירה - לא מדויק</title>
    <link rel="icon" type="image/x-icon" href="/new_blog/favicon.ico">
    
    
    <!-- KaTeX for math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>

    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', 'David', 'Tahoma', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
        }
        
        /* Top navigation bar */
        .top-nav {
            background: #2c3e50;
            padding: 15px 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .top-nav .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
        }
        
        .top-nav .site-title {
            font-size: 1.5em;
            font-weight: bold;
            color: white;
            text-decoration: none;
            white-space: nowrap;
        }
        
        .top-nav .nav-links {
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .top-nav .nav-links a {
            color: #ecf0f1;
            text-decoration: none;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background 0.2s;
            white-space: nowrap;
        }
        
        .top-nav .nav-links a:hover {
            background: #34495e;
        }
        
        .top-nav .search-box {
            display: flex;
            gap: 5px;
        }
        
        .top-nav .search-box input {
            padding: 5px 10px;
            border: none;
            border-radius: 4px;
            font-size: 0.9em;
            min-width: 150px;
        }
        
        .top-nav .search-box button {
            padding: 5px 15px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .top-nav .search-box button:hover {
            background: #2980b9;
        }
        
        /* Blockquote styling */
        blockquote {
            background: #f9f9f9;
            border-right: 5px solid #ccc;
            margin: 1.5em 10px;
            padding: 0.75em 16px;
            position: relative;
            font-style: italic;
        }
        
        blockquote:before {
            content: '"';
            position: absolute;
            top: -10px;
            right: 8px;
            font-size: 3.5em;
            color: #ccc;
            line-height: 1;
        }
        
        blockquote p {
            display: block;
            margin: 0 0 0.75em 0;
        }
        
        blockquote p:last-child {
            margin-bottom: 0;
        }
        
        
        body {
            line-height: 1.8;
        }
        
        .container {
            max-width: 800px;
            margin: 20px auto;
            background: white;
            padding: 40px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
        }
        
        header {
            margin-bottom: 40px;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 20px;
        }
        
        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .post-meta {
            color: #7f8c8d;
            font-size: 0.9em;
        }
        
        .post-meta .date {
            margin-left: 15px;
        }
        
        .post-meta .categories,
        .post-meta .tags {
            display: inline;
        }
        
        .post-meta .categories a,
        .post-meta .tags a {
            color: #3498db;
            text-decoration: none;
            margin: 0 5px;
        }
        
        .post-meta .categories a:hover,
        .post-meta .tags a:hover {
            text-decoration: underline;
        }
        
        article {
            font-size: 1.1em;
        }
        
        article h2 {
            margin-top: 30px;
            margin-bottom: 15px;
            color: #34495e;
            font-size: 1.8em;
        }
        
        article h3 {
            margin-top: 25px;
            margin-bottom: 12px;
            color: #34495e;
            font-size: 1.4em;
        }
        
        article p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        article ul, article ol {
            margin-right: 30px;
            margin-bottom: 15px;
        }
        
        article li {
            margin-bottom: 8px;
        }
        
        article code {
            background-color: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        
        article pre {
            background-color: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin-bottom: 20px;
            direction: ltr;
            text-align: left;
        }
        
        article pre code {
            background-color: transparent;
            padding: 0;
            color: inherit;
        }
        
        /* Image styles - responsive and contained */
        article img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 20px auto;
        }
        
        /* Math rendering styles */
        .math {
            direction: ltr;
        }
        
        span.math {
            direction: ltr;
        }
        
        /* Override RTL for KaTeX */
        .katex {
            direction: ltr;
            unicode-bidi: embed;
        }
        
        div.math {
            display: block;
            text-align: center;
            padding: 15px 0;
            direction: ltr;
        }
        
        /* RTL adjustments for code blocks */
        .highlight {
            direction: ltr;
            text-align: left;
        }
        
        footer {
            margin-top: 60px;
            padding-top: 20px;
            border-top: 1px solid #e0e0e0;
            text-align: center;
            color: #95a5a6;
            font-size: 0.9em;
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2em;
            }
            
            article {
                font-size: 1em;
            }
        }
        
        /* Post navigation */
        .post-navigation {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #e0e0e0;
            gap: 20px;
        }
        
        .post-navigation .nav-link {
            flex: 1;
            text-decoration: none;
            color: #2c3e50;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 5px;
            transition: background 0.2s;
        }
        
        .post-navigation .nav-link:hover {
            background: #e9ecef;
        }
        
        .post-navigation .nav-prev {
            text-align: right;
        }
        
        .post-navigation .nav-next {
            text-align: left;
        }
        
        .post-navigation .nav-label {
            font-size: 0.85em;
            color: #7f8c8d;
            display: block;
            margin-bottom: 5px;
        }
        
        .post-navigation .nav-title {
            font-weight: bold;
            font-size: 1.1em;
        }

    </style>
</head>
<body>
    <nav class="top-nav">
        <div class="nav-container">
            <a href="/new_blog/" class="site-title">לא מדויק</a>
            <div class="nav-links">
                <a href="/new_blog/">דף הבית</a>
                <a href="/new_blog/random.html">פוסט אקראי</a>
                <a href="/new_blog/post_list.html">כל הפוסטים</a>
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="חיפוש...">
                    <button onclick="searchPosts()">חפש</button>
                </div>
            </div>
        </div>
    </nav>
    
    
    <div class="container">
        <!-- Post Navigation -->
        
        <nav class="post-navigation">
            
            <a href="/new_blog/2016/05/16/surface_integral/" class="nav-link nav-prev">
                <span class="nav-label">פוסט ישן יותר →</span>
                <span class="nav-title">אינטגרל משטחי</span>
            </a>
            

            
            <a href="/new_blog/2016/06/29/infinite_primes_proofs/" class="nav-link nav-next">
                <span class="nav-label">← פוסט חדש יותר</span>
                <span class="nav-title">בואו נוכיח שיש אינסוף ראשוניים!</span>
            </a>
            
        </nav>
        
        
        <header>
            <h1>על מטבעות, שיקויים ובסיסי ספירה</h1>
            <div class="post-meta">
                <span class="date">2016-05-25</span>
                
                <span class="categories">
                    | קטגוריות:
                    
                    <a href="/categories/משחקים וחידות מתמטיות.html">משחקים וחידות מתמטיות</a>
                    
                </span>
                
                
                <span class="tags">
                    | תגיות:
                    
                    <a href="/tags/בסיסי ספירה.html">בסיסי ספירה</a>
                    
                    <a href="/tags/חידת בקבוקים.html">חידת בקבוקים</a>
                    
                    <a href="/tags/חידת שקילת מטבעות.html">חידת שקילת מטבעות</a>
                    
                </span>
                
            </div>
        </header>
        
        <article>
            <p>אני רוצה לתאר הפעם שתי חידות מפורסמות. הן לא קלות, אבל לשתיהן יש פתרון טריוויאלי וכמעט מיידי למי שמצויד בידע המתמטי הנכון, ולכן הן כל כך נחמדות. נתחיל מלהציג אותן; כתמיד, אני מזמין את כל מי שנקלע בטעות לפוסט הזה, אפילו אם הוא נטול ידע במתמטיקה לחלוטין, לנסות לפתור אותן - זה אפשרי גם בלי ידע קודם (למרות שכאמור, ידע קודם יכול לעזור) ועצם החשיבה על החידות יכולה להיות מעניינת בפני עצמה.</p>
<p>החידה הראשונה בניסוח שאני מכיר מערבת וזיר מרושע ובקבוק יין מורעל, אבל בואו ננסח אותה בגרסה יותר ידידותית לכל המשפחה: בבית ספר לקוסמים, בשיעור השיקויים, יש 10 תלמידים. המורה מחליט לתת לתלמידים אתגר: יש 1,000 בקבוקי שיקוי, אבל ב-999 מתוכם יש בסך הכל מים עם סוכר. בקבוק אחד מכיל שיקוי היעלמות. המורה אומר לתלמידים שיש להם שעה לגלות את הבקבוק עם שיקוי ההיעלמות ומסתלק מהכיתה. הבעיה המרכזית? שיקוי ההיעלמות לא מתחיל לפעול מייד - לוקחות לו 45 דקות להתחיל לפעול. אז אי אפשר סתם לקחת תלמיד מסכן אחד שיקח שלוק מכל בקבוק, יחכה רגע ויבדוק אם הוא נעלם או לא.</p>
<p>כמובן, יש כמה הנחות נדרשות כאן: בואו תניחו שהתלמידים יודעים לקחת שלוקים ממש מהר ושהם לא יקיאו אחרי הבקבוק השלישי, כלומר אפשר להניח שתוך חמש דקות כל תלמיד יכל לקחת שלוק מכל בקבוק שהוא רצה. נניח גם שיש מספיק שיקוי בכל בקבוק בשביל כל התלמידים. וההנחה העיקרית, כמובן, היא שהתלמידים לא יודעים לזהות את שיקוי ההיעלמות רק על פי הטעם/ריח/מראה וכדומה.</p>
<p>ובכן, מה יעשו התלמידים? אם 10 תלמידים ו-1,000 בקבוקים קשה לכם מדי, נסו את אותה החידה עם 20 תלמידים ו-100 בקבוקים; האתגר הוא דומה וגם הפתרון הוא דומה אבל אולי קצת יותר קל לעלות עליו למי שלא מכירים את המושג המתמטי הרלוונטי.</p>
<p>נעבור לחידה השניה. בחידה הזו יש 12 מטבעות שנראים כולם זהים לחלוטין, אבל אחד מהם הוא מזוייף. הוא שוקל קצת שונה מיתר המטבעות (יתר המטבעות שוקלים בדיוק את אותו המשקל). אנחנו לא יודעים אם המטבע המזוייף כבד יותר או פחות, ואין לנו מכשיר למדידה מדוייקת של משקל. מה שיש לנו הוא מאזניים, שמאפשרים לנו להשוות את המשקל של שתי קבוצות של מטבעות ולומר אם הן בעלות משקל זהה, או שהקבוצה הימנית כבדה יותר, או שהשמאלית כבדה יותר. מותר לנו לבצע בדיוק 3 שקילות, ואחריהן אנחנו צריכים לומר גם מהו המטבע המזוייף, ו<strong>גם</strong> האם הוא כבד יותר או קל יותר. איך עושים את זה?</p>
<p>גם על החידה הזו יש וריאציות פשוטות קצת יותר שכדאי להתחיל איתן. אפשר להתחיל מהאתגר של מציאת המטבע המזוייף מבלי שיהיה צורך לומר אם הוא כבד או קל יותר (זה כבר משמעותית יותר פשוט), ואפשר גם לפתור את החידה בהנחה שאנחנו כבר יודעים שהמטבע המזוייף קל יותר (זו גרסה די קלה, אבל עדיין דורשת מחשבה מצד מי שלא נתקל בדברים כאלו מעולם).</p>
<p>אלו החידות. בואו נצא להפסקה קצרה עם קומיקס לא קשור של xkcd, נחשוב איך פותרים אותן, ואז נחזור ונקלקל לעצמנו את הכיף עם הפתרונות.</p>
<p>[caption id="attachment_3342" align="aligncenter" width="348"]<a href="/new_blog/img/2016/05/background_screens.png" rel="attachment wp-att-3342"><img class="wp-image-3342 size-full" src="/new_blog/img/2016/05/background_screens.png" alt="No way, we gotta rewind and cross-reference this map with the list of coordinates we saw on the other screen. This Greenland thing could be big." width="348" height="481" /></a> http://xkcd.com/1451/[/caption]</p>
<p>את הרעיון שמאחורי הפתרון האלגנטי לשתי החידות הללו אפשר לתמצת למילים <strong>בסיס ספירה</strong>. בואו נראה קודם כל מה קורה בחידת שיקוי ההיעלמות. כדי לא להבריח מייד את הקהל הלא מתמטי שהגיע עד לכאן עם מילים כמו "בסיס בינארי", בואו נתחיל מלדבר על הוריאציה של 20 תלמידים ו-100 בקבוקים.</p>
<p>הרעיון הוא כזה: התלמידים מתחלקים לשתי קבוצות של 10 תלמידים כל אחת - קבוצת "ספרת האחדות" וקבוצת "ספרת העשרות". בכל קבוצה ממספרים את התלמידים מ-0 עד 9. אז יש לנו את התלמיד "ספרת אחדות 3" ואת התלמיד "ספרת עשרות 8" וכדומה. גם את הבקבוקים עצמם ממספרים מ-0 עד 99; כלומר, המספרים של הבקבוקים הם כל המספרים שניתן לכתוב באמצעות בדיוק שתי ספרות (אני אכתוב 00 במקום סתם 0, ו-04 במקום סתם 4 וכדומה).</p>
<p>עכשיו התלמידים מתחילים לשתות, על פי הכלל הבא: כל תלמיד "ספרת אחדות" שותה את כל הבקבוקים שספרת האחדות של המספר שלהם שווה למספר שלו. למשל, התלמיד "ספרת אחדות 3" שותה את הבקבוקים 03 ו-13 ו-23 וכן הלאה. בצורה דומה גם תלמידי "ספרת עשרות" שותים את הבקבוק עם ספרת העשרות המתאימה. למשל, התלמיד "ספרת עשרות 0" ישתה את הבקבוקים 0,1,2, וכן הלאה, והתלמיד "ספרת עשרות 6" ישתה את 60,61,62 וכן הלאה.</p>
<p>וכעת מחכים 45 דקות.</p>
<p>אחרי 45 דקות שיקוי ההיעלמות מתחיל לפעול, ומי ששתו מהבקבוק של שיקוי ההיעלמות, יעלמו. כמה תלמידים ייעלמו? בדיוק שניים - זה שמתאים לספרת העשרות, וזה שמתאים לספרת האחדות של הבקבוק. למשל, אם הבקבוק הוא מס' 13, אז התלמיד "ספרת אחדות 3" ייעלם, והתלמיד "ספרת עשרות 1" ייעלם, ואף אחד אחר לא. לכן, על ידי בחינת המספרים של התלמידים שנעלמו הם יוכלו לגלות בדיוק מה מספר הבקבוק של שיקוי ההיעלמות.</p>
<p>לטעמי זה פתרון ממש יפה. אבל הוא <strong>עוד יותר</strong> יפה בניסוח המקורי של החידה, עם 10 תלמידים ו-1,000 בקבוקים. אם הפתרון שהראיתי כרגע השתמש ב<strong>ייצוג עשרוני</strong> של מספרים ("ספרת אחדות" ו"ספרת עשרות"), הפתרון למקרה של 10 ו-1,000 משתמש ב<strong>ייצוג בינארי</strong> של מספרים. הנה הסבר קצרצר על מה זה ייצוג בינארי למי שלא מכיר. בואו נחשוב לרגע מה זה המספר 137 בייצוג עשרוני רגיל. זה המספר "1 כפול 100, ועוד 3 כפול 10, ועוד 7 כפול 1". כלומר, 137 הוא בעצם תיאור מקוצר של פעולת <strong>חיבור</strong>. ספרת המאות אומרת כמה פעמיים לחבר 100; ספרת העשרות אומרת כמה פעמים לחבר 10, וספרת האחדות אומרת כמה פעמים לחבר 1. המספרים הללו - 1, 10 ו-100, הם כולם חזקות של 10, וזה ממשיך ככה גם במספרים עם ייצוג גדול יותר (ספרת אלפים, ספרת עשרות-אלפים וכן הלאה).</p>
<p>ייצוג בינארי זה אותו דבר, רק עם חזקות של 2, וספרות שהן או 0 או 1. למשל, המספר 1011, שבייצוג עשרוני אנחנו חושבים עליו בתור "אלף ואחד-עשרה", בייצוג בינארי מתאר את המספר <span class="math">\(2^{0}+2^{1}+2^{3}=1+2+8=11\)</span>. שיטת הייצוג הזו נוחה מאוד לשימוש במחשבים (פחות או יותר כל מידע במחשבים מיוצג בצורה בינארית, כשיורדים לרמת הייצוג הבסיסית ביותר).</p>
<p>הרעיון של הפתרון כעת הוא זה: נמספר את הבקבוקים מ-0 ועד 999, ונכתוב את המספר של כל אחד מהם בייצוג בינארי בעזרת 10 ספרות. למשל, בקבוק מס' אחד-עשרה ייכתב בתור 0000001011. נמספר את התלמידים מ-1 עד 10 (הפעם בלי הפרדה בין "אחדות" ו"עשרות"). כעת, התלמיד מס' <span class="math">\(n\)</span> ישתה מכל הבקבוקים אשר כשכותבים את המספר שלהם בייצוג בינארי, הספרה ה-<span class="math">\(n\)</span>-ית בהם היא 1 (כשאני מתחיל את הספירה מ-1). כלומר, מבקבוק מס' אחד-עשרה ישתו התלמידים מספר 1, מספר 2 ומספר 4. אחרי שתלמידים יתחילו להיעלם אפשר יהיה לשחזר את הבקבוק הנכון על ידי כתיבת מספר בייצוג בינארי, שבו במקום ה-<span class="math">\(n\)</span> יש 0 אם התלמיד מספר <span class="math">\(n\)</span> לא נעלם, ו-1 אם הוא כן נעלם. הסיבה שהפתרון הזה עובד היא שבעזרת 10 ספרות בינאריות אפשר לייצג את כל המספרים מ-0 עד 1023; זו הסיבה לבחירת המספרים הספציפית שלנו.</p>
<p>נעבור עכשיו אל חידת המטבעות. אפשר לתת לחידה פתרונות שמבוססים על סדרה של שקילות ותנאים שונים ומשונים שקובעים, בהינתן תוצאת שקילה אחת, מה תהיה השקילה הבאה בתור, וכדומה. אלו פתרונות שדורשים מחשבה ויצירתיות והם אחלה לגמרי. אבל לתאר אותם זה מסורבל ומעייף ולא באמת מחכים. אני מאוד מציע לכם לנסות ולמצוא פתרון כזה ולכתוב אותו עד הסוףת כי אז אפשר להעריך הרבה יותר את האלגנטיות של מה שהולך לקרות עוד רגע.</p>
<p>אנחנו נראה פתרון שונה לגמרי מאלו של החלוקה למקרים. כזה שבו כל שלוש השקילות <strong>נקבעות מראש</strong>.</p>
<p>ראשית, אני רוצה לשכנע אתכם שלפחות תיאורטית, יכול להתקיים פתרון גם עבור 13 מטבעות, אבל עבור 14 מטבעות חד משמעית לא יכול להיות פתרון. דרך אחת לראות את זה היא באמצעות <strong>עץ החלטה</strong>, שהוא אמצעי תיאור פשוט של כל הריצות האפשריות של האלגוריתם של ביצוע השקילה. למי שמכיר את המושג הרלוונטי, תחשבו על עץ שכל צמתיו הפנימיים מתארים שקילה מסויימת, והעלים שלו מתארים תשובה מסויימת ("מטבע מס' 3 הוא המזוייף והוא קל יותר!"). מכל צומת פנימי בעץ יוצאות קשתות אל הצמתים שמתארים את השקילה הבאה בתור, או התשובה הסופית, בהינתן התוצאות השונות האפשריות של השקילה הנוכחית. לכל שקילה יש בדיוק 3 תוצאות אפשריות: "ימין כבד יותר" או "שמאל כבד יותר" או "שני הצדדים שווים". לכן דרגת היציאה של כל צומת פנימי בעץ היא 3, ומכיוון שאחרי שלושה צעדים אנחנו חיייבים להגיע לעלה (יש 3 שקילות) נקבל שיש לעץ הזה לכל היותר 27 עלים, כלומר 27 תשובות אפשריות שונות.</p>
<p>עכשיו, אם יש לנו 13 מטבעות, וכל מטבע יכול להיות המזוייף, ומזוייף יכול להיות קל יותר או כבד יותר, אז יש לנו 26 תוצאות אפשריות. עבור 14 מטבעות כבר היו 28 תוצאות אפשריות - יותר תשובות מאשר האלגוריתם שלנו מסוגל להחזיר, ולכן היה בהכרח קלט שעליו הוא היה טועה. זה, על קצה המזלג, למה המספרים כאן נבחרו להיות מה שהם.</p>
<p>בפועל המקרה של ה-13 מטבעות עדיין לא פתיר ואסביר למה (וגם מה צריך לתקן כדי שהוא יהיה פתיר), אבל בואו ונתחיל עם פתרון המקרה של ה-12 מטבעות. כאן נכנס לתמונה <strong>ייצוג טרינרי</strong> של מספרים, כלומר ייצוג בבסיס 3. המספר 102, למשל, הוא אחד-עשרה בבסיס 3 (<span class="math">\(2\cdot3^{0}+0\cdot3^{1}+1\cdot3^{2}\)</span>). הטריק יהיה במציאת ייצוג חכם של כל מטבע באמצעות מספר בין 0 ל-26. בואו נתחיל עם מספור נאיבי <strong>שאינו עובד</strong> ונראה איך לתקן אותו. במספור הנאיבי נמספר את 12 המטבעות מ-1 עד 12. עכשיו, אפשר לייצג כל פתרון אפשרי לבעיה באמצעות מספר בין 0 ל-26; נאמר שאם <span class="math">\(n\)</span> הוא בין 1 ו-12 אז <span class="math">\(n\)</span> מייצג את הפתרון "המטבע <span class="math">\(n\)</span> הוא המזוייף והוא קל יותר" ואם <span class="math">\(n\)</span> הוא בין 14 ל-25 נאמר שהוא מייצג את הפתרון "המטבע <span class="math">\(26-n\)</span> הוא המזוייף והוא כבד יותר". עוד מעט נבין למה המקרה השני מוזר כזה.</p>
<p>עכשיו, נייצג את התוצאה של <strong>כל שקילה</strong> באמצעות מספר: 0 פירושו יהיה "צד ימין קל יותר", 1 יהיה "שני הצדדים שווים" ו-2 יהיה "צד שמאל קל יותר". אחרי שביצענו שלוש שקילות, קיבלנו סדרה של שלוש תשובות, למשל <span class="math">\(102\)</span> (לקרוא מימין לשמאל!) מייצגת את הסדרה "בשקילה הראשונה צד שמאל היה קל יותר, בשקילה השניה צד ימין היה קל יותר ובשקילה האחרונה הם היו שווים".</p>
<p>מה שאנחנו רוצים הוא שסדרת התשובות תקודד בדיוק את התשובה הנכונה, על פי שיטת הקידוד שהצגתי. למשל, שסדרת התשובות 102 פירושה יהיה "המטבע המזוייף הוא מספר אחד-עשרה והוא קל יותר". נשאר רק להבין איך מארגנים את סדרת השקילות כך שזה יעבוד. מה שיפה הוא שזה קל עד להפתיע, עם דרך ההתבוננות שהצגתי כרגע.</p>
<p>בואו נחשוב לשניה על מטבע מס' אחד-עשרה. נניח שהוא המזוייף ושהוא באמת קל יותר, כלומר אנחנו <strong>רוצים</strong> שסדרת השקילות תניב לנו 102. זה מכתיב לנו באופן חד משמעי את השאלה איך המטבע הזה ישתתף בשקילות. בשקילה הראשונה אנחנו אמורים לקבל 2, כלומר צד שמאל קל יותר. זה אומר שהמטבע צריך להיות <strong>בצד שמאל</strong> של המאזניים. בשקילה השניה אנחנו אמורים לקבל 0, ולכן המטבע צריך להיות <strong>בצד ימין </strong>של המאזניים. בשקילה השלישית אנחנו אמורים לקבל 1, כלומר המאזניים צריכות להיות מאוזנות. זה אומר שהמטבע צריך <strong>לא להשתתף</strong> בשקילה. זה כל הסיפור.</p>
<p>"רגע אחד!" אתם אומרים. "אבל נניח שמטבע מס' אחד-עשרה היה <strong>כבד יותר</strong> ולא קל יותר! איך זה משוקלל לתוך החישוב שלך?"</p>
<p>זו שאלה מצויינת. כבר החלטתי מה יעלה בגורלו של מטבע אחד-עשרה רק על פי התרחיש שבו הוא קל יותר. בואו נראה מה יקרה אם הוא המזוייף והוא כבד יותר: השקילה הראשונה תניב לי 0 במקום 2; השקילה השניה עדיין תניב לי 1; והשקילה השלישית תניב לי 2 במקום 0. כלומר, אני אקבל את הסדרה <span class="math">\(120\)</span> שמייצגת את המספר חמש עשרה, שאצלנו מתפרש בתור "המטבע המזוייף הוא אחד עשרה והוא כבד יותר". באופן כללי, המספר שאני אקבל במקרה שהמטבע כבד יותר ולא קל יותר הוא המספר שמתאים למקרה של מטבע קל יותר, אחרי שאני הופך כל 0 ל-2 וכל 2 ל-0 ולא משנה את ה-1-ים. מבחינה מתמטית, הפעולה הזו שקולה לביצוע <strong>חיסור</strong> מהמספר 222, שהוא 26. זה מסביר את הבחירה שלי קודם לומר שפתרון מספר <span class="math">\(n\)</span>, כאשר <span class="math">\(n\)</span> הוא בין 14 ל-26, מייצג את "המטבע <span class="math">\(26-n\)</span> מזוייף והוא כבד יותר".</p>
<p>רגע, אז מה הבעיה? רואים אותה מייד אם טורחים לבצע את החישוב הזה לכל מטבע, ומקבלים את רשימת כל השקילות שיבוצעו. זה מה שמקבלים:</p>
<ul>
    <li>שקילה ראשונה: צד ימין <span class="math">\(\left\{ 3,6,9,12\right\} \)</span>, צד שמאל <span class="math">\(\left\{ 2,5,8,11\right\} \)</span></li>
    <li>שקילה שניה: צד ימין <span class="math">\(\left\{ 1,2,9,10,11\right\} \)</span> צד שמאל <span class="math">\(\left\{ 6,7,8\right\} \)</span></li>
    <li>שקילה שלישית: צד ימין <span class="math">\(\left\{ 1,2,3,4,5,6,7,8\right\} \)</span>, צד שמאל <span class="math">\(\left\{ \right\} \)</span></li>
</ul>
<p>משהו כאן בבירור משובש. הצרה היא שלא הכנסתי לתוך השיקולים שלי עד כה את הדרישה שבכל שקילה, <strong>תהיה אותה כמות מטבעות</strong> בשני צדי המאזניים. אנחנו רואים שבכל שלוש השקילות משתתפות 8 מטבעות, אבל המאזניים מאוד לא מאוזנים - רק בשקילה הראשונה יש 4 בכל צד. הפתרון לבעיה הזו יהיה להעביר חלק מהמטבעות צד. פורמלית זה אומר ש<strong>נשנה את הקידוד</strong> של המטבע. אם קודם המטבע מס' ארבע הייתה מיוצגת על ידי המספר הטרינרי <span class="math">\(011\)</span>, נחליף את הקידוד הזה עכשיו בהופכי שלו, וארבע יהיה מיוצג על ידי <span class="math">\(211\)</span>. הסיבה שבחרתי לקחת את ההופכי היא שזה מבטיח שלא יהיו לי התנגשויות - אף מטבע אחר לא קודד באמצעות 211. המשמעות של ההיפוך הזה היא שבכל שקילה שבה המטבע משתתף, אנחנו צריכים להעביר אותו לצד השני של המאזניים. בואו נעשה את ההיפוך הזה למספרים <span class="math">\(1,3,4,5\)</span>. נקבל את השקילות הבאות:</p>
<ul>
    <li>שקילה ראשונה: צד ימין <span class="math">\(\left\{ 5,6,9,12\right\} \)</span>, צד שמאל <span class="math">\(\left\{ 2,3,8,11\right\} \)</span></li>
    <li>שקילה שניה: צד ימין <span class="math">\(\left\{ 2,9,10,11\right\} \)</span> צד שמאל <span class="math">\(\left\{ 1,6,7,8\right\} \)</span></li>
    <li>שקילה שלישית: צד ימין <span class="math">\(\left\{ 2,6,7,8\right\} \)</span>, צד שמאל <span class="math">\(\left\{ 1,3,4,5\right\} \)</span></li>
</ul>
<p>כך שכל מטבע בין 1 ל-12 מקודד על ידי הייצוג הטרינרי שלו למעט 1,3,4,5 שמיוצגים בהתאמה על ידי <span class="math">\(221,212,211,210\)</span>.</p>
<p>בואו נראה איך זה עובד. נניח שבשקילה הראשונה צד ימין היה קל יותר, בשניה המאזניים היו שווים ובשלישית צד שמאל היה קל יותר. קיבלנו את הסדרה 210, שמתארת את התשובה "המטבע המזוייף הוא 5 והוא קל יותר". האם זה תואם את השקילות? אכן! בשקילה הראשונה 5 היה בצד ימין, בשניה הוא לא השתתף, ובשלישית הוא היה בצד שמאל. ונניח שקיבלנו את סדרת השקילות <span class="math">\(201\)</span>. אין מספר שמיוצג על ידה, אבל ההיפוך שלה <span class="math">\(021\)</span> מייצג את מטבע שבע, ולכן המשמעות של <span class="math">\(201\)</span> היא "שבע כבד יותר". ואכן, בשקילה הראשונה שבע לא משתתף (ולכן יש איזון - התוצאה 1), בשניה הוא בצד שמאל (ולכן צד ימין קל יותר - התוצאה 0) ובשלישית הוא בצד ימין. לא קשה לבדוק שזה עובד לכל תריסר המטבעות - מצאנו את השקילות שלנו.</p>
<p>בשביל להבין למה אין לנו סיכוי לקבל פתרון עבור 13 מטבעות צריך לחשוב יותר בקפידה על מה בעצם עושה שקילה. שקילה <strong>פוסלת אפשרויות</strong> היפותטיות. למשל, אם בשקילה הראשונה אצלנו צד ימין היה קל מדי, נפסלה האפשרות ש-<span class="math">\(5\)</span> (שהיה בצד ימין) הוא כבד; נפסלה האפשרות ש-<span class="math">\(2\)</span> (שהיה בצד שמאל) הוא קל; ונפסלה האפשרות ש-<span class="math">\(7\)</span> (שלא השתתף) הוא כבד מדי או קל מדי. בצורה הזו נפסלות 16 אפשרויות מתוך ה-24 הקיימות ואנו נותרים רק עם 8. לא קשה לראות שכל תוצאה אפשרית של השקילה הראשונה תשאיר אותנו רק עם 8 אפשרויות, וזה מצויין.</p>
<p>ומה קורה אם יש 13 מטבעות? כאן אנחנו מתחילים עם 26 אפשרויות, ולכן אנחנו בצרות צרורות - אם בשקילה הראשונה אצלנו המאזניים היו מאוזנות, אז פסלנו 16 אפשרויות (לכל 8 המטבעות שנשקלו, פסלנו את האפשרות שהן כבדות/קלות מדי), אבל נשארנו עם 10; תעלול עץ ההחלטה מקודם מראה שעם שתי שקילות אי אפשר לייצר 10 תשובות שונות.</p>
<p>תגידו, אולי נבצע שקילה אחרת בתור השקילה הראשונה. שקילה שמערבת <span class="math">\(k\)</span> מטבעות פוסלת <span class="math">\(2k\)</span> אפשרויות אם היה איזון, ולכן אנחנו צריכים ש-<span class="math">\(k\)</span> יהיה לפחות 9. מצד שני, אם אין איזון, אנחנו פוסלים בסך הכל <span class="math">\(k\)</span> אפשרויות עבור המטבעות שנשקלו, ועוד <span class="math">\(2\left(13-k\right)\)</span> אפשרויות עבור המטבעות שלא נשקלו, כלומר בסך הכל <span class="math">\(26-k\)</span> אפשרויות, מה שאומר שאנחנו נשארים עם <span class="math">\(k\)</span> אפשרויות. אם <span class="math">\(k\)</span> הוא לפחות 10 אז שוב - טיעון עץ ההחלטה מביס אותנו. המסקנה היא שהשקילה הראשונה חייבת לערב בדיוק 9 מטבעות. הבעיה היא שאין דרך לחלק 9 מטבעות על שני צדי המאזניים כך שהם יהיו מאוזנים...</p>
<p>אם כן, 3 שקילות לא מספיקות עבור 13 מטבעות. אבל כאמור, אם יהיה לנו מטבע אחד נוסף שאנחנו יודעים שהוא תקין, אפשר יהיה להשתמש בו כדי לאזן מאזניים לא מאוזנים, וזה יפתור לנו את הבעיה. הפתרון הוא פשוט הרחבה של הפתרון עבור 12 שהצגתי קודם. בפתרון עבור 12, לא השתמשתי ב-0 בתור מספר חוקי של מטבע - בואו נשתמש בו עכשיו. מכיוון ש-0 בייצוג טרינרי הוא 000, זה אומר שאת המטבע הזה נשים בצד ימין של המאזניים בכל שלוש השקילות; אם כן, את המטבע התקין, שאסמן בתור <span class="math">\(X\)</span>, צריך לשים תמיד בצד שמאל. קיבלנו את השקילות:</p>
<ul>
    <li>שקילה ראשונה: צד ימין <span class="math">\(\left\{ 0,5,6,9,12\right\} \)</span>, צד שמאל <span class="math">\(\left\{ X,2,3,8,11\right\} \)</span></li>
    <li>שקילה שניה: צד ימין <span class="math">\(\left\{ 0,2,9,10,11\right\} \)</span> צד שמאל <span class="math">\(\left\{ X,1,6,7,8\right\} \)</span></li>
    <li>שקילה שלישית: צד ימין <span class="math">\(\left\{ 0,2,6,7,8\right\} \)</span>, צד שמאל <span class="math">\(\left\{ X,1,3,4,5\right\} \)</span></li>
</ul>
<p>והפתרון זהה לקודם.</p>
<p>אם כן, ניצלנו 26 מתוך 27 המספרים שיכלנו. מי נשאר בחוץ? המספר 111, שאם היה מייצג מטבע, היה מכתיב לנו להשאיר את המטבע תמיד מחוץ לשקילות, וזה בוודאי לא סביר (כי אם לא שקלנו את המטבע מעולם, איך נדע אם הוא כבד או קל יותר?). אם תרצו, אפשר לחשוב על תוצאה של 111 (גם בשקילות עבור 12 וגם בשקילות עבור 13) כאילו היא אומרת לנו "אין מטבע מזוייף", כך שגם האפשרות הזו היא אינפורמטיבית עבורנו.</p>
<p>זה מסיים את שתי החידות הללו. האם קיימות להן הכללות? בוודאי. האם קיימות חידות נוספות שנפתרות עם בסיס ספירה? בוודאי. האם אני הולך לדבר עליהן בעתיד? אני שוקל את זה.</p>
        </article>
        
        <footer>
            <p>© כל הזכויות שמורות לגדי אלכסנדרוביץ'</p>
        </footer>
    </div>

    
    <script>
        function searchPosts() {
            const searchTerm = document.getElementById('searchInput').value;
            if (searchTerm.trim()) {
                window.location.href = '/new_blog/post_list.html?search=' + encodeURIComponent(searchTerm);
            }
        }
        
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchPosts();
            }
        });
    </script>
    
    
    <!-- Auto-render KaTeX math -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            renderMathInElement(document.body, {
                delimiters: [
                    {left: "\\[", right: "\\]", display: true},
                    {left: "\\(", right: "\\)", display: false}
                ],
                throwOnError: false
            });
        });
    </script>

</body>
</html>