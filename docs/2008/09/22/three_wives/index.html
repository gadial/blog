<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>מי שהיה נשוי שלוש נשים - לא מדויק</title>
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    
    <meta name="description" content="לא מדויק - בלוג על מתמטיקה ומדעי המחשב" />
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://gadial.net/2008/09/22/three_wives/">
    <meta property="og:title" content="מי שהיה נשוי שלוש נשים">
    <meta property="og:description" content="לא מדויק - בלוג על מתמטיקה ומדעי המחשב">
    <meta property="og:site_name" content="לא מדויק">
    

<meta property="og:image" content="http://gadial.net/img/main/default-card.png" />


        
    <!-- Twitter -->
    

<meta name="twitter:card" content="summary">


    <meta name="twitter:url" content="https://gadial.net/2008/09/22/three_wives/">
    <meta name="twitter:description" content="לא מדויק - בלוג על מתמטיקה ומדעי המחשב">
    <meta name="twitter:site" content="@" />
    <meta property="twitter:title" content="מי שהיה נשוי שלוש נשים">
    

<meta property="twitter:image" content="http://gadial.net/img/main/default-card.png" />


    
    <!-- RSS Feed -->
    <link rel="alternate" type="application/rss+xml" title="לא מדויק - RSS Feed" href="/feed.xml">
       
    
    <!-- KaTeX for math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>
    <link rel="stylesheet" href="/css/main.css">

    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', 'David', 'Tahoma', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
        }
        
        /* Top navigation bar */
        .top-nav {
            background: #2c3e50;
            padding: 15px 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .top-nav .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
        }
        
        .top-nav .site-title {
            font-size: 1.5em;
            font-weight: bold;
            color: white;
            text-decoration: none;
            white-space: nowrap;
        }
        
        .top-nav .nav-links {
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .top-nav .nav-links a {
            color: #ecf0f1;
            text-decoration: none;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background 0.2s;
            white-space: nowrap;
        }
        
        .top-nav .nav-links a:hover {
            background: #34495e;
        }
        
        .top-nav .search-box {
            display: flex;
            gap: 5px;
        }
        
        .top-nav .search-box input {
            padding: 5px 10px;
            border: none;
            border-radius: 4px;
            font-size: 0.9em;
            min-width: 150px;
        }
        
        .top-nav .search-box button {
            padding: 5px 15px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .top-nav .search-box button:hover {
            background: #2980b9;
        }
        
        /* Hamburger menu button */
        .menu-toggle {
            display: none;
            background: none;
            border: none;
            font-size: 1.8em;
            color: white;
            cursor: pointer;
            padding: 0;
            line-height: 1;
        }
        
        .menu-toggle:hover {
            opacity: 0.8;
        }
        
        /* Mobile responsive */
        @media (max-width: 768px) {
            .top-nav .nav-container {
                flex-direction: column;
                align-items: stretch;
            }
            
            .top-nav .site-title {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 0;
                padding: 10px 0;
            }
            
            .menu-toggle {
                display: block;
            }
            
            /* Hide nav links by default on mobile */
            .top-nav .nav-links {
                display: none;
                flex-direction: column;
                width: 100%;
                margin-top: 10px;
            }
            
            /* Show when expanded */
            .top-nav .nav-links.expanded {
                display: flex;
            }
            
            .top-nav .nav-links > a {
                text-align: center;
                padding: 12px;
                border-top: 1px solid rgba(255, 255, 255, 0.2);
            }
            
            .top-nav .search-box {
                width: 100%;
                flex-direction: column;
                margin-top: 10px;
                padding-top: 10px;
                border-top: 1px solid rgba(255, 255, 255, 0.2);
            }
            
            .top-nav .search-box input {
                width: 100%;
                margin-bottom: 5px;
                min-width: 0;
            }
            
            .top-nav .search-box button {
                width: 100%;
            }
        }
        
        /* Blockquote styling */
        blockquote {
            background: #f9f9f9;
            border-right: 5px solid #ccc;
            margin: 1.5em 10px;
            padding: 0.75em 16px;
            position: relative;
            font-style: italic;
        }
        
        blockquote:before {
            content: '"';
            position: absolute;
            top: -10px;
            right: 8px;
            font-size: 3.5em;
            color: #ccc;
            line-height: 1;
        }
        
        blockquote p {
            display: block;
            margin: 0 0 0.75em 0;
        }
        
        blockquote p:last-child {
            margin-bottom: 0;
        }
        
        
    </style>
</head>
<body>
    <nav class="top-nav">
        <div class="nav-container">
            <div class="site-title">
                <a href="/" style="color: white; text-decoration: none;">לא מדויק</a>
                <button class="menu-toggle" onclick="toggleMobileMenu()" aria-label="תפריט">
                    ☰
                </button>
            </div>
            <div class="nav-links" id="navLinks">
                <a href="/">דף הבית</a>
                <a href="/random.html">פוסט אקראי</a>
                <a href="/post_list.html">כל הפוסטים</a>
                <a href="/categories/">קטגוריות</a>
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="חיפוש...">
                    <button onclick="searchPosts()">חפש</button>
                </div>
            </div>
        </div>
    </nav>
    
    
    <div class="container">
        <!-- Post Navigation -->
        
        <nav class="post-navigation">
            
            <a href="/2008/09/08/blue_eyes_riddle/" class="nav-link nav-prev">
                <span class="nav-label">פוסט ישן יותר →</span>
                <span class="nav-title">עיניים כחולות</span>
            </a>
            

            
            <a href="/2008/09/29/planar_graphs/" class="nav-link nav-next">
                <span class="nav-label">← פוסט חדש יותר</span>
                <span class="nav-title">מים, חשמל וגז, והקשר שלהם לגרפים מישוריים</span>
            </a>
            
        </nav>
        
        
        <header>
            <h1>מי שהיה נשוי שלוש נשים</h1>
            <div class="post-meta">
                <span class="date">2008-09-22</span>
                
                <span class="categories">
                    | קטגוריות:
                    
                    <a href="/categories/משחקים וחידות מתמטיות.html">משחקים וחידות מתמטיות</a>
                    
                    <a href="/categories/תורת המשחקים.html">תורת המשחקים</a>
                    
                </span>
                
                
            </div>
        </header>
        
        <article>
            <p>הפעם אני רוצה לדבר על בעיה מתמטית חביבה שצצה במקום שנראה בלתי קשור בעליל - בתלמוד, במה שנראה לכאורה בתור דאגה לנשותיו של פוליגמיסט.</p>
<p>מקור החידה הוא ב<a href="http://kodesh.snunit.k12.il/b/l/l3210_093a.htm">משנה במסכת כתובות</a> (י', ד'), שאומרת כך:</p>
<p>"מי שהיה נשוי שלש נשים ומת, כתובתה של זו מנה ושל זו מאתים ושל זו שלש מאות ואין שם (בעיזבונו) אלא מנה - חולקין בשוה; היו שם מאתים - של מנה נוטלת חמשים, של מאתים ושל שלש מאות שלשה שלשה של זהב; היו שם שלש מאות - של מנה נוטלת חמשים ושל מאתים מנה ושל שלש מאות ששה של זהב. וכן שלושה שהטילו לכיס (השקיעו בשותפות) - הותירו או פחתו, כך הן חולקין"</p>
<p>"מנה" כאן הוא 100, כך שהמשנה, בתרגום לעברית (כמו <a href="http://www.haaretz.co.il/misc/1.1347443">תרגום התנ"ך לעברית</a> המתרגש ובא עלינו) הוא זה: אם יש לנו שלושה נושים, שהדרישות שלהם הם ל-100, 200 ו-300 ש"ח, ואין מספיק כסף כדי לשלם להם את מלוא הסכום, מבדילים בין שלושה מקרים אפשריים: אם יש רק 100 ש"ח, מחלקים את הסכום שווה בשווה בין כולם; אם יש 200, הרי שנותנים 50 לזה שדורש 100, ו-75 לשני האחרים; ואם יש 300, אז נותנים 50 לראשון, 100 לשני ו-150 לשלישי. במקרה הזה הנושים הן נשים, אבל כל העסק תקף באופן כללי למקרי פשיטת רגל שכאלו, שבהם צריך לחלק רכוש חלקי בין הנושים.</p>
<p>תמיד פשוט לסכם את הכלל המדובר בטבלה, אז הנה היא:</p>
<table border="1">
<tbody>
<tr>
<td></td>
<td></td>
<td colspan="3" align="center" bgcolor="yellow"><strong>הכתובה</strong></td>
</tr>
<tr>
<td></td>
<td></td>
<td align="center" bgcolor="yellow">100</td>
<td align="center" bgcolor="yellow">200</td>
<td align="center" bgcolor="yellow">300</td>
</tr>
<tr>
<td rowspan="3" bgcolor="yellow"><strong>גודל העיזבון</strong></td>
<td bgcolor="yellow">100</td>
<td><img class="tex" src="http://upload.wikimedia.org/math/8/6/8/86847f0ec9984b8f9744b7b9a3e93518.png" alt="\ 33 \frac{1}{3}" /></td>
<td><img class="tex" src="http://upload.wikimedia.org/math/8/6/8/86847f0ec9984b8f9744b7b9a3e93518.png" alt="\ 33 \frac{1}{3}" /></td>
<td><img class="tex" src="http://upload.wikimedia.org/math/8/6/8/86847f0ec9984b8f9744b7b9a3e93518.png" alt="\ 33 \frac{1}{3}" /></td>
</tr>
<tr>
<td bgcolor="yellow">200</td>
<td><img class="tex" src="http://upload.wikimedia.org/math/6/3/3/63380a3a278dc7c8b24e4ece1752a097.png" alt="\ 50 " /></td>
<td><img class="tex" src="http://upload.wikimedia.org/math/f/9/5/f9505397e2a1a5a23303bb1ed51a8d19.png" alt="\ 75" /></td>
<td><img class="tex" src="http://upload.wikimedia.org/math/f/9/5/f9505397e2a1a5a23303bb1ed51a8d19.png" alt="\ 75" /></td>
</tr>
<tr>
<td bgcolor="yellow">300</td>
<td><img class="tex" src="http://upload.wikimedia.org/math/6/3/3/63380a3a278dc7c8b24e4ece1752a097.png" alt="\ 50 " /></td>
<td><img class="tex" src="http://upload.wikimedia.org/math/7/f/3/7f3b82c6b3bdf44814a70bc3d2114308.png" alt="\ 100" /></td>
<td><img class="tex" src="http://upload.wikimedia.org/math/6/a/9/6a95c7c222f08619aaf65d652e0504fd.png" alt="\ 150" /></td>
</tr>
</tbody>
</table>
<p>(הטבלה מועתקת בזדון מ<a href="http://he.wikipedia.org/wiki/%D7%9E%D7%99_%D7%A9%D7%94%D7%99%D7%94_%D7%A0%D7%A9%D7%95%D7%99_%D7%A9%D7%9C%D7%95%D7%A9_%D7%A0%D7%A9%D7%99%D7%9D">ויקיפדיה</a>, אבל מותר לי כי אני כתבתי אותה במקור)</p>
<p>לכאורה מדובר בבעיה סגורה - נתנו לנו בדיוק את הכלל שלפיו יש לנהוג, וגמרנו. אלא שכמובן, אנחנו רוצים לדעת מה לעשות גם במקרים שבהם גודל העיזבון הוא לא 100, 200 או 300, אלא בכל מקרה אפשרי. לכן צריך להתבונן בטבלה ולהסיק את הכלל שלפיו היא נוצרה - דהיינו, כלל שיתאים לכל שלושת המקרים. כאן נוצרת לנו בעיה.</p>
<p>השורה הראשונה מציגה שיטת חלוקה שנשמעת הגיונית - שווה בשווה. זה בא למנוע מצב לא הוגן שבו בגלל שיש נושה שטוען לחוב עצום, הנושים האחרים יקבלו רק פרוטות - כלומר, זה הפתרון שמנסה להתחשב בכמה שיותר נושים. גם הפתרון השלישי נשמע הגיוני - חלוקה יחסית, כשכל נושה מקבל מהעיזבון סכום שחלקו מהעיזבון הכולל הוא כמו החלק של הנושה מהחוב הכולל (אם חצי מהחוב הוא שלך, תקבל חצי מהעיזבון). לעומת זאת, בשורה השנייה כלל לא ברור ההיגיון - למה דופקים את זה בעל החוב הקטן ביותר, בעוד ששני האחרים מתחלקים שווה בשווה? מה ההגיון כאן? האם יש הגיון?</p>
<p>ובכן, אין לי שמץ של מושג בתלמוד, אבל כששמעתי על העסק הזה בהרצאה של <a href="http://he.wikipedia.org/wiki/%D7%99%D7%A9%D7%A8%D7%90%D7%9C_%D7%90%D7%95%D7%9E%D7%9F">ישראל אומן</a>, שאני מניח שמבין קצת יותר ממני (אם כי הוא הזהיר מראש שגם ההבנה שלו מוגבלת), הצלחתי להבין שלמרות שפרשני התלמוד ניסו להסביר את העניין הזה, הם לא ממש הצליחו, ובסופו של דבר דחו את השיטה המוזרה והעדיפו חלוקה שווה בשווה, וזהו.</p>
<p>קדימה למאה ה-20. אי שם בשליש הראשון של המאה ה-20 ממציא <a href="http://he.wikipedia.org/wiki/%D7%92%27%D7%95%D7%9F_%D7%A4%D7%95%D7%9F_%D7%A0%D7%95%D7%99%D7%9E%D7%9F">ג'ון פון-נוימן</a>, מחשובי המתמטיקאים של המאה, את <a href="http://he.wikipedia.org/wiki/%D7%AA%D7%95%D7%A8%D7%AA_%D7%94%D7%9E%D7%A9%D7%97%D7%A7%D7%99%D7%9D">תורת המשחקים</a> (בהתבסס, כמובן, גם על עבודות קודמות של מתמטיקאים אחרים). תורת המשחקים חוקרת בין היתר סיטואציות כאלו, של חלוקות; באופן כללי יותר היא מתעסקת ב<a href="http://he.wikipedia.org/wiki/%D7%9E%D7%A9%D7%97%D7%A7_%D7%A9%D7%99%D7%AA%D7%95%D7%A4%D7%99">משחקים שבהם יש שיתוף פעולה בין קבוצות של שחקנים</a>, ובשאלה איך "הוגן" לחלק את הרווחים שהקבוצות יפיקו משיתופי הפעולה הללו. שתי דוגמאות קלאסיות, שאותן יצא לי ללמוד (ורק אותן אני ממש מכיר) הן ה"<a href="http://he.wikipedia.org/wiki/%D7%9C%D7%99%D7%91%D7%94_%D7%A9%D7%9C_%D7%9E%D7%A9%D7%97%D7%A7_%D7%A9%D7%99%D7%AA%D7%95%D7%A4%D7%99">ליבה</a>" של המשחק, ו<a href="http://he.wikipedia.org/wiki/%D7%A2%D7%A8%D7%9A_%D7%A9%D7%A4%D7%9C%D7%99">ערך שפלי</a> (על שם המתמטיקאי לויד שפלי) שלו. אלו שתי דרכים שונות להגדיר את החלוקה ה"הוגנת" של הרווחים, ומכאן כבר ברור שאין דרך יחידה שהיא נכונה או מוצדקת; יש פשוט גישות שונות, שדורשות אקסיומות שונות. האקסיומות של ערך שפלי, למשל, נשמעות פשוטות וטבעיות - שכל הרווחים יתחלקו בין השחקנים, ששחקן שהוספתו לקבוצה לא תורמת רווח שהשחקן לא מרוויח ממילא לא יקבל יותר מאשר הרווח הזה, וכו'; ארבע האקסיומות שלו מספיקות כדי להבטיח שהוא תמיד יהיה קיים, ותמיד יהיה יחיד ("ערך" כאן הוא שם טיפה מבלבל; ערך שפלי הוא <strong>חלוקה</strong> לשחקנים של מה שכל השחקנים יכולים להשיג אם ישתפו פעולה). בין כל מושגי הפתרון השונים נמצא גם מושג בשם "גרעינון" (<a href="http://en.wikipedia.org/wiki/Cooperative_game#The_nucleolus">nucleolus</a>), שבקרוב נחזור אליו.</p>
<p>הלאה, לשנות השמונים. ישראל אומן הוא כבר מתמטיקאי ותיק ומכובד, בעל רקורד מרשים בתורת המשחקים (שיזכה אותו יום אחד גם בפרס נובל). הוא יכול להרשות לעצמו "להשתעשע" (לא שאני רומז, חלילה, שחוקרים ללא רקורד לא יכולים או צריכים לעשות זאת). הוא ובנו שלמה (שנפל לאחר מכן במלחמת לבנון הראשונה) מנהלים דיון על מאמר של ברי א'וניל שעוסק בבעיות אחרות מהתלמוד שרלוונטיות לתורת המשחקים, ושלמה מספר לישראל על עניין מי שהיה נשוי לשלוש נשים. אומן מתלהב, מנסה לפתור את החידה יחד עם עמיתו מיכאל משלר (שנפטר לפני מספר חודשים), וביחד הם מגלים כי מושג הגרעינון המדובר מתאים בדיוק לפתרון שהתלמוד מציע. כאן אני צריך להתערב ולהסביר איך, בדיוק, אבל איני יודע; אני צריך לרענן את הידע שלי בתורת המשחקים (וללמוד את המושג הזה, שאיני מכיר) כדי לענות במדוייק על השאלה. אולי מישהו יסביר זאת בתגובות, ואולי אחזיר את החוב בפוסט מאוחר יותר.</p>
<p>ובכן, טוב ויפה. אבל מי שהמציא את המשנה הזו כנראה לא חשב על מושג הגרעינון, שמוגדר בצורה מתמטית פורמלית ואבסטרקטית למדי. השאלה היא, אם כן, האם ניתן לתאר את הכלל המנחה בעזרת מונחים שמתקשרים למשנה? שהגיוני שעליהם חשבו בעת המצאת המשנה? כעת, משאומן ומשלר ידעו מה הם בעצם מחפשים - מה הכלל המנחה במקרה הכללי - כנראה שהחיפוש הפך לקל יותר (או לפחות כך אומן אמר), והתשובה התגלתה בשיטת חלוקה תלמודית אחרת - "<a href="http://he.wikipedia.org/wiki/%D7%A9%D7%A0%D7%99%D7%99%D7%9D_%D7%90%D7%95%D7%97%D7%96%D7%99%D7%9F_%D7%91%D7%98%D7%9C%D7%99%D7%AA">שניים אוחזין</a>".</p>
<p>גם לשניים אוחזין, שבמסכת בבא מציעא, יש ציטוט:</p>
<p>"שנים אוחזין בטלית... זה אומר: כולה שלי. וזה אומר: חציה שלי... זה נוטל שלשה חלקים, וזה נוטל רביע"</p>
<p>מדובר בשיטה מחוכמת למדי, לטעמי. אם ננסח את הסיטואציה של שניים אוחזין בעזרת הניסוח הכללי שלנו, יש לנו שני נושים, עיזבון של 100 ש"ח, והנושים דורשים 50 האחד, והשני דורש 100. אם כן, אין מספיק כסף כדי לחלק לשניהם את הכל. אפשר כמובן להפעיל את שתי שיטות החלוקה שאנו מכירים - חלוקה שווה בשווה תותיר את דורש ה-50 מאושר, עם כל החוב שהוא רצה לקבל; חלוקה "יחסית" תיתן 66.67 ש"ח לנושה של ה-100 ש"ח,ו-33.33 ש"ח לנושה של ה-50 ש"ח. כלומר, השיטה שמציעים בשניים אוחזין לא זהה לאף אחת משתי השיטות הללו. מתבקש לשאול "אם כן, מה השיטה הנכונה?" אבל שוב חשוב להזכיר שאין שיטה נכונה אחת, כל עוד לא החלטנו מה אנחנו רוצים לדרוש מהשיטה.</p>
<p>אם כן, מה ההגיון בשניים אוחזין לפיו זה שדורש 50 יקבל 25, וזה שדורש 100 יקבל 75? הרעיון הוא לבצע חלוקה שווה בשווה, אבל לא של כל הסכום; רק של החלק <strong>השנוי במחלוקת</strong>. הרי זה שדורש 50 בעצם אומר לנושה השניה "אני מסכים ש-50 ש"ח שייכים לך, אני רוצה רק את ה-50 הנותרים". אם כן, ניתן 50 לנושה של ה-100; וכעת את ה-50 שנותרו נחלק שווה בשווה, כך שכל אחד יקבל עוד 25. הנושה של ה-50 יקבל 25, והנושה של ה-100 יקבל 75. שיטה מעניינת ונאה, לטעמי.</p>
<p>מה שאומן ומשלר שמו אליו לב הוא ששיטת "מי שהיה נשוי" היא בעצם הכללה של שניים אוחזין למקרה שבו יש יותר משני שחקנים. כמובן, המושג "הכללה" אינו מוגדר היטב ואפשר לחשוב על כמה דרכים שונות להכליל את השיטה הזו. המובן המדוייק של "הכללה" כאן הוא זה: אומן ומשלר קוראים לחלוקה (של עיזבון למספר כלשהו של נושים) "תואמת שניים אוחזין" אם היא מקיימת את התכונה הבאה - לכל זוג שחקנים, אם ניתן לכל <strong>שאר</strong> השחקנים את הסכום שהחלוקה נותנת להם ונחלק את מה שנשאר בין הזוג על פי "שניים אוחזין", הרי שהחלוקה ששניים אוחזין תיתן תהיה זהה למה שהם אכן מקבלים בחלוקה המקורית.</p>
<p>מבלבל? בוודאי. לכן מסתכלים על דוגמאות. ניקח את המקרה שבו מחלקים 200 על פי הכלל המוזר שבטבלה. נניח שבעל החוב של ה-300 ש"ח התרצה, לקח את ה-75 ש"ח שלו ונעלם אל עבר השקיעה. נותרנו עם 125 ש"ח, ואז פתאום מתחילים שני בעלי החוב האחרים ללכת מכות. הם לא מוכנים לקבל את ההסדר המקורי - בפרט, זה שמקבל 50 מתאונן - ורוצים הסדר חדש. שניהם מסכימים ש"שניים אוחזין" זו השיטה הנכונה לחלק בה את הכסף. אם כן, אנחנו מחלקים ביניהם 125 ש"ח, כשאחד רוצה 100 והשני רוצה 200. כלומר, הסכום השנוי במחלוקת הוא 100, והנושה הראשון מוותר לשני מראש על 25 ש"ח; את ה-100 ש"ח השנויים במחלוקת הם מחלקים שווה בשווה. הנושה הראשון מקבל 50, והשני מקבל 75. הם מקבלים בדיוק את הסכום שבמקור רצינו לתת להם - כלומר, לא הייתה שום סיבה שהם יתחילו ללכת מכות, ופתאום החלוקה הלא הוגנת נראית קצת יותר הגיונית.</p>
<p>טיפלנו כאן רק בזוג שחקנים אחד - זה של ה-100 וזה של ה-200 נניח שדווקא זה של ה-100 התרצה, לקח את ה-50 שלו והלך. נותרו זה של ה-200 וזה של ה-300, ויש לנו רק 150 לחלק להם - כלומר, כל הסכום שנוי במחלוקת, ולכן הם חייבים לחלק אותו שווה בשווה. אם כן גם הזוג הזה "בסדר", וקל לראות שגם הזוג השלישי "בסדר", ושכל הטבלה גם כן בסדר ומקיימת את הכלל. לכן הכלל המקסים הזה, שהוא הכללה פשוטה של כלל שכבר קיים בתלמוד, נותן לנו קריטריון אחיד שמייצר את הטבלה כולה - ויותר מכך, ניתן להכללה לכל קבוצה של נושים וחובות.</p>
<p>כמובן, לא ברור אם מי שכתב את המשנה התכוון לפתרון הזה (שכזכור, מתאים גם לגרעינון, אבל בוודאי זה לא מה שעבר לכותב המשנה בראש); אבל חייבים להודות שזה משכנע למדי, וכנראה יהיה הדבר הקרוב ביותר לפתרון שהחידה הזו תזכה לו אי פעם (ניתן לראות את המאמר המקורי של אומן ומשלר, בקובץ PDF, <a href="http://www.ma.huji.ac.il/~raumann/pdf/45.pdf">כאן</a>).</p>
<p>נותרנו רק עם בעיה אחת - הצלחנו להגדיר מתי חלוקה היא "תואמת שניים אוחזין", אבל לא הראנו איך מוצאים אותה, או אם תמיד קיימת כזו. אומן ומשלר הוכיחו שהיא תמיד קיימת ויחידה והציעו אלגוריתם שמוצא אותה, אבל אני רוצה להציג כאן דווקא הוכחה מאוחרת יותר של מרק קמינסקי, שאומן הראה בהרצאתו, תוך מתן קרדיט מתאים לממציא. אני סבור שההוכחה פשוט יפהפיה, אחת ההוכחות המתמטיות המקסימות ביותר שנתקלתי בהן מעודי. במקום לנסות לנמק מדוע, הנה הרעיון הבסיסי: <a href="http://he.wikipedia.org/wiki/%D7%97%D7%95%D7%A7_%D7%9B%D7%9C%D7%99%D7%9D_%D7%A9%D7%9C%D7%95%D7%91%D7%99%D7%9D">חוק הכלים השלובים</a>.</p>
<p>חוק הכלים השלובים הוא חוק פיזיקלי, שמתבסס על הרעיון המתמטי יחסית של "שאיפה למינימום אנרגיה" של מערכות בטבע (כי ככל שיש במערכת פחות אנרגיה, כך היא יותר יציבה. בערך). הוא עוסק במצב שבו יש לנו מספר כלים המכילים נוזל, ומחוברים זה לזה באופן שמאפשר לנוזל לנוע בחופשיות. במצב שכזה, גובה פני המים בכל הכלים יהיה שווה (לא במדוייק, כמובן; כמו כל דבר בטבע, מה שיקרה הוא רק שנראה שהנוזל "שואף" למצב הזה). הנה תמונה שממחישה מה קורה במציאות:</p>
<p><img src="http://upload.wikimedia.org/wikipedia/he/2/22/Kelim-shluvim.jpg" alt="" width="179" height="194" /></p>
<p>מה לחוק פיזיקלי ולמתמטיקה? ישירות, כלום; בפועל, החוק משמש כאמצעי לשיפור ההבנה של ההוכחה. הרעיון הבסיסי הוא לייצג את החוב של כל נושה בתור כלי שנפחו הוא בדיוק כגודל החוב ובנוי בצורה מחוכמת שתכף אסביר, לייצג את העיזבון בתור נוזל, לחבר את הכלים של כל הנושים יחדיו, לשפוך את הנוזל לתוך הכלים ולתת לחוק הכלים השלובים לעשות את שלו - אחרי שיישפך כל הנוזל, אפשר יהיה לנתק את כל הכלים זה מזה, וכמות הנוזל שבכל כלי תהיה בדיוק כמות הכסף שמגיעה לאותו בעל חוב.</p>
<p>הנה המחשה של העניין, שוב מויקיפדיה העברית (ושוב, אני מרשה לעצמי כי אני יצרתי את התמונות הללו):</p>
<p><img src="http://upload.wikimedia.org/wikipedia/he/7/77/ThreeWives1.png" alt="" /></p>
<p>בתמונה הזו יש לנו שני נושים, ואפשר לראות את המבנה המוזר של הכלים שלהם. כל כלי מורכב משני חלקים בעלי נפח זהה, בצורה כזו ששני החלקים התחתונים מתחילים מאותו גובה, ושני החלקים העליונים מסתיימים באותו גובה. מקפידים על כך שהרוחב של כל כלי יהיה זהה, כך שההבדלים היחידים הם באורכים של שני חלקי כל כלי. בין החלק התחתון לעליון בכל כלי מחברת צינורית דקה שמאפשר מעבר נוזל אבל כמות הנוזל שנמצאת בתוכה היא אפסית.</p>
<p>אם כן, החלק התחתון של כל כלי מסמל מחצית מן הדרישה של בעל החוב, והחלק העליון מסמל את החצי השני. כעת, אם העסק באמת עובד כפי שהוא אמור לעבוד, הרי שכשנשפוך פנימה חוב, נקבל חלוקה שהיא בדיוק על פי "שניים אוחזין". האמנם?</p>
<p>אומן מפריד בין שלושה מקרים. ראשית, ייתכן שיש מעט מדי נוזל ואפילו החלק התחתון של שני הכלים לא יתמלא. במקרה הזה מה שקיבלנו הוא חלוקה שווה בשווה של החוב. האם זה גם מה שהיה צריך להתקיים? כן, בתנאי שכמות הנוזל הכוללת (בשני הכלים גם יחד) אינה עולה על קיבולת הכלי הקטן יותר - במילים אחרות, גודל העיזבון כולו אינו גדול אפילו מהדרישה של הנושה הראשון, ולכן כל הסכום שנוי במחלוקת. די ברור שזו אכן הסיטואציה כאן, כי כמות הנוזל הכוללת בשני הכלים תהיה שווה לדרישה של הנושה הראשון בדיוק ברגע שבו כמות הנוזל בכלי שלו תהיה שווה לחצי מהדרישה שלו - כלומר, כשרק החלק התחתון של הכלי יתמלא.</p>
<p>ומה קורה כשמוזים נוזל כך שהחלק התחתון של אחד הכלים מתמלא? כאן יש לנו שתי אפשרויות - או שגם החלק התחתון של הכלי השני יתמלא, או שלא. הנה שתי האפשרויות:</p>
<p><img src="http://upload.wikimedia.org/wikipedia/he/8/82/ThreeWives2.png" alt="" width="344" height="202" /></p>
<p>בכל אחד משני המקרים הללו קורה אותו הדבר בדיוק - בעל הכלי הגדול יותר מקבל את <strong>כל</strong> הנוזל הנוסף. האם זה גם מה שהיה צריך לקרות? כן, כי "חלוקה שווה של הסכום השנוי במחלוקת" כבר בוצעה בדיוק עד שהתמלא חלקו הראשון של הכלי הקטן יותר; מכאן והלאה שאר הנוזל אינו שנוי במחלוקת, ולכן מגיע לבעל הכלי הגדול יותר.</p>
<p>ומה המקרה השלישי? המקרה שבו פני הנוזל עולים כל כך הרבה שגם חלקו העליון של הכלי הקטן יותר מתחיל להתמלא:</p>
<p><img src="http://upload.wikimedia.org/wikipedia/he/4/49/ThreeWives3.png" alt="" width="177" height="195" /></p>
<p>זה קצת מבלבל. מה זה בא לתאר? למה שגם בעל הכלי הקטן יקבל כסף? הרי חשבנו שכבר טיפלנו בכל הסכום השנוי במחלוקת!</p>
<p>בואו נחשוב לרגע מה קורה כשגובה הנוזל הוא כזה שהחלק העליון בכלי הקטן טרם התחיל להתמלא, אבל עוד טיפה ויתמלא. הכלי האחר מלא כמעט לגמרי; מה טרם התמלא בו? רק החלק העליון ביותר, ששווה בנפחו בדיוק לחלק העליון בכלי הקטן. אם כן, מהי כמות הנוזל הכללית שנשפכה עד עתה? בדיוק מה שיש בכלי הגדול ועוד מה שיש בכלי הקטן, בחלקו התחתון; אבל מה שיש בחלקו התחתון שווה בנפחו לחלקו העליון, כלומר למה שעוד נשאר לכלי הגדול עד שיתמלא לגמרי. בקיצור (ולא חשוב אם לא הבנתם את הנימוק) - אנחנו מגיעים לסיטואציה השלישית כאשר העיזבון גדול משתי הדרישות של הנושים. זו סיטואציה חדשה עבורנו; עד כה חשבנו על מקרים שבהם אחד הנושים אמר על הטלית "כולה שלי", והנה סיטואציה שבה שני הנושים מסכימים שיש חלק בטלית ש"לא מגיע להם". מצד שני, עדיין אין מספיק נוזל כדי למלא את הכלים של שניהם גם יחד, ולכן כל הנוזל צריך להתחלק איכשהו ביניהם - אבל איך?</p>
<p>הרעיון הוא שכל אחד יוותר לשני קצת. נניח שיש לנו שני בעלי חוב, אחד של 100 ש"ח והשני של 150 ש"ח, ושיש 200 ש"ח לחלק לשניהם. אז הראשון מוותר לשני על 100 ש"ח, והשני מוותר לראשון על 50 ש"ח; המריבה נותרת רק על 50 השקלים הנותרים, שיתחלקו שווה בשווה. כרגיל, תמונה אחת מסבירה הכי טוב:</p>
<p><img src="http://upload.wikimedia.org/wikipedia/he/5/5b/ThreeWives5.png" alt="" /></p>
<p>הקו האדום מייצג את ה-100 ש"ח של נושה מס' 1, והכחול את ה-150 ש"ח של נושה מס' 2; החלק האמצעי הוא זה של הסכום השנוי במחלוקת. החלק השנוי במחלוקת מתחלק שווה בשווה, ולכן ההפרש בין הסכום שנושה מס' 2 יקבל והסכום שנושה מס' 1 יקבל הוא בדיוק ההפרש בין הסכום שעליו נושה מס' 1 ויתר, והסכום שעליו נושה מס' 2 ויתר. נסו להבהיר לעצמכם למה (ומה לעזאזל אמרתי כאן) - זה דורש חישוב קצר.</p>
<p>אומן ניסח את התכונה הזו יותר באלגנטיות: "ההפרש בין הכתובות הוא ההפרש בין המנות", או בתרגום לשפת הנושים והחובות - ההפרש בין החובות יהיה גם ההפרש בין הכסף שכל אחד יקבל. זה הכלל שמנחה את החלוקה במקרה הזה, ואם נחזור לכלים השלובים, נראה שזו בדיוק התכונה שהם מקיימים. ברור לנו שבכלי הגדול יש יותר נוזל מאשר בכלי הקטן, אבל כמה יותר? בדיוק כנפח החלק של הכלי הגדול שהוא רחב בזמן שבכלי הקטן יש באותו גובה רק את הצינורית הדקיקה. כל החלק הזה שווה בגודלו להפרש שבין הנפחים של הכלים - כלומר, של החובות - ומכיוון שכמות הנוזל שהם קיבלו בשאר חלקי הכלים שלהם זהה, זה יהיה גם ההפרש בין המנות שהם יקבלו.</p>
<p>אם כן, הכלים השלובים מקיימים את "שניים אוחזין" לכל זוג כלים נפרד, אבל איך זה מוביל למקרה הכללי? כאן מגיע החלק היפה ביותר - זה מגיע באופן מיידי. הנה דוגמה לסיטואציה שבה יש ארבעה בעלי חוב:</p>
<p><img src="http://upload.wikimedia.org/wikipedia/he/3/30/ThreeWives4.png" alt="" width="344" height="202" /></p>
<p>הנוזל נשפך לכלים והתאזן על פי שניים אוחזין; כעת, מדוע החלוקה הזו היא תואמת שניים אוחזין? כי אם ננתק את כל הכלים פרט לשניים, גובה פני הנוזל לא ישתנה - וכבר ראינו שעבור כל זוג, אכן מתקיימת תכונת שניים אוחזין. זהו, זה הכל.</p>
<p>אם כן, אלגוריתם שמחשב את החלוקה פשוט יבצע סימולציה של שפיכת הנוזל לכלים. מכיוון ששפיכת הנוזל היא תהליך רציף, ואילו המחשב מבצע חישובים בדידים, האלגוריתם יתקדם בקפיצות; קודם הוא יקפוץ מהמצב שבו כל הכלים ריקים למצב שבו נשפך לכלים נוזל כך שחלקו התחתון של הכלי הקטן ביותר התמלא - עד אז, כולם קיבלו בדיוק אותה כמות. כעת הוא ימשיך לחלק את הכמות שנותרה מהעיזבון בין כל השחקנים פרט לזה עם הכלי הקטן ביותר, עד שעוד חלק תחתון יתמלא, וכן הלאה וכן הלאה. אחרי שכל הכלים התחתונים יתמלאו, הרי שהעיזבון הוא לפחות כגודל חצי מהדרישות; לכן במקרה כזה אפשר פשוט "להתחיל מהסוף" - בסיטואציה שבה כל הכלים מלאים, ודווקא גורעים מהם נוזל עד שסכום הנוזל בכל הכלים שווה לעיזבון.</p>
<p>האם אכן זה מה שהתלמוד התכוון אליו? האם מלמדים את השיטה הזו כיום בלימודי התלמוד? אני משאיר את העיסוק בשאלות הללו לתגובות.</p>
        </article>
        
        <footer>
            <p>© כל הזכויות שמורות לגדי אלכסנדרוביץ'</p>
        </footer>
    </div>

    
    <script>
        function toggleMobileMenu() {
            const navLinks = document.getElementById('navLinks');
            navLinks.classList.toggle('expanded');
        }
        
        function searchPosts() {
            const searchTerm = document.getElementById('searchInput').value;
            if (searchTerm.trim()) {
                window.location.href = '/post_list.html?search=' + encodeURIComponent(searchTerm);
            }
        }
        
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchPosts();
            }
        });
    </script>
    
    
    <!-- Auto-render KaTeX math -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            renderMathInElement(document.body, {
                delimiters: [
                    {left: "\\[", right: "\\]", display: true},
                    {left: "\\(", right: "\\)", display: false}
                ],
                throwOnError: false
            });
        });
    </script>

</body>
</html>