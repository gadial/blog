<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>רוצים לחלק באפס 2 – נקמתו של כלומיתי - לא מדויק</title>
    <link rel="icon" type="image/x-icon" href="/new_blog/favicon.ico">
    
    
    <!-- KaTeX for math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>

    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', 'David', 'Tahoma', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
        }
        
        /* Top navigation bar */
        .top-nav {
            background: #2c3e50;
            padding: 15px 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .top-nav .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
        }
        
        .top-nav .site-title {
            font-size: 1.5em;
            font-weight: bold;
            color: white;
            text-decoration: none;
            white-space: nowrap;
        }
        
        .top-nav .nav-links {
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .top-nav .nav-links a {
            color: #ecf0f1;
            text-decoration: none;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background 0.2s;
            white-space: nowrap;
        }
        
        .top-nav .nav-links a:hover {
            background: #34495e;
        }
        
        .top-nav .search-box {
            display: flex;
            gap: 5px;
        }
        
        .top-nav .search-box input {
            padding: 5px 10px;
            border: none;
            border-radius: 4px;
            font-size: 0.9em;
            min-width: 150px;
        }
        
        .top-nav .search-box button {
            padding: 5px 15px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .top-nav .search-box button:hover {
            background: #2980b9;
        }
        
        /* Mobile responsive */
        @media (max-width: 768px) {
            .top-nav .nav-container {
                flex-direction: column;
                align-items: stretch;
            }
            
            .top-nav .site-title {
                text-align: center;
                margin-bottom: 10px;
            }
            
            .top-nav .nav-links {
                flex-direction: column;
                width: 100%;
            }
            
            .top-nav .nav-links a {
                text-align: center;
                padding: 8px;
            }
            
            .top-nav .search-box {
                width: 100%;
                flex-direction: column;
            }
            
            .top-nav .search-box input {
                width: 100%;
                margin-bottom: 5px;
                min-width: 0;
            }
            
            .top-nav .search-box button {
                width: 100%;
            }
        }
        
        /* Blockquote styling */
        blockquote {
            background: #f9f9f9;
            border-right: 5px solid #ccc;
            margin: 1.5em 10px;
            padding: 0.75em 16px;
            position: relative;
            font-style: italic;
        }
        
        blockquote:before {
            content: '"';
            position: absolute;
            top: -10px;
            right: 8px;
            font-size: 3.5em;
            color: #ccc;
            line-height: 1;
        }
        
        blockquote p {
            display: block;
            margin: 0 0 0.75em 0;
        }
        
        blockquote p:last-child {
            margin-bottom: 0;
        }
        
        
        body {
            line-height: 1.8;
        }
        
        .container {
            max-width: 800px;
            margin: 20px auto;
            background: white;
            padding: 40px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
        }
        
        header {
            margin-bottom: 40px;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 20px;
        }
        
        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .post-meta {
            color: #7f8c8d;
            font-size: 0.9em;
        }
        
        .post-meta .date {
            margin-left: 15px;
        }
        
        .post-meta .categories,
        .post-meta .tags {
            display: inline;
        }
        
        .post-meta .categories a,
        .post-meta .tags a {
            color: #3498db;
            text-decoration: none;
            margin: 0 5px;
        }
        
        .post-meta .categories a:hover,
        .post-meta .tags a:hover {
            text-decoration: underline;
        }
        
        article {
            font-size: 1.1em;
        }
        
        article h2 {
            margin-top: 30px;
            margin-bottom: 15px;
            color: #34495e;
            font-size: 1.8em;
        }
        
        article h3 {
            margin-top: 25px;
            margin-bottom: 12px;
            color: #34495e;
            font-size: 1.4em;
        }
        
        article p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        article ul, article ol {
            margin-right: 30px;
            margin-bottom: 15px;
        }
        
        article li {
            margin-bottom: 8px;
        }
        
        article code {
            background-color: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        
        article pre {
            background-color: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin-bottom: 20px;
            direction: ltr;
            text-align: left;
        }
        
        article pre code {
            background-color: transparent;
            padding: 0;
            color: inherit;
        }
        
        /* Image styles - responsive and contained */
        article img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 20px auto;
        }
        
        /* Math rendering styles */
        .math {
            direction: ltr;
        }
        
        span.math {
            direction: ltr;
        }
        
        /* Override RTL for KaTeX */
        .katex {
            direction: ltr;
            unicode-bidi: embed;
        }
        
        div.math {
            display: block;
            text-align: center;
            padding: 15px 0;
            direction: ltr;
        }
        
        /* RTL adjustments for code blocks */
        .highlight {
            direction: ltr;
            text-align: left;
        }
        
        footer {
            margin-top: 60px;
            padding-top: 20px;
            border-top: 1px solid #e0e0e0;
            text-align: center;
            color: #95a5a6;
            font-size: 0.9em;
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2em;
            }
            
            article {
                font-size: 1em;
            }
        }
        
        /* Post navigation */
        .post-navigation {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #e0e0e0;
            gap: 20px;
        }
        
        .post-navigation .nav-link {
            flex: 1;
            text-decoration: none;
            color: #2c3e50;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 5px;
            transition: background 0.2s;
        }
        
        .post-navigation .nav-link:hover {
            background: #e9ecef;
        }
        
        .post-navigation .nav-prev {
            text-align: right;
        }
        
        .post-navigation .nav-next {
            text-align: left;
        }
        
        .post-navigation .nav-label {
            font-size: 0.85em;
            color: #7f8c8d;
            display: block;
            margin-bottom: 5px;
        }
        
        .post-navigation .nav-title {
            font-weight: bold;
            font-size: 1.1em;
        }

    </style>
</head>
<body>
    <nav class="top-nav">
        <div class="nav-container">
            <a href="/new_blog/" class="site-title">לא מדויק</a>
            <div class="nav-links">
                <a href="/new_blog/">דף הבית</a>
                <a href="/new_blog/random.html">פוסט אקראי</a>
                <a href="/new_blog/post_list.html">כל הפוסטים</a>
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="חיפוש...">
                    <button onclick="searchPosts()">חפש</button>
                </div>
            </div>
        </div>
    </nav>
    
    
    <div class="container">
        <!-- Post Navigation -->
        
        <nav class="post-navigation">
            
            <a href="/new_blog/2008/10/16/nullity_part_1/" class="nav-link nav-prev">
                <span class="nav-label">פוסט ישן יותר →</span>
                <span class="nav-title">רוצים לחלק באפס? אין בעיה! (אין כלום, בעצם)</span>
            </a>
            

            
            <a href="/new_blog/2008/10/21/questions_and_answers_5/" class="nav-link nav-next">
                <span class="nav-label">← פוסט חדש יותר</span>
                <span class="nav-title">שאלות ותשובות - מקבץ מס’ 5</span>
            </a>
            
        </nav>
        
        
        <header>
            <h1>רוצים לחלק באפס 2 – נקמתו של כלומיתי</h1>
            <div class="post-meta">
                <span class="date">2008-10-18</span>
                
                <span class="categories">
                    | קטגוריות:
                    
                    <a href="/categories/הבלים פסאודו-מתמטיים.html">הבלים פסאודו-מתמטיים</a>
                    
                    <a href="/categories/מתמטיקה בראי התקשורת.html">מתמטיקה בראי התקשורת</a>
                    
                </span>
                
                
                <span class="tags">
                    | תגיות:
                    
                    <a href="/tags/חלוקה באפס.html">חלוקה באפס</a>
                    
                    <a href="/tags/טרחנים מתמטיים.html">טרחנים מתמטיים</a>
                    
                    <a href="/tags/מהומה רבה על לא מאומה.html">מהומה רבה על לא מאומה</a>
                    
                </span>
                
            </div>
        </header>
        
        <article>
            <p><a href="http://www.gadial.net/2008/10/16/nullity_part_1/">בפוסט הקודם</a> דיברתי קצת על למה לא נהוג במתמטיקה להגדיר חלוקה באפס, מתי כן מגדירים חלוקה באפס (למשל, מתי <strong>נוח</strong> לנו <strong>לסמן</strong> את החלוקה של אחד באפס כ"אינסוף" ומה <strong>המשמעות</strong> של זה) ולמה 0/0 היה ונותר ביטוי חסר טעם להגדרה ולכן בתוכנות מחשב מתמטיות דוגמת <a href="http://he.wikipedia.org/wiki/MATLAB">Matlab</a> נהוג שתוצאת הפעולה 0/0 היא קבוע בשם <a href="http://en.wikipedia.org/wiki/NaN">NaN</a>, שמשמעותו "לא מספר" (Not a Number). קבוע בעל התכונה הסבירה שכל פעולה מתמטית שנעשה עליו לא תשנה אותו (1 ועוד "לא מספר" יהיה "לא מספר", למשל). המוטיבציה לדיון הזה הייתה <a href="http://www.bbc.co.uk/berkshire/content/articles/2006/12/06/divide_zero_feature.shtml">הסיפור</a> (שכעת הוא כמעט בן שנתיים) על מורה למתמטיקה שלימד את תלמידיו תורה מתמטית חדשה שבה חלוקה באפס היא "אפשרית" ובכך פתר "בעיה בת 1,200 שנים".</p>
<p><a href="http://www.gadial.net/2007/10/13/pi_law/">הזכרתי כאן בעבר</a> את מושג ה"טרחן מתמטי כפייתי". הגדרתי אותו כ"אדם (לרוב ללא רקע פורמלי במתמטיקה, אך לא בהכרח) שעוסק במתמטיקה בצורה שהיא חסרת תועלת לחלוטין, ולרוב בהתלהבות שעומדת בפרופורציה הפוכה לתועלת שלו." וההגדרה (פרט להערת הסוגריים) מתאימה מאוד למקרה הזה. כמו כן, קישרתי <a href="http://www.gadial.net/2007/10/27/math_crank_square_roots/">כאן בעבר</a> למאמר של יהודה בלו שעסק בחיפוש "שיטה להוצאת שורש ריבועי" (למרות שקיימות כבר שיטות מצויינות רבות לכך) - אני חושב שיש למקרה ההוא כמה נקודות דמיון בולטות למקרה הזה.</p>
<p>ראשית, הבעיה שיש לתקן. יהודה בלו אמר על בעיית השורש "<em><span><span>מסיבה לא ברורה, לא מחפשים המתמטיקאים שיטה למצוא שורש ריבועי או שורש כלשהו. האם יש בידם הוכחה מתמטית שלא מתאפשרת שיטה שכזו? עדיין לא.</span></span></em>" ומה ג'יימס אנדרסון אומר? ה-BBC מביאים את הציטוט הבא:</p>
<p dir="ltr"><span style="font-family: Verdana, Arial, Helvetica, sans-serif; font-size: x-small;">"Imagine you're landing on an aeroplane and the automatic pilot's working," he suggests. "If it divides by zero and the computer stops working - you're in big trouble. If your heart pacemaker divides by zero, you're dead."</span></p>
<p>מילא, תגידו, העיתונות מוציאה מהקשרה. לכן עדיף ללכת ישר למקור - <a href="http://www.angletechnology.com/events/investorday/Dr%20James%20Anderson%20Transreal%20presentation.pdf">מצגת</a> לא טכנית שהכין אנדרסון למטרות פרסום עצמי. שם הוא מגיע לגבהים חדשים: ראשית, הוא מתחיל ב:</p>
<p dir="ltr">"This presentation is dedicated to the USS Yorktown which was stranded for 2 hours 40 minutes when a division-by-zero error crashed its entire network of computers, causing its engines to stop."</p>
<p>הסיפור המשונה הזו הוא כמובן נכון. ה-<a href="http://en.wikipedia.org/wiki/USS_Yorktown_(CG-48)">USS Yorktown</a> אכן סבלה בשנת 1997 מתקלת מחשב אידיוטית שכזו - אחד מאנשי הצוות הזין 0 לתוך תא במסד הנתונים של הספינה, תא שכנראה לא אמור להכיל אפס, ובכך הוא גרם לתקלה של חלוקה באפס. כשתוכנית מחשב נתקלת בחלוקה באפס, היא לא מושכת בכתפיים וממשיכה הלאה - היא מכריזה על תקלה. אם אף אחד לא מטפל בתקלה (ברמת התוכנית עצמה), התוכנית מפסיקה לרוץ, וזה בדיוק מה שקרה בספינה ההיא. כשזה קורה בתוכנות שאמורות לרוץ כל הזמן ולוקח זמן רב להפעיל אותן מחדש, זו בעיה, וכך הספינה הייתה תקועה במשך כמעט שלוש שעות בלי שהתוכנה המרכזית שלה רצה. הבעיה היא שזו בכלל לא דוגמה לבעייתיות של חלוקה באפס - כפי שאמרתי בפוסט הקודם, גם אם החלוקה באפס הייתה עוברת בשלום, שום דבר לא מבטיח שהתוצאה לא הייתה גורמת לבעיות בשלב מאוחר יותר; עדיף שהספינה תיתקע לשלוש שעות מאשר שתיתקע בקרחון בגלל חישוב כיוון לא נכון, למשל.</p>
<p>הבעייתיות שכן מודגמת בסיפור הזה באופן יפה מאוד היא הכשל של מהנדסי התוכנה של הספינה, שלא הקפידו על אספקט חשוב של הנדסת תוכנה - עמידות (Robustness) - היכולת של המערכת לעבוד גם כשמשליכים עליה קלטים שהיא לא אמורה להתמודד איתם. כל תלמיד תכנות נתקל בזה כבר בתוכנות הראשונות שלו - נניח, הוא כותב תוכנה שמקבלת מהמשתמש שני מספרים וצריך לחבר אותם ולהציג את הסכום; אבל מה אם המשתמש מכניס "כגדכ" ו"כדגד" במקום מספרים? כאן צריך להדפיס הודעת שגיאה מתאימה ולצאת, אבל לרוב לא מקפידים על זה כשרק מתחילים ללמד תכנות - אומרים לתלמיד "תניח שהקלט תקין" וזהו. כנראה שחלק מאותם תלמידים, גם כשהם גדלים, ממשיכים להניח את אותה הנחה, או שאינם מצליחים לזהות סיטואציות "מסוכנות" שבהן קלט שגוי יגרום לתקלות. בתוכנה אמיתית, בכל פעם שבה מבצעים פעולת חלוקה, חייבים לבדוק האם בוצעה חלוקה באפס (אפשר תמיד לבדוק לפני, על ידי בחינת המשתנה שבו מחלקים; אבל אפשר גם אחרי, אם התוכנה תומכת במנגנון החזרת שגיאות, או נכתבת בשפה שבה יש מנגנון אוטומטי שכזה - וכך זה תמיד בימינו, אני מקווה) ולטפל בכך בהתאם אם זה קרה. ב-USS Yorktown פשוט לא עשו זאת. כישלון של הנדסת תוכנה, לא של העובדה שאי אפשר לחלק באפס.</p>
<p>לאנדרסון הדוגמאות הללו לא מספיקות. הוא חייב לתקוף באופן ישיר את כל המתמטיקה שהייתה לפניו כדי להסביר מה הוא תורם, בעצם. לכן הוא כותב שקף בעל הכותרת המפוצצת "מה הבעיה עם האריתמטיקה?" ומפרט את הבעיות, עם עוד הערה בסוגריים לכל אחת מהן: אי אפשר למצוא את ה<a href="http://he.wikipedia.org/wiki/%D7%98%D7%A8%D7%99%D7%92%D7%95%D7%A0%D7%95%D7%9E%D7%98%D7%A8%D7%99%D7%94">טנגנס</a> של זווית ישרה (אינסוף), את ה<a href="http://he.wikipedia.org/wiki/%D7%9C%D7%95%D7%92%D7%A8%D7%99%D7%AA%D7%9D">לוגריתם</a> של 0 (מינוס אינסוף), אי אפשר למצוא את אפס בחזקת אפס (האות היוונית <span class="math">\(\Phi\)</span>), ואי אפשר להסביר "איך מחשבים עובדים" (NaN). יותר חמור - האריתמטיקה המתמטית לא מתארת את האריתמטיקה שבה אנשים משתמשים בחיי היום יום שלהם בתור מתכנתים או משתמשים במחשבים, והיא "Sociologically <span style="color: #ff3300;">invalid</span>" (הצבע האדום במקור).</p>
<p>אני לא חושב שאני מבין את משמעות הטענה האחרונה כדי שאוכל להתייחס אליה (אני מנחש שהאדום, מטרתו לשמש כמו באותו נאום מפורסם שבו נכתב בהערת שוליים "נקודה חלשה. להרים את הקול!"). לשאר הטענות קל להתייחס: אפשר להגדיר את הטנגנס של זווית ישרה כאינסוף ואת הלוגריתם של 0 כמינוס אינסוף; פשוט אי אפשר יהיה לעבוד איתם אחר כך באופן אריתמטי, כמו שאי אפשר לעבוד עם אחד חלקי אפס. במקום שהאריתמטיקה תסתבך בתחום הזה היא מותירה אותו בלתי מוגדר, ומאפשרת ל<a href="http://he.wikipedia.org/wiki/%D7%97%D7%A9%D7%91%D7%95%D7%9F_%D7%90%D7%99%D7%A0%D7%A4%D7%99%D7%A0%D7%99%D7%98%D7%A1%D7%99%D7%9E%D7%9C%D7%99">חשבון האינפיניטסימלי</a> לנסח טענות מדוייקות ומועילות יותר, דוגמת "כשהזווית שואפת לפאי חלקי 2, הטנגנס שלה שואף לאינסוף". מטלאב ודומיו דווקא כן מחזירים אינסוף ומינוס אינסוף במקרים המדוברים, לטובת מי שהמידע הזה עוזר להם. אגב, חדי העין מביניכם שצלחו את הפוסט הקודם ובקיאים בקצת מתמטיקה ודאי שמו לב שטנגנס הזווית הישרה הוא שם אחר לבעיית ה"ישר בעל שיפוע אינסופי" שדיברתי עליה.</p>
<p>בכל הנוגע לאפס בחזקת אפס, מבחינה פורמלית טהורה אכן הביטוי אינו מוגדר. הסיבה לכך היא כללי החזקות: לכאורה מתקיים <span class="math">\(0^0=0^1\cdot 0^{-1}\)</span> והביטוי הימני מבין השניים כלל אינו מוגדר. עם זאת, לפעמים נוח להגדיר <span class="math">\(0^0=1\)</span>. בפרט, בנוסחת <a href="http://he.wikipedia.org/wiki/%D7%94%D7%91%D7%99%D7%A0%D7%95%D7%9D_%D7%A9%D7%9C_%D7%A0%D7%99%D7%95%D7%98%D7%95%D7%9F">הבינום של ניוטון</a>: <span class="math">\((a+b)^n=\sum_{k=0}^n{n\choose k}a^kb^{n-k}\)</span> הכרחי לעבוד עם ההגדרה הזו כדי שהנוסחה תעבוד במקרה שהאחד מהאיברים בסוגריים הוא אפס. לבחירה השרירותית לכאורה הזו יש הגיון עמוק מעט יותר - באופן כללי, אפשר לחשוב על <span class="math">\(a^b\)</span> כאשר <span class="math">\(a,b\)</span> הם מספרים טבעיים בתור מספר הפונקציות מקבוצה בעלת <span class="math">\(b\)</span> איברים לקבוצה בעלת <span class="math">\(a\)</span> איברים. כאשר יש לנו שתי קבוצות ריקות, קיימת בינן פונקציה אחת: "הפונקציה הריקה" (לא אכנס לזה כרגע, אבל מבחינה פורמלית זו פונקציה תקינה לחלוטין). אם לעומת זאת <span class="math">\(b&gt;0\)</span>, מקבלים ש-<span class="math">\(0^b=0\)</span> על פי אותה הגדרה בדיוק, כי לא קיימת פונקציה מקבוצה בעלת <span class="math">\(b&gt;0\)</span> איברים אל הקבוצה הריקה (לכל איבר בקבוצת המקור חייבים להתאים איבר מקבוצת היעד - אם אין איברים שאפשר להתאים אליהם, אכלנו אותה).</p>
<p>הטענה שהאריתמטיקה לא מסבירה איך מחשבים עובדים בגלל NaN לא הכי ברורה לי. הרי בשורה התחתונה, את NaN אפשר לקודד באמצעות מספרים וזה בדיוק מה שקורה במחשבים, וכל מה שמחשב עושה בבסיסו (ביחידת העיבוד המרכזית שלו) הוא פעולות אריתמטיות. הטענה האחרונה של אנדרסון שעוד הצלחתי להבין, על כך שהאריתמטיקה המתמטית אינה דומה לאריתמטיקת חיי היום יום, נראית לי פשוט שגויה, על פי ההיכרות שלי עם האריתמטיקה  - ויתר על כן, האריתמטיקה החילופית שהוא מציע בהמשך לא דומה אף היא לכלום.</p>
<p>ובכן, קשקוש בלבוש עד כה. אנדרסון פוסל את האריתמטיקה עד אליו בכמה נפנופי ידיים בלתי מחייבים, שאני חושב שמצביעים על ניתוק גדול למדי מהמציאות (המתמטית) במקרה הטוב, ועל שרלטנות מחושבת היטב במקרה הרע. זה מזכיר לי מאוד את טענתו של יהודה בלו שהמתמטיקאים מתעלמים משום מה מבעיית הוצאת השורש.</p>
<p>התוכן האמיתי מגיע בשקף הבא, שכותרתו היא "מה הבעיה עם מחשבים?" ובו הוא מציג שתי נקודות מהותיות: ראשית, NaN ו-Inf ומינוס Inf, החבר'ה שמייצגים את "בלתי מוגדר" ואת אינסוף ומינוס אינסוף בתוכנות המתמטיקה הסטנדרטיות, הם "לא מספרים" כהגדרתו של אנדרסון. שנית (וזו, לדעתי, הנקודה היחידה שבאמת שווה התייחסות בכל דבריו של אנדרסון), NaN מקיים את התכונה שאינו שווה לעצמו. כלומר, אם תבצעו שני חישובים, אפילו זהים, ותכניסו את התוצאה לתוך משתנים שונים, ושני החישובים יחזירו NaN, ותבצעו השוואה בין המשתנים - תקבלו תשובה שלילית. אנדרסון טוען ש"שוויון פירושו ש-x שווה ל-x לכל x, ולכן אריתמטיקה ממוחשבת היא <span style="color: #ff3333;">invalid</span>" (שוב, האדום המביך במקור).</p>
<p>לנקודת "הם לא מספרים" שהעלה אנדרסון אתייחס בקרוב. בינתיים אתייחס לנקודה המהותית - למה NaN לא זהה אפילו לעצמו? לכאורה זה באמת נראה מטופש. אלא שצריך לזכור את המוטביציה לקיום NaN - הוא בא למדל ביטויים כמו 0/0, שהם חסרי משמעות באופן טוטאלי, אפילו בגישת החשבון האינפיניטסימלי, זו שאומרת ש-1/0 ו-2/0 הם זהים במובן מסויים מאוד - הגבול של שתי הפונקציות <span class="math">\(\frac{1}{x},\frac{2}{x}\)</span> הוא זהה כאשר איקס שואף לאפס מימין. כפי שאמרתי בפוסט הקודם, לגבול של שבר שבו גם המונה וגם המכנה שואפים לאפס (או לגבול של מכפלה שבה אחד האיברים שואף לאפס והשני לאינסוף, וכו') יכולים להיות ערכים שונים לגמרי. לכן מבחינה רעיונית זה שגוי להגדיר את NaN כשווה לעצמו, ובכך ליצור זהות כלשהי בין שתי הסיטואציות הללו. מבחינה מעשית זה אולי מעט מסורבל, כי כדי לבדוק האם משתנה מכיל את NaN לא ניתן להשוות אותו ל-NaN; לכן לרוב מוגדרת גם פונקציה בשם isNaN שמבצעת את הבדיקה בשביל המשתמש - ואם אין כזו, הבדיקה x==x ("האם איקס שווה לאיקס?") מאפשרת מייד לזהות האם x הוא NaN או לא - התשובה לה תהיה שלילית אם ורק אם x הוא NaN.</p>
<p>אם כן, מה אנדרסון מציע כדי לפתור את הבעיות הקשות (והלא קיימות) הללו? הוא מרחיב את מערכת המספרים הממשיים למערכת שהוא קורא לה "Transreal" (המצאת שמות מפוצצים לדברים קיימים זו תכונה מאפיינת סטנדרטית של טרחנים כפייתיים - עיינו ב"המספרים הדו חזקתיים" של יהודה בלו). היא מתקבלת מהממשיים על ידי הוספת אינסוף ומינוס אינסוף (עד כאן, הכל בסדר - זה גם מה שיש ב-Matlab וגם בספרי לימוד רבים שעבורם ההרחבה הזו "משתלמת"), ועוד מספר אחד חדש, שמסומן כ-<span class="math">\(\Phi\)</span> ונקרא "Nullity", ובתרגום חופשי לעברית שלי: "כלומיתי". אני קצת מרושע, כי Nullity היא מילה קיימת במתטיקה ובעלת משמעות שונה, ובמשמעות השונה הזו לא היה עולה על דעתי לתרגם אותה כ"כלומיתי", אבל נו טוב. גם לי מותר ליהנות.</p>
<p>אנדרסון לא מפרט את תכונות הכלומיתי שלו במצגת, אבל כן <a href="http://www.bookofparagon.com/Mathematics/PerspexMachineVIII.pdf">במאמר</a> שגם כן זמין לכל. בואו נקצר עניינים: מדובר ב"מספר" שמוגדר בתור 0/0; שלא ניתן להשוות אותו למספרים אחרים; ושהוא ועוד כל דבר אחר, או כפול כל דבר אחר, שווה לכלומיתי. פרט לכך הוא גם מגדיר הגדרה משונה שם - <span class="math">\(\Phi^{-1}=\Phi\)</span> - "ההופכי של כלומיתי הוא כלומיתי". כיצד זה אפשרי אם כלומיתי כפול כלומיתי הוא כלומיתי, והמשמעות של "הופכי" היא "המספר שכאשר כופלים בו, מקבלים את 1"? תמהני, אבל כמובן שאנדרסון לא מתייחס לזה ולא מגדיר את הסימון הזה של "בחזקת מינוס אחד" בשום מקום. לא קשה לראות שכל ביטוי אריתמטי שיכיל את כלומיתי יהיה שווה לכלומיתי (כי כלומיתי "בולע" כל פעולה חשבונית שמבצעים איתו). אם כן, מה ההבדל בין כלומיתי ו-NaN? יש בדיוק שני הבדלים:</p>
<ol>
    <li>אנדרסון מגדיר את כלומיתי להיות שווה לכלומיתי, להבדיל מ-NaN שמוגדר לא להיות שווה לעצמו (כפי שהזכרתי לעיל).</li>
    <li>אנדרסון קורא לכלומיתי "מספר", בעוד ש-NaN, במוצהר (אפילו בשמו!) איננו מספר.</li>
</ol>
<p>לנקודה מס' 1 התייחסתי כבר וניסיתי להסביר מדוע זה ש-NaN אינו שווה ל-NaN הוא <strong>יתרון</strong>, לא חיסרון. הגישה הטבעית והנאיבית יותר היא כן להגדיר אותו כשווה לעצמו; האנשים הטובים ב-<a href="http://en.wikipedia.org/wiki/Institute_of_Electrical_and_Electronics_Engineers">IEEE</a> שטרחו ועמלו על הסטנדרט של NaN לא סתם בחרו להגדיר אותו כשונה מעצמו. אנדרסון אם כן בא לתקן את מה שאינו מקולקל בכלל, והתיקון שלו הוא מה שמקלקל; אבל "מקלקל" זו הגזמה. אין בעיה מהותית לעבוד עם כלומיתי ששווה לעצמו, כשם שאין בעיה מהותית לעבוד עם NaN שלא שווה לעצמו - המתכנת פשוט צריך להיות מודע לכך שהשוויון יעבוד/לא יעבוד, ולכתוב את הקוד שלו בהתאם.</p>
<p>הנקודה השנייה היא העלובה מכל. אנדרסון, לרוע מזלו, אפילו אינו טרחן כפייתי מעניין; הוא בסך הכל נותן שם חדש לדברים קיימים וחושב שבכך הוא מחולל מהפכה מחשבתית. אז הוא קורא לכלומיתי שלו "מספר" וחושב שבכך נפתרה הבעיה של "0/0 אינו מספר" - אבל מה טיבו של ה"מספר" הזה? באיזה מובן הוא שייך למערכת המספרים? האם ניתן להשוות אותו עם מספרים אחרים? לא. האם פעולה חשבונית כלשהי איתו מסוגלת לתת תוצאה בעלת משמעות? לא (רק "כלומיתי"). אם כן, באיזה מובן הכלומיתי הוא מספר בעוד ש-NaN איננו? במובן אחד בלבד - המובן ההצהרתי. טרחנים כפייתיים חזקים מאוד בתחום ההצהרתי.</p>
<p>לקראת סוף המצגת שלו אנדרסון מגיע לרמה חדשה של עליבות: הוא אומר ש"ב-1,200 השנים האחרונות אף אחד לא הצליח לחשב את אפס בחזקת אפס בצורה אריתמטית. עד כמה זה קשה?" ואז מציג "חישוב" של אפס בחזקת אפס. רובו הוא סטנדרטי לגמרי: <span class="math">\(0^0=0^1\cdot 0^{-1}=\frac{0}{0}\)</span> - זה דבר שברור לכל סטודנט למתמטיקה (וגם לתלמידי תיכון שחושבים על החומר, למען האמת), והבעיה היחידה היא שהביטויים בו אינם מוגדרים היטב - אלא שלאנדרסון יש שם אחר לביטוי הימני של אפס חלקי אפס - ניחשתם נכון, כלומיתי. הפלא ופלא! נפתרה בעיה בת 1,200 שנים! גילינו שאפס בחזקת אפס, שעד כה היה לא מוגדר, הוא... לא מוגדר!<br />
בשלב הבא במצגת שלו אנדרסון כבר גולש למחוזות שגעון הגדלות. הוא מתיימר להיות מסוגל לבנות סופר-מחשבים בעזרת כלומיתי. לא רואים זאת במצגת, אבל במאמרים שלו הוא מציג את הרעיון יותר לעומק - מחשב שיכיל רק פקודה אחת, מסובכת משהו, של חישוב דמוי מכפלה סקלרית. אין ממש טעם להיכנס לשאלה האם היצור הזה הוא מה שנקרא <a href="http://en.wikipedia.org/wiki/Turing_complete">Turing Complete</a>, כלומר חזק כמו <a href="http://he.wikipedia.org/wiki/%D7%9E%D7%9B%D7%95%D7%A0%D7%AA_%D7%98%D7%99%D7%95%D7%A8%D7%99%D7%A0%D7%92">המודל המתמטי הסטנדרטי</a> של מחשב - אני מוכן להניח שכן. מה שברור הוא שמבחינה תיאורטית הוא לא חזק יותר כל עוד מידע מיוצג בו בצורה דיגיטלית (כלומר, כל מספר בו מיוצג כרצף סופי של אפסים ואחדים או משהו דומה, כי <a href="http://www.gadial.net/2007/08/29/cantor_diagonal/">לא ניתן לייצג כך את כל המספרים הממשיים</a>) - הרי ניתן לסמלץ את כלומיתי בכל שפת תכנות בסיסית (תרגיל למתכנתים - אל תטרחו, יש דברים יותר מגניבים לעשות, כמו <a href="http://projecteuler.net/">פרוייקט אוילר</a>). כמובן שאם המחשב שלו עובד עם כל המספרים הממשיים, זה עשוי לתת לו כוח רב יותר; אבל גם מודלים שכאלו הם <a href="http://en.wikipedia.org/wiki/Real_computation">לא דבר חדש</a>, ותוספת הכלומיתי, שהיא התרומה היחידה של אנדרסון, לא מוסיפה כלום.</p>
<p>אבל מה? אנדרסון משוכנע שהמחשבים שלו ירוצו בסדרי גודל יותר מהר מאשר המחשבים הקיימים. הרעיון המבריק שהוא מציג בשקף הוא ש"אין צורך בחיווט כדי לבחור או לקודד פקודות, כי יש רק פקודה אחת". זה מטופש, כי מדובר כאן בטאטוא מתחת לשטיח של הסיבוכיות של תוכנית - אוקיי, אז יהיה יותר קל לבחור או לקודד פקודות, מסכים. אבל לך תכתוב תוכנית מחשב סבירה עם הפקודה האחת הזו - תצטרך להשתמש באותה פקודה הרבה מאוד פעמים, עם קלטים שונים, כדי להשיג תוצאות שבמחשבים בני זמננו משיגים בפקודת מחשב אחת שממומשת בצורה יעילה בחומרה, בעזרת אותם חיווטים שאנדרסון יוצא נגדם. כך זה באופן כללי בתכנות - אם יש לך שפת תכנות עם מספר פקודות מצומצם, כנראה שכדי לעבוד איתה בנוחות תצטרך "להרכיב" הרבה פקודות בסיסיות נוספות מתוך מעט הפקודות שיש לך. למעשה, ככל שהזמן עובר כך המחשבים עושים דברים מסובכים <strong>יותר</strong> ברמת החיווט הבסיסי (למשל, כפל וקטורי) ולא ברמת התוכנה, פשוט כי זה יעיל <strong>יותר</strong>. להמציא שפת תכנות של פקודה אחת זה בדיוק ההפך ממה שצריך כדי ליצור מחשבים יעילים. כמובן, אולי אני טועה - כשאינטל תפשוט את הרגל בגלל אנדרסון, אודה שטעיתי.</p>
<p>לקראת הסוף חושף אנדרסון לראווה את הטרחן הכפייתי שבו באופן מוחלט - הוא מתיימר לפתור עם הכלומיתי שלו את כל בעיות היקום, או לפחות לנסח מחדש את <a href="http://he.wikipedia.org/wiki/%D7%9E%D7%A9%D7%95%D7%95%D7%90%D7%95%D7%AA_%D7%9E%D7%A7%D7%A1%D7%95%D7%95%D7%9C">משוואות מקסוול</a> והגרביטציה הקלאסית, ואז לאחד את ה<a href="http://he.wikipedia.org/wiki/%D7%90%D7%9C%D7%A7%D7%98%D7%A8%D7%95%D7%93%D7%99%D7%A0%D7%9E%D7%99%D7%A7%D7%94_%D7%A7%D7%95%D7%95%D7%A0%D7%98%D7%99%D7%AA">אלקטרודינמיקה הקוונטית</a> עם <a href="http://he.wikipedia.org/wiki/%D7%AA%D7%95%D7%A8%D7%AA_%D7%94%D7%99%D7%97%D7%A1%D7%95%D7%AA_%D7%94%D7%9B%D7%9C%D7%9C%D7%99%D7%AA">תורת הגרביטציה</a> (אחד מהגביעים הקדושים של הפיזיקה המודרנית, אם איני טועה).</p>
<p>כל זה היה נותר בגדר שעשוע לא מזיק אלמלא התקשורת הקדישה למטורלל הזה זמן מסך יקר (זמן שאפשר היה להקדיש למתמטיקאים אמיתיים, שפותרים בעיות אמיתיות, גם אם לא כאלו שיש להן את תווית 1,200 השנים הסקסית), ואלמלא היו נותנים למטורלל הזה ללמד ילדי בית ספר את תורת הכלומיתי שלו. אמנם, אני לא חושב שהנזק לילדים יהיה גדול ביותר - הם בסך הכל לומדים מה זה NaN בשלב מוקדם מדי, שבו לא באמת צריך לדעת מהו. כשהם יגדלו הם כנראה יתקלו ב-NaN האמיתי, יראו שזה כמעט כמו כלומיתי, ואולי יתעניינו מספיק כדי לחפש הסבר למה הוא לא שווה לעצמו בעוד שכלומיתי כן. אם אנדרסון מעודד כך חשיבה, אולי הוא לא רע באופן מוחלט.</p>
        </article>
        
        <footer>
            <p>© כל הזכויות שמורות לגדי אלכסנדרוביץ'</p>
        </footer>
    </div>

    
    <script>
        function searchPosts() {
            const searchTerm = document.getElementById('searchInput').value;
            if (searchTerm.trim()) {
                window.location.href = '/new_blog/post_list.html?search=' + encodeURIComponent(searchTerm);
            }
        }
        
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchPosts();
            }
        });
    </script>
    
    
    <!-- Auto-render KaTeX math -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            renderMathInElement(document.body, {
                delimiters: [
                    {left: "\\[", right: "\\]", display: true},
                    {left: "\\(", right: "\\)", display: false}
                ],
                throwOnError: false
            });
        });
    </script>

</body>
</html>