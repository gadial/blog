<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>המחט של בופון - לא מדויק</title>
    <link rel="icon" type="image/x-icon" href="/new_blog/favicon.ico">
    
    
    <!-- KaTeX for math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>

    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', 'David', 'Tahoma', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
        }
        
        /* Top navigation bar */
        .top-nav {
            background: #2c3e50;
            padding: 15px 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .top-nav .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
        }
        
        .top-nav .site-title {
            font-size: 1.5em;
            font-weight: bold;
            color: white;
            text-decoration: none;
            white-space: nowrap;
        }
        
        .top-nav .nav-links {
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .top-nav .nav-links a {
            color: #ecf0f1;
            text-decoration: none;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background 0.2s;
            white-space: nowrap;
        }
        
        .top-nav .nav-links a:hover {
            background: #34495e;
        }
        
        .top-nav .search-box {
            display: flex;
            gap: 5px;
        }
        
        .top-nav .search-box input {
            padding: 5px 10px;
            border: none;
            border-radius: 4px;
            font-size: 0.9em;
            min-width: 150px;
        }
        
        .top-nav .search-box button {
            padding: 5px 15px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .top-nav .search-box button:hover {
            background: #2980b9;
        }
        
        /* Mobile responsive */
        @media (max-width: 768px) {
            .top-nav .nav-container {
                flex-direction: column;
                align-items: stretch;
            }
            
            .top-nav .site-title {
                text-align: center;
                margin-bottom: 10px;
            }
            
            .top-nav .nav-links {
                flex-direction: column;
                width: 100%;
            }
            
            .top-nav .nav-links a {
                text-align: center;
                padding: 8px;
            }
            
            .top-nav .search-box {
                width: 100%;
                flex-direction: column;
            }
            
            .top-nav .search-box input {
                width: 100%;
                margin-bottom: 5px;
                min-width: 0;
            }
            
            .top-nav .search-box button {
                width: 100%;
            }
        }
        
        /* Blockquote styling */
        blockquote {
            background: #f9f9f9;
            border-right: 5px solid #ccc;
            margin: 1.5em 10px;
            padding: 0.75em 16px;
            position: relative;
            font-style: italic;
        }
        
        blockquote:before {
            content: '"';
            position: absolute;
            top: -10px;
            right: 8px;
            font-size: 3.5em;
            color: #ccc;
            line-height: 1;
        }
        
        blockquote p {
            display: block;
            margin: 0 0 0.75em 0;
        }
        
        blockquote p:last-child {
            margin-bottom: 0;
        }
        
        
        body {
            line-height: 1.8;
        }
        
        .container {
            max-width: 800px;
            margin: 20px auto;
            background: white;
            padding: 40px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
        }
        
        header {
            margin-bottom: 40px;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 20px;
        }
        
        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .post-meta {
            color: #7f8c8d;
            font-size: 0.9em;
        }
        
        .post-meta .date {
            margin-left: 15px;
        }
        
        .post-meta .categories,
        .post-meta .tags {
            display: inline;
        }
        
        .post-meta .categories a,
        .post-meta .tags a {
            color: #3498db;
            text-decoration: none;
            margin: 0 5px;
        }
        
        .post-meta .categories a:hover,
        .post-meta .tags a:hover {
            text-decoration: underline;
        }
        
        article {
            font-size: 1.1em;
        }
        
        article h2 {
            margin-top: 30px;
            margin-bottom: 15px;
            color: #34495e;
            font-size: 1.8em;
        }
        
        article h3 {
            margin-top: 25px;
            margin-bottom: 12px;
            color: #34495e;
            font-size: 1.4em;
        }
        
        article p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        article ul, article ol {
            margin-right: 30px;
            margin-bottom: 15px;
        }
        
        article li {
            margin-bottom: 8px;
        }
        
        article code {
            background-color: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        
        article pre {
            background-color: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin-bottom: 20px;
            direction: ltr;
            text-align: left;
        }
        
        article pre code {
            background-color: transparent;
            padding: 0;
            color: inherit;
        }
        
        /* Image styles - responsive and contained */
        article img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 20px auto;
        }
        
        /* Math rendering styles */
        .math {
            direction: ltr;
        }
        
        span.math {
            direction: ltr;
        }
        
        /* Override RTL for KaTeX */
        .katex {
            direction: ltr;
            unicode-bidi: embed;
        }
        
        div.math {
            display: block;
            text-align: center;
            padding: 15px 0;
            direction: ltr;
        }
        
        /* RTL adjustments for code blocks */
        .highlight {
            direction: ltr;
            text-align: left;
        }
        
        footer {
            margin-top: 60px;
            padding-top: 20px;
            border-top: 1px solid #e0e0e0;
            text-align: center;
            color: #95a5a6;
            font-size: 0.9em;
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2em;
            }
            
            article {
                font-size: 1em;
            }
        }
        
        /* Post navigation */
        .post-navigation {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #e0e0e0;
            gap: 20px;
        }
        
        .post-navigation .nav-link {
            flex: 1;
            text-decoration: none;
            color: #2c3e50;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 5px;
            transition: background 0.2s;
        }
        
        .post-navigation .nav-link:hover {
            background: #e9ecef;
        }
        
        .post-navigation .nav-prev {
            text-align: right;
        }
        
        .post-navigation .nav-next {
            text-align: left;
        }
        
        .post-navigation .nav-label {
            font-size: 0.85em;
            color: #7f8c8d;
            display: block;
            margin-bottom: 5px;
        }
        
        .post-navigation .nav-title {
            font-weight: bold;
            font-size: 1.1em;
        }

    </style>
</head>
<body>
    <nav class="top-nav">
        <div class="nav-container">
            <a href="/new_blog/" class="site-title">לא מדויק</a>
            <div class="nav-links">
                <a href="/new_blog/">דף הבית</a>
                <a href="/new_blog/random.html">פוסט אקראי</a>
                <a href="/new_blog/post_list.html">כל הפוסטים</a>
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="חיפוש...">
                    <button onclick="searchPosts()">חפש</button>
                </div>
            </div>
        </div>
    </nav>
    
    
    <div class="container">
        <!-- Post Navigation -->
        
        <nav class="post-navigation">
            
            <a href="/new_blog/2014/02/24/emmy_noether/" class="nav-link nav-prev">
                <span class="nav-label">פוסט ישן יותר →</span>
                <span class="nav-title">אמי נתר (או: על נשים ומתמטיקה וחוקי שימור טובים פחות וטובים יותר)</span>
            </a>
            

            
            <a href="/new_blog/2014/03/29/student_and_computer_21-24/" class="nav-link nav-next">
                <span class="nav-label">← פוסט חדש יותר</span>
                <span class="nav-title">פרוייקט &#34;התלמיד והמחשב&#34;, בעיות 21-24</span>
            </a>
            
        </nav>
        
        
        <header>
            <h1>המחט של בופון</h1>
            <div class="post-meta">
                <span class="date">2014-03-14</span>
                
                <span class="categories">
                    | קטגוריות:
                    
                    <a href="/categories/אנליזה מתמטית.html">אנליזה מתמטית</a>
                    
                    <a href="/categories/מספרים.html">מספרים</a>
                    
                    <a href="/categories/משחקים וחידות מתמטיות.html">משחקים וחידות מתמטיות</a>
                    
                </span>
                
                
                <span class="tags">
                    | תגיות:
                    
                    <a href="/tags/המחט של בופון.html">המחט של בופון</a>
                    
                    <a href="/tags/פאי.html">פאי</a>
                    
                    <a href="/tags/תוצאות לא אינטואיטיביות.html">תוצאות לא אינטואיטיביות</a>
                    
                </span>
                
            </div>
        </header>
        
        <article>
            <p>היום חל "יום פאי", כלומר תאריך היום הוא ה-14/3, שבארצות פחות מתוקנות נכתב כ-3.14, כלומר כמו התחלת הפיתוח העשרוני של הקבוע <span class="math">\(\pi\)</span>, פאי (היחס בין היקף מעגל לקוטרו בגאומטריה האוקלידית) - ומכאן, תירוץ לחגוג ולאכול פאי עם פאי.</p>
<p><strong><a href="/new_blog/img/2014/03/pi-pie.jpg"><img class="alignnone size-full wp-image-3079" alt="pi pie" src="/new_blog/img/2014/03/pi-pie.jpg" width="176" height="176" /></a></strong></p>
<p>מבחינתי זה תירוץ לכתוב פוסט על משהו שבו מופיע <span class="math">\(\pi\)</span>, ורצוי משהו קליל יחסית. דוגמה נפלאה ל"משהו" כזה שטרם הופיע בבלוג בשום צורה היא בעיית המחט של בופון. בפשטות, הבעיה אומרת את הדבר הבא: יש לנו מחברת שורות ואנחנו זורקים עליה מחט. מה ההסתברות שהמחט תיפול על קו מפריד כלשהו במחברת?</p>
<p>ברור שהשאלה הזו תלויה בשני פרמטרים - אורך המחט, והרוחב של כל שורה (דהיינו, מה המרחק בין כל שני קווים מפרידים של שורות). נסמן את אורך המחט ב-<span class="math">\(l\)</span> ואת הרוחב של שורה ב-<span class="math">\(d\)</span>. בציור הבא אפשר לראות את השורות ברוחב <span class="math">\(d\)</span> ושני מחטים באורך <span class="math">\(l\)</span>, שאחת מהן לא נפלה על אף קו מפריד, ואחת כן נפלה:</p>
<p><strong><a href="/new_blog/img/2014/03/needles1.png"><img class="alignnone size-full wp-image-3080" alt="needles1" src="/new_blog/img/2014/03/needles1.png" width="811" height="399" /></a></strong></p>
<p>קל להגיע למסקנה שיש הבדל כלשהו בין הסיטואציה שבה <span class="math">\(l&gt;d\)</span>, כלומר המחט גדולה מרוחב שורה ולכן אם היא נופלת בזווית שמאונכת לקווים המפרידים היא על בטוח חוצה קו מפריד שכזה, ובין הסיטואציה שבה <span class="math">\(l\le d\)</span>. אני הולך לדבר <strong>רק</strong> על הסיטואציה השניה, מהטעם הפשוט שהנוסחה יוצאת הרבה יותר פשוטה ונחמדה בה, והרעיון עבור <span class="math">\(l&gt;d\)</span> הוא אותו רעיון, עם עוד פרטים טכניים.</p>
<p>איך זה קשור לפאי? פשוט מאוד - התשובה הולכת לערב את פאי איכשהו, למרות שאין לו רמז בניסוח השאלה, ואפילו אין בשאלה מעגלים (מעגלים הם המקור הטבעי לפאי). אז מאיפה פאי הגיע? נראה די מהר שבאופן די טבעי אפשר לערב מעגלים בשאלה ואפילו כדאי, ושפאי מגיע מהם.</p>
<p>אני רוצה להראות בפוסט הזה שני פתרונות לבעיה. הראשון יהיה שימוש סטנדרטי בחשבון אינפיניטסימלי - מסוג הדברים שסביר לתת לסטודנטים להסתברות לעשות. במילים אחרות, זה יהיה פתרון נכון ופשוט, אבל הוא לא יהיה כל כך <strong>מעניין</strong>. הפתרון השני הוא מגניב משמעותית מהראשון וגם נלמד עוד דברים מתוך ההוכחה שלו, אבל אני מעדיף "להוציא מהמערכת" את הפתרון הסטנדרטי קודם כל. למי שלא מתעניין בפתרון הזה או שהפרטים הטכניים מרתיעים אותו - פשוט תקפצו מעליו, לא אכפת לי. אני אשב עם האינטגרל שלי לבד, בחושך. הכל בסדר.</p>
<p>אוקיי, אז מה עושים? ראשית כל צריך לחדד עניינים כמו מה מרחב ההסתברות שלנו וכדומה. כשאנחנו "זורקים" מחט, מה אנחנו בעצם מגרילים? שני דברים - את ה<strong>זווית</strong> שלה (ביחס לציר <span class="math">\(x\)</span>, כפי שבדרך כלל מחשבים זווית של ישרים) ואת ה<strong>מיקום</strong> שלה. אני אסתכל על אחת מהקצוות של המחט בתור ה"ראשית" שלה, והמיקום של המחט יהיה המיקום של הראשית הזו. הזווית תימדד ביחס לסיבוב שבו משאירים את הראשית קבועה (כלומר, מסובבים את המחט סביב הראשית ובודקים כמה סיבוב עם כיוון השעון נדרש כדי "להחזיר" אותה למצב שבו היא מתלכדת עם ציר <span class="math">\(x\)</span>). לא קשה לראות שהמיקום ה<strong>אופקי</strong> של המחט, או השאלה באיזו שורה במחברת הראשית של המחט נפלה, הן חסרות חשיבות - כל מה שחשוב הוא הזווית, שהיא מספר <span class="math">\(0\le\theta\le2\pi\)</span> (הנה פאי!) והגובה של הראשית מעל הקו המפריד התחתון בשורה, <span class="math">\(0\le h\le d\)</span>. הנה ציור שמבהיר את זה:</p>
<p><strong><a href="/new_blog/img/2014/03/needles2.png"><img class="alignnone size-full wp-image-3081" alt="needles2" src="/new_blog/img/2014/03/needles2.png" width="811" height="204" /></a></strong></p>
<p>המספרים <span class="math">\(\theta,h\)</span> הללו נבחרים בהתפלגות אחידה מתוך התחומים שלהם. לכן (מנימוקים סטנדרטיים בהסתברות), ההסתברות שהמחט תחצה קו מפריד היא בדיוק היחס בין שטח של קבוצת כל הנקודות <span class="math">\(\left(\theta,h\right)\)</span> שעבורן המחט חוצה קו מפריד ובין השטח של כל הנקודות <span class="math">\(\left(\theta,h\right)\)</span> הרלוונטיות בכלל. אם כן, נשאלת השאלה: בהינתן <span class="math">\(\theta\)</span>, מה הערכים של <span class="math">\(h\)</span> שעבורם יש חצייה?</p>
<p>ובכן, בהינתן <span class="math">\(\theta,h\)</span>, השאלה היא מה גובה הקצה של המחט שאינו הראשית. התשובה היא שימוש סטנדרטי בטריגונומטריה: <span class="math">\(h+l\sin\theta\)</span>.</p>
<p>כאשר <span class="math">\(\theta&gt;\pi\)</span> הגובה הוא <strong>נמוך יותר</strong> מאשר <span class="math">\(h\)</span>. כדי לחסוך לעצמי פירוק למקרים, פשוט אצביע על כך שהמקרה הזה סימטרי למקרה של <span class="math">\(0\le\theta\le\pi\)</span> ולכן מעכשיו אסתפק בהנחה ש-<span class="math">\(0\le\theta\le\pi\)</span>. במקרה זה, על מנת שהמחט תחצה קו מפריד, צריך להתקיים <span class="math">\(h+l\sin\theta&gt;d\)</span> (אגב, כל הדיבורים על "לחצות" את הקו המפריד מיותרים - גם אם נרשה למחט לגעת בלי לחצות החישובים שלנו לא ישתנו, מכיווון שההסתברות של כל מאורעות ה"נגיעה" הללו היא אפס - אין להם "שטח" - אבל נעזוב את זה). במילים אחרות, צריך להתקיים <span class="math">\(h&gt;d-l\sin\theta\)</span>. מכאן אנחנו מקבלים את החישוב הבא של שטח קבוצת כל הנקודות שעבורן יש חציה:</p>
<p><span class="math">\(\int_{0}^{\pi}\left(\int_{d-l\sin\theta}^{d}dh\right)d\theta=\int_{0}^{\pi}\left(d-\left(d-l\sin\theta\right)\right)d\theta=l\int_{0}^{\pi}\sin\theta d\theta=l\left(-\cos\pi+\cos0\right)=2l\)</span></p>
<p>והשטח של קבוצת כל הנקודות הרלווניטות הוא שטח המלבן שאורכי צלעותיו <span class="math">\(\pi\)</span> ו-<span class="math">\(d\)</span>, כלומר <span class="math">\(d\pi\)</span>. בסך הכל אנחנו מקבלים את הנוסחה <span class="math">\(\frac{2}{\pi}\frac{l}{d}\)</span> - וזו אכן הנוסחה הנכונה. לא קשה לראות שהחישוב הזה נשבר אם <span class="math">\(d&lt;l\)</span> וזה תרגיל טוב למצוא את הנוסחה במקרה הזה, אבל היא יוצאת מזעזעת, כאמור, וחבל.</p>
<p>אוקיי, אז סיימנו עם הפתרון הפשוט, ועכשיו אפשר לדבר בשקט על הפתרון המסובך בלי שאף אחד מהקהל יציץ וישאל "אבל למה לא פתרת עם אינטגרלים וזהו?!". אני רוצה לפתור בלי אינטגרלים כי הפתרון המסורבל יותר הוא פשוט יותר יפה ומהנה.</p>
<p>לפני שאציג אותו, קוריוז חביב שקשור לנוסחה שכבר מצאנו. כפי שאנחנו רואים, <span class="math">\(\pi\)</span> נמצא בנוסחה הזו בצורה פשוטה מאוד. זה מצביע על כך שאם נצליח, עבור <span class="math">\(l,d\)</span> נתונים, לחשב מספרית את ההסתברות לכך שהסיכה תחצה קו, נוכל לקבל מכך קירוב של פאי. איך אפשר לבצע את החישוב הזה? ובכן, פשוט תזרקו סיכות ותראו מה קורה! לטכניקת חישוב הסתברותית שכזו קוראים "שיטת מונטה-קרלו" (אין שיטה <strong>ספציפית</strong> שנקראת "מונטה-קרלו"; זה שם כללי להרבה שיטות חישוב שונות). בשנת 1901, מתמטיקאי בשם לזאריני טען שהוא באמת עשה את זה - השליך סיכות על מחברת וספר בכמה פעמים הסיכה נפלה על הקו. הוא זרק 3408 סיכות, כך ש-<span class="math">\(\frac{l}{d}\)</span> היה <span class="math">\(\frac{5}{6}\)</span>, ומצא שבדיוק ב-1808 מהפעמים הסיכות נפלו על הקו. אז מה הקירוב של פאי שנקבל כאן? <span class="math">\(\frac{2}{\pi}\frac{5}{6}\approx\frac{1808}{3408}\)</span>, כלומר</p>
<p><span class="math">\(\pi\approx\frac{10}{6}\cdot\frac{3408}{1808}=\frac{355}{113}=3.1415929\dots\)</span></p>
<p>זה קירוב די פנטסטי. למעשה, פנטסטי <strong>מדי</strong>. <span class="math">\(\frac{355}{113}\)</span> הוא הקירוב הטוב ביותר לפאי באמצעות מספר רציונלי עם מונה ומכנה קטנים (הקירוב המפורסם האחר הוא <span class="math">\(\frac{22}{7}\)</span> שגם הוא מצויין אבל פחות טוב). זה מתחיל להסביר לנו למה לזאריני הטיל סיכה בדיוק 3408 פעמים - מספר מוזר ולא עגול לכל הדעות - ולמה הוא בחר את <span class="math">\(l,d\)</span> בצורה שנותנת <span class="math">\(\frac{l}{d}=\frac{5}{6}\)</span> הוא ניסה להנדס את הקירוב <span class="math">\(\frac{355}{113}\)</span>!</p>
<p>בואו נראה את זה מתמטית. אם <span class="math">\(p\)</span> היא ההסתברות להפיל מחט על קו מפריד, אז <span class="math">\(\frac{2}{\pi}\frac{l}{d}=p\)</span>, כלומר <span class="math">\(\pi=\frac{2}{p}\frac{l}{d}\)</span>. אם אנחנו רוצים לקבל את הקירוב <span class="math">\(\pi\approx\frac{355}{113}\)</span>, אנחנו צריכים שיתקיים <span class="math">\(\frac{355}{113}=\frac{2l}{d}\cdot\frac{T}{a}\)</span>, כאשר <span class="math">\(T\)</span> הוא מספר הנסיונות הכולל שלנו ו-<span class="math">\(a\)</span> הוא מספר ההצלחות. עכשיו, מספר ההצלחות הוא תמיד מספר שלם, וצריך להתקיים <span class="math">\(a=\frac{113}{355}\cdot\frac{2l}{d}T\)</span> - שוויון ממש! במילים אחרות, הסיכוי לקבל את הקירוב הנפלא הזה ל-<span class="math">\(\pi\)</span> הוא רק אם <span class="math">\(a\)</span> יוצא "בסדר" כאשר <span class="math">\(T\)</span> כפול <span class="math">\(\frac{113}{355}\cdot\frac{2l}{d}\)</span> יוצא מספר שלם. לכן, אם לזאריני רוצה לעבוד כמה שפחות קשה, הוא רוצה לבחור את <span class="math">\(\frac{113}{355}\cdot\frac{2l}{d}\)</span> בצורה שבה המכנה יהיה קטן. <span class="math">\(355=5\cdot71\)</span> ולכן מתבקש לבחור <span class="math">\(l=5\)</span> כדי לנטרל את ה-5 שב-355. נקבל <span class="math">\(\frac{113}{71}\cdot\frac{2}{d}\)</span>. אנחנו חייבים לבחור את <span class="math">\(d\)</span> להיות גדול מ-<span class="math">\(l\)</span>, וככל שהוא יותר גדול כך זה מקשה עלינו יותר, אז נבחר <span class="math">\(d=6\)</span> ונקל <span class="math">\(\frac{113}{71}\cdot\frac{1}{3}=\frac{113}{213}\)</span>.</p>
<p>מה יוצא מכל זה בפועל? שעל כל 213 השלכות סיכה שלזאריני מבצע, יש לו סיכוי לקבל את הקירוב הנפלא <span class="math">\(\frac{355}{113}\)</span> לפאי, אם רק יתמזל מזלו ויתקיים שב-<span class="math">\(T\)</span> השלכות הסיבה שבוצעו עד כה, בדיוק <span class="math">\(\frac{113}{213}T\)</span> מההשלכות נפלו על הקו. כעת, <span class="math">\(\frac{3408}{213}=16\)</span>, כלומר ללזאריני היו 16 "הזדמנויות" כאלו לפני שהוא קיבל את מבוקשו, ואז הפסיק מייד (כל השלכה נוספת הייתה מקלקלת לו את הקירוב הנפלא). זה כמובן מסביר את המספר המוזר והלא עגול <span class="math">\(3408\)</span> ואת הבחירה של <span class="math">\(l,d\)</span>. לטעמי לזאריני אמנם יצא רמאי, אבל רמאי משעשע והניתוח של הרמאות שלו הוא מהנה, אז אני שמח שהוא רימה ככה.</p>
<p>כעת בואו נעבור לפתרון היפה יותר לבעיית המחט. הרעיון הוא לפתור בעיה כללית יותר: אנחנו זורקים מחט מאורך <span class="math">\(l\)</span> <strong>כלשהו</strong> (גם <span class="math">\(l&gt;d\)</span>) בצורה אקראית ושואלים <strong>כמה</strong> קווים המחט הולכת לחתוך. במילים אחרות, אנחנו מגדירים משתנה מקרי <span class="math">\(X\)</span> שסופר את החיתוכים של המחט עם הקווים המפרידים, ותוהים מה ה<strong><a href="http://www.gadial.net/2010/08/14/random_variables/">תוחלת</a> </strong>של המשתנה הזה, <span class="math">\(E\left[X\right]\)</span>. פתרון כללי לשאלה הזו נותן גם פתרון כללי לשאלת ההסתברות במקרה של <span class="math">\(l&lt;d\)</span>, מכיוון שאז מספר החיתוכים הוא או 1 או 0, כלומר המשתנה המקרי הוא מה שנקרא <strong>אינדיקטור</strong> והתוחלת שלו שווה להסתברות שהוא יקבל 1.</p>
<p>ולמה כל כך מועיל לעבור לדבר על תוחלת? בגלל שיש לתוחלת תכונה נפלאה, קסם של ממש, שנקראת <strong>לינאריות</strong>. אם <span class="math">\(X,Y\)</span> הם שני משתנים מקריים, אז מתקיים <span class="math">\(E\left[X+Y\right]=E\left[X\right]+E\left[Y\right]\)</span>, וזה נכון <strong>גם אם המשתנים תלויים הסתברותית</strong>.</p>
<p>איך ננצל את תכונת התוחלת הזו? על ידי התעלול הבא: נניח שאנחנו זורקים מחט באורך <span class="math">\(l\)</span> באקראי, אבל חושבים על המחט בתור <strong>שתי</strong> מחטים ש"הודבקו" אחת לשניה - מחט אחת מאורך <span class="math">\(x\)</span> והמחט השניה מאורך <span class="math">\(y\)</span>. אז <span class="math">\(E\left[l\right]=E\left[x+y\right]=E\left[x\right]+E\left[y\right]\)</span> (כאן אני עושה מה שמכונה Abuse of notation - אני כותב את אורכי המחטים במקום לטרוח ולכתוב שמות של משתנים מקריים שמייצגים את המחטים מהאורך הזה).</p>
<p>אז מה קיבלנו? תשכחו לשניה מהסתברות ותוחלות וכאלה. יש לנו פונקציה <span class="math">\(f\)</span> שמוגדרת על כל הממשיים החיוביים, ומקיימת <span class="math">\(f\left(x+y\right)=f\left(x\right)+f\left(y\right)\)</span>. משוואה כזו נקראת <strong>משוואה פונקציונלית</strong>, כי הנעלם בה הוא בכלל <span class="math">\(f\)</span> - אנחנו מבקשים לדעת אילו פונקציות <span class="math">\(f\)</span> הן פתרון למשוואה הזו. המשוואה הספציפית הזו היא מפורסמת - היא נקראת "המשוואה הפונקציונלית של קושי". בעבר כבר <a href="http://www.gadial.net/2010/03/27/exponent/">הראיתי בבלוג</a> איך פותרים משוואה פונקציונלית דומה ("המשוואה הפונקציונלית האקספוננציאלית של קושי), המשוואה <span class="math">\(f\left(x+y\right)=f\left(x\right)\cdot f\left(y\right)\)</span>. טכניקת הפתרון כאן היא דומה:</p>
<p>ראשית, שימו לב לכך ש-<span class="math">\(f\left(2x\right)=f\left(x\right)+f\left(x\right)=2f\left(x\right)\)</span>. כעת תעשו אותו דבר עם <span class="math">\(n\)</span> עותקים של <span class="math">\(x\)</span> ותקבלו <span class="math">\(f\left(nx\right)=nf\left(x\right)\)</span> לכל <span class="math">\(n\)</span> טבעי (אפשר להוכיח פורמלית באינדוקציה). השלב הבא הוא לשים לב לכך ש-<span class="math">\(f\left(x\right)=f\left(\frac{x}{m}+\dots+\frac{x}{m}\right)=mf\left(\frac{x}{m}\right)\)</span>, אז קיבלנו <span class="math">\(f\left(\frac{x}{m}\right)=\frac{1}{m}f\left(x\right)\)</span>. על כן, <span class="math">\(f\left(\frac{n}{m}x\right)=nf\left(\frac{1}{m}x\right)=\frac{n}{m}f\left(x\right)\)</span>, או במילים אחרות - <span class="math">\(f\left(rx\right)=rf\left(x\right)\)</span> לכל <span class="math">\(r\)</span> רציונלי. אם נסמן <span class="math">\(f\left(1\right)=c\)</span>, אז קיבלנו <span class="math">\(f\left(r\right)=f\left(1\cdot r\right)=rf\left(1\right)=cr\)</span> לכל <span class="math">\(r\)</span> רציונלי. מה קורה עם מספרים אי רציונליים? באופן כללי צריך עוד הנחה על האופי של <span class="math">\(f\)</span>.</p>
<p>במקרה שלנו אנחנו יודעים ש-<span class="math">\(f\)</span> היא <strong>מונוטונית</strong>, כלומר מקיימת שאם <span class="math">\(x&lt;y\)</span> אז <span class="math">\(f\left(x\right)\le f\left(y\right)\)</span> (למה? כי במקרה שלנו, אם <span class="math">\(x&lt;y\)</span> אז <span class="math">\(y=x+z\)</span> כאשר גם <span class="math">\(z\)</span> חיובי, ואז <span class="math">\(E\left[y\right]=E\left[x+y\right]=E\left[x\right]+E\left[z\right]\ge E\left[x\right]\)</span>). זה מסיים את הסיפור לכל <span class="math">\(x\)</span> ממשי ומוכיח ש-<span class="math">\(f\left(x\right)=cx\)</span>. שכן אפשר לקחת שני רציונליים <span class="math">\(r_{1},r_{2}\)</span> כך ש-<span class="math">\(r_{1}&amp;lt;x&amp;lt;r_{2}\)</span> והם קרובים ל-<span class="math">\(x\)</span> כרצוננו, ויתקיים <span class="math">\(f\left(r_{1}\right)\le f\left(x\right)\le f\left(r_{2}\right)\)</span>, דהיינו <span class="math">\(cr_{1}\le f\left(x\right)\le cr_{2}\)</span>. כאשר <span class="math">\(r_{1}\)</span> ו-<span class="math">\(r_{2}\)</span> שואפים ל-<span class="math">\(x\)</span>, הביטויים משמאל ומימין שואפים ל-<span class="math">\(cx\)</span> ולכן הפונקציה באמצע שואפת ל-<span class="math">\(cx\)</span> גם כן ("כלל הסנדוויץ'").</p>
<p>אם לחזור למחט של בופון, קיבלנו ש-<span class="math">\(E\left[l\right]=c\cdot l\)</span>. רק נותר להבין מיהו <span class="math">\(c\)</span> המדובר. אנחנו כבר יודעים שהוא אמור להיות <span class="math">\(c=\frac{2}{\pi d}\)</span>, אבל איך מגיעים אל זה?</p>
<p>כאן מגיע הקסם הנפלא, שבזכותו ההוכחה הזו כל כך אדירה. כבר ראינו קודם שמחט ארוכה אפשר לקחת ולחשוב עליה כעל שתי מחטים קטנות יותר "דבוקות" זו לזו - כל מה שחשוב הוא שסכום אורכי המחטים הוא אורך המחט המקורית. הנקודה היא שאפשר לעשות את זה גם בצורה קיצונית יותר - גם אם המחט שלנו היא <strong>לא קו ישר</strong> אלא אוסף של קווים ישרים מחוברים - "עקום פוליגונלי". למשל זה:</p>
<p><a href="/new_blog/img/2014/03/needles3.png"><img class="alignnone size-full wp-image-3082" alt="needles3" src="/new_blog/img/2014/03/needles3.png" width="811" height="267" /></a></p>
<p>זה לא משנה איך ה"מחטים" שמהם מורכב העקום מחוברות זו לזו - כל מה שחשוב הוא סכומי האורכים שלהן. אפשר לחשוב על ניסוי השלכת הצורה הפוליגונלית על המחברת בתור אוסף של השלכות של כל המחטים האינדיבידואליות; כמובן, בגלל שהמחטים דבוקות זו לזו אז הניסויים הללו תלויים מבחינה הסתברותית, אבל כבר אמרתי שהקטע עם "התוחלת היא סכום התוחלות" <strong>לא מושפע</strong> מזה.</p>
<p>ועכשיו הפאנץ': בואו ניקח בתור ה"מחט" שלנו <strong>מעגל</strong>. כמובן, מעגל הוא לא עקום פוליגונלי, אבל אפשר לקרב אותו כרצוננו עם עקומים פוליגונליים כך שכדי להוכיח את מה שאטען כרגע על מעגל רק צריך עוד קצת ביסוס טכני שלא אכנס אליו (הוא תרגיל מצויין כדי לוודא שהבנתם מה קורה פה). אז חזרה למעגל - אני אקח מעגל שקוטרו הוא בדיוק <span class="math">\(d\)</span>. מעגל כזה, לא משנה איך תשימו אותו, הולך להכיל בדיוק שני חיתוכים עם קווים מפרידים (שוב, ייתכן שהוא רק ישיק לשניהם, אבל זה מקרה עם הסתברות 0 ואפשר גם לדבר על "נגיעה בקווים מפרידים" במקום "חיתוך" אם זה מפריע למישהו). הנה, תראו הוכחה על ידי תמונה:</p>
<p><strong><a href="/new_blog/img/2014/03/needles4.png"><img class="alignnone size-full wp-image-3083" alt="needles4" src="/new_blog/img/2014/03/needles4.png" width="820" height="381" /></a></strong></p>
<p>אם כן, אנחנו יודעים שעבור <span class="math">\(l=\pi d\)</span> (היקף מעגל שקוטרו <span class="math">\(d\)</span>, כמובן) מתקיים <span class="math">\(E\left[\pi d\right]=c\pi d=2\)</span>, כלומר <span class="math">\(c=\frac{2}{\pi d}\)</span> וסיימנו. לא יודע מה איתכם, אותי הטיעון הזה, עם המעגל שבא משום מקום, פשוט הפיל לקרקע מרוב שהוא אדיר.</p>
<p>מי שהמציא/גילה את ההוכחה הנפלאה הזו הוא המתמטיקאי הצרפתי Joseph-Émile Barbier. אבל הוא לא עצר כאן - למעשה, מה שעשינו כאן הוא הוכחה לתוצאה עוד יותר מעניינת, שמושגת כאשר הופכים את מה שעשינו כאן על פיו. לצורך כך, בואו נאמר שצורה קמורה היא בעלת <strong>רוחב קבוע</strong> <span class="math">\(d\)</span> אם לכל שני קווים מקבילים שמשיקים לצורה, המרחק ביניהם הוא <span class="math">\(d\)</span>. מעגל הוא בבירור צורה כזו, עם רוחב ששווה לקוטר שלה, אבל יש עוד צורות, למשל "<a href="http://en.wikipedia.org/wiki/Reuleaux_triangle">משולש רולו</a>":</p>
<p><strong><a href="/new_blog/img/2014/03/triangle.jpg"><img class="alignnone size-full wp-image-3084" alt="triangle" src="/new_blog/img/2014/03/triangle.jpg" width="160" height="160" /></a></strong></p>
<p>כעת, בהוכחה של הנוסחה עבור המחט של בופון השתמשנו במעגל עם קוטר <span class="math">\(d\)</span> כי זו צורה פשוטה ונחמדה, אבל <strong>כל צורה קמורה</strong> עם רוחב קבוע <span class="math">\(d\)</span> הייתה עובדת באותה המידה. הרוחב הקבוע אומר שלא משנה איך נשליך אותה על המחברת שלנו (כלומר, איך "סובבנו" אותה), או ששני קווי גבול במחברת ישיקו לה, או שבדיוק קו גבול אחד יעבור דרכה - ומכיוון שהיא קמורה, המשמעות היא שהוא יחתוך אותה בדיוק בשתי נקודות (לצורות לא קמורות זה לא עובד).</p>
<p>אם כן, ניקח צורה קמורה כלשהי מרוחב קבוע <span class="math">\(d\)</span> ועם היקף <span class="math">\(l\)</span>. תוחלת מספר החיתוכים כשמשליכים אותה על המחברת הוא מצד אחד 2 מהסיבה שפירטתי כרגע, ומצד שני על פי הנוסחה הוא <span class="math">\(\frac{2l}{\pi d}\)</span>. מסקנה: <span class="math">\(\frac{2l}{\pi d}=2\)</span>, או <span class="math">\(l=\pi d\)</span>. כלומר, ההיקף של הצורה הוא <strong>תמיד</strong> <span class="math">\(\pi d\)</span>, בין אם היא מעגל ובין אם לאו. להציב <span class="math">\(d=1\)</span> נותן את התוצאה הזו בצורה אפילו יותר ברורה, למי שפספס אותי לרגע:</p>
<p>כל צורה קמורה בעלת רוחב קבוע 1 היא בעלת היקף <span class="math">\(\pi\)</span>.</p>
<p>לא רק מעגלים.</p>
<p>את יום פאי הבא נחגוג עם פאי בצורת משולש רולו?</p>
        </article>
        
        <footer>
            <p>© כל הזכויות שמורות לגדי אלכסנדרוביץ'</p>
        </footer>
    </div>

    
    <script>
        function searchPosts() {
            const searchTerm = document.getElementById('searchInput').value;
            if (searchTerm.trim()) {
                window.location.href = '/new_blog/post_list.html?search=' + encodeURIComponent(searchTerm);
            }
        }
        
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchPosts();
            }
        });
    </script>
    
    
    <!-- Auto-render KaTeX math -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            renderMathInElement(document.body, {
                delimiters: [
                    {left: "\\[", right: "\\]", display: true},
                    {left: "\\(", right: "\\)", display: false}
                ],
                throwOnError: false
            });
        });
    </script>

</body>
</html>