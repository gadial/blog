<!DOCTYPE html>
<html lang="he" dir="rtl"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>פרוייקט “התלמיד והמחשב”, בעיות 21-24 | לא מדויק</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="פרוייקט “התלמיד והמחשב”, בעיות 21-24" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="לא מדויק - בלוג על מתמטיקה ומדעי המחשב" />
<meta property="og:description" content="לא מדויק - בלוג על מתמטיקה ומדעי המחשב" />
<link rel="canonical" href="http://gadial.net/2014/03/29/student_and_computer_21-24/" />
<meta property="og:url" content="http://gadial.net/2014/03/29/student_and_computer_21-24/" />
<meta property="og:site_name" content="לא מדויק" />
<meta property="og:image" content="http://gadial.net/assets/img/main/default-card.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2014-03-29T22:38:04+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:image" content="http://gadial.net/assets/img/main/default-card.png" />
<meta property="twitter:title" content="פרוייקט “התלמיד והמחשב”, בעיות 21-24" />
<meta name="twitter:site" content="@" />
<script type="application/ld+json">
{"@type":"BlogPosting","url":"http://gadial.net/2014/03/29/student_and_computer_21-24/","image":"http://gadial.net/assets/img/main/default-card.png","headline":"פרוייקט “התלמיד והמחשב”, בעיות 21-24","dateModified":"2014-03-29T22:38:04+00:00","datePublished":"2014-03-29T22:38:04+00:00","description":"לא מדויק - בלוג על מתמטיקה ומדעי המחשב","mainEntityOfPage":{"@type":"WebPage","@id":"http://gadial.net/2014/03/29/student_and_computer_21-24/"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link href="/assets/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="stylesheet" href="/assets/css/main.css">
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/favicon.ico" type="image/x-icon"><link type="application/atom+xml" rel="alternate" href="http://gadial.net/feed.xml" title="לא מדויק" /><script>
if(!(window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1")) {
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-3924539-2', 'auto');
  ga('send', 'pageview');
}
</script>
  
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        processEscapes: true
      },
      TeX: {extensions: ["AMSmath.js","AMSsymbols.js"]},
      "HTML-CSS": { 
        linebreaks: { automatic: true }
      },
      SVG: { 
        linebreaks: { automatic: true } 
      }
    });
  </script>
  <!-- "https://www.gadial.net/wp-includes/js/xypic.js" -->

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>
  
</head>
<body><header>
  <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
    <a class="navbar-brand" href="/">לא מדויק</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarCollapse">
      <ul class="navbar-nav mr-auto">
        
            
            <li class="nav-item">
                <a class="nav-link" href="/lecture_notes">סיכומי הרצאות</a>
            </li>
            
        
            
            <li class="nav-item">
                <a class="nav-link" href="/">דף הבית</a>
            </li>
            
        
            
            <li class="nav-item">
                <a class="nav-link" href="/categories">קטגוריות</a>
            </li>
            
        
            
            <li class="nav-item">
                <a class="nav-link" href="/random">דף אקראי</a>
            </li>
            
        
            
            <li class="nav-item">
                <a class="nav-link" href="/about/">אודות</a>
            </li>
            
        
      </ul>
      <form class="form-inline mt-2 mt-md-0" action="/post_list/" method="get">
        <input class="form-control mr-sm-2" type="text" placeholder="חיפוש" aria-label="חיפוש" name="s">
        <button class="btn btn-outline-success my-2 my-sm-0" type="submit">חיפוש</button>
      </form>
    </div>
  </nav>
</header><main class="page-content" aria-label="Content" role="main">
      <div class="wrapper text-right">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting"><div class="PageNavigation">
    
      <a class="prev" href="/2014/03/14/buffon_needle/">&laquo; המחט של בופון</a>
    
    
      <a class="next" href="/2014/04/02/student_and_computer_25/">פרוייקט "התלמיד והמחשב", בעיה 25 &raquo;</a>
    
  </div><header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">פרוייקט &quot;התלמיד והמחשב&quot;, בעיות 21-24</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2014-03-29T22:38:04+00:00" itemprop="datePublished">Mar 29, 2014
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>בשעה טובה הגענו ב<a href="http://www.gadial.net/2013/05/27/student_and_computer_1/">פרוייקט "התלמיד והמחשב"</a> לחלקו השני של הספר - חלק שאמור להבטיח שאלות קצת יותר מעניינות מאשר בחלק הראשון, אבל בתרגילים הראשונים שעליהם אדבר הפעם לא ממש מקיים. לכן אעבור על הבעיות יחסית במהירות ואפתור אותן רק ברובי. עדיין, יש כמה דברים נחמדים שיצא לי לספר תוך כדי, אז אל תברחו.</p>

<p><strong>בעיה מס' 21</strong></p>

<p>בבעיה הראשונה אנחנו צריכים לקבל מספרים שמתארים אורכים של צלעות של משולש, ולומר האם המספרים הללו אכן מסוגלים לתאר משולש חוקי. מה זה אומר? מתי מספרים עשויים לא לתאר משולש חוקי? ובכן, תכונה בסיסית של משולשים היא שסכום אורכי כל שתי צלעות הוא גדול או שווה לאורך הצלע השלישית. זו תופעה כל כך בסיסית עד שבמתמטיקה משתמשים בה בכל מקום, תחת השם “אי שוויון המשולש”. בניסוח כללי, אם <span>\( d(a,b) \)</span> הוא המרחק מ-<span>\( a \)</span> אל <span>\( b \)</span> אז אי-שוויון המשולש אומר ש-<span>\( d(a,b)\le d(a,c)+d(c,b) \)</span> לכל “נקודת ביניים” <span>\( c \)</span>. אם תציירו משולש שקודקודיו <span>\( a,b,c \)</span> יהיה ברור מה הקשר.</p>

<p>אז איך בודקים שמשולש הוא חוקי? בספר פשוט מבצעים if עם שלושה תנאים, אבל זה הרי קל מדי. אני רוצה פתרון מתחכם שקצת יציג את היכולות של רובי, ויקטין את הצורך שלי לכתוב קוד שהוא דומה-אבל-קצת-שונה (לכתוב “a+b&gt;c וגם a+c&gt;b וגם b+c&gt;a”). אז הנה אבחנה טריוויאלית: אם <span>\( a,b,c \)</span> הם אורכי הצלעות של ה”משולש”, ואם, נניח, $a&gt;b+c$, אז $a+a&gt;a+b+c$, כלומר $2a&gt;a+b+c$. מה שטוב בביטוי הזה הוא שה-<span>\( a+b+c \)</span> הוא סכום קבוע שלא תלוי באיבר הנוכחי שאנחנו בודקים. אז הנה הקריטריון שלנו: משולש הוא <strong>לא חוקי</strong> אם קיים <span>\( x \)</span> כך ש-$2x&gt;a+b+c$.</p>

<p>בשביל לממש את זה ברובי בשורה אחת שנראית אלגנטית, אני צריך שתי פונקציות שלא קיימות ברובי - פונקציה בשם sum שמקבלת מערך וסוכמת את איבריו, ופונקציה בשם exist שמקבלת מערך ומקבלת קריטריון כלשהו וקובעת האם יש במערך איבר שמקיים את הקריטריון הזה. אז אני פשוט אממש את שתי הפונקציות הללו. ומכיוון שרובי היא מה שנקרא שפה מונחית עצמים, מה שאני אממש יהיו <strong>מתודות</strong> של המחלקה “מערך”. למי שלא ברור לו מה אמרתי, הנה הסבר על קצה המזלג:</p>

<p>בתכנות פשוט, אנחנו מפרידים בין המידע שאנחנו פועלים עליו ובין הפונקציות שאנחנו קוראים להן. יש משתנים, ויש פונקציות שמקבלות משתנים. בשפה פשוטה כמו C זה כל מה שיש. אבל בשפות תכנות אחרות אנחנו לעתים קרובות מערבבים בצורה כלשהי בין המידע ובין הפונקציות שאמורות לפעול ישירות עליו. אנחנו מגדירים מה שנקרא <strong>מחלקה</strong>. מחלקה מגדירה לנו טיפוס נתונים חדש, שכל מופע קונקרטי שלו נקרא “אובייקט” (טוב, בעברית אומרים “עצם” אבל יש גבול). אובייקט יכול לכלול גם שדות מידע, וגם שדות של פונקציות - שנקראות “מתודות” (טוב, בעברית אומרים “שיטות” אבל יש גבול). מה שמבדיל מתודה של אובייקט מסתם פונקציה היא שהמתודה מקבלת את האובייקט “בחינם” - יש לה גישה חופשית לשפות המידע שלו ולשאר המתודות שלו, לרוב מבלי שתצטרך לציין במפורש איפה הן נמצאות. הפעלה של מתודה של אובייקט בדרך כלל מתבצעת על ידי כתיבה של שם האובייקט, נקודה, ואז שם המתודה (להבדיל מקריאה לפונקציה שבה כותבים את שם הפונקציה ואז מעבירים אליה את האובייקט בסוגריים - אם כי ברובי אפשר לרוב לוותר על הסוגריים).</p>

<p>ברובי מערך הוא מחלקה בסיסית ביותר, עם אוסף גדול של מתודות שבאות “יחד עם המחלקה”. עדיין, לפעמים מתחשק להוסיף כאלו. אז ברובי פשוט אפשר להוסיף - בקובץ שלי זה נראה כאילו אני “מגדיר מחדש” את המחלקה, ובסך הכל שם בה שתי מתודות - אבל בפועל הוא מוסיף אותן למחלקה, לא מגדיר מחדש את המחלקה. זו תכונה יחסית חריגה - ברוב שפות התכנות שאני מכיר אין אפשרות לשנות מחלקות בצורה כזו, של הוספת עוד מתודות “בדיעבד”. אני מאוד מחבב את התכונה הזו, אבל יש לה גם פוטנציאל אדיר לאסון כשעובדים על פרוייקט גדול עם כמה מתכנתים וכל אחד מתעלל במחלקות סטנדרטיות בלי שהשני ידע מה הוא בדיוק עשה. אז תיזהרו!</p>

<p>הנה הקוד שלי:</p>

<div class="code-block">

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">Array</span>
  <span class="k">def</span> <span class="nf">exist?</span>
    <span class="n">each</span><span class="p">{</span><span class="o">|</span><span class="n">x</span><span class="o">|</span> <span class="k">return</span> <span class="kp">true</span> <span class="k">if</span> <span class="k">yield</span><span class="p">(</span><span class="n">x</span><span class="p">)}</span>
    <span class="kp">false</span>
  <span class="k">end</span>
  <span class="k">def</span> <span class="nf">sum</span>
    <span class="n">inject</span><span class="p">(:</span><span class="o">+</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="n">sides</span> <span class="o">=</span> <span class="no">ARGV</span><span class="p">.</span><span class="nf">collect</span><span class="p">{</span><span class="o">|</span><span class="n">x</span><span class="o">|</span> <span class="n">x</span><span class="p">.</span><span class="nf">to_i</span><span class="p">}</span>
<span class="nb">print</span> <span class="s2">"il"</span> <span class="k">if</span> <span class="n">sides</span><span class="p">.</span><span class="nf">exist?</span><span class="p">{</span><span class="o">|</span><span class="n">a</span><span class="o">|</span> <span class="mi">2</span><span class="o">*</span><span class="n">a</span> <span class="o">&gt;</span> <span class="n">sides</span><span class="p">.</span><span class="nf">sum</span><span class="p">}</span>
<span class="nb">puts</span> <span class="s2">"legal triangle"</span></code></pre></figure>

</div>

<p>שורה 12 היא העיקר כאן. אני משתמש בתעלול דלוח שמתבסס על כך שההבדל באנגלית בין לומר “משולש חוקי” ובין לומר “משולש לא חוקי” הוא il שמופיעות בהתחלה, והתנאי לכתיבה של il הזה הוא בדיוק מה שאמרתי קודם - מבין הצלעות של המשולש, קיימת כזו שהגודל שלה כפול 2 גדול מסכום אורכי הצלעות.</p>

<p>ההגדרה של sum היא קסם שכבר <a href="http://www.gadial.net/2013/09/03/student_and_computer_16-20-ruby/">הראיתי בפוסט קודם</a>, אבל ההגדרה של exist משתמשת בקסם חדש - המילה yield. הרעיון בה הוא כזה: שימו לב של-exist העברתי בשורה 12 כפרמטר בלוק שמקבל קלט a ומבצע בדיקה כלשהי (כלומר, מחזיר ערך שהוא true או false). מה ש-yield בתוך מתודה עושה הוא לקחת את הבלוק שהועבר כקלט למתודה (אם הועבר; אחרת יש לנו תקלה), ו”להריץ” אותו על הפרמטרים שהועברו ל-yield (כלומר, במקרה שלנו a של הבלוק יאותחל להיות ה-x שאנחנו בודקים). אגב, לפייתוניסטים שבחבורה, שימו לב שבפייתון למילה yield יש שימוש דומה-אבל-שונה - זה בהחלט לא אותו השימוש, אז זהירות!</p>

<p><strong>בעיה מס' 22</strong>
כאן הבעיה היא זו: נתונים שני מספרים <span>\( a,b \)</span>. מה המספר הקטן ביותר <span>\( c \)</span> כך שאם כופלים אותו ב-<span>\( b \)</span> עוברים את <span>\( a \)</span>, כלומר <span>\( a &lt; bc \)</span>?</p>

<p>כאן אני קצת תוהה מה השאלה הזו עושה בחלק השני של הספר - היא קלה ולא מחכימה. אבל מילא. הפתרון הוא של שורה קצרה אחת וזהו:</p>

<div class="code-block">

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="no">ARGV</span><span class="p">.</span><span class="nf">collect</span><span class="p">{</span><span class="o">|</span><span class="n">x</span><span class="o">|</span> <span class="n">x</span><span class="p">.</span><span class="nf">to_i</span><span class="p">}</span>
<span class="nb">puts</span> <span class="p">(</span><span class="n">a</span><span class="o">/</span><span class="n">b</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span></code></pre></figure>

</div>

<p>למה זה עובד? כי <span>\( a/b \)</span> נותן את מה שמקבלים כשמחלקים את <span>\( a \)</span> ב-<span>\( b \)</span> כשהוא מעוגל כלפי מטה לשלם הקרוב ביותר. תוסיפו לזה 1, ומובטח שכפל ב-<span>\( b \)</span> יקפיץ אותנו מעל <span>\( a \)</span>. אפילו לא הצלחתי לחשוב על אספקט מעניין של רובי שאפשר לתאר פה. בואו נעבור הלאה.</p>

<p><strong>בעיה מס' 23</strong>
כאן מקבלים מספר כלשהו ומוצאים מה המספר שצריך להוסיף לו כדי לקבל משהו שמתחלק ב-10. הפתרון המקורי בספר מסובך נורא, כי כנראה חסר לו אופרטור סטנדרטי בשפות תכנות, של מודולו. <span>\( a % b \)</span> הוא שארית החלוקה של <span>\( a \)</span> ב-<span>\( b \)</span> וכמעט מה שאנחנו צריכים פה:</p>

<div class="code-block">

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">a</span> <span class="o">=</span> <span class="no">ARGV</span><span class="p">.</span><span class="nf">first</span><span class="p">.</span><span class="nf">to_i</span>
<span class="nb">puts</span> <span class="p">(</span><span class="mi">10</span> <span class="o">-</span> <span class="n">a</span><span class="p">)</span> <span class="o">%</span> <span class="mi">10</span></code></pre></figure>

</div>

<p>ההוכחה שזה עובד היא חשבון מודולרי בסיסי ואשאיר אותה לכם. רק שימו לב להתנהגות של % על מספרים שליליים: למשל, <span>\( -3 % 10 = 7 \)</span>. הסיבה לכך היא שההגדרה של מודולו היא בעצם קצת יותר מורכבת מזו שנתתי למעלה - המשמעות המדויקת של <span>\( a % b \)</span> היא “המספר <span>\( x \)</span> בין 0 ל-<span>\( b-1 \)</span> כך שההפרש <span>\( a-x \)</span> מתחלק על ידי <span>\( b \)</span>”.</p>

<p><strong>בעיה מס' 24</strong>
זו השאלה ה”קלה מדי” האחרונה, ובמובן מסויים גם הגרועה שבכולן. נתון לנו ריבוע עם אורך צלע <span>\( a \)</span> ובונים ממנו ריבוע חדש, על ידי כך שמותחים קווים בין אמצעי הצלעות של הריבוע הקיים. השאלה היא מה שטח הריבוע החדש. הנה פתרון ישיר:</p>

<div class="code-block">

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">a</span> <span class="o">=</span> <span class="no">ARGV</span><span class="p">.</span><span class="nf">first</span><span class="p">.</span><span class="nf">to_i</span>
<span class="nb">puts</span> <span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="nf">to_f</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span></code></pre></figure>

</div>

<p>מה עשיתי פה? משפט פיתגורס. אם אורך הצלע של הריבוע המקורי היא <span>\( a \)</span> אז ממשפט פיתגורס, <strong>ריבוע</strong> אורך הצלע של הריבוע החדש - כלומר, השטח שלו - הוא <span>\( 2\left(\frac{a}{2}\right)^2 \)</span>. למה? כי ציירו את זה רגע לעצמכם ושימו לב שכל צלע של הריבוע החדש היא היתר במשולש ישר זווית שבו הניצבים הם חצי מצלע הריבוע. אם הייתי טורח לפתוח את הביטוי הייתם רואים ששטח הריבוע הוא בדיוק חצי משטח הריבוע המקורי (וגם תעלול של חפיפת משולשים יראה את זה, למי שרוצים הוכחה גאומטרית).</p>

<p>החל מהפעם הבאה - בעיות יותר מעניינות, מבטיח!</p>

  </div>

  <hr />
  <p>
    נהניתם? התעניינתם? אם תרצו, אתם מוזמנים לתת טיפ:
  </p>
  <a href='https://ko-fi.com/H2H5XFBQ' target='_blank'><img height='36' style='border:0px;height:36px;' src='https://az743702.vo.msecnd.net/cdn/kofi2.png?v=2' border='0' alt='Buy Me a Coffee at ko-fi.com' /></a><div class="PageNavigation">
    
      <a class="prev" href="/2014/03/14/buffon_needle/">&laquo; המחט של בופון</a>
    
    
      <a class="next" href="/2014/04/02/student_and_computer_25/">פרוייקט "התלמיד והמחשב", בעיה 25 &raquo;</a>
    
  </div><div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = 'http://gadial.net/2014/03/29/student_and_computer_21-24/';
      this.page.identifier = 'http://gadial.net/2014/03/29/student_and_computer_21-24/';
    };

    (function() {
      var d = document, s = d.createElement('script');

      s.src = 'https://not-precise.disqus.com/embed.js';

      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript><a class="u-url" href="/2014/03/29/student_and_computer_21-24/" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">לא מדויק</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">לא מדויק</li><li><a class="u-email" href="mailto:gadial@gmail.com">gadial@gmail.com</a></li><li>&copy; כל הזכויות שמורות לגדי אלכסנדרוביץ'</li>
        </ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://www.facebook.com/%D7%9C%D7%90-%D7%9E%D7%93%D7%95%D7%99%D7%A7-163347110378474"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#facebook"></use></svg> <span class="username">לא מדויק</span></a></li><li><a href="/feed.xml"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#rss"></use></svg> <span>RSS</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>בלוג על מתמטיקה ומדעי המחשב</p>
      </div>
    </div>

  </div>

</footer><script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script>window.jQuery || document.write('<script src="assets/js/jquery-slim.min.js"><\/script>')</script><script src="/assets/js/bootstrap.bundle.js"></script><!-- Default Statcounter code for New blog
http://www.gadial.net/ -->
<script type="text/javascript">
  var sc_project=5444342; 
  var sc_invisible=1; 
  var sc_security="4a89cbe4"; 
  </script>
  <script type="text/javascript"
  src="https://www.statcounter.com/counter/counter.js"
  async></script>
  <noscript><div class="statcounter"><a title="Web Analytics"
  href="https://statcounter.com/" target="_blank"><img
  class="statcounter"
  src="https://c.statcounter.com/5444342/0/4a89cbe4/1/"
  alt="Web Analytics"></a></div></noscript>
  <!-- End of Statcounter Code --></body>

</html>
