<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>משפט ארבעת הריבועים של לגראנז&#39; - לא מדויק</title>
    
    
    <!-- KaTeX for math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>

    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', 'David', 'Tahoma', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
        }
        
        /* Top navigation bar */
        .top-nav {
            background: #2c3e50;
            padding: 15px 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .top-nav .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
        }
        
        .top-nav .site-title {
            font-size: 1.5em;
            font-weight: bold;
            color: white;
            text-decoration: none;
            white-space: nowrap;
        }
        
        .top-nav .nav-links {
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .top-nav .nav-links a {
            color: #ecf0f1;
            text-decoration: none;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background 0.2s;
            white-space: nowrap;
        }
        
        .top-nav .nav-links a:hover {
            background: #34495e;
        }
        
        .top-nav .search-box {
            display: flex;
            gap: 5px;
        }
        
        .top-nav .search-box input {
            padding: 5px 10px;
            border: none;
            border-radius: 4px;
            font-size: 0.9em;
            min-width: 150px;
        }
        
        .top-nav .search-box button {
            padding: 5px 15px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .top-nav .search-box button:hover {
            background: #2980b9;
        }
        
        
        body {
            line-height: 1.8;
        }
        
        .container {
            max-width: 800px;
            margin: 20px auto;
            background: white;
            padding: 40px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
        }
        
        header {
            margin-bottom: 40px;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 20px;
        }
        
        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .post-meta {
            color: #7f8c8d;
            font-size: 0.9em;
        }
        
        .post-meta .date {
            margin-left: 15px;
        }
        
        .post-meta .categories,
        .post-meta .tags {
            display: inline;
        }
        
        .post-meta .categories a,
        .post-meta .tags a {
            color: #3498db;
            text-decoration: none;
            margin: 0 5px;
        }
        
        .post-meta .categories a:hover,
        .post-meta .tags a:hover {
            text-decoration: underline;
        }
        
        article {
            font-size: 1.1em;
        }
        
        article h2 {
            margin-top: 30px;
            margin-bottom: 15px;
            color: #34495e;
            font-size: 1.8em;
        }
        
        article h3 {
            margin-top: 25px;
            margin-bottom: 12px;
            color: #34495e;
            font-size: 1.4em;
        }
        
        article p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        article ul, article ol {
            margin-right: 30px;
            margin-bottom: 15px;
        }
        
        article li {
            margin-bottom: 8px;
        }
        
        article code {
            background-color: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        
        article pre {
            background-color: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin-bottom: 20px;
            direction: ltr;
            text-align: left;
        }
        
        article pre code {
            background-color: transparent;
            padding: 0;
            color: inherit;
        }
        
        /* Image styles - responsive and contained */
        article img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 20px auto;
        }
        
        /* Math rendering styles */
        .math {
            direction: ltr;
        }
        
        span.math {
            direction: ltr;
        }
        
        /* Override RTL for KaTeX */
        .katex {
            direction: ltr;
            unicode-bidi: embed;
        }
        
        div.math {
            display: block;
            text-align: center;
            padding: 15px 0;
            direction: ltr;
        }
        
        /* RTL adjustments for code blocks */
        .highlight {
            direction: ltr;
            text-align: left;
        }
        
        footer {
            margin-top: 60px;
            padding-top: 20px;
            border-top: 1px solid #e0e0e0;
            text-align: center;
            color: #95a5a6;
            font-size: 0.9em;
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2em;
            }
            
            article {
                font-size: 1em;
            }
        }
        
        /* Post navigation */
        .post-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            padding-top: 30px;
            border-top: 2px solid #e0e0e0;
            gap: 20px;
        }
        
        .post-navigation .nav-link {
            flex: 1;
            text-decoration: none;
            color: #2c3e50;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 5px;
            transition: background 0.2s;
        }
        
        .post-navigation .nav-link:hover {
            background: #e9ecef;
        }
        
        .post-navigation .nav-prev {
            text-align: right;
        }
        
        .post-navigation .nav-next {
            text-align: left;
        }
        
        .post-navigation .nav-label {
            font-size: 0.85em;
            color: #7f8c8d;
            display: block;
            margin-bottom: 5px;
        }
        
        .post-navigation .nav-title {
            font-weight: bold;
            font-size: 1.1em;
        }

    </style>
</head>
<body>
    <nav class="top-nav">
        <div class="nav-container">
            <a href="/" class="site-title">לא מדויק</a>
            <div class="nav-links">
                <a href="/">דף הבית</a>
                <a href="/random.html">פוסט אקראי</a>
                <a href="/post_list.html">כל הפוסטים</a>
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="חיפוש...">
                    <button onclick="searchPosts()">חפש</button>
                </div>
            </div>
        </div>
    </nav>
    
    
    <div class="container">
        <header>
            <h1>משפט ארבעת הריבועים של לגראנז&#39;</h1>
            <div class="post-meta">
                <span class="date">2014-04-04</span>
                
                <span class="categories">
                    | קטגוריות:
                    
                    <a href="/categories/תורת המספרים.html">תורת המספרים</a>
                    
                </span>
                
                
                <span class="tags">
                    | תגיות:
                    
                    <a href="/tags/גם טכני זה כיף!.html">גם טכני זה כיף!</a>
                    
                    <a href="/tags/הוכחות.html">הוכחות</a>
                    
                    <a href="/tags/משפט ארבעת הריבועים של לגראנז&#39;.html">משפט ארבעת הריבועים של לגראנז&#39;</a>
                    
                    <a href="/tags/סכומי ריבועים.html">סכומי ריבועים</a>
                    
                    <a href="/tags/קווטרניונים.html">קווטרניונים</a>
                    
                </span>
                
            </div>
        </header>
        
        <article>
            <p>אני רוצה לדבר על אחת מהתוצאות הנחמדות ביותר (לטעמי) בתורת המספרים האלמנטרית - משפט ארבעת הריבועים של לגראנז'. בפשטות, המשפט אומר שאפשר להציג כל מספר טבעי בתור סכום של ארבעה ריבועים של מספרים טבעיים (כש-0 נחשב למספר טבעי). הנה דוגמאות עבור המספרים הטבעיים מ-1 עד 7:</p>
<p><span class="math">\(1=1^{2}+0^{2}+0^{2}+0^{2}\)</span></p>
<p><span class="math">\(2=1^{2}+1^{2}+0^{2}+0^{2}\)</span></p>
<p><span class="math">\(3=1^{2}+1^{2}+1^{2}+0^{2}\)</span></p>
<p><span class="math">\(4=2^{2}+0^{2}+0^{2}+0^{2}\)</span></p>
<p><span class="math">\(5=2^{2}+1^{2}+0^{2}+0^{2}\)</span></p>
<p><span class="math">\(6=2^{2}+1^{2}+1^{2}+0^{2}\)</span></p>
<p><span class="math">\(7=2^{2}+1^{2}+1^{2}+1^{2}\)</span></p>
<p>הפסקתי ב-7 בכוונה - הוא הדוגמה הראשונה שיש לנו למספר שאנחנו <strong>חייבים</strong> ארבעה ריבועים כדי לקבל אותו (תוכיחו! זה בסך הכל כולל בדיקה של כמה מקרים). מה שמפתיע כאן הוא ש-4 זה <strong>כל מה שצריך</strong> - ואפשר לייצג כל מספר, גדול ומורכב ככל שיהיה, כסכום של ארבעה ריבועים.</p>
<p>כשאני אומר שזה משפט בתורת המספרים "האלמנטרית" הכוונה היא לכך שלא משתמשים בכלים מתמטיים כבדים שנדרשת היכרות מוקדמת איתם - ההוכחה מסתמכת על <a href="http://www.gadial.net/2013/05/13/modular_arithmetic/">חשבון מודולורי</a> ותו לא (וחשבון מודולורי הוא לגמרי הלחם והחמאה של תורת המספרים). זה לא אומר שההוכחה היא אלמנטרית, למרות שהיא לא מסובכת במיוחד; הפוסט הזה כן יהיה טכני, וקשה יהיה להבין את ההוכחה בלי להתעמק קצת בפרטים הטכניים הללו. וזה בסדר גמור ואין עם זה בעיה - בלי להתעסק בפרטים הטכניים מפספסים לא מעט מהכיף שבמתמטיקה, לטעמי.</p>
<p>את ההוכחה עצמה אפשר לחלק לשני חלקים: ראשית, מראים שאפשר לצמצם את הבעיה כך שמספיק להוכיח שכל מספר <strong>ראשוני</strong> ניתן להצגה כסכום של ארבעה ראשונים; ואז מראים את זה עבור ראשוניים. הרדוקציה הזו ל"מספיק להוכיח על ראשוניים" היא לכשעצמה טכניקה נפוצה בתורת המספרים והיא עובדת יפה גם כאן (כי יותר קל להוכיח עבור ראשוני שהוא סכום של ארבעה ריבועים מאשר עבור מספר כללי). אז בואו נתחיל קודם כל מהחלק הראשון - לשכנע אתכם שמספיק להוכיח שכל ראשוני הוא סכום של ארבעה ריבועים.</p>
<p>הטענה שאני רוצה להוכיח היא זו: אם <span class="math">\(a\)</span> ניתן להצגה כסכום של ארבעה ריבועים, ו-<span class="math">\(b\)</span> ניתן להצגה כסכום של ארבעה ריבועים, אז גם <span class="math">\(ab\)</span> (המכפלה שלהם) ניתן להצגה כסכום של ארבעה ריבועים. נשמע לכם טריוויאלי או מובן מאליו? אין בעיה - קחו דקה בצד ונסו להוכיח את זה. כנראה שתגלו שזה לא פשוט כמו שזה נראה.</p>
<p>אם הוכחתי את הטענה הזו, אז נובע מייד שמספיק להוכיח את המשפט עבור ראשוניים. למה? ובכן, ראשית, טריוויאלי להכליל את הטענה עבור מכפלה של מספר סופי של מספרים (כלומר, המכפלה של כל מספר סופי של מספרים, שכולם סכום של ארבעה ריבועים, גם היא סכום של ארבעה ריבועים). שנית, כל מספר גדול מ-1 הוא מכפלה של מספר סופי של ראשוניים, ולכן אם כל הראשוניים הם סכום של ארבעה ריבועים, כל מספר הוא כזה (למעט 0 ו-1 אבל כבר ראינו מה קורה איתם). הנה דוגמה קלאסית לאופן שבו היות הראשוניים "אבני הבניין" של כל המספרים עוזר לנו.</p>
<p>ובכן, נניח ש-<span class="math">\(a,b\)</span> הם סכום של ארבעה ריבועים. למה גם <span class="math">\(ab\)</span> כזה? התשובה: זה כואב. מה כואב? לראות את הנוסחה המתאימה. מה שעושים הוא לכתוב הצגה של <span class="math">\(a\)</span> כסכום של ארבעה ריבועים, ואת <span class="math">\(b\)</span> כסכום של ארבעה ריבועים, ואז לכתוב את הביטוי המדויק שמתאר את <span class="math">\(ab\)</span> בתור סכום של ארבעה ריבועים. אפשר לפתוח סוגריים ולראות שהכל יוצא כמו שצריך, אבל זה כואב. כמו כן, מי זוכר איך בכלל הנוסחה הזו נראית? האם אני צריך לזכור את הנוסחה בעל פה? ממתי צריך לזכור דברים במתמטיקה בעל פה? האם אני יכול לכתוב את החלק הזה של הפוסט מהראש בלי להעתיק מספר? ובכן, יש תעלול אחד שיקל עלי את החיים, ויתן לי תירוץ להציג מושג חדש ומעניין בפני עצמו: קווטרניונים.</p>
<p>לקווטרניונים היסטוריה מרתקת משל עצמם אבל לא אכנס אליה כרגע. הרעיון הבסיסי בהם הוא להרחיב בצורה מסויימת את המספרים המרוכבים. אם המספרים המרוכבים הם מספרים מהצורה <span class="math">\(a+bi\)</span> כאשר <span class="math">\(a,b\in\mathbb{R}\)</span> ו-<span class="math">\(i\)</span> מקיים ש-<span class="math">\(i^{2}=-1\)</span>, אז הקווטרניונים (מעל הממשיים; יש מושג כללי יותר של אלגברת קווטרניונים שלא אכנס אליו כאן) הם מספרים מהצורה <span class="math">\(a+bi+cj+dk\)</span> כאשר <span class="math">\(a,b,c,d\in\mathbb{R}\)</span> ו-<span class="math">\(i^{2}=j^{2}=k^{2}=-1\)</span>, והמכפלות של <span class="math">\(i,j,k\)</span> מתוארות על ידי הכלל "כפל על פי הסדר נותן את הבא בתור, וכפל בסדר הפוך נותן את המינוס שלו". מה זאת אומרת? הנה המשוואות:</p>
<p><span class="math">\(ij=k\)</span> ו-<span class="math">\(ji=-k\)</span></p>
<p><span class="math">\(jk=i\)</span> ו-<span class="math">\(kj=-i\)</span></p>
<p><span class="math">\(ki=j\)</span> ו-<span class="math">\(ik=-j\)</span></p>
<p>(למעשה, מספיקות רק המשוואות <span class="math">\(ij=k,jk=i,ki=j\)</span> והמשוואה <span class="math">\(i^{2}=j^{2}=k^{2}=-1\)</span> כדי שניתן יהיה להסיק את היתר).</p>
<p>הנה דוגמה פשוטה למכפלה של שני קווטרניונים:</p>
<p><span class="math">\(\left(4+3i\right)\left(2+5k\right)=8+6i+20k+15ik=8+6i-15j+20k\)</span></p>
<p>עכשיו, למספרים מרוכבים יש <strong>נורמה</strong>, שהיא מדד ל"גודל" שלהם (פורמלית - המרחק של המספר המרוכב מראשית הצירים). הנורמה מסומנת בסימן של ערך מוחלט, ומוגדרת בתור <span class="math">\(\left|a+bi\right|=\sqrt{a^{2}+b^{2}}\)</span>, או <span class="math">\(\left|a+bi\right|^{2}=a^{2}+b^{2}\)</span>. תכונה חשובה של הנורמה הזו היא שהיא <strong>כפלית</strong>, כלומר <span class="math">\(\left|a+bi\right|\left|x+yi\right|=\left|\left(a+bi\right)\left(x+yi\right)\right|\)</span>. הרעיון הוא שעם קווטרניונים זה אותו הדבר בדיוק.</p>
<p>איך זה קשור לענייננו? ובכן, אם <span class="math">\(a+bi+cj+dk\)</span> הוא קווטרניון, אז הנורמה שלו בריבוע היא בדיוק <span class="math">\(a^{2}+b^{2}+c^{2}+d^{2}\)</span>, כלומר סכום של ארבעה ריבועים. ולהפך: לכל ארבעה מספרים שנרצה, אפשר לבנות קווטרניון שהנורמה שלו בריבוע היא סכום הריבועים של המספרים (פשוט לוקחים את המספרים להיות מקדמי הקווטרניון). כעת, אם <span class="math">\(p,q\)</span> הם קווטרניונים, אז המשוואה <span class="math">\(\left|p\right|^{2}\left|q\right|^{2}=\left|pq\right|^{2}\)</span> אומרת לנו בדיוק שמכפלת שני סכומים ארבעה ריבועים (<span class="math">\(\left|p\right|^{2}\)</span> ו-<span class="math">\(\left|q\right|^{2}\)</span>) היא בעצמה סכום של ארבעה ריבועים (<span class="math">\(\left|pq\right|^{2}\)</span>).</p>
<p>כעת ברור גם איך אפשר למצוא את הנוסחה במפורש: ניקח את <span class="math">\(\left(a+bi+cj+dk\right)\)</span> ונכפול אותו ב-<span class="math">\(\left(x+yi+zj+uk\right)\)</span>, ונבדוק את הנורמה של מה שנקבל. זה לא יהיה נעים. זה יהיה כואב. אבל לפחות לא אצטרך להעתיק נוסחה משום מקום ואוכל לפתח את הכל בעצמי - ותאמינו לי, זה מרגיש יותר טוב.</p>
<p>ובכן:</p>
<p><span class="math">\(\left(a+bi+cj+dk\right)\left(x+yi+zj+uk\right)=\left(ax-by-cz-du\right)+\)</span></p>
<p><span class="math">\(\left(ay+bx+cu-dz\right)i+\left(az-bu+cx+dy\right)j+\left(au+bz-cy+dx\right)k\)</span></p>
<p>ולכן קיבלתי את הנוסחה הבאה להצגה של מכפלת שני סכומי ארבעה ריבועים כסכום של ארבעה ריבועים:</p>
<p><span class="math">\(\left(a^{2}+b^{2}+c^{2}+d^{2}\right)\left(x^{2}+y^{2}+z^{2}+u^{2}\right)=\)</span></p>
<p><span class="math">\(\left(ax-by-cz-du\right){}^{2}+\left(ay+bx+cu-dz\right)^{2}+\left(az-bu+cx+dy\right)^{2}+\left(au+bz-cy+dx\right)^{2}\)</span></p>
<p>עדיין לא הוכחתי שהנוסחה נכונה, כי הסתמכתי על ההנחה שהנורמה של הקווטרניונים כפלית - אבל כאמור, מרגע שיש לנו את הנוסחה מול העיניים אפשר סתם לפתוח את הסוגריים ולראות שהיא עובדת. למי שבכל זאת רוצה דרך עקיפה, אפשר להסתמך על כך שקווטרניונים ניתנים לייצוג על ידי מטריצות מסדר <span class="math">\(2\times2\)</span> מעל המרוכבים, באופן הבא: המספר <span class="math">\(a+bi+cj+dk\)</span> מיוצג על ידי המטריצה <span class="math">\(\left[\begin{array}{cc}a+bi & c+di\\-c+di & a-bi\end{array}\right]\)</span>. כמובן, עכשיו צריך לבדוק שהייצוג הזה באמת נכון (כלומר, לכפול שתי מטריצות ולראות שמתקבלת המכפלה שציפינו לה), אבל מרגע שבדקנו את זה, סיימנו: הנורמה של הקווטרניון היא פשוט הדטרמיננטה של המטריצה (לראות את זה - זה מיידיי לחלוטין) ודטרמיננטה של מטריצות היא כפלית.</p>
<p>איבדתם אותי? גם אם כן, לא נורא - זה לא פוסט על קווטרניונים ולא חייבים להבין את מה שעשיתי פה בשביל ההמשך - כל מה שחשוב הוא שמכאן והלאה מספיק לנו להוכיח את משפט לגראנז' עבור ראשוניים בלבד. וכאן אנחנו מתחילים להשתמש בטיעוני תורת המספרים.</p>
<p>המתווה של ההוכחה מעתה והלאה הוא זה: יהא <span class="math">\(p\)</span> מספר ראשוני אי זוגי כלשהו (ב-2 כבר טיפלנו במפורש קודם, ובהמשך הוא יעשה בעיות כפי שהוא בדרך כלל עושה אז נניח ש-<span class="math">\(p\)</span> שונה ממנו). בשלב ראשון אני אמצא מספר <span class="math">\(1\le m&lt;p\)</span> כלשהו כך ש-<span class="math">\(mp\)</span>הוא סכום של ארבעה ריבועים - זה יהיה די קל, באופן אולי מפתיע. לדוגמה, נניח שאני רוצה להוכיח ש-13 הוא סכום של 4 ריבועים, אני אתחיל מלהוכיח ש-65 (ששווה ל-<span class="math">\(13\cdot5\)</span>) הוא סכום של ארבעה ריבועים כי קל לי לראות את זה: <span class="math">\(65=8^{2}+1^{2}+0^{2}+0^{2}\)</span>. עכשיו, אחרי שמצאתי <span class="math">\(m\)</span> כזה, אני רוצה להתחיל "להצטמצם". אני אוכיח שאם יש <span class="math">\(1&lt;m&lt;p\)</span> כך ש-<span class="math">\(mp\)</span> הוא סכום של ארבעה ריבועים, אז קיים <span class="math">\(1\le n&lt;m\)</span> כך ש-<span class="math">\(np\)</span> הוא עדיין סכום של ארבעה ריבועים - כלומר, הקטנתי את מי שמוכפל ב-<span class="math">\(p\)</span>. ואז אני יכול לחזור על ההוכחה הזו גם עבורו, ושוב ושוב עד שלבסוף בהכרח אגיע ל-<span class="math">\(p\)</span> עצמו (כלומר, כשהוא מוכפל ב-1). ההוכחה של השלב הזה - הנסיגה הזו כלפי מטה - היא החלק הקשה והטכני ביותר בהוכחה (אבל לא לדאוג, גם הוא לא כל כך נורא).</p>
<p>כדי להוכיח שקיים <span class="math">\(m&lt;p\)</span> כך ש-<span class="math">\(mp\)</span> הוא סכום של ארבעה ריבועים, אני אסתכל על <span class="math">\(\mathbb{Z}_{p}\)</span> - שדה המספרים מודולו <span class="math">\(p\)</span>, ואוכיח שיש בו פתרון למשוואה <span class="math">\(x^{2}+y^{2}+1=0\)</span>, כלומר ש-<span class="math">\(p|x^{2}+y^{2}+1\)</span>, כלומר שקיים <span class="math">\(m\)</span> כך ש-<span class="math">\(mp=x^{2}+y^{2}+1=x^{2}+y^{2}+1^{2}+0^{2}\)</span>, ואם יהיה לי חסם טוב כלשהו על הגודל של <span class="math">\(x,y\)</span> אז גם אוכל לחסום את הגודל של <span class="math">\(m\)</span>. זה המקום הראשון שבו העובדה שהצטמצמנו לדיבור על ראשוני <span class="math">\(p\)</span> עוזרת; למשל, ב-<span class="math">\(\mathbb{Z}_{8}\)</span> אין פתרון למשוואה הזו, כי <span class="math">\(x^{2}\)</span> מודולו 8 יכול להיות רק 0 או 1 או 4. אז מה ההבדל בין ראשוני ולא ראשוני? ב-<span class="math">\(\mathbb{Z}_{8}\)</span> מה שקורה הוא שיש ארבעה מספרים שבריבוע נותנים 1 - 1,3,5,7, כלומר ל-1 יש ארבעה שורשים; לעומת זאת, עבור <span class="math">\(p\)</span> ראשוני לכל מספר יש לכל היותר שני שורשים - זה נובע מכך ש-<span class="math">\(\mathbb{Z}_{p}\)</span> הוא שדה ולכן לפולינום ממעלה <span class="math">\(n\)</span> מעל <span class="math">\(\mathbb{Z}_{p}\)</span> יש לכל היותר <span class="math">\(n\)</span> שורשים (ולכן לפולינום <span class="math">\(x^{2}-a\)</span> יש לכל היותר שני שורשים, כלומר ל-<span class="math">\(a\)</span> יש לכל היותר שני שורשים).</p>
<p>ספציפית ב-<span class="math">\(\mathbb{Z}_{p}\)</span>, ל-0 יש רק שורש אחד (0) ולכל מספר אחר שהוא ריבוע יש בדיוק שני שורשים (אם <span class="math">\(a=x^{2}\)</span> אז <span class="math">\(y=-x\)</span> גם הוא שורש כי <span class="math">\(y^{2}=\left(-x\right)^{2}=x^{2}=a\)</span>, ולא ייתכן ש-<span class="math">\(x=y\)</span> כי אם <span class="math">\(x=-x\)</span> אז <span class="math">\(2x=0\)</span> מודולו <span class="math">\(p\)</span> ולכן <span class="math">\(p\)</span> מחלק את 2). זה אומר שאם נגדיר את הקבוצה <span class="math">\(S=\left\{ a^{2}\ |\ a\in\mathbb{Z}_{p}\right\} \)</span>, גודלה יהיה בדיוק <span class="math">\(\frac{p+1}{2}\)</span>. למה? כי בואו ניקח את כל המספרים ב-<span class="math">\(\mathbb{Z}_{p}\)</span> ונעלה אותם בריבוע. 0 הוא מקרה מיוחד, ופרט אליו נשארים <span class="math">\(p-1\)</span> איברים שאפשר לסדר בזוגות שנותנים את אותו ריבוע, כלומר נקבל <span class="math">\(\frac{p-1}{2}+1\)</span> ריבועים בסך הכל, וזה שווה ל-<span class="math">\(\frac{p+1}{2}\)</span>.</p>
<p>עכשיו בואו נביט שוב על המשוואה שאנו רוצים לפתור: <span class="math">\(x^{2}+y^{2}+1=0\)</span>, כלומר <span class="math">\(x^{2}=-1-y^{2}\)</span>. אם נצליח למצוא ריבוע שהוא גם מהצורה <span class="math">\(-1-y^{2}\)</span> ניצחנו; נגדיר <span class="math">\(S^{\prime}=\left\{ -1-a\ |\ a\in S\right\} \)</span>. אם <span class="math">\(a\ne b\)</span> אז <span class="math">\(-1-a\ne-1-b\)</span> ולכן גם הגודל של <span class="math">\(S^{\prime}\)</span> הוא <span class="math">\(\frac{p+1}{2}\)</span>. אז מה קיבלנו? שתי קבוצות: <span class="math">\(S,S^{\prime}\)</span>, שמספר האיברים הכולל בשתיהן הוא <span class="math">\(p+1\)</span>, אבל ב-<span class="math">\(\mathbb{Z}_{p}\)</span> יש בדיוק <span class="math">\(p\)</span> איברים. מסקנה: יש ל-<span class="math">\(S,S^{\prime}\)</span> איבר משותף - איבר שניתן להציג גם כ-<span class="math">\(x^{2}\)</span> וגם כ-<span class="math">\(-1-y^{2}\)</span>. לכן מצאנו שמתקיים <span class="math">\(x^{2}=-1-y^{2}\)</span>, כלומר <span class="math">\(x^{2}+y^{2}+1=0\)</span>, ומכאן שקיים <span class="math">\(m\)</span> כך ש-<span class="math">\(mp=x^{2}+y^{2}+1\)</span>. לכן בפרט <span class="math">\(mp\)</span> הוא סכום של ארבעה ריבועים: <span class="math">\(mp=x^{2}+y^{2}+1^{2}+0^{2}\)</span>.</p>
<p>אנחנו עדיין רוצים להגביל את הגודל של ה-<span class="math">\(m\)</span> הזה, ונעשה את זה עם תעלול סטנדרטי. אם <span class="math">\(p|x^{2}+y^{2}+1\)</span>, אז אפשר להוסיף או להחסיר <span class="math">\(p\)</span> בחופשיות ל-<span class="math">\(x,y\)</span> והמשוואה עדיין תתקיים ("להחליף את <span class="math">\(x\)</span> באיבר ששקול לו מודולו <span class="math">\(p\)</span>"). למשל, אם <span class="math">\(7|2^{2}+4^{2}+1\)</span>, אנחנו יכולים להחליף את <span class="math">\(4\)</span> ב-<span class="math">\(-3\)</span> ולקבל את אותו דבר: <span class="math">\(7|2^{2}+\left(-3\right)^{2}+1\)</span>. הסכום הראשון נותן לנו <span class="math">\(4+16+1=21\)</span> והסכום השני נותן לנו <span class="math">\(4+9+1=14\)</span> - שניהם מתחלקים ב-7, אבל שימו לב שהסכום השני קטן יותר. אז מה שנעשה עם המשוואה <span class="math">\(p|x^{2}+y^{2}+1\)</span> הכללית הוא לבחור את <span class="math">\(x\)</span> כך שיקיים <span class="math">\(\left|x\right|&lt;\frac{p}{2}\)</span> וכך גם עבור <span class="math">\(y\)</span>. אם אתם לא משוכנעים שאפשר, נסו להוכיח זאת לעצמכם. המסקנה? אם <span class="math">\(mp=x^{2}+y^{2}+1\)</span> אז <span class="math">\(mp&lt;\left(\frac{p}{2}\right)^{2}+\left(\frac{p}{2}\right)^{2}+1=\frac{p^{2}}{2}+1\le p^{2}\)</span> ועל ידי כך שנחלק ב-<span class="math">\(p\)</span> את שני האגפים נקבל <span class="math">\(m&lt;p\)</span>, כפי שרצינו.</p>
<p>בשעה טובה הגענו אל החלק האחרון של ההוכחה: להוכיח שאם <span class="math">\(mp\)</span> הוא סכום של ארבעה ריבועים ו-<span class="math">\(1&lt;m\)</span> אז קיים <span class="math">\(1\le n&lt;m\)</span> כך שגם <span class="math">\(np\)</span> הוא סכום של ארבעה ריבועים. אז ראשית כל נכתוב:</p>
<p><span class="math">\(mp=x_{1}^{2}+x_{2}^{2}+x_{3}^{2}+x_{4}^{4}\)</span></p>
<p>במילים אחרות, <span class="math">\(m\)</span> מחלק את הסכום הזה, כלומר <span class="math">\(x_{1}^{2}+x_{2}^{2}+x_{3}^{2}+x_{4}^{4}\equiv_{m}0\)</span>. כמו קודם, נרצה לבחור איברים ששקולים ל-<span class="math">\(x\)</span>-ים בצורה כזו שהם יהיו קטנים יחסית, אבל הפעם ביחס לגודל של <span class="math">\(m\)</span> ולא של <span class="math">\(p\)</span>. אז לכל <span class="math">\(1\le i\le4\)</span> נמצא <span class="math">\(y_{i}\)</span> כך ש-<span class="math">\(x_{i}\equiv_{m}y_{i}\)</span> ומתקיים ש-<span class="math">\(-\frac{m}{2}&lt;y_{i}\le\frac{m}{2}\)</span> (בכוונה לא כתבתי <span class="math">\(\left|y_{i}\right|\le\frac{m}{2}\)</span> כי עוד מעט אסתמך על כך שאפשר לבחור את ה-<span class="math">\(y_{i}\)</span>-ים כך שיהיו שונים מ-<span class="math">\(-\frac{m}{2}\)</span>). נקבל שיש <span class="math">\(n\)</span> כך ש-<span class="math">\(nm=y_{1}^{2}+y_{2}^{2}+y_{3}^{2}+y_{4}^{4}\le\frac{m^{2}}{4}+\frac{m^{2}}{4}+\frac{m^{2}}{4}+\frac{m^{2}}{4}=m^{2}\)</span>, כלומר <span class="math">\(0\le n\le m\)</span>. מצאנו את ה-<span class="math">\(n\)</span> שלנו. מה שנשאר לעשות: להוכיח ש-<span class="math">\(n&gt;0\)</span>, להוכיח ש-<span class="math">\(n&lt;m\)</span>, ולהוכיח ש-<span class="math">\(np\)</span> הוא סכום של ארבעה ריבועים.</p>
<p>נניח ש-<span class="math">\(n=0\)</span>. זה אומר שבהכרח כל ה-<span class="math">\(y_{i}\)</span>-ים הם 0, ומכיוון ש-<span class="math">\(x_{i}\equiv_{m}y_{i}\)</span> נובע מכך ש-<span class="math">\(m\)</span> מחלק את כל ה-<span class="math">\(x_{i}\)</span>-ים. לכן <span class="math">\(m^{2}\)</span> מחלק את <span class="math">\(x_{1}^{2}+x_{2}^{2}+x_{3}^{2}+x_{4}^{4}=mp\)</span>. אם <span class="math">\(m^{2}|mp\)</span> נובע מכך ש-<span class="math">\(m|p\)</span>, וזו סתירה לכך ש-<span class="math">\(p\)</span> ראשוני (הנה, השתמשנו בזה שוב!). אז <span class="math">\(n\ne0\)</span>.</p>
<p>נניח ש-<span class="math">\(n=m\)</span>. מתי זה יכול לקרות? רק אם <span class="math">\(y_{i}=\frac{m}{2}\)</span> לכל <span class="math">\(1\le i\le4\)</span>, כלומר <span class="math">\(x_{i}\equiv_{m}\frac{m}{2}\)</span> לכל <span class="math">\(1\le i\le4\)</span>, ועל ידי העלאה בריבוע של האגפים ושל המודולוס נקבל <span class="math">\(x_{i}^{2}\equiv_{m^{2}}\frac{m^{2}}{4}\)</span>, כלומר <span class="math">\(mp\equiv_{m^{2}}m^{2}\)</span>, כלומר <span class="math">\(m^{2}|m\left(p-m\right)\)</span> ולכן שוב נקבל <span class="math">\(m|p\)</span> - סתירה. אז <span class="math">\(n\ne m\)</span>.</p>
<p>כדי להראות ש-<span class="math">\(np\)</span> הוא סכום של ארבעה ריבועים, נסתכל קודם כל על שני הסכומים שכבר ראינו:</p>
<p><span class="math">\(mp=x_{1}^{2}+x_{2}^{2}+x_{3}^{2}+x_{4}^{4}\)</span></p>
<p><span class="math">\(nm=y_{1}^{2}+y_{2}^{2}+y_{3}^{2}+y_{4}^{4}\)</span></p>
<p>אנחנו כבר יודעים שמכפלה של שני סכומי ארבעה ריבועים היא בעצמה סכום של ארבעה ריבועים, אז על ידי כפל שתי המשוואות אני אקבל ש-<span class="math">\(npm^{2}\)</span> הוא סכום של ארבעה ריבועים. הבעיה היא ה-<span class="math">\(m^{2}\)</span> שתקוע בקצה המכפלה. כדי להיפטר ממנו, אני צריך להראות ש-<span class="math">\(npm^{2}=z_{1}^{2}+z_{2}^{2}+z_{3}^{2}+z_{4}^{2}\)</span> כך שלכל <span class="math">\(1\le i\le4\)</span> מתקיים <span class="math">\(m|z_{i}\)</span> - זה יסיים את זה סופית. כדי לראות את זה, אני חושש שאין מנוס מלשלוף שוב את הנוסחה שמציגה את מכפלת שני סכומי הריבועים כסכום ריבועים בעצמה:</p>
<p><span class="math">\(\left(x_{1}^{2}+x_{2}^{2}+x_{3}^{2}+x_{4}^{2}\right)\left(y_{1}^{2}+y_{2}^{2}+y_{3}^{2}+y_{4}^{2}\right)=\)</span></p>
<p><span class="math">\(\left(x_{1}y_{1}-x_{2}y_{2}-x_{3}y_{3}-x_{4}y_{4}\right){}^{2}+\left(x_{1}y_{2}+x_{2}y_{1}+x_{3}y_{4}-x_{4}y_{3}\right)^{2}+\)</span></p>
<p><span class="math">\(\left(x_{1}y_{3}-x_{2}y_{4}+x_{3}y_{1}+x_{4}y_{2}\right)^{2}+\left(x_{1}y_{4}+x_{2}y_{3}-x_{3}y_{2}+x_{4}y_{1}\right)^{2}\)</span></p>
<p>בנוסחה הזו אני הולך לעשות מניפולציה קטנה: אני יכול להחליף את <span class="math">\(y_{2},y_{3},y_{4}\)</span> במינוס שלהם - זה לא משפיע בכלל על אגף שמאל (כי אנחנו מעלים את המספרים הללו בריבוע) ובאגף ימין זה רק יגרום לביטויים שבתוך הסוגריים להיות יותר נוחים עבורי. עכשיו, אני צריך להוכיח שכל אחד מהביטויים הללו מתחלק ב-<span class="math">\(m\)</span>, ולכן אני אסתכל עליו מודולו <span class="math">\(m\)</span> ואשתמש בכך ש-<span class="math">\(x_{i}\equiv_{m}y_{i}\)</span>.</p>
<p>נקבל שהביטוי בסוגריים הראשונים, אחרי החלפת ה-<span class="math">\(y\)</span>-ים במינוסים שלהם ואחרי החלפת ה-<span class="math">\(y\)</span>-ים ב-<span class="math">\(x\)</span>-ים, הוא <span class="math">\(x_{1}^{2}+x_{2}^{2}+x_{3}^{2}+x_{4}^{2}\)</span>, והביטוי הזה שווה ממש ל-<span class="math">\(mp\)</span> ולכן בוודאי ששקול ל-0 מודולו <span class="math">\(m\)</span>.</p>
<p>נותרו שלושת הסוגריים האחרים ובכולם המבנה דומה. נסתכל על הסוגר הראשון מביניהם: הביטוי בו בהתחלה היה <span class="math">\(x_{1}y_{2}+x_{2}y_{1}+x_{3}y_{4}-x_{4}y_{3}\)</span>. אחרי החלפת <span class="math">\(y_{2},y_{3},y_{4}\)</span> במינוסים שלהם קיבלנו את <span class="math">\(x_{2}y_{1}-x_{1}y_{2}+x_{4}y_{3}-x_{3}y_{4}\)</span>. שימו לב לסימטריה! עכשיו, אחרי החלפת ה-<span class="math">\(y\)</span>-ים ב-<span class="math">\(x\)</span>-ים נקבל <span class="math">\(x_{2}x_{1}-x_{1}x_{2}+x_{4}x_{3}-x_{3}x_{4}=0\)</span>, כלומר קיבלנו שהביטוי שקול ל-0 מודולו <span class="math">\(m\)</span> ולכן מתחלק ב-<span class="math">\(m\)</span>. אותו דבר מטפל בכל יתר הביטויים שבסוגריים, אז ניצחנו!</p>
<p>המסקנה הסופית שלנו היא שכל מספר ניתן לייצוג כסכום של ארבעה ריבועים, אבל יש עוד שתי הערות צדדיות שאני רוצה לדבר עליהן כאן. ראשית, יש תוצאה חזקה אפילו יותר עבור ראשוניים ששקולים ל-1 מודולו <span class="math">\(4\)</span>: כל ראשוני כזה ניתן להצגה כסכום של <strong>שני</strong> ריבועים. זו אבחנה שהייתה קיימת כבר אצל פרמה ואוילר הוכיח; את ההוכחה <a href="http://www.gadial.net/2009/06/26/sums_of_squares_and_quadratic_reciprocity/">כבר הצגתי בבלוג</a> בעבר. אוילר הוא גם זה שמצא את הנוסחה שמציגה מכפלה של סכום של ארבעה ריבועים בתור סכום של ארבעה ריבועים בעצמו, אבל לא עלה בידיו למצוא את יתר ההוכחה - את זה עשה, כאמור, לגראנז', ב-1770. לא מעט שנים לאחר מכן, ב-1834, יעקובי הצליח להוכיח תוצאה חזקה בהרבה - נוסחה שנותנת, לכל מספר טבעי, את <strong>מספר</strong> הדרכים השונות לכתוב אותו כסכום של ארבעה ריבועים; במילים אחרות, נוסחה שמתארת את מספר הפתרונות השונים למשוואה הדיופנטית <span class="math">\(x_{1}^{2}+x_{2}^{2}+x_{3}^{2}+x_{4}^{2}=n\)</span>. בפרט המספר הזה גדול תמיד מ-0 ולכן משפט לגראנז' נובע. רק מה, ההוכחות לטענה הזו מסובכות יותר; הפשוטה ביותר שאני מכיר היא של דיריכלה ומסתמכת על קרקטרי דיריכלה, שגם אותם <a href="http://www.gadial.net/2009/05/25/dirichlet_theorem_on_arithmetic_progressions/">כבר הצגתי בבלוג בעבר</a>. יהיה נחמד מאוד להציג את ההוכחה הזו מתישהו בבלוג, אבל לעת עתה אסתפק בלתת את הנוסחה: אם <span class="math">\(n\)</span> הוא מספר טבעי חיובי <strong>אי זוגי</strong> אז מספר הפתרונות בשלמים (כולל שליליים! ועם חשיבות לסדר!) למשוואה <span class="math">\(x_{1}^{2}+x_{2}^{2}+x_{3}^{2}+x_{4}^{2}=n\)</span> הוא <span class="math">\(8\cdot\sum_{d|n}d\)</span> (שמונה כפול סכום המחלקים הטבעיים של <span class="math">\(n\)</span>), ואם <span class="math">\(n\)</span> הוא <strong>זוגי</strong> אז מספר הפתרונות הוא <span class="math">\(24\cdot\sum_{d|n}d\)</span> כאשר כאן ה-<span class="math">\(d\)</span>-ים הם רק המחלקים האי-זוגיים.</p>
<p>הנוסחה מגניבה לגמרי, אבל כשאני רואה אותה הדבר הראשון שאני תוהה לגביו הוא למה, לכל הרוחות, היא בכלל עובדת. לכן הוכחות הן דבר מעניין. לצערי, נצטרך לוותר עליה לבינתיים כי שולי הפוסט הזה צרים מלהכילה (מתי, מתי יימאס לי מהבדיחה הזו בסוף פוסטים של תורת המספרים?)</p>
        </article>
        
        <!-- Post Navigation -->
        
        <nav class="post-navigation">
            
            <a href="/2014/04/08/limsup_and_liminf/" class="nav-link nav-next">
                <span class="nav-label">→ פוסט חדש יותר</span>
                <span class="nav-title">על גבולות עליונים ותחתונים של קבוצות וממשיים</span>
            </a>
            
            
            
            <a href="/2014/04/02/student_and_computer_25/" class="nav-link nav-prev">
                <span class="nav-label">פוסט ישן יותר ←</span>
                <span class="nav-title">פרוייקט &#34;התלמיד והמחשב&#34;, בעיה 25</span>
            </a>
            
        </nav>
        
        
        <footer>
            <p>בלוג מתמטיקה בעברית</p>
        </footer>
    </div>

    
    <script>
        function searchPosts() {
            const searchTerm = document.getElementById('searchInput').value;
            if (searchTerm.trim()) {
                window.location.href = '/post_list.html?search=' + encodeURIComponent(searchTerm);
            }
        }
        
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchPosts();
            }
        });
    </script>
    
    
    <!-- Auto-render KaTeX math -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            renderMathInElement(document.body, {
                delimiters: [
                    {left: "\\[", right: "\\]", display: true},
                    {left: "\\(", right: "\\)", display: false}
                ],
                throwOnError: false
            });
        });
    </script>

</body>
</html>