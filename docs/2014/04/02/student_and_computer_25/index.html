<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>פרוייקט &#34;התלמיד והמחשב&#34;, בעיה 25 - לא מדויק</title>
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    
    
    <!-- KaTeX for math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>

    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', 'David', 'Tahoma', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
        }
        
        /* Top navigation bar */
        .top-nav {
            background: #2c3e50;
            padding: 15px 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .top-nav .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
        }
        
        .top-nav .site-title {
            font-size: 1.5em;
            font-weight: bold;
            color: white;
            text-decoration: none;
            white-space: nowrap;
        }
        
        .top-nav .nav-links {
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .top-nav .nav-links a {
            color: #ecf0f1;
            text-decoration: none;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background 0.2s;
            white-space: nowrap;
        }
        
        .top-nav .nav-links a:hover {
            background: #34495e;
        }
        
        .top-nav .search-box {
            display: flex;
            gap: 5px;
        }
        
        .top-nav .search-box input {
            padding: 5px 10px;
            border: none;
            border-radius: 4px;
            font-size: 0.9em;
            min-width: 150px;
        }
        
        .top-nav .search-box button {
            padding: 5px 15px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .top-nav .search-box button:hover {
            background: #2980b9;
        }
        
        /* Blockquote styling */
        blockquote {
            background: #f9f9f9;
            border-right: 5px solid #ccc;
            margin: 1.5em 10px;
            padding: 0.75em 16px;
            position: relative;
            font-style: italic;
        }
        
        blockquote:before {
            content: '"';
            position: absolute;
            top: -10px;
            right: 8px;
            font-size: 3.5em;
            color: #ccc;
            line-height: 1;
        }
        
        blockquote p {
            display: block;
            margin: 0 0 0.75em 0;
        }
        
        blockquote p:last-child {
            margin-bottom: 0;
        }
        
        
        body {
            line-height: 1.8;
        }
        
        .container {
            max-width: 800px;
            margin: 20px auto;
            background: white;
            padding: 40px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
        }
        
        header {
            margin-bottom: 40px;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 20px;
        }
        
        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .post-meta {
            color: #7f8c8d;
            font-size: 0.9em;
        }
        
        .post-meta .date {
            margin-left: 15px;
        }
        
        .post-meta .categories,
        .post-meta .tags {
            display: inline;
        }
        
        .post-meta .categories a,
        .post-meta .tags a {
            color: #3498db;
            text-decoration: none;
            margin: 0 5px;
        }
        
        .post-meta .categories a:hover,
        .post-meta .tags a:hover {
            text-decoration: underline;
        }
        
        article {
            font-size: 1.1em;
        }
        
        article h2 {
            margin-top: 30px;
            margin-bottom: 15px;
            color: #34495e;
            font-size: 1.8em;
        }
        
        article h3 {
            margin-top: 25px;
            margin-bottom: 12px;
            color: #34495e;
            font-size: 1.4em;
        }
        
        article p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        article ul, article ol {
            margin-right: 30px;
            margin-bottom: 15px;
        }
        
        article li {
            margin-bottom: 8px;
        }
        
        article code {
            background-color: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        
        article pre {
            background-color: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin-bottom: 20px;
            direction: ltr;
            text-align: left;
        }
        
        article pre code {
            background-color: transparent;
            padding: 0;
            color: inherit;
        }
        
        /* Image styles - responsive and contained */
        article img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 20px auto;
        }
        
        /* Math rendering styles */
        .math {
            direction: ltr;
        }
        
        span.math {
            direction: ltr;
        }
        
        /* Override RTL for KaTeX */
        .katex {
            direction: ltr;
            unicode-bidi: embed;
        }
        
        div.math {
            display: block;
            text-align: center;
            padding: 15px 0;
            direction: ltr;
        }
        
        /* RTL adjustments for code blocks */
        .highlight {
            direction: ltr;
            text-align: left;
        }
        
        footer {
            margin-top: 60px;
            padding-top: 20px;
            border-top: 1px solid #e0e0e0;
            text-align: center;
            color: #95a5a6;
            font-size: 0.9em;
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2em;
            }
            
            article {
                font-size: 1em;
            }
        }
        
        /* Post navigation */
        .post-navigation {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #e0e0e0;
            gap: 20px;
        }
        
        .post-navigation .nav-link {
            flex: 1;
            text-decoration: none;
            color: #2c3e50;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 5px;
            transition: background 0.2s;
        }
        
        .post-navigation .nav-link:hover {
            background: #e9ecef;
        }
        
        .post-navigation .nav-prev {
            text-align: right;
        }
        
        .post-navigation .nav-next {
            text-align: left;
        }
        
        .post-navigation .nav-label {
            font-size: 0.85em;
            color: #7f8c8d;
            display: block;
            margin-bottom: 5px;
        }
        
        .post-navigation .nav-title {
            font-weight: bold;
            font-size: 1.1em;
        }

    </style>
</head>
<body>
    <nav class="top-nav">
        <div class="nav-container">
            <a href="/" class="site-title">לא מדויק</a>
            <div class="nav-links">
                <a href="/">דף הבית</a>
                <a href="/random.html">פוסט אקראי</a>
                <a href="/post_list.html">כל הפוסטים</a>
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="חיפוש...">
                    <button onclick="searchPosts()">חפש</button>
                </div>
            </div>
        </div>
    </nav>
    
    
    <div class="container">
        <!-- Post Navigation -->
        
        <nav class="post-navigation">
            
            <a href="/2014/03/29/student_and_computer_21-24/" class="nav-link nav-prev">
                <span class="nav-label">פוסט ישן יותר →</span>
                <span class="nav-title">פרוייקט &#34;התלמיד והמחשב&#34;, בעיות 21-24</span>
            </a>
            

            
            <a href="/2014/04/04/lagrange_four_squares_theorem/" class="nav-link nav-next">
                <span class="nav-label">← פוסט חדש יותר</span>
                <span class="nav-title">משפט ארבעת הריבועים של לגראנז&#39;</span>
            </a>
            
        </nav>
        
        
        <header>
            <h1>פרוייקט &#34;התלמיד והמחשב&#34;, בעיה 25</h1>
            <div class="post-meta">
                <span class="date">2014-04-02</span>
                
                <span class="categories">
                    | קטגוריות:
                    
                    <a href="/categories/אלגברה לינארית.html">אלגברה לינארית</a>
                    
                    <a href="/categories/תכנות.html">תכנות</a>
                    
                </span>
                
                
                <span class="tags">
                    | תגיות:
                    
                    <a href="/tags/משוואות דיופנטיות.html">משוואות דיופנטיות</a>
                    
                    <a href="/tags/פרוייקט &#34;התלמיד והמחשב&#34;.html">פרוייקט &#34;התלמיד והמחשב&#34;</a>
                    
                    <a href="/tags/צורת סמית.html">צורת סמית</a>
                    
                </span>
                
            </div>
        </header>
        
        <article>
            <p>סוף סוף הגענו אל בעיה עם בשר אמיתי, וכזו שתיתן לנו תירוץ להזכיר קצת מתמטיקה, ברמה יותר גבוהה מזו שהוזכרה בספר. נתחיל מהבעיה עצמה, שהיא פשוטה למדי לניסוח ולמרבה הצער, מנוסחת בלשון צבאית: בפלוגה כלשהי יש לנו 100 חיילים. מהם חלק הם טוראים, חלק הם סמלים וחלק הם קצינים. משכורתו של טוראי היא 1 ש"ח, משכורתו של סמל היא 10 ש"ח ומשכורתו של קצין היא 50 ש"ח. ידוע שסכום המשכורות של כל החיילים הוא 500 ש"ח. מה מספר הטוראים, מה מספר הסמלים ומה מספר הקצינים בפלוגה?</p>
<p>למי שהניסוח הצבאי מעצבן אותו אפשר להשתמש בשלל סיפורי רקע אחרים. למשל, תערובת כימית שכוללת 100 אטומים של מימן (פרוטון אחד), נאון (10 פרוטונים) ובדיל (50 פרוטונים) וידוע שיש בה סה"כ 500 פרוטונים. נשאלת השאלה כמה אטומים יש מכל סוג (למעשה, שאלות מסוג זה הן אכן נפוצות הרבה יותר בהקשר של תערובות ותרכובות כימיות מאשר בהקשר הצבאי). בסופו של דבר אנחנו מקבלים את אותו פורמליזם מתמטי - מערכת משוואות לינארית שנראית כך:</p>
<p><span class="math">\(\array{x+y+z&amp;=&amp;100\\x+10y+50z&amp;=&amp;500}\)</span></p>
<p>זו <strong>מערכת</strong> של משוואות כי היא כוללת שתי משוואות ולא אחת; וזו מערכת <strong>לינארית</strong> כי כל המשתנים שלנו - <span class="math">\(x,y,z\)</span> - מופיעים בה כשהחזקה שלהם היא 1, ולא מפעילים עליהם פונקציות מוזרות כמו סינוס. הנה דוגמה למשוואות לא לינאריות: <span class="math">\(x^2+x+1=0\)</span>  אינה לינארית כי ה-<span class="math">\(x\)</span> הוא בריבוע, ו-<span class="math">\(\sin(x)=x\)</span> אינה לינארית כי <span class="math">\(x\)</span> מופיע פעם אחת כשמפעילים עליו את סינוס.</p>
<p>הסיבה שאנחנו טורחים לתת שם מיוחד למשוואות לינאריות היא שהמשוואות הללו <strong>פשוטות במיוחד</strong>. לפתור משוואות לא לינאריות בצורה מדוייקת זה לרוב קשה; אבל עבור משוואות לינאריות התיאוריה מאוד מפותחת ויש לנו שיטות פתרון נקיות ופשוטות למדי. לעתים קרובות האופן שבו מתמודדים עם מערכת משוואות לא לינאריות היא באמצעות קירוב שלהן בעזרת מערכת משוואות לינאריות שאותה אנחנו יודעים לפתור.</p>
<p>במקרה הפשוט ביותר, המערכת היא מעל <strong>שדה</strong>, כלומר אפשר לבצע על המספרים שלנו פעולות של חיבור, חיסור, כפל וחילוק. במקרה הזה אפשר להפעיל את מה שנקרא "חילוץ גאוסי" - אולי אחד הדברים הראשונים שסטודנטים למתמטיקה לומדים (בקורס אלגברה לינארית) שמוצא את כל הפתרונות למערכת, אם קיימים כאלו. צריך לשים דגש על המילה "פתרונות" - כבר בבית הספר לומדים שלמערכת עם שלושה נעלמים ושתי משוואות, כמו אצלנו, יכול להיות יותר מפתרון אחד.</p>
<p>אז מה הבעיה? הבעיה היא שלפעמים יש עוד <strong>אילוצים</strong> על הפתרונות, וכך גם אצלנו. ראשית, אנחנו מצפים שהפתרונות יהיו <strong>מספרים שלמים</strong>, מה שאומר שאם נפעיל את שיטת גאוס ונקבל פתרונות שהם שבר זה לא יהיה מספיק טוב. למשוואה שבה הפתרונות צריכים להיות שלמים קוראים <strong>משוואה דיופנטית</strong>, אז מה שיותר מדויק לומר הוא שאנחנו פותרים פה מערכת של משוואות דיופנטיות לינאריות. באופן כללי משוואות דיופנטיות הן דבר קשה ביותר לפתרון - כתבתי בשעתו <a href="http://www.gadial.net/2012/08/27/hilbert_tenth_intro/">סדרת פוסטים</a> שמוכיחה שלא קיים אלגוריתם שפותר מערכת משוואות דיופנטית כללית. אבל במערכת כזו יכולות להיות חזקות גדולות מ-1 של המשתנים, ואילו אצלנו מערכת המשוואות הדיופנטיות היא לינארית, ותמיד ניתן לפתור מערכת כזו ואסביר את הרעיון הכללי בהמשך.</p>
<p>עדיין, יש לנו עוד הגבלה על המערכת - כל הפתרונות צריכים להיות מספרים <strong>חיוביים</strong>. המגבלות הללו הן לא סוף העולם ואפשר להשתמש באלגוריתמים הכלליים לפתרון מערכות של משוואות; אבל צריך להבין ששימוש בהם עדיין לא יהיה סוף הסיפור. השיטות הכלליות יתנו לנו המון פתרונות אפשריים, ונצטרך לחפש בתוכם את הפתרון ה"נכון". השיטות הכלליות גם יהיו קצת מסובכות מבחינת התיאוריה שמאחוריהן ואני לא מצפה שכל הקוראים יבינו אותן וישרדו עד הסוף.</p>
<p>על כן, לפני שניגש לפתרונות הכלליים, בואו נראה את הפתרון שיש בספר, שהוא פתרון "ברוטלי" למדי אבל לפעמים הוא גם הכי מתאים - פשוט נחפש בכוח שלשה של מספרים שהיא פתרון. אבל גם פתרון כוח גס שכזה צריך לדעת לממש. הנה דוגמה למימוש <strong>לא טוב</strong>:</p>
<div class="code-block">

<div class="highlight"><pre><span></span><code><span class="n">A</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
<span class="n">B</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span>
<span class="n">C</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">50</span>
<span class="no">NUM</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span>
<span class="no">SUM</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">500</span>

<span class="k">for</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="o">..</span><span class="no">NUM</span><span class="p">)</span><span class="w"> </span><span class="k">do</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="o">..</span><span class="no">NUM</span><span class="p">)</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="o">..</span><span class="no">NUM</span><span class="p">)</span><span class="w"> </span><span class="k">do</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="o">+</span><span class="n">z</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="no">NUM</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">A</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="n">B</span><span class="o">*</span><span class="n">y</span><span class="o">+</span><span class="n">C</span><span class="o">*</span><span class="n">z</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="no">SUM</span><span class="p">)</span>
<span class="w">    </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;x = </span><span class="si">#{</span><span class="n">x</span><span class="si">}</span><span class="s2">, y = </span><span class="si">#{</span><span class="n">y</span><span class="si">}</span><span class="s2">, z = </span><span class="si">#{</span><span class="n">z</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">      </span><span class="k">end</span>
<span class="w">    </span><span class="k">end</span>
<span class="w">  </span><span class="k">end</span>
<span class="k">end</span>
</code></pre></div>


</div>

<p>הפתרון הזה לא טוב לא בגלל שהוא לא עובד; הוא עובד, ועוצר תוך שניה ומחזיר את הפתרון הנכון (x = 60, y = 39, z = 1). הוא לא טוב כי הוא עושה עבודה מיותרת ולא עובר בצורה חכמה על המשתנים שלנו. ראשית, אין שום סיבה בעולם להשתמש ב<strong>שלוש</strong> לולאות for אחת בתוך השניה; אפשר להיעזר בכך שאנחנו יודעים ש-<span class="math">\(x+y+z=100\)</span> ולכן אם כבר קבענו מי יהיו <span class="math">\(x,y\)</span> אז אפשר להגדיר את <span class="math">\(z\)</span> להיות 100 פחות שניהם:</p>
<div class="code-block">

<div class="highlight"><pre><span></span><code><span class="k">for</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="o">..</span><span class="no">NUM</span><span class="p">)</span><span class="w"> </span><span class="k">do</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="o">..</span><span class="no">NUM</span><span class="p">)</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="n">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">NUM</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">z</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">A</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="n">B</span><span class="o">*</span><span class="n">y</span><span class="o">+</span><span class="n">C</span><span class="o">*</span><span class="n">z</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="no">SUM</span><span class="p">)</span>
<span class="w">      </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;x = </span><span class="si">#{</span><span class="n">x</span><span class="si">}</span><span class="s2">, y = </span><span class="si">#{</span><span class="n">y</span><span class="si">}</span><span class="s2">, z = </span><span class="si">#{</span><span class="n">z</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="k">end</span>
<span class="w">  </span><span class="k">end</span>
<span class="k">end</span>
</code></pre></div>


</div>

<p>שימו לב שעכשיו אני נאלץ לבדוק אם z הוא חיובי כי הוא עלול לצאת שלילי. הסיבה לכך היא שלא הייתי חכם ואני נותן ל-y להיות כל מספר מ-0 ועד 100, גם אם הסכום של x ו-y יעבור את 100. אז בואו נגביל את y:</p>
<div class="code-block">

<div class="highlight"><pre><span></span><code><span class="k">for</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="o">..</span><span class="no">NUM</span><span class="p">)</span><span class="w"> </span><span class="k">do</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="o">..</span><span class="p">(</span><span class="no">NUM</span><span class="o">-</span><span class="n">x</span><span class="p">))</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="n">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">NUM</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">A</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="n">B</span><span class="o">*</span><span class="n">y</span><span class="o">+</span><span class="n">C</span><span class="o">*</span><span class="n">z</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="no">SUM</span><span class="p">)</span>
<span class="w">      </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;x = </span><span class="si">#{</span><span class="n">x</span><span class="si">}</span><span class="s2">, y = </span><span class="si">#{</span><span class="n">y</span><span class="si">}</span><span class="s2">, z = </span><span class="si">#{</span><span class="n">z</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="k">end</span>
<span class="w">  </span><span class="k">end</span>
<span class="k">end</span>
</code></pre></div>


</div>

<p>עד כאן הכל די ברור. האופטימיזציה הבאה היא טיפה יותר חכמה, וכנראה הדבר הכי חשוב מבין כל האופטמיזציות שאני מראה פה. האבחנה היא שיש לי מגבלה נוספת ברורה על הגודל המקסימלי של x,y,z - המשוואה השניה. המשוואה השניה אומרת לי, למשל, ש-z חייב להיות בין 0 ל-10, אחרת כבר 50z לבדו יהיה גדול מ-500. לכן, במקום לרוץ על כל ערכי x מ-0 ועד 100, עדיף להתחיל דווקא מלרוץ על ערכי z, אחר כך לרוץ על ערכי y, ואת x כבר לקבוע מתוך שניהם. זה מוביל לפתרון הכי טוב שלי:</p>
<div class="code-block">

<div class="highlight"><pre><span></span><code><span class="k">for</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="o">..</span><span class="no">SUM</span><span class="o">/</span><span class="n">C</span><span class="p">)</span><span class="w"> </span><span class="k">do</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="o">..</span><span class="p">(</span><span class="no">SUM</span><span class="o">-</span><span class="n">C</span><span class="o">*</span><span class="n">z</span><span class="p">)</span><span class="o">/</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">NUM</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="n">y</span><span class="o">+</span><span class="n">z</span><span class="p">)</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">A</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="n">B</span><span class="o">*</span><span class="n">y</span><span class="o">+</span><span class="n">C</span><span class="o">*</span><span class="n">z</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="no">SUM</span><span class="p">)</span>
<span class="w">      </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;x = </span><span class="si">#{</span><span class="n">x</span><span class="si">}</span><span class="s2">, y = </span><span class="si">#{</span><span class="n">y</span><span class="si">}</span><span class="s2">, z = </span><span class="si">#{</span><span class="n">z</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="k">end</span>
<span class="w">  </span><span class="k">end</span>
<span class="k">end</span>
</code></pre></div>


</div>

<p>הפתרון הזה פחות קריא מהקודמים, אבל בהחלט יותר יעיל. עד כמה שאפשר לדבר על "יעילות" בהקשר הזה, שבו כל אחד מהסקריפטים שהצגתי מסיים לרוץ כהרף עין.</p>
<p>אז זה פתרון הכוח הגס. מה על פתרונות חכמים יותר, שמשתמשים בשיטות מתמטיות כלליות? ובכן, אפשר לממש את השיטות הללו באופן עצמאי, אבל זה לא רעיון טוב במיוחד - עבור רוב שפות התכנות יש ספריות מתמטיות שמומשו עם דגש על יעילות, ועדיף להשתמש בהן. למרבה הצער, רובי היא אחת מאותן שפות שבהן זה <strong>לא</strong> המצב. הספריה המתמטית שלה אינה מפותחת מספיק, ולמרות שעושים מאמצים בכיוון, אני מעדיף לנצל את ההזדמנות הזו ולקפוץ לרגע הצידה, אל האחות של רובי - פייתון.</p>
<p>בשורה התחתונה, פייתון ורובי הן שפות די דומות - שתיהן שפות סקריפטינג עם תחביר קליל יחסית (ודומה יחסית) ושתיהן רבות עוצמה ומאפשרות לעשות דברים מורכבים בפשטות יחסית, תוך תשלום של מחיר כלשהו בזמן הריצה. מצד שני, לפייתון יש יתרון מרכזי אחד על רובי - כמות גדולה יותר של משתמשים, ולכן קהילה גדולה יותר, סיכוי גדול יותר לקבל תמיכה אם נתקלים בבעיה, והכי חשוב - הרבה יותר ספריות. אפשר לומר בצחוק שיש ספריית פייתון לכל דבר בערך, וזה לא יהיה רחוק כל כך מהמציאות. הנה מה שהיה לרנדל מונרו מ-xkcd לומר כשהוא גילה את פייתון:</p>
<p><a href="/img/2014/03/python.png"><img src="/img/2014/03/python.png" alt="python" width="518" height="588" class="alignnone size-full wp-image-3088" /></a></p>
<p>בפרט, לפייתון יש תמיכה יפה מאוד בספריות מתמטיות. בואו נתחיל מלדבר על SymPy - ספריה למתמטיקה סימבולית, שזה בדיוק מה שאנחנו צריכים - פתרון משוואות אלגבריות עם נעלמים הוא סוג של מתמטיקה סימבולית. בואו נראה תוכנית בפייתון שפותרת את הבעיה שלנו עם התבססות על חילוץ גאוסי, ואסביר אותה שורה שורה:</p>
<div class="code-block">

<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">sympy</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="n">symbols</span><span class="p">(</span><span class="s1">&#39;x y z&#39;</span><span class="p">)</span>
<span class="n">sol</span> <span class="o">=</span> <span class="n">solve</span><span class="p">([</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="n">z</span> <span class="o">-</span> <span class="mi">100</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">10</span><span class="o">*</span><span class="n">y</span> <span class="o">+</span> <span class="mi">50</span><span class="o">*</span><span class="n">z</span> <span class="o">-</span> <span class="mi">500</span><span class="p">],</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>
<span class="k">for</span> <span class="n">z_val</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">11</span><span class="p">):</span>
  <span class="n">x_val</span> <span class="o">=</span> <span class="n">sol</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">z</span><span class="p">,</span><span class="n">z_val</span><span class="p">)</span>
  <span class="n">y_val</span> <span class="o">=</span> <span class="n">sol</span><span class="p">[</span><span class="n">y</span><span class="p">]</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">z</span><span class="p">,</span><span class="n">z_val</span><span class="p">)</span>
  <span class="k">if</span> <span class="n">x_val</span><span class="o">.</span><span class="n">q</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">y_val</span><span class="o">.</span><span class="n">q</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
    <span class="nb">print</span> <span class="s2">&quot;x = </span><span class="si">%d</span><span class="s2">, y = </span><span class="si">%d</span><span class="s2">, z = </span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">x_val</span><span class="p">,</span> <span class="n">y_val</span><span class="p">,</span> <span class="n">z_val</span><span class="p">)</span>
</code></pre></div>


</div>

<p>התחביר דומה מספיק לזה של רובי כדי שלא אבזבז זמן על הסברים שלו - אני מניח שגם מה שלא זהה הוא די ברור. בשורה 1 אני אומר לפייתון להשתמש בספריה של SymPy. בשורה 2 אני מגדיר שלושה סימבולים, x,y,z, ומציב אותם בתוך המשתנים שנקראים באותו שם (למרות שהם לא חייבים). שימו לב ש"סימבול" כאן הוא משהו שונה מסיבול של רובי - כאן סימבול הוא אובייקט של הספריה SymPy ולא קשור לסימבולים של רובי בשום צורה.</p>
<p>בשורה השלישית מתבצעת המתמטיקה - אני קורא לפונקציה solve שמקבלת כקלט מערך הכולל שתי משוואות. ההנחה הסמויה של SymPy הוא שאם אני כותב ביטוי כמו "x + y + z - 100" בלי שוויון בתוכו, אני מתכוון שהוא יהיה שווה ל-0. לכן הביטוי הזה מקודד את המשוואה "x + y + z = 100". בדומה,  "x + 10<em>y + 50</em>z - 500" מקודד את המשוואה "x + 10<em>y + 50</em>z = 500". מה ש-SymPy עושה הוא לזהות בעצמו שמדובר על משוואה לינארית ולקרוא למימוש שלו של האלגוריתם הגאוסי שמחזיר פתרון כללי למשוואה הזו מעל הרציונליים. ואם נסתכל מה הערך של sol בשלב הזה, זה מה שנראה:</p>
<div class="code-block">

<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="n">x</span><span class="p">:</span> <span class="mi">40</span><span class="o">*</span><span class="n">z</span><span class="o">/</span><span class="mi">9</span> <span class="o">+</span> <span class="mi">500</span><span class="o">/</span><span class="mi">9</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="o">-</span><span class="mi">49</span><span class="o">*</span><span class="n">z</span><span class="o">/</span><span class="mi">9</span> <span class="o">+</span> <span class="mi">400</span><span class="o">/</span><span class="mi">9</span><span class="p">}</span>
</code></pre></div>


</div>

<p>מה שיש לנו כאן הוא Hash שמכיל שני מפתחות: את הערך של x כפונקציה של z, ואת הערך של y כפונקציה של z. הנקודה פה היא שלכל ערך של z שרק נבחר, קיים פתרון (יחיד) למערכת המשוואות, ואם נציב את z בפונקציות שמגדירות את x,y נקבל את הערכים שלהם. למשל, אם נבחר z=1 נקבל <span class="math">\(x=\frac{40+500}{9}=60\)</span> ו-<span class="math">\(y=\frac{-49+400}{9}=39\)</span>. זה, במקרה ממוזל, גם הפתרון הנכון של המשוואה - קיבלנו רק מספרים שלמים חיוביים.</p>
<p>באופן כללי הפתרונות הם מספרים רציונליים, ולכן כדי למצוא פתרון שכולל רק שלמים יש את שורות 4-7, שבהן אני עובר על כל הערכים האפשריים של z (זוכרים שאני יכול להגביל אותם להיות בין 0 ל-10? פקודת ה-range שם יוצרת את הטווח הזה) ולכל אחד מהם מחשב את הערכים של x,y עבור הערך הזה של z, באמצעות פקודת subs (שאומרת "בביטוי הסימבולי הנוכחי שכולל את z, הצב כך-וכך במקום z ונראה מה תקבל"). לבסוף אני בודק שקיבלתי מספרים שלמים, על ידי כך שאני לוקח את המשתנים ומסתכל על הערך של המכנה (q) שלהם.</p>
<p>זה בוודאי נראה קצת מסורבל ביחס לפתרון הקודם שלי, אבל שימו לב שעכשיו יש לי רק לולאה אחת - על הערכים האפשריים של z. זה היה שיפור משמעותי בזמן הריצה, אם הבעיה הזו הייתה מסדרי גודל שבהם זה היה בכלל חשוב (וכמובן, גם שלב ה-solve דורש זמן לא טריוויאלי, אבל לרוב הוא יהיה יחסית מהיר).</p>
<p>האם אפשר היה לוותר על הלולאה הזו? כלומר, האם יש דרך חכמה מבחינה מתמטית למצוא z שמבטיח שנקבל מספרים שלמים? התשובה היא כן, והיא מתבססת על פתרון של <a href="http://www.gadial.net/2013/05/13/modular_arithmetic/">משוואות מודולריות</a>, אבל נעזוב את זה להפעם כי זה ייקח אותי רחוק מדי והפוסט כבר כך ארוך.</p>
<p>בואו נעבור לראות פתרון כללי עוד יותר, שעשוי להיראות כאן מסורבל שלא לצורך ולא יעיל במיוחד, אבל הוא המעניין ביותר מבחינה מתמטית, לדעתי. המטרה שלי היא לקבל את הפתרון הכללי למערכת המשוואות הדיופנטית הלינארית - כלומר, לקבל ביטוי סימבולי כלשהו שיש בו משתנים, ולכל ערך שלם שאני מציב במשתנים הללו אני מקבל פתרון של המערכת, וכל הפתרונות של המערכת מתקבלים כך. הדרך שבה אשתמש כדי למצוא אותו היא באמצעות מה שמכונה <strong>צורת סמית</strong> של מטריצה. מה שאומר שההמשך יהיה ברור רק למי שמכיר מטריצות, ועם הסליחה ממי שעדיין לא מכיר.</p>
<p>סטודנטים למתמטיקה ייתקלו בצורת סמית בהקשר של משפט המבנה של מודולים נוצרים סופית מעל תחום ראשי (או בהקשר של מקרה פרטי שלו - משפט המבנה של חבורות אבליות נוצרות סופית). זה משפט נפלא ונהדר, שממנו נובע לא רק המשפט הפשוט יותר עבור חבורות אלא גם צורת ז'ורדן והצורה הרציונלית של מטריצות. אבל זו מתמטיקה לא טריוויאלית שאין לי כוונה להיכנס אליה בפוסט, ולכן אסתפק בניסוח הכי יבש שרק אפשר. הרעיון הוא זה: נניח ש-<span class="math">\(A\)</span> היא מטריצה, לאו דווקא ריבועית אלא מסדר <span class="math">\(n\times m\)</span>. אז <strong>תמיד</strong> אפשר למצוא שתי מטריצות <strong>הפיכות</strong>, <span class="math">\(L,R\)</span> (מלשון Left ו-Right) מסדרים <span class="math">\(n\times n\)</span> ו-<span class="math">\(m\times m\)</span>, כך ש-<span class="math">\(D=LAR\)</span> היא מטריצה "אלכסונית בערך". מה זה אומר? זו עדיין מטריצה מסדר <span class="math">\(n\times m\)</span> ולכן אולי לא ריבועית בכלל, אבל הכניסות היחידות שלה שעשויות להיות שונות מאפס הן הכניסות <span class="math">\(D_{11},D_{22},\dots\)</span>, והכניסות הללו גם מחלקות כל אחת את הבאה אחריה. והמשפט הזה נכון מעל שדות, כמו הרציונליים למשל, אבל גם מעל <strong>תחומים ראשיים</strong> כלליים - ולמי שלא מכיר, לא חשוב; מה שחשוב הוא רק שהשלמים הם תחום ראשי ולכן המשפט תקף לגביו. <span class="math">\(D\)</span> הזו נקראת "צורת סמית" של <span class="math">\(A\)</span>.</p>
<p>איך זה עוזר לנו לפתור משוואות? פשוט מאוד. נניח שאנחנו רוצים לפתור את מערכת המשוואות שמוגדרת על ידי <span class="math">\(Ax=b\)</span>. אז זה תרגיל קל מאוד באלגברה לינארית להוכיח שאם נגדיר <span class="math">\(c=Lb\)</span> ונמצא פתרון למערכת המשוואות <span class="math">\(Dy=c\)</span>, אז פתרון למערכת המקורית נתון על ידי <span class="math">\(x=Ry\)</span>. נסו להוכיח! כעת, מכיוון ש-D כל כך פשוטה, אפשר בלי קושי למצוא את הפתרון עבורה, ואז לחזור ולקבל פתרון למערכת המקורית. עכשיו, אם יש לנו מערכת שיש לה יותר מפתרון אחד, אפשר למצוא <strong>פתרון כללי</strong> למערכת ש-D מגדירה, ולקבל ממנו בחזרה פתרון כללי למערכת ש-A מגדירה.</p>
<p>רק בעיה "קטנה" נותרה - איך מוצאים את צורת סמית של מטריצה? ובכן, אם היינו פוסט אלגוריתמי, הייתי אומר שזה מסובך ולא טריוויאלי (אבל גם לא אסון). אבל אנחנו לא - אנחנו פוסט על "איך פותרים תרגילים בעזרת מחשב" ואני בכוונה רוצה להציג כלים חזקים, אז בואו נדבר על הכלי שאני בדרך כלל משתמש בו לחישובים מתמטיים - <a href="http://www.sagemath.org/">Sage</a>. אם SymPy שהזכרתי קודם היא ספריה קטנה ונחמדה, Sage היא לוויתן כחול אדיר. היא ערב-רב של ספריות מתמטיות מסוגים שונים ומשונים שחברו להם יחדיו, ומוחבאים כולם מאחורי ממשק משותף ונוח ביותר, שהוא בבסיסו פייתון עם טיפ-טיפה שיפורים. זה אומר שמדובר על הורדה יחסית כבדה (כמעט ג'יגה) ושקשה לשלב את Sage בתוך תוכנות קלילות שאתם רוצים לכתוב, אבל לשימוש שנועד לעמוד בפני עצמו, או סתם לשימוש בהתמודדות עם בעיה מורכבת, אני נוהג להשתמש ב-Sage.</p>
<p>יש בעולם הגדול עוד כלים דומים, כמובן; כמה שמות מיידיים הם מתמטיקה, מייפל ומטלאב. היתרון המיידי של Sage עליהם הוא שהיא חופשית לשימוש (ואם השמטתי אזכור לכלי חופשי לשימוש נוסף - למשל Maxima - קרוב לודאי שזה כי Sage משתמשת בו).</p>
<p>טוב, אז איך נראה פתרון ב-Sage לבעיה הזו? הוא יהיה מורכב משני חלקים, שאני מפריד ביניהם ברווח. בחלק הראשון מוצאים פתרון כללי למערכת, ובחלק השני שוב עושים חיפוש כוח גס מטופש אחרי הפתרון שאנחנו רוצים, סתם כי לא היה לי כוח לכתוב משהו אלגנטי יותר:</p>
<div class="code-block">

<div class="highlight"><pre><span></span><code><span class="n">t</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;t&#39;</span><span class="p">)</span>
<span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">50</span><span class="p">]])</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="p">[[</span><span class="mi">100</span><span class="p">,</span><span class="mi">500</span><span class="p">]])</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span>
<span class="p">(</span><span class="n">D</span><span class="p">,</span> <span class="n">L</span><span class="p">,</span> <span class="n">R</span><span class="p">)</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">smith_form</span><span class="p">()</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">R</span><span class="o">*</span><span class="p">(</span><span class="n">D</span><span class="o">.</span><span class="n">solve_right</span><span class="p">(</span><span class="n">L</span><span class="o">*</span><span class="n">b</span><span class="p">)</span> <span class="o">+</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">t</span><span class="p">]])</span><span class="o">.</span><span class="n">transpose</span><span class="p">())</span>

<span class="n">val</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">while</span> <span class="n">true</span><span class="p">:</span>
  <span class="p">((</span><span class="n">a</span><span class="p">,),(</span><span class="n">b</span><span class="p">,),(</span><span class="n">c</span><span class="p">,))</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">t</span><span class="o">=</span><span class="n">val</span><span class="p">)</span>
  <span class="k">if</span> <span class="n">a</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">b</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">c</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
    <span class="nb">print</span> <span class="s2">&quot;x = </span><span class="si">%d</span><span class="s2">, y = </span><span class="si">%d</span><span class="s2">, z = </span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">)</span>
    <span class="k">break</span>
  <span class="n">val</span> <span class="o">*=</span> <span class="o">-</span><span class="mi">1</span>
  <span class="k">if</span> <span class="n">val</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
    <span class="n">val</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="err">```</span>
<span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

<span class="n">החלק</span> <span class="n">הראשון</span> <span class="n">הוא</span> <span class="n">המעניין</span> <span class="n">כאן</span><span class="o">.</span> <span class="n">אם</span> <span class="n">נסתכל</span> <span class="n">על</span> <span class="n">x</span> <span class="n">בסופו</span><span class="p">,</span> <span class="n">זה</span> <span class="n">מה</span> <span class="n">שנראה</span><span class="p">:</span>

<span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;code-block&quot;</span><span class="o">&gt;</span>
<span class="err">```</span><span class="n">python</span>
<span class="p">[</span> <span class="mi">40</span><span class="o">*</span><span class="n">t</span> <span class="o">-</span> <span class="mi">3500</span><span class="p">]</span>
<span class="p">[</span><span class="o">-</span><span class="mi">49</span><span class="o">*</span><span class="n">t</span> <span class="o">+</span> <span class="mi">4400</span><span class="p">]</span>
<span class="p">[</span>   <span class="mi">9</span><span class="o">*</span><span class="n">t</span> <span class="o">-</span> <span class="mi">800</span><span class="p">]</span>
</code></pre></div>


</div>

<p>וזה בעצם הפתרון הכללי למערכת. מה עשיתי כדי למצוא אותו? פשוט מאוד. בשורה 1 הגדרתי את המשתנה שבו אשתמש בתור פרמטר, כמו שהגדרתי בצורה דומה משתנים ב-SymPy. בשורה השניה והשלישית הגדרתי את מערכת המשוואות שלי בעזרת מטריצות (גם וקטור עמודה הוא מטריצה). ה-ZZ שמופיע שם אומר שמדובר על מטריצות מעל השלמים. בשורה 4 מצאתי את צורת סמית (הפונקציה מחזירה גם את D וגם את L,R, כמובן). רק בשורה 5 יש סוג של קסם. מה שקורה פה הוא שקודם כל אני פותר את המשוואה <span class="math">\(Dy=Lb\)</span> שתיארתי קודם; עכשיו, בגלל הצורה של D, הפתרון של המשוואה הזו יהיה וקטור שהכניסה האחרונה בו היא 0, אבל בעצם גם כל ערך אחר בכניסה הזו היה עובד (למה? זו אולי השאלה הכי מאתגרת אליכם בפוסט; חשבו על ההגדרה של צורת סמית שנתתי קודם). לכן אני דוחף לשם את t, ואז כופל את הכל ב-R כדי לקבל את הפתרון הכללי למערכת המקורית.</p>
<p>מכאן רק נותר לי לחפש ערך של <span class="math">\(t\)</span> שנותן ערכים חיוביים הן ל-x, הן ל-y והן ל-z, אבל שימו לב שכל ערך שלם שאציב ב-t יתן לי פתרון שלם של המשוואה - בעצם מצאתי את כל הפתרונות השלמים, והשיטה הזו תעבוד גם באופן כללי. אני משאיר לכם לחשוב איך אפשר למצוא יותר ביעילות ערך של <span class="math">\(t\)</span> שיתן ערך חיובי לשלושת המשתנים - זה לא קשה וממש לא חייבים לערוך חיפוש ממצה אחריו כמו שאני עשיתי.</p>
<p>אם כן, הפוסט הזה היה קצת חריג - הרשיתי לעצמי להציג את פייתון ו-Sage, פשוט כי הם הכלים הראשונים שהייתי משתמש בהם כדי לפתור את הבעיה הזו; כלומר, אם לא היה אפשר לכתוב פתרון כוח גס ברובי שיעבוד. כלל האצבע שלי פשוט - אני תמיד כותב קודם כל פתרון כוח גס ברובי, ורק אם הוא נכשל בצורה מביכה (קורה הרבה, אבל לא הרבה כפי שאפשר היה לצפות) אני מאפטמז.</p>
        </article>
        
        <footer>
            <p>© כל הזכויות שמורות לגדי אלכסנדרוביץ'</p>
        </footer>
    </div>

    
    <script>
        function searchPosts() {
            const searchTerm = document.getElementById('searchInput').value;
            if (searchTerm.trim()) {
                window.location.href = '/post_list.html?search=' + encodeURIComponent(searchTerm);
            }
        }
        
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchPosts();
            }
        });
    </script>
    
    
    <!-- Auto-render KaTeX math -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            renderMathInElement(document.body, {
                delimiters: [
                    {left: "\\[", right: "\\]", display: true},
                    {left: "\\(", right: "\\)", display: false}
                ],
                throwOnError: false
            });
        });
    </script>

</body>
</html>