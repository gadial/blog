<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.8.5">Jekyll</generator><link href="http://gadial.net/feed.xml" rel="self" type="application/atom+xml" /><link href="http://gadial.net/" rel="alternate" type="text/html" /><updated>2023-01-18T04:37:53+00:00</updated><id>http://gadial.net/feed.xml</id><title type="html">לא מדויק</title><subtitle>בלוג על מתמטיקה ומדעי המחשב</subtitle><entry><title type="html">תורת הקבוצות - מחלקות, אקסיומת ההחלפה ואינדוקציה ורקורסיה על-סופיות</title><link href="http://gadial.net/2023/01/18/classes_and_transfinite/" rel="alternate" type="text/html" title="תורת הקבוצות - מחלקות, אקסיומת ההחלפה ואינדוקציה ורקורסיה על-סופיות" /><published>2023-01-18T00:00:00+00:00</published><updated>2023-01-18T00:00:00+00:00</updated><id>http://gadial.net/2023/01/18/classes_and_transfinite</id><content type="html" xml:base="http://gadial.net/2023/01/18/classes_and_transfinite/">&lt;h2&gt;מה זו מחלקה ולמה זו לא רמאות&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://gadial.net/2023/01/14/ordinal_arithmetic/&quot;&gt;בפוסט הקודם&lt;/a&gt; הצגתי את ההגדרות לאריתמטיקה של סודרים. הכל היה (בתקווה) די פשוט ואינטואיטיבי, אבל הזהרתי שאני לא פורמלי עד הסוף, כי ההגדרה שלי הייתה רקורסיבית ולא נתתי עדיין נימוק למה “מותר” להשתמש בהגדרות כאלו. בפוסט הזה אני רוצה לדבר על הגדרות רקורסיביות, ועל הוכחות באינדוקציה שדרושות בשבילן ובשביל שלל דברים נוספים, בהקשר של הסודרים. בהקשר הזה קוראים להן “אינדוקציה על-סופית” ו”רקורסיה על-סופית” (Transfinite באנגלית). אלא שאי אפשר לדבר על הדברים הללו בלי להגיע סוף סוף לעניין קצת מלוכלך שטאטאתי עד כה מתחת לשטיח כי העדפתי לא להסביר בלי דוגמא צמודה, והגענו בדיוק אל הדוגמא הזו. המשהו המלוכלך זה מה שנקרא &lt;strong&gt;מחלקות&lt;/strong&gt;, ובשמיעה ראשונה עליו יכול להישמע כמו רמאות גדולה במיוחד, ודי קריטי שנבין למה זו לא רמאות לפני שנמשיך.&lt;/p&gt;

&lt;p&gt;כבר &lt;a href=&quot;https://gadial.net/2019/10/19/what_is_set_theory/&quot;&gt;כשהתחלתי לדבר&lt;/a&gt; על תורת הקבוצות הצגתי את &lt;strong&gt;הפרדוקס של ראסל&lt;/strong&gt;. הפרדוקס הזה מלמד אותנו שאי אפשר סתם לקרוא בשם “קבוצה” לכל אוסף של איברים; אינטואיטיבית, יש אוספים שהם גדולים מדי מכדי להיחשב קבוצות, וההנחה שהן קבוצות מובילה לפרדוקסים. כפועל יוצא מכך הגיעו אקסיומות צרמלו-פרנקל שמדברות בדיוק על איך נראות קבוצות ואיך אפשר לבנות אותן זו מזו.&lt;/p&gt;

&lt;p&gt;עכשיו, בואו נסתכל על אוסף כל הסודרים, שאני מכנה &lt;span&gt;\( \text{Ord} \)&lt;/span&gt;. האם הוא קבוצה? ובכן, ראינו בפוסט מוקדם יותר שאם יש לנו קבוצה &lt;span&gt;\( A \)&lt;/span&gt; של סודרים, גם &lt;span&gt;\( \bigcup A \)&lt;/span&gt; היא סודר. כלומר, גם &lt;span&gt;\( \bigcup\text{Ord} \)&lt;/span&gt; צריך להיות סודר. אבל אם הוא סודר, יש לו עוקב, &lt;span&gt;\( \bigcup\text{Ord}+1 \)&lt;/span&gt;. מכיוון שגם העוקב הזה הוא סודר, הוא שייך לקבוצת כל הסודרים, &lt;span&gt;\( \text{Ord} \)&lt;/span&gt;, ולכן נקבל &lt;span&gt;\( \bigcup\text{Ord}+1\in\text{Ord}\subseteq\bigcup\text{Ord} \)&lt;/span&gt;, כלומר &lt;span&gt;\( \bigcup\text{Ord}+1&amp;lt;\bigcup\text{Ord} \)&lt;/span&gt; ומצד שני &lt;span&gt;\( \bigcup\text{Ord}&amp;lt;\bigcup\text{Ord}+1 \)&lt;/span&gt; וזה כמובן בלתי אפשרי. קיבלנו סתירה בסגנון הפרדוקס של ראסל שמראה לנו ש-&lt;span&gt;\( \text{Ord} \)&lt;/span&gt; לא יכול להיות קבוצה. אז מה הוא &lt;strong&gt;כן&lt;/strong&gt;?&lt;/p&gt;

&lt;p&gt;ובכן, אנחנו קוראים לאוסף הזה &lt;strong&gt;מחלקה&lt;/strong&gt; (Class). זה השם ה”רשמי” שלנו כדי לתאר אוסף &lt;strong&gt;שאנחנו מסוגלים לתאר&lt;/strong&gt; אבל הוא לא בהכרח קבוצה בעצמו (משתמשים ב-Proper Class כדי לתאר מחלקה שאכן איננה קבוצה, ואני ככל הנראה אשתמש חופשי ב”מחלקה” כדי לומר “מחלקה שאיננה קבוצה”). מה זאת אומרת “מסוגלים לתאר”, בעזרת מה? בלי להסביר את זה בצורה הכי מדוקדקת שאפשר זה נשמע כאילו אני מרמה. התשובה היא - בעזרת &lt;strong&gt;לוגיקה מסדר ראשון&lt;/strong&gt;. ספציפית, בעזרת התורה מסדר ראשון של קבוצות.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://gadial.net/2012/06/17/first_order_logic/&quot;&gt;יש לי פוסטים&lt;/a&gt;על לוגיקה מסדר ראשון, ולכן כאן אני אסתפק בתיאור קצר יחסית. האובייקט הבסיסי בלוגיקה מסדר ראשון הוא &lt;strong&gt;נוסחה&lt;/strong&gt;, שהיא סדרה סופית של תווים. יש לנו תווים שמתארים &lt;strong&gt;משתנים&lt;/strong&gt;, למשל &lt;span&gt;\( x,y,z,A,B,C \)&lt;/span&gt; וכדומה (אפשר להניח שיש לנו אינסוף כאלו). בין כל שני משתנים אפשר לכתוב אחד משני סימני יחס: או לכתוב &lt;span&gt;\( x=y \)&lt;/span&gt; או לכתוב &lt;span&gt;\( x\in y \)&lt;/span&gt;. שני הביטויים הללו הם &lt;strong&gt;נוסחאות הבסיס&lt;/strong&gt; שלנו - כלומר, כל נוסחת בסיס &lt;span&gt;\( \varphi \)&lt;/span&gt; מורכבת משני משתנים עם אחד משני סימני היחס ביניהם. הרעיון בנוסחאות בסיס הוא שבהינתן &lt;strong&gt;השמה למשתנים&lt;/strong&gt; כל נוסחת בסיס מקבלת ערך שהוא או “אמת”, T או “שקר”, F; אם שמנו במשתנה &lt;span&gt;\( x \)&lt;/span&gt; את הקבוצה &lt;span&gt;\( a \)&lt;/span&gt; ושמנו במשתנה &lt;span&gt;\( y \)&lt;/span&gt; את הקבוצה &lt;span&gt;\( b \)&lt;/span&gt;, אז הנוסחה &lt;span&gt;\( x=y \)&lt;/span&gt; מקבלת ערך “אמת” רק אם &lt;span&gt;\( a,b \)&lt;/span&gt; הן אותה קבוצה בדיוק, ו-&lt;span&gt;\( x\in y \)&lt;/span&gt; מקבלת ערך “אמת” רק אם הקבוצה &lt;span&gt;\( a \)&lt;/span&gt; היא איבר של הקבוצה &lt;span&gt;\( b \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;מנוסחאות בסיס אפשר לבנות נוסחאות מורכבות יותר בעזרת &lt;strong&gt;קשרים לוגיים&lt;/strong&gt;: &lt;span&gt;\( \neg\varphi,\varphi\wedge\psi,\varphi\vee\psi,\varphi\to\psi,\varphi\leftrightarrow\psi \)&lt;/span&gt;. הקשרים הללו הם פונקציות על ערכי אמת: &lt;span&gt;\( \neg \)&lt;/span&gt; (“שלילה”) הופך T ל-F ו-F ל-T; &lt;span&gt;\( \wedge \)&lt;/span&gt; (“וגם”) מחזיר T רק אם שני הקלטים היו T; &lt;span&gt;\( \vee \)&lt;/span&gt; (“או”) מחזיר F רק אם שני הקלטים היו F, &lt;span&gt;\( \to \)&lt;/span&gt; (“גרירה”) מחזיר F רק אם הקלט השמאלי היה T והימני היה F; ו-&lt;span&gt;\( \leftrightarrow \)&lt;/span&gt; (“שקילות”) מחזיר T רק אם שני הקלטים שווים.&lt;/p&gt;

&lt;p&gt;המרכיב האחרון בבניית נוסחת הוא &lt;strong&gt;כמתים&lt;/strong&gt;. אם &lt;span&gt;\( \varphi \)&lt;/span&gt; היא נוסחה, אז גם &lt;span&gt;\( \forall x\varphi \)&lt;/span&gt; (“לכל &lt;span&gt;\( x \)&lt;/span&gt; מתקיים &lt;span&gt;\( \varphi \)&lt;/span&gt;”) ו-&lt;span&gt;\( \exists x\varphi \)&lt;/span&gt; (“קיים &lt;span&gt;\( x \)&lt;/span&gt; שעבורו מתקיים &lt;span&gt;\( \varphi \)&lt;/span&gt;”) הן נוסחאות. &lt;span&gt;\( \forall x\varphi \)&lt;/span&gt; מקבלת ערך T רק אם לכל קבוצה שמציבים במקום &lt;span&gt;\( x \)&lt;/span&gt; בנוסחה &lt;span&gt;\( \varphi \)&lt;/span&gt; מקבלים ערך T, ו-&lt;span&gt;\( \exists x\varphi \)&lt;/span&gt; מקבלת ערך T רק אם קיימת קבוצה שאם מציבים אותה במקום &lt;span&gt;\( x \)&lt;/span&gt; בנוסחה &lt;span&gt;\( \varphi \)&lt;/span&gt; מקבלים ערך T.&lt;/p&gt;

&lt;p&gt;החלק המוזר בכל הסיפור הזה הוא האמירה שלי “קיימת קבוצה” כי אני לא מסביר - קיימת קבוצה &lt;strong&gt;איפה&lt;/strong&gt;? וכאן הסיפור באמת מתחיל להסתבך. כשיש לי אוסף של נוסחאות מסדר ראשון, מה שאני קורא לו &lt;strong&gt;תורה&lt;/strong&gt;, ואני בא להבין מה ערכי האמת של נוסחאות מסדר ראשון, צריך להתחיל עם &lt;strong&gt;פרשנות&lt;/strong&gt; לסימונים שמופיעים בה. כאן אנחנו מניחים במובלע קיום של יקום מתמטי שממנו נלקחות הקבוצות שאפשר להציב בתוך המשתנים, אבל אנחנו לא יכולים לשלול את הקיום של &lt;strong&gt;כמה יקומים שונים&lt;/strong&gt; כאלו, ובפרט לא לשלול את אפשרות הקיום של יקומי “צעצוע” שהם קטנים למדי ביחס ליקום המפלצתי שאנחנו חושבים עליו. למשל, אפשר לקחת בתור יקום מתמטי את &lt;span&gt;\( \omega \)&lt;/span&gt; עצמו; זה אומר שכל קבוצה שנציב במשתנים שלנו תהיה איבר של &lt;span&gt;\( \omega \)&lt;/span&gt; ושום דבר חוץ מזה. אם זה יהיה היקום שלנו, נראה מהר מאוד שבניסוח הפורמלי של אקסיומות צרמלו-פרנקל, כל האקסיומות מתקיימות יפה מאוד, למעט אחת: אקסיומת האינסוף. כלומר, מנקודת המבט הזו אקסיומת האינסוף לא מראה לנו שמשהו קיים, אלא &lt;strong&gt;שוללת פרשנות&lt;/strong&gt; אפשרית אחת לתורה שלנו. זו דרך מאוד מועילה לחשוב על אקסיומות - בתור “פילטרים” שמסננים פרשנויות לא מתאימות של התורה שלנו. עוד נחזור לכל העניינים הללו בהמשך.&lt;/p&gt;

&lt;p&gt;כרגע, אבל, אני לא מניח עוד הנחות על היקום המתמטי שלנו חוץ מזה שכל איבריו הם קבוצות. אני מסמן אותו ב-&lt;span&gt;\( V \)&lt;/span&gt; וחסל. כזכור, &lt;span&gt;\( V \)&lt;/span&gt; הזה לא יכול להיות קבוצה (“קבוצת כל הקבוצות” לא קיימת), אבל קל לתת נוסחה ש”מתארת” אותו: &lt;span&gt;\( x=x \)&lt;/span&gt;. הנוסחה הזו נכונה &lt;strong&gt;לכל&lt;/strong&gt; איבר של &lt;span&gt;\( V \)&lt;/span&gt;, ולכן אפשר לתאר את &lt;span&gt;\( V \)&lt;/span&gt; בתור “אוסף כל האיברים שמקיימים &lt;span&gt;\( x=x \)&lt;/span&gt;”, או אפילו להתחצף ולכתוב &lt;span&gt;\( V=\left\{ x\ |\ x=x\right\}  \)&lt;/span&gt;. הכתיב הזה הוא חצוף משתי סיבות: ראשית, כי אני מערבב בין &lt;span&gt;\( x \)&lt;/span&gt; שהוא סימן של משתנה (מה שמופיע בנוסחה &lt;span&gt;\( x=x \)&lt;/span&gt;) ובין &lt;span&gt;\( x \)&lt;/span&gt; שהוא סימון של איבר קונקרטי של &lt;span&gt;\( V \)&lt;/span&gt; (מה שמופיע בצד שמאל) אבל זה לא נורא. מה שבאמת נורא הוא שאני משתמש בכתיב הסוגריים המסולסלים שמשמש אותנו להגדיר קבוצות, למרות ש-&lt;span&gt;\( V \)&lt;/span&gt; היא לא קבוצה. ומה ש&lt;strong&gt;הכי&lt;/strong&gt; נורא זה שאני אשתמש בסימון כמו &lt;span&gt;\( x\in V \)&lt;/span&gt; כדי לתאר שייכות למחלקה. כל זה נראה לגמרי כאילו אני מתייחס למחלקות בתור קבוצות. אז למה זה בסדר? ובכן, כי כל מה שאני עושה עם מחלקות זה בסך הכל &lt;strong&gt;כתיב מקוצר&lt;/strong&gt;. אני יכול להעלים את הכתיב המקוצר הזה ולהישאר במקומו עם נוסחאות לוגיות והכל יעבוד באותה מידה בדיוק.&lt;/p&gt;

&lt;p&gt;בואו נראה דוגמא יותר קונקרטית - הסודרים. כשאני כותב &lt;span&gt;\( \alpha\in\text{Ord} \)&lt;/span&gt;, כלומר “&lt;span&gt;\( \alpha \)&lt;/span&gt; הוא סודר”, למה אני מתכוון? אם נחזור להגדרה, סודר הוא קבוצה שהיא 1) טרנזיטיבית ו-2) סדורה בסדר מלא על ידי &lt;span&gt;\( \in \)&lt;/span&gt;. את שני אלו אפשר לנסח באמצעות נוסחה לוגית:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \forall\beta\forall\gamma\left(\left(\gamma\in\beta\wedge\beta\in\alpha\right)\to\gamma\in\alpha\right)\wedge\forall\beta\forall\gamma\left(\left(\beta\in\alpha\wedge\gamma\in\alpha\right)\to\left(\beta\in\gamma\vee\gamma\in\beta\right)\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;במקום לכתוב את כל הנוסחה הזו, אפשר לכתוב פשוט &lt;span&gt;\( \alpha\in\text{Ord} \)&lt;/span&gt;; זה סימון מקוצר מוסכם. זה לא אומר ש-&lt;span&gt;\( \text{Ord} \)&lt;/span&gt; היא קבוצה; כלומר, זה לא אומר שיש איבר ביקום שהאיברים שלו הם בדיוק האיברים של &lt;span&gt;\( \text{Ord} \)&lt;/span&gt;. הטענה שיש כזה איבר מנוסחת כך:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \exists A\left(\alpha\in A\leftrightarrow\alpha\in\text{Ord}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כאשר כאמור, ה-&lt;span&gt;\( \alpha\in\text{Ord} \)&lt;/span&gt; הוא פשוט העתק-הדבק של הנוסחה הגדולה מקודם. עכשיו, מה שראינו הוא שהנוסחה הזו של ה-&lt;span&gt;\( \exists A \)&lt;/span&gt; היא &lt;strong&gt;שקר&lt;/strong&gt;, כלומר לא קיימת &lt;span&gt;\( A \)&lt;/span&gt; כזו. זו הסיבה שאנחנו אומרים ש-&lt;span&gt;\( \text{Ord} \)&lt;/span&gt; היא “מחלקה ממש”.&lt;/p&gt;

&lt;p&gt;מוזר? כן, אז בואו נעבור לראות עוד שימוש של המושג הזה. איך אמר ג’ון פון-נוימן? “במתמטיקה לא מבינים דברים, במתמטיקה מתרגלים לדברים”. אחרי שמתרגלים גם קל יותר להבין.&lt;/p&gt;

&lt;h2&gt;אקסיומת ההחלפה&lt;/h2&gt;

&lt;p&gt;מבין כל האקסיומות של צרמלו-פרנקל שתיארתי בסדרת הפוסטים הזו, אקסיומת ההחלפה היא זו שהכי חיפפתי וטרם הצגתי בצורה פורמלית, למרות השימושיות הרבה שלה. סוף סוף הגיע הזמן להציג אותה פורמלית, אז כמובן שכדאי להתחיל מהצגה לא פורמלית: בהצגה הזו, אקסיומת ההחלפה אומרת שאם מחלקה &lt;span&gt;\( F \)&lt;/span&gt; היא פונקציה ו-&lt;span&gt;\( A \)&lt;/span&gt; היא קבוצה, אז &lt;span&gt;\( F\left(A\right) \)&lt;/span&gt; היא קבוצה.&lt;/p&gt;

&lt;p&gt;אבל רגע, מה זאת אומרת “מחלקה &lt;span&gt;\( F \)&lt;/span&gt; היא פונקציה”? הרי “פונקציה” הוגדרה בתור סוג של יחס, שהוא קבוצה. איך משהו שאיננו קבוצה יכול להיות פונקציה? אנחנו שוב מותחים את השימוש בשפה שלנו. מה שקורה בפועל הוא ש-&lt;span&gt;\( F \)&lt;/span&gt; כזו היא סימון מקוצר לנוסחה &lt;span&gt;\( \varphi\left(x,y,a_{1},\ldots,a_{n}\right) \)&lt;/span&gt;. הכתיב הזה עם הסוגריים אומר “יש בנוסחה &lt;span&gt;\( \varphi \)&lt;/span&gt; את המשתנים החופשיים &lt;span&gt;\( x,y,a_{1},\ldots,a_{n} \)&lt;/span&gt;” כש”משתנה חופשי” הוא משתנה שלא נופל תחת הטווח של כמת עם השם שלו. למשל בנוסחה &lt;span&gt;\( \forall x\left(x=y\right) \)&lt;/span&gt; המשתנה &lt;span&gt;\( y \)&lt;/span&gt; חופשי והמשתנה &lt;span&gt;\( x \)&lt;/span&gt; לא (אם ההגדרות הללו לא ברורות באמת שכדאי לקרוא קודם על לוגיקה מסדר ראשון, זה לא כזה קשה!)&lt;/p&gt;

&lt;p&gt;בנוסחה &lt;span&gt;\( \varphi\left(x,y,a_{1},\ldots,a_{n}\right) \)&lt;/span&gt; הזו אני חושב על &lt;span&gt;\( x,y \)&lt;/span&gt; בתור האיברים של הזוג ש-&lt;span&gt;\( \varphi \)&lt;/span&gt; מגדירה, ועל &lt;span&gt;\( a_{1},\ldots,a_{n} \)&lt;/span&gt; בתור “פרמטרים” שמאפיינים את &lt;span&gt;\( \varphi \)&lt;/span&gt;. למשל, הנוסחה שהמשתנים שלה הם רק &lt;span&gt;\( x,y \)&lt;/span&gt; (בלי פרמטרים)&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( x\in y\wedge\forall z\in x\left(z\in y\right)\wedge\forall z\in y\left(z=x\vee z\in x\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;מה היא אומרת? ש-&lt;span&gt;\( y=x\cup\left\{ x\right\}  \)&lt;/span&gt; (מה שעבור סודרים סימנתי ב-&lt;span&gt;\( y=x+1 \)&lt;/span&gt; אבל כאן אנחנו עוסקים בקבוצות כלליות, לאו דווקא סודרים). כלומר, &lt;span&gt;\( \varphi\left(x,y\right) \)&lt;/span&gt; מקבלת ערך T אם ורק אם &lt;span&gt;\( y=x\cup\left\{ x\right\}  \)&lt;/span&gt;. אפשר גם לסמן את זה &lt;span&gt;\( \left(x,y\right)\in F \)&lt;/span&gt;, כפי שכבר עשיתי קודם עם מחלקות.&lt;/p&gt;

&lt;p&gt;עכשיו, קל להוכיח שאם &lt;span&gt;\( \varphi\left(x,y_{1}\right) \)&lt;/span&gt; מקבלת ערך T וגם &lt;span&gt;\( \varphi\left(x,y_{2}\right) \)&lt;/span&gt; מקבלת ערך T (עבור הצבות קונקרטיות של קבוצות &lt;span&gt;\( x,y_{1},y_{2} \)&lt;/span&gt; למשתנים) אז &lt;span&gt;\( y_{1}=y_{2} \)&lt;/span&gt;; זו בדיוק התכונה שאנחנו דורשים מפונקציות. אז אפשר להשתמש בסימון &lt;span&gt;\( F\left(x\right) \)&lt;/span&gt; כדי לציין את &lt;span&gt;\( y \)&lt;/span&gt;, ואפשר לכתוב &lt;span&gt;\( F\left(x\right)=x\cup\left\{ x\right\}  \)&lt;/span&gt; ויהיה ברור אל מה הכוונה אפילו אם &lt;span&gt;\( F \)&lt;/span&gt; איננה קבוצה. ואם &lt;span&gt;\( A \)&lt;/span&gt; היא כן קבוצה, אני יכול לחשוב על הקבוצה &lt;span&gt;\( F\left(A\right)=\left\{ F\left(a\right)\ |\ a\in A\right\}  \)&lt;/span&gt;, אבל “לחשוב על הקבוצה” לא מוכיח שהיא קיימת; בשביל זה אני צריך את אקסיומת ההחלפה.&lt;/p&gt;

&lt;p&gt;פורמלית, אקסיומת ההחלפה היא לא אקסיומה בודדת, כלומר פסוק אחד ויחיד; יש לנו אקסיומת החלפה לכל נוסחה &lt;span&gt;\( \varphi\left(x,y,a_{1},\ldots,a_{n}\right) \)&lt;/span&gt; אפשרית (לכן לפעמים מדברים על &lt;strong&gt;סכמת&lt;/strong&gt; אקסיומת ההחלפה - מין תבנית כזו שיוצקים לתוכה את ה-&lt;span&gt;\( \varphi \)&lt;/span&gt; ומקבלים אקסיומה), ועבור &lt;span&gt;\( \varphi \)&lt;/span&gt; הזה אקסיומת ההחלפה היא&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \forall x\forall y\forall z\left(\varphi\left(x,y,a_{1},\ldots,a_{n}\right)\wedge\varphi\left(x,z,a_{1},\ldots,a_{n}\right)\to y=z\right)\to \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \to\forall A\exists B\forall y\left(y\in B\leftrightarrow\left(\exists x\in A\right)\varphi\left(x,y,a_{1},\ldots,a_{n}\right)\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;החצי הראשון של האקסיומה אומר “&lt;strong&gt;אם&lt;/strong&gt; &lt;span&gt;\( \varphi \)&lt;/span&gt; מתארת פונקציה” והחצי השני אומר “&lt;strong&gt;אז&lt;/strong&gt; לכל קבוצה &lt;span&gt;\( A \)&lt;/span&gt; שעליה מפעילים את הפונקציה, קיימת קבוצה &lt;span&gt;\( B \)&lt;/span&gt; שהיא התמונה של &lt;span&gt;\( A \)&lt;/span&gt;”.&lt;/p&gt;

&lt;p&gt;עכשיו אפשר סוף סוף לעשות עם זה משהו: אינדוקציה ורקורסיה על-סופיות. אבל מה זה אומר בכלל?&lt;/p&gt;

&lt;h2&gt;אינדוקציה על-סופית&lt;/h2&gt;

&lt;p&gt;במתמטיקה הרבה פעמים משתמשים בחופשיות במושגים “אינדוקציה” ו”רקורסיה” בתור מילים נרדפות, אבל עמוק בפנים יש להן משמעות פורמלית שונה. &lt;strong&gt;אינדוקציה&lt;/strong&gt; מתארת את האופן שבו &lt;strong&gt;מוכיחים&lt;/strong&gt; משהו בתהליך של הסקה מהפרט אל הכלל; &lt;strong&gt;רקורסיה&lt;/strong&gt; מתארת את האופן שבו &lt;strong&gt;מגדירים&lt;/strong&gt; משהו על קלט מסוים מתוך גרסאות פשוטות יותר של אותו הקלט. זה מה שצריך להיות לנו בראש - עם רקורסיה מגדירים, עם אינדוקציה מוכיחים.&lt;/p&gt;

&lt;p&gt;כשאני מדבר על אינדוקציה או רקורסיה “על-סופיות” (“טרנספיניטיות”) אני מתכוון לכאלו שמסתמכות על כלל הסודרים; ככה אפשר להבדיל מסוגים אחרים של אינדוקציה ורקורסיה. למשל, האינדוקציה ה”רגילה” מתבססת רק על המספרים הטבעיים.&lt;/p&gt;

&lt;p&gt;בואו ניזכר איך אינדוקציה רגילה עובדת: יש לנו טענה &lt;span&gt;\( P \)&lt;/span&gt; שיכולה להיות נכונה או שגויה עבור מספרים טבעיים שונים ומשונים. אנחנו כותבים &lt;span&gt;\( P\left(n\right) \)&lt;/span&gt; כדי לומר “הטענה &lt;span&gt;\( P \)&lt;/span&gt; מתקיימת עבור המספר הטבעי &lt;span&gt;\( n \)&lt;/span&gt;”. הוכחה באינדוקציה פירושה להוכיח ש-&lt;span&gt;\( P \)&lt;/span&gt; מתקיימת &lt;strong&gt;לכל&lt;/strong&gt; הטבעיים, וזאת על ידי הוכחה של שתי טענות:&lt;/p&gt;

&lt;ol&gt; &lt;li&gt;&lt;span&gt;\( P\left(0\right) \)&lt;/span&gt; (הטענה מתקיימת עבור המספר הטבעי 0)&lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( P\left(n\right)\to P\left(n+1\right) \)&lt;/span&gt; (&lt;strong&gt;אם&lt;/strong&gt; הטענה מתקיימת עבור המספר הטבעי &lt;span&gt;\( n \)&lt;/span&gt; &lt;strong&gt;אז&lt;/strong&gt; היא מתקיימת עבור המספר הטבעי &lt;span&gt;\( n+1 \)&lt;/span&gt;).&lt;/li&gt;

&lt;/ol&gt;

&lt;p&gt;שני אלו ביחד, כאמור, מוכיחים שהטענה מתקיימת לכל הטבעיים, כלומר &lt;span&gt;\( \forall nP\left(n\right) \)&lt;/span&gt; כשהכמת &lt;span&gt;\( \forall \)&lt;/span&gt; (“לכל”) רץ על כל הטבעיים.&lt;/p&gt;

&lt;p&gt;לפעמים אוהבים קצת לחסוך בכתיבה ולנסח אינדוקציה מתמטית בצורה הבאה:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \forall n\left(\forall k&amp;lt;n\left(P\left(k\right)\right)\to P\left(n\right)\right)\to\forall nP\left(n\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;הזוועה הזו אומרת “אם לכל &lt;span&gt;\( n \)&lt;/span&gt; טבעי זה נכון שאם לכל &lt;span&gt;\( k&amp;lt;n \)&lt;/span&gt; מתקיים &lt;span&gt;\( P\left(k\right) \)&lt;/span&gt; נובע מכך ש-&lt;span&gt;\( P\left(n\right) \)&lt;/span&gt;, אז &lt;span&gt;\( P \)&lt;/span&gt; נכון לכל הטבעיים”. הניסוח הזה נקרא &lt;strong&gt;אינדוקציה שלמה&lt;/strong&gt; והוא שקול לאינדוקציה “רגילה” אבל לפעמים יותר נוח, כי כדי להוכיח ש-&lt;span&gt;\( P\left(n\right) \)&lt;/span&gt; מתקיים אפשר להשתמש ישירות בכך ש-&lt;span&gt;\( P\left(k\right) \)&lt;/span&gt; מתקיים לכל &lt;span&gt;\( k&amp;lt;n \)&lt;/span&gt; ולא רק למספר שבא מייד לפני &lt;span&gt;\( n \)&lt;/span&gt;. לפעמים הניסוח הזה לא חוסך הרבה; עדיין צריך להוכיח בנפרד את המקרה עבור 0, וכשמוכיחים לאיבר כללי מספיק להסתמך על זה שהטענה מתקיימת לזה שלפניו.&lt;/p&gt;

&lt;p&gt;מה שנחמד בניסוח של אינדוקציה שלמה זה שהוא עובד בדיוק באותה מידה עבור סודרים:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \forall\alpha\left(\forall\beta&amp;lt;\alpha\left(P\left(\beta\right)\right)\to P\left(\alpha\right)\right)\to\forall\alpha P\left(\alpha\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כלומר, דרך להוכיח שטענה מתקיימת לכל הסודרים (כולם! אפילו שראינו שמחלקת כל הסודרים גדולה מכדי להיות קבוצה!) היא להוכיח שלכל סודר, אם הטענה מתקיימת לכל הסודרים הקטנים ממנו, היא מתקיימת גם עבורו.&lt;/p&gt;

&lt;p&gt;איך מוכיחים שאינדוקציה כזו באמת עובדת? ובכן, נניח ש-&lt;span&gt;\( P \)&lt;/span&gt; מקיימת את התכונה שתיארתי: לכל &lt;span&gt;\( \alpha \)&lt;/span&gt;, אם &lt;span&gt;\( P\left(\beta\right) \)&lt;/span&gt; לכל &lt;span&gt;\( \beta&amp;lt;\alpha \)&lt;/span&gt; נובע מכך ש-&lt;span&gt;\( P\left(\alpha\right) \)&lt;/span&gt;, ועכשיו בואו נניח ש-&lt;span&gt;\( P \)&lt;/span&gt; &lt;strong&gt;לא&lt;/strong&gt; מתקיימת לכל הסודרים, אז קיים סודר מינימלי &lt;span&gt;\( \alpha \)&lt;/span&gt; שעבורו היא לא מתקיימת, אבל המינימליות שלו פירושה שלכל &lt;span&gt;\( \beta&amp;lt;\alpha \)&lt;/span&gt; &lt;strong&gt;כן&lt;/strong&gt; מתקיים &lt;span&gt;\( P\left(\beta\right) \)&lt;/span&gt;, ומכאן שגם &lt;span&gt;\( P\left(\alpha\right) \)&lt;/span&gt; עצמו מתקיים.&lt;/p&gt;

&lt;p&gt;בהוכחה הזו השתמשתי די בחופשיות בכך שבכל מחלקה של סודרים (לאו דווקא קבוצה) יש איבר מינימלי. זה לא נראה מובן מאליו אבל זה די פשוט: ניקח סודר &lt;strong&gt;כלשהו&lt;/strong&gt; ששייך למחלקה; אז אנחנו יודעים שא) הסודר הזה הוא &lt;strong&gt;כן&lt;/strong&gt; קבוצה, וקבוצה סדורה היטב, כלומר בכל תת-קבוצה שלו יש איבר מינימלי; וב) הסודר הזה מכיל את כל הסודרים שקטנים ממנו, ובפרט את כל האיברים באוסף שקטנים ממנו. לכן או שהוא האיבר המינימלי, או שאפשר לשלוף מתוכו את האיבר המינימלי.&lt;/p&gt;

&lt;p&gt;יופי, אז הוכחנו שאינדוקציה על-סופית “עובדת”, אבל אני עדיין רוצה לנסח אותה באופן שמזכיר אינדוקציה “רגילה” ולא אינדוקציה שלמה. בשביל זה אני צריך מושג חדש. השלב שבו אינדוקציה על מספרים טבעיים מפסיקה לעבוד הוא כשמגיעים אל &lt;span&gt;\( \omega \)&lt;/span&gt;; זה סודר שהוא לא עוקב מיידי של אף מספר טבעי (כלומר, לא שווה &lt;span&gt;\( n+1 \)&lt;/span&gt; לאף טבעי &lt;span&gt;\( n \)&lt;/span&gt;) ולכן האינדוקציה לא “מגיעה” אליו. אנחנו צריכים חוק חדש שמדבר על &lt;span&gt;\( \omega \)&lt;/span&gt; וסודרים שדומים לו.&lt;/p&gt;

&lt;p&gt;אז אני מגדיר &lt;strong&gt;סודר גבולי&lt;/strong&gt; בתור סודר שהוא לא עוקב מיידי של אף סודר אחר, כלומר הוא לא מהצורה &lt;span&gt;\( \alpha+1 \)&lt;/span&gt; עבור אף סודר (כזכור, &lt;span&gt;\( \alpha+1\triangleq\alpha\cup\left\{ \alpha\right\}  \)&lt;/span&gt;). הסודר הגבולי הראשון הוא 0, והשני הוא &lt;span&gt;\( \omega \)&lt;/span&gt; וכן הלאה.&lt;/p&gt;

&lt;p&gt;עכשיו אפשר לנסח אינדוקציה על-סופית בצורה יותר “קלאסית”. נניח שיש לנו טענה &lt;span&gt;\( P \)&lt;/span&gt; על סודרים שמקיימת&lt;/p&gt;

&lt;ol&gt; &lt;li&gt;&lt;span&gt;\( P\left(0\right) \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;אם &lt;span&gt;\( P\left(\alpha\right) \)&lt;/span&gt; אז &lt;span&gt;\( P\left(\alpha+1\right) \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;אם &lt;span&gt;\( \alpha\ne0 \)&lt;/span&gt; הוא סודר גבולי ולכל &lt;span&gt;\( \beta&amp;lt;\alpha \)&lt;/span&gt; מתקיים &lt;span&gt;\( P\left(\beta\right) \)&lt;/span&gt;, אז &lt;span&gt;\( P\left(\alpha\right) \)&lt;/span&gt;&lt;/li&gt;

&lt;/ol&gt;

&lt;p&gt;אז אפשר להסיק ש-&lt;span&gt;\( P \)&lt;/span&gt; מתקיימת לכל &lt;span&gt;\( \alpha \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;עכשיו אפשר לעבור לדבר על רקורסיה, סוף סוף.&lt;/p&gt;

&lt;h2&gt;רקורסיה על-סופית&lt;/h2&gt;

&lt;p&gt;כמו עם אינדוקציה, גם כאן כדאי להתחיל עם דוגמא מעולם המספרים הטבעיים. איזו דוגמא מפורסמת יש למשהו שמוגדר ברקורסיה? זה קל: &lt;strong&gt;סדרת פיבונאצ'י&lt;/strong&gt; היא ללא ספק הסדרה הרקורסיבית המפורסמת בעולם. בואו נזכיר מהי: זו סדרה &lt;span&gt;\( F_{0},F_{1},F_{2},\ldots \)&lt;/span&gt; שמוגדרת על ידי הכללים:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;&lt;span&gt;\( F_{0}=0 \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( F_{1}=1 \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( F_{n}=F_{n-1}+F_{n-2} \)&lt;/span&gt; לכל &lt;span&gt;\( n&amp;gt;1 \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;הכללים הללו בעצם נחלקים לשני סוגים: יש לנו &lt;strong&gt;תנאי התחלה&lt;/strong&gt;, שהם ערכים מפורשים של &lt;span&gt;\( F \)&lt;/span&gt; עבור איברים ספציפיים, במקרה שלנו &lt;span&gt;\( F_{0},F_{1} \)&lt;/span&gt;, ויש לנו &lt;strong&gt;כלל רקורסיבי&lt;/strong&gt; שמאפשר לקבל את &lt;span&gt;\( F_{n} \)&lt;/span&gt; מתוך ערכים קודמים בסדרה. אנחנו רוצים להכליל את הרעיון הזה גם לסודרים, אבל בסודרים הסיטואציה קצת יותר מסובכת בגלל שיש לנו סודרים גבוליים שלא נוכל לכתוב &lt;span&gt;\( \alpha-1 \)&lt;/span&gt; וכדומה עבורם. אז בואו נשתמש בניסוח קצת שונה, וקצת יותר מסורבל למראה במבט ראשון, גם עבור מספרים טבעיים.&lt;/p&gt;

&lt;p&gt;הרעיון הוא כזה. מה זו בעצם “סדרה”? אנחנו חושבים עליה בתור פונקציה &lt;span&gt;\( F:\mathbb{N}\to A \)&lt;/span&gt; עבור קבוצה &lt;span&gt;\( A \)&lt;/span&gt; כלשהי; כלומר, דרך כלשהי להתאים לכל מספר טבעי איבר של &lt;span&gt;\( A \)&lt;/span&gt;. בסדרה רקורסיבית, כל איבר נבנה בצורה כלשהי מהאיברים הקודמים; פורמלית, יש פונקציה &lt;span&gt;\( G \)&lt;/span&gt; שמקבלת סדרה &lt;span&gt;\( G\left(a_{0},a_{1},\ldots,a_{n-1}\right) \)&lt;/span&gt; ומוציאה כפלט את &lt;span&gt;\( a_{n} \)&lt;/span&gt;, שהוא האיבר הבא שאמור להופיע בסדרה בתנאי שהאיברים הקודמים היו &lt;span&gt;\( a_{0},\ldots,a_{n} \)&lt;/span&gt;. עכשיו, כשאנחנו בונים את הסדרה &lt;span&gt;\( F \)&lt;/span&gt;, אנחנו עושים את זה על ידי הפעלות של &lt;span&gt;\( G \)&lt;/span&gt; שמקבלת בכל פעם את האיברים של &lt;span&gt;\( F \)&lt;/span&gt; שכבר נבנו; אפשר לסמן את זה &lt;span&gt;\( F|_{n} \)&lt;/span&gt; - הצמצום של התחום של &lt;span&gt;\( F \)&lt;/span&gt; מהקבוצה &lt;span&gt;\( \mathbb{N} \)&lt;/span&gt; לקבוצה &lt;span&gt;\( n=\left\{ 0,1,2,\ldots,n-1\right\}  \)&lt;/span&gt;, ואז מה שקורה הוא&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( F\left(n\right)=G\left(F|_{n}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כלומר, הסדרה ה&lt;strong&gt;אינסופית&lt;/strong&gt; &lt;span&gt;\( F \)&lt;/span&gt; נבנית איכשהו מתוך פונקציה &lt;span&gt;\( G \)&lt;/span&gt; שהקלטים שלה הן סדרות &lt;strong&gt;סופיות&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;מסורבל? כן, אבל מה שנחמד פה הוא שזה עובד באותה מידה גם עבור הסודרים. אבל צריך להיזהר קצת. אם אנחנו רוצים ש-&lt;span&gt;\( F \)&lt;/span&gt; תהיה סדרה על-סופית, כלומר פונקציה שתוכל לקבל כקלט כל סודר, זה אומר שהתחום של &lt;span&gt;\( F \)&lt;/span&gt; הוא אוסף כל הסודרים - והאוסף הזה, כבר אמרתי, גדול מכדי להיות קבוצה. לכן &lt;span&gt;\( F \)&lt;/span&gt; היא מחלקה. כבר ראינו שמחלקה יכולה לתאר פונקציה, אז אני מקווה שאנחנו בסדר עם זה; כל החלק הראשון של הפוסט היה מיועד כדי שלא נתקומם כאן.&lt;/p&gt;

&lt;p&gt;אם כן, הרעיון הוא שאם נתונה לי פונקציה &lt;span&gt;\( G \)&lt;/span&gt; (וגם זו “פונקציה” במובן של מחלקה) שמוגדרת על מחלקת כל הקבוצות &lt;span&gt;\( V \)&lt;/span&gt;, אני יכול להשתמש בה כדי ליצור סדרה על-סופית אחת ויחידה &lt;span&gt;\( F \)&lt;/span&gt;, שמקיימת&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( F\left(\alpha\right)=G\left(F|_{\alpha}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;לכל הסודרים, כאשר &lt;span&gt;\( F|_{\alpha} \)&lt;/span&gt; הוא הצמצום של &lt;span&gt;\( F \)&lt;/span&gt; לאיברי הסודר &lt;span&gt;\( \alpha \)&lt;/span&gt;, דהיינו הסדרה &lt;span&gt;\( \left\{ F_{\beta}\right\} _{\beta&amp;lt;\alpha} \)&lt;/span&gt; (הסדרה הזו היא &lt;strong&gt;כן&lt;/strong&gt; קבוצה בזכות אקסיומת ההחלפה, שמחליפה את אברי הסודר &lt;span&gt;\( \alpha \)&lt;/span&gt; בזוגות &lt;span&gt;\( \left(\beta,F_{\beta}\right) \)&lt;/span&gt;, ולכן קלט לגיטימי של &lt;span&gt;\( G \)&lt;/span&gt;).&lt;/p&gt;

&lt;p&gt;את הטענה שבאמת קיימת סדרה אחת ויחידה &lt;span&gt;\( F \)&lt;/span&gt; כזו צריך להוכיח; אז בונים את &lt;span&gt;\( F \)&lt;/span&gt; בתור נוסחה לוגית &lt;span&gt;\( \varphi \)&lt;/span&gt; עם שני משתנים, &lt;span&gt;\( \alpha,x \)&lt;/span&gt;, כך ש-&lt;span&gt;\( \varphi\left(\alpha,x\right) \)&lt;/span&gt; בודקת שקיימת סדרה &lt;span&gt;\( \left\{ a_{\beta}\right\} _{\beta&amp;lt;\alpha} \)&lt;/span&gt; כך שהדברים הללו מתקיימים&lt;/p&gt;

&lt;ol&gt; &lt;li&gt;לכל &lt;span&gt;\( \beta&amp;lt;\alpha \)&lt;/span&gt; מתקיים &lt;span&gt;\( a_{\beta}=G\left(\left\{ a_{\gamma}\right\} _{\gamma&amp;lt;\beta}\right) \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( x=G\left(\left\{ a_{\beta}\right\} _{\beta&amp;lt;\alpha}\right) \)&lt;/span&gt;&lt;/li&gt;

&lt;/ol&gt;

&lt;p&gt;כדי להראות שזה עובד, משתמשים באינדוקציה על-סופית. ראשית, אנחנו רוצים להראות ש-&lt;span&gt;\( F \)&lt;/span&gt; היא באמת פונקציה, כלומר שלכל &lt;span&gt;\( \alpha \)&lt;/span&gt;, אם קיימים &lt;span&gt;\( x_{1},x_{2} \)&lt;/span&gt; כך ש-&lt;span&gt;\( \varphi\left(\alpha,x_{1}\right) \)&lt;/span&gt; וגם &lt;span&gt;\( \varphi\left(\alpha,x_{2}\right) \)&lt;/span&gt; שניהם T אז &lt;span&gt;\( x_{1}=x_{2} \)&lt;/span&gt;. מה אנחנו יודעים על &lt;span&gt;\( x_{1},x_{2} \)&lt;/span&gt;? אנחנו יודעים שעבור &lt;span&gt;\( x_{1} \)&lt;/span&gt; קיימת סדרה &lt;span&gt;\( \left\{ a_{\beta}\right\} _{\beta&amp;lt;\alpha} \)&lt;/span&gt; שמקיימת את תנאי 1, ובנוסף &lt;span&gt;\( x_{1}=G\left(\left\{ a_{\beta}\right\} _{\beta&amp;lt;\alpha}\right) \)&lt;/span&gt;; ואנחנו יודעים שעבור &lt;span&gt;\( x_{2} \)&lt;/span&gt; קיימת סדרה &lt;span&gt;\( \left\{ b_{\beta}\right\} _{\beta&amp;lt;\alpha} \)&lt;/span&gt; שמקיימת את תנאי 1 ובנוסף &lt;span&gt;\( x_{2}=G\left(\left\{ a_{\beta}\right\} _{\beta&amp;lt;\alpha}\right) \)&lt;/span&gt;. אז מכיוון שאנחנו יודעים ש-&lt;span&gt;\( G \)&lt;/span&gt; פונקציה, אם נראה ש-&lt;span&gt;\( \left\{ a_{\beta}\right\} _{\beta&amp;lt;\alpha}=\left\{ b_{\beta}\right\} _{\beta&amp;lt;\alpha} \)&lt;/span&gt;, ינבע מכך &lt;span&gt;\( x_{1}=x_{2} \)&lt;/span&gt;. ואיך נראה ששתי הסדרות הללו שוות? בעזרת תנאי 1, ובעזרת אינדוקציה.&lt;/p&gt;

&lt;p&gt;אנחנו משתמשים באינדוקציה על &lt;span&gt;\( \beta \)&lt;/span&gt; ומראים ש-&lt;span&gt;\( a_{\beta}=b_{\beta} \)&lt;/span&gt; לכל &lt;span&gt;\( \beta&amp;lt;\alpha \)&lt;/span&gt;: הבסיס הוא &lt;span&gt;\( \beta=0 \)&lt;/span&gt; ועבורו &lt;span&gt;\( a_{0}=G\left(\emptyset\right)=b_{0} \)&lt;/span&gt; (כי במקרה זה לא קיים &lt;span&gt;\( \gamma&amp;lt;\beta \)&lt;/span&gt; ולכן הסדרה של תנאי 1 ריקה). לכל סודר אחר, גבולי או עוקב, אנחנו מניחים שלכל &lt;span&gt;\( \gamma&amp;lt;\beta \)&lt;/span&gt; כבר מתקיים &lt;span&gt;\( a_{\gamma}=b_{\gamma} \)&lt;/span&gt;, ומכאן שהסדרות &lt;span&gt;\( \left\{ a_{\gamma}\right\} _{\gamma&amp;lt;\beta},\left\{ b_{\gamma}\right\} _{\gamma&amp;lt;\beta} \)&lt;/span&gt; שוות, ולכן&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( a_{\beta}=G\left(\left\{ a_{\gamma}\right\} _{\gamma&amp;lt;\beta}\right)=G\left(\left\{ b_{\gamma}\right\} _{\gamma&amp;lt;\beta}\right)=b_{\beta} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;וזה מסיים את ההוכחה באינדוקציה. די פשוט!&lt;/p&gt;

&lt;p&gt;יפה, אז מה שהשגנו עד כה הוא להראות ש-&lt;span&gt;\( F \)&lt;/span&gt; היא באמת פונקציה. אבל עדיין צריך להראות ש-&lt;span&gt;\( F \)&lt;/span&gt; מוגדרת &lt;strong&gt;לכל&lt;/strong&gt; סודר &lt;span&gt;\( \alpha \)&lt;/span&gt;, כלומר שתמיד קיים &lt;span&gt;\( x \)&lt;/span&gt; כך ש-&lt;span&gt;\( \varphi\left(\alpha,x\right) \)&lt;/span&gt; היא בעלת ערך T; זה לא מתחייב ממה שראינו עד כה. גם את זה נוכיח, כמה מפתיע, באינדוקציה על &lt;span&gt;\( \alpha \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;עבור &lt;span&gt;\( \alpha=0 \)&lt;/span&gt;, בוודאי ש-&lt;span&gt;\( x=G\left(\emptyset\right) \)&lt;/span&gt; ישיג את המטרה ש-&lt;span&gt;\( \varphi\left(0,x\right) \)&lt;/span&gt; תקבל T; הסדרה של ה”קיימת סדרה” במקרה הזה היא בהכרח ריקה (כי האינדקסים שלה הם &lt;span&gt;\( \beta&amp;lt;0 \)&lt;/span&gt; ואין כאלו) ולכן תנאי 1 מתקיים באופן ריק ותנאי 2 הוא בדיוק &lt;span&gt;\( x=G\left(\emptyset\right) \)&lt;/span&gt;. אז זה הבסיס.&lt;/p&gt;

&lt;p&gt;עבור &lt;span&gt;\( \alpha+1 \)&lt;/span&gt;, אנו מניחים שהטענה נכונה עבור &lt;span&gt;\( \alpha \)&lt;/span&gt;, כלומר קיים איבר שאסמן &lt;span&gt;\( a_{\alpha} \)&lt;/span&gt; וקיימת סדרה &lt;span&gt;\( \left\{ a_{\beta}\right\} _{\beta&amp;lt;\alpha} \)&lt;/span&gt; שמקיימת את תנאי 1 ובנוסף &lt;span&gt;\( a_{\alpha}=G\left(\left\{ a_{\beta}\right\} _{\beta&amp;lt;\alpha}\right) \)&lt;/span&gt;. נרחיב את הסדרה הזו לסדרה &lt;span&gt;\( \left\{ a_{\beta}\right\} _{\beta&amp;lt;\alpha+1} \)&lt;/span&gt; על ידי הוספת &lt;span&gt;\( a_{\alpha} \)&lt;/span&gt; בתור האיבר האחרון שלה. נסמן &lt;span&gt;\( x=G\left(\left\{ a_{\beta}\right\} _{\beta&amp;lt;\alpha+1}\right) \)&lt;/span&gt; (קיים &lt;span&gt;\( x \)&lt;/span&gt; כזה כי &lt;span&gt;\( G \)&lt;/span&gt; היא פונקציה) ועכשיו ברור ש-&lt;span&gt;\( \varphi\left(\alpha+1,x\right) \)&lt;/span&gt; הוא T.&lt;/p&gt;

&lt;p&gt;אם &lt;span&gt;\( \alpha \)&lt;/span&gt; הוא סודר גבולי, אנחנו מניחים שהטענה נכונה לכל &lt;span&gt;\( \beta&amp;lt;\alpha \)&lt;/span&gt;. עכשיו מגיע החלק הטריקי והטכני ביותר בהוכחה: אני רוצה לבנות את הסדרה &lt;span&gt;\( \left\{ a_{\beta}\right\} _{\beta&amp;lt;\alpha} \)&lt;/span&gt;. אם אני אבנה אותה, אני אוכל להגדיר &lt;span&gt;\( x=G\left(\left\{ a_{\beta}\right\} _{\beta&amp;lt;\alpha}\right) \)&lt;/span&gt; ואז &lt;span&gt;\( \varphi\left(\alpha,x\right) \)&lt;/span&gt; יתקיים וכולנו נשמח. אבל בשביל זה צריך להראות שהסדרה &lt;span&gt;\( \left\{ a_{\beta}\right\} _{\beta&amp;lt;\alpha} \)&lt;/span&gt; &lt;strong&gt;קיימת&lt;/strong&gt;. לא קיימת במובן הנפנוף-ידיימי של מחלקות; קיימת בתור אובייקט מתמטי קונקרטי - קבוצה - ביקום שלנו.&lt;/p&gt;

&lt;p&gt;אז ראשית כל, אינטואיציה. אם יש לנו &lt;span&gt;\( \beta_{1}&amp;lt;\beta_{2}&amp;lt;\alpha \)&lt;/span&gt;, אנחנו יודעים שהסדרה עד &lt;span&gt;\( \beta_{1} \)&lt;/span&gt; היא תת-סדרה של הסדרה עד &lt;span&gt;\( \beta_{2} \)&lt;/span&gt;. פורמלית, מכיוון ש-&lt;span&gt;\( \beta_{1} \)&lt;/span&gt; מקיימת את הנחת האינדוקציה קיימת עבורה סדרה, &lt;span&gt;\( \left\{ a_{\gamma}\right\} _{\gamma\le\beta_{1}} \)&lt;/span&gt; שמקיימת את תכונות 1-2. בדומה עבור &lt;span&gt;\( \beta_{2} \)&lt;/span&gt; קיימת סדרה &lt;span&gt;\( \left\{ b_{\gamma}\right\} _{\gamma\le\beta_{2}} \)&lt;/span&gt; שכזו. אפשר להוכיח באינדוקציה, כמו שעשינו קודם, שעבור &lt;span&gt;\( \gamma\le\beta_{1} \)&lt;/span&gt; מתקיים &lt;span&gt;\( a_{\gamma}=b_{\gamma} \)&lt;/span&gt; - שתי הסדרות זהות עד שהסדרה הקצרה ביותר נגמרת. זה נכון לכל זוג &lt;span&gt;\( \beta_{1}&amp;lt;\beta_{2}&amp;lt;\alpha \)&lt;/span&gt;, ולכן אם נחשוב לרגע על שתי הסדרות הללו בתור קבוצות של זוגות סדורים:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left\{ \left(0,a_{0}\right),\left(1,a_{1}\right),\ldots,\left(\beta_{1},a_{\beta_{1}}\right)\right\}  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left\{ \left(0,a_{0}\right),\left(1,a_{1}\right),\ldots,\left(\beta_{1},a_{\beta_{1}}\right),\ldots,\left(\beta_{2},a_{\beta_{2}}\right)\right\}  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אז אחרי שנאחד את שתי הקבוצות הללו נקבל את הגדולה יותר, בלי “איברים מיותרים” נוספים.&lt;/p&gt;

&lt;p&gt;על פי אותו הגיון, אם תהיה לנו קבוצה שהאיברים שלה הן &lt;strong&gt;כל הסדרות&lt;/strong&gt; שמתאימות לכל אחד מה-&lt;span&gt;\( \beta&amp;lt;\alpha \)&lt;/span&gt; האפשריים, איחוד של כל אברי הקבוצה הזו יתן לנו בדיוק את הסדרה &lt;span&gt;\( \left\{ a_{\beta}\right\} _{\beta&amp;lt;\alpha} \)&lt;/span&gt; המבוקשת: לכל &lt;span&gt;\( \beta&amp;lt;\alpha \)&lt;/span&gt; אכן יהיה בדיוק איבר אחד בסדרה, והסדרה תקיים את החוקיות של דרישה (1). רק צריך להראות שקיימת קבוצה שהאיברים שלה הן &lt;strong&gt;כל הסדרות&lt;/strong&gt;. הקבוצה הזו מתקבלת &lt;strong&gt;מאקסיומת ההחלפה&lt;/strong&gt; כשמפעילים אותה על &lt;span&gt;\( \alpha \)&lt;/span&gt; ומחליפים כל &lt;span&gt;\( \beta \)&lt;/span&gt; בסדרה &lt;span&gt;\( \left\{ a_{\gamma}\right\} _{\gamma\le\beta_{1}} \)&lt;/span&gt; . השימוש הזה באקסיומת ההחלפה דורש בעצמו עבודה טכנית - להראות שיש פסוק שמקבל זוג של &lt;span&gt;\( \beta \)&lt;/span&gt; וסדרה &lt;span&gt;\( \left\{ a_{\gamma}\right\} _{\gamma\le\beta} \)&lt;/span&gt; ומוודא שהסדרה &lt;span&gt;\( \left\{ a_{\gamma}\right\} _{\gamma\le\beta} \)&lt;/span&gt; מקיימת את תנאים 1-2 ושהיא כוללת את כל הסודרים עד וכולל &lt;span&gt;\( \beta \)&lt;/span&gt;, וש-&lt;span&gt;\( \beta \)&lt;/span&gt; הוא בכלל סודר… הבנו את הרעיון, זה הזמן להתחיל לחפף.&lt;/p&gt;

&lt;p&gt;לסיום, בואו נוכיח יחידות: נניח ש-&lt;span&gt;\( F,F^{\prime} \)&lt;/span&gt; הן שתי פונקציות שמקיימות שתיהן &lt;span&gt;\( F\left(\alpha\right)=G\left(F|_{\alpha}\right) \)&lt;/span&gt; ו-&lt;span&gt;\( F^{\prime}\left(\alpha\right)=G\left(F^{\prime}|_{\alpha}\right) \)&lt;/span&gt; ונוכיח ש-&lt;span&gt;\( F\left(\alpha\right)=F^{\prime}\left(\alpha\right) \)&lt;/span&gt; לכל סודר &lt;span&gt;\( \alpha \)&lt;/span&gt; (כאן אנחנו נעזרים בכך שאנחנו כבר יודעים ש-&lt;span&gt;\( F,F^{\prime} \)&lt;/span&gt; מוגדרות לכל סודר). איך? באינדוקציה, כמובן! ההוכחה טריוויאלית, כי &lt;span&gt;\( F|_{\alpha}=F^{\prime}|_{\alpha} \)&lt;/span&gt; אם אנחנו מניחים את נכונות הטענה לכל &lt;span&gt;\( \beta&amp;lt;\alpha \)&lt;/span&gt; (כי צמצמנו את שתי הפונקציות הללו אל תחום שבו הן שוות) ולכן &lt;span&gt;\( F\left(\alpha\right)=G\left(F|_{\alpha}\right)=G\left(F^{\prime}|_{\alpha}\right)=F^{\prime}\left(\alpha\right) \)&lt;/span&gt;, מה שמסיים את ההוכחה.&lt;/p&gt;

&lt;p&gt;מה עכשיו? סיימנו את הדברים הבסיסיים שאפשר לומר על סודרים, ואפשר לעבור אל המושג הכי מלהיב שאנחנו יכולים להגדיר בעזרתם בשלב הזה: &lt;strong&gt;עוצמות&lt;/strong&gt;. זה מה שיקרה בפוסט הבא.&lt;/p&gt;</content><author><name></name></author><category term="סודרים" /><summary type="html">מה זו מחלקה ולמה זו לא רמאות</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://gadial.net/assets/img/main/default-card.png" /></entry><entry><title type="html">תורת הקבוצות - אריתמטיקה של סודרים</title><link href="http://gadial.net/2023/01/14/ordinal_arithmetic/" rel="alternate" type="text/html" title="תורת הקבוצות - אריתמטיקה של סודרים" /><published>2023-01-14T00:00:00+00:00</published><updated>2023-01-14T00:00:00+00:00</updated><id>http://gadial.net/2023/01/14/ordinal_arithmetic</id><content type="html" xml:base="http://gadial.net/2023/01/14/ordinal_arithmetic/">&lt;h2&gt;איך הסודרים נראים?&lt;/h2&gt;

&lt;p&gt;סדרת הפוסטים שלי על תורת הקבוצות הגיעה &lt;a href=&quot;https://gadial.net/2023/01/12/ordinals/&quot;&gt;בפוסט הקודם&lt;/a&gt; אל ההגדרה של סודרים וראינו עליהם כל מני דברים מרתקים כמו זה שאפשר להשוות אותם, אבל דבר אחד לא באמת הסברתי - &lt;strong&gt;איך הם נראים&lt;/strong&gt;. מלמלתי משהו על זה שהטבעיים הם סודרים, ויש איזה סודר שנקרא &lt;span&gt;\( \omega=\left\{ 0,1,2,\ldots\right\}  \)&lt;/span&gt; והראיתי עוד כמה סודרים באמצעותו, אבל זה לא רציני. אם אנחנו מדברים על סודרים, בואו נבין איך &lt;strong&gt;כולם&lt;/strong&gt; כולל כולם נראים. אבל איך נעשה את זה?&lt;/p&gt;

&lt;p&gt;בואו נחשוב על מספרים טבעיים. יש כל מני דרכים לייצג מספרים טבעיים, אבל הדרך החביבה על האנושות בימינו היא &lt;strong&gt;הצגה עשרונית&lt;/strong&gt;. בהצגה עשרונית אני כותב 572 וכולם מבינים שכתבתי מספר שמתקבל בתור מין תרגיל חשבוני: &lt;span&gt;\( 5\times10^{2}+7\times10^{1}+2\times10^{0} \)&lt;/span&gt;. מה יש לנו פה? ביטוי שמערב שלוש פעולות חשבוניות: חיבור, כפל וחזקה; ומערב שלוש &lt;strong&gt;ספרות&lt;/strong&gt;, במקרה הזה 5,7,2, שהן מספרים בין 0 ל-9; ומערב את המספר המיוחד 10 שמשמש בתור ה&lt;strong&gt;בסיס&lt;/strong&gt; של הייצוג העשרוני.&lt;/p&gt;

&lt;p&gt;האם יש משהו דומה עבור סודרים באופן כללי? למרבה השמחה, כן. כל סודר &lt;span&gt;\( \alpha&amp;gt;0 \)&lt;/span&gt; אפשר לכתוב באופן הבא:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \alpha=\omega^{\beta_{1}}\cdot k_{1}+\ldots+\omega^{\beta_{n}}\cdot k_{n} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כאשר &lt;span&gt;\( \alpha\ge\beta_{1}\ge\ldots\ge\beta_{n} \)&lt;/span&gt; הם סודרים ו-&lt;span&gt;\( k_{1},\ldots,k_{n} \)&lt;/span&gt; הם מספרים טבעיים. הייצוג הזה נקרא &lt;strong&gt;הצורה הנורמלית של קנטור&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;לא תמיד הייצוג הזה עושה את החיים פשוטים יותר: למשל, יש סודרים שמקיימים &lt;span&gt;\( \alpha=\omega^{\alpha} \)&lt;/span&gt;, אז לא לגמרי ברור האם הייצוג הזה עוזר לנו להבין יותר טוב איך הם נראים; אבל לפחות יש לנו צורה אחידה לכולם שנראית סבירה יחסית.&lt;/p&gt;

&lt;h2&gt;איך מגדירים אריתמטיקה של סודרים?&lt;/h2&gt;

&lt;p&gt;כדי להבין איך הצורה הנורמלית הזו “עובדת”, אנחנו צריכים להגדיר פעולות חשבון עבור סודרים - חיבור, כפל וחזקה, בדיוק כמו עבור טבעיים. ההגדרות די פשוטות; הן כמעט זהות למה שקורה עם טבעיים. אבל עם סיבוך אחד. אז בואו ניזכר קודם איך ההגדרות עובדות אצל הטבעיים.&lt;/p&gt;

&lt;p&gt;הדבר הבסיסי שאנחנו מתחילים ממנו הוא קיום הפעולה &lt;span&gt;\( n+1 \)&lt;/span&gt; - פעולת ה&lt;strong&gt;עוקב&lt;/strong&gt;. ראינו איך היא מוגדרת פורמלית: &lt;span&gt;\( n+1\triangleq n\cup\left\{ n\right\}  \)&lt;/span&gt;. ברגע שיש אותה, אפשר להגדיר חיבור כללי &lt;span&gt;\( n+m \)&lt;/span&gt; באופן הבא:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;&lt;span&gt;\( n+0\triangleq n \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( n+\left(m+1\right)\triangleq\left(n+m\right)+1 \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;במילים אחרות, עבור &lt;span&gt;\( m=0 \)&lt;/span&gt; החיבור מוגדר בצורה כזו ש-0 הוא נייטרלי לחיבור - לא משנה את מה שמחברים אותו אליו. עבור חיבור עם כל מספר גדול מאפס, אנחנו מתבססים על כך שהמספר הזה הוא &lt;strong&gt;עוקב מיידי&lt;/strong&gt; של מישהו: כלומר, ניתן לכתוב אותו בתור &lt;span&gt;\( m+1 \)&lt;/span&gt; עבור &lt;span&gt;\( m \)&lt;/span&gt; טבעי כלשהו. מכיוון ש-&lt;span&gt;\( m&amp;lt;m+1 \)&lt;/span&gt; אנחנו מניחים שכבר הגדרנו את &lt;span&gt;\( n+m \)&lt;/span&gt; עבורו, ואנחנו לוקחים את ה-&lt;span&gt;\( n+m \)&lt;/span&gt; הזה ומפעילים עליו את פעולת העוקב. זו דוגמא להגדרה &lt;strong&gt;רקורסיבית&lt;/strong&gt;: אנחנו מגדירים משהו באמצעות מקרים פשוטים יותר שלו שכבר טיפלנו בהם.&lt;/p&gt;

&lt;p&gt;באופן מאוד דומה אפשר להגדיר עכשיו כפל &lt;span&gt;\( n\cdot m \)&lt;/span&gt;, רק שעכשיו 0 לא יהיה נייטרלי אלא “בולעני”, ואת מקום פעולת העוקב תחליף פעולת החיבור שכבר הגדרנו:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;&lt;span&gt;\( n\cdot0\triangleq0 \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( n\cdot\left(m+1\right)\triangleq n\cdot m+n \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;והגדרת חזקה &lt;span&gt;\( n^{m} \)&lt;/span&gt; ממשיכה באותה רוח:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;&lt;span&gt;\( n^{0}\triangleq1 \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( n^{m+1}\triangleq n^{m}\cdot n \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;את כל ההגדרות הללו אפשר להחיל גם על סודרים, אבל יש לנו סיבוך מהותי אחד: בהגדרה עבור טבעיים, ההנחה המובלעת שלנו הייתה שכל מספר שאיננו 0 הוא עוקב מיידי של מישהו. זה לא קורה עבור סודרים. למשל, &lt;span&gt;\( \omega=\left\{ 0,1,2,\ldots\right\}  \)&lt;/span&gt; הוא לא עוקב מיידי של אף אחד. סודר כזה נקרא &lt;strong&gt;סודר גבולי&lt;/strong&gt;. הסודר הגבולי הקטן ביותר הוא כאמור 0 שבו ההגדרות הקיימות כן מטפלות, אבל יש עוד אינספור נוספים, וצריך לטפל בכולם.&lt;/p&gt;

&lt;p&gt;כדי לקבל אינטואיציה לגבי מה שנעשה עכשיו, בואו ניזכר לרגע באופן שבו מגדירים במספרים ממשיים את &lt;span&gt;\( a^{\sqrt{2}} \)&lt;/span&gt;. הרעיון הוא להתבסס על זה שאנחנו יודעים להגדיר חזקה שבה המעריך הוא מספר רציונלי: &lt;span&gt;\( a^{\frac{n}{m}}=\sqrt[m]{a^{n}} \)&lt;/span&gt;; ומה שאנחנו עושים עכשיו הוא לקחת סדרה של מספרים רציונליים שמתכנסת ל-&lt;span&gt;\( \sqrt{2} \)&lt;/span&gt; (תמיד יש כזו; זה מה שנקרא “הרציונליים צפופים בממשיים”): סדרה &lt;span&gt;\( \left\{ r_{n}\right\} _{n=1}^{\infty} \)&lt;/span&gt; כך ש-&lt;span&gt;\( \lim_{n\to\infty}r_{n}=\sqrt{2} \)&lt;/span&gt;, ואנחנו &lt;strong&gt;מגדירים&lt;/strong&gt; &lt;span&gt;\( a^{\sqrt{2}}=\lim_{n\to\infty}a^{r_{n}} \)&lt;/span&gt;. צריך כמובן להוכיח שזה מוגדר היטב, במובן זה שכל סדרה של רציונליים שמתכנסת אל &lt;span&gt;\( \sqrt{2} \)&lt;/span&gt; תניב את אותו מספר, אבל זה עובד.&lt;/p&gt;

&lt;p&gt;ההגדרה הזו הסתמכה על מושג ה&lt;strong&gt;גבול&lt;/strong&gt; שקיים בחדו”א. עבור סודרים אין דבר כזה, אבל יש משהו דומה. ראשית, בואו נשים לב לכך שאם יש לנו קבוצה &lt;span&gt;\( A \)&lt;/span&gt; שכל האיברים שלה הם סודרים, אז &lt;span&gt;\( \bigcup A \)&lt;/span&gt; הוא סודר בעצמו. זה די ברור בקבוצה סופית, כי ראינו שלכל זוג סודרים, אחד מוכל בשני, כך שהאיחוד של כולם יהיה פשוט האיבר המקסימלי בקבוצה. אבל אם &lt;span&gt;\( A \)&lt;/span&gt; אינסופית זה מצריך הוכחה דומה לאלו של הפוסט הקודם. אני אסמן &lt;span&gt;\( \alpha=\bigcup A \)&lt;/span&gt; ואז כדי להראות שזו קבוצה טרנזיטיבית ניקח &lt;span&gt;\( \gamma\in\alpha \)&lt;/span&gt;. על פי הגדרת &lt;span&gt;\( \alpha \)&lt;/span&gt; זה אומר שקיים &lt;span&gt;\( \beta\in A \)&lt;/span&gt; כך ש-&lt;span&gt;\( \gamma\in\beta \)&lt;/span&gt;, ומכיוון ש-&lt;span&gt;\( \beta \)&lt;/span&gt; סודר אז &lt;span&gt;\( \gamma\subseteq\beta\subseteq\bigcup A=\alpha \)&lt;/span&gt; ולכן &lt;span&gt;\( \gamma\subseteq\alpha \)&lt;/span&gt; וקיבלנו ש-&lt;span&gt;\( \alpha \)&lt;/span&gt; טרנזיטיבי. עכשיו, האיברים של &lt;span&gt;\( \alpha \)&lt;/span&gt; כולם סודרים (כי האיברים של &lt;span&gt;\( A \)&lt;/span&gt; הם סודרים ולכן כל האיברים &lt;strong&gt;שלהם&lt;/strong&gt; הם סודרים) וכבר ראינו שהם סדורים בסדר מלא על ידי &lt;span&gt;\( \in \)&lt;/span&gt;, כך ש-&lt;span&gt;\( \alpha \)&lt;/span&gt; הוא סודר.&lt;/p&gt;

&lt;p&gt;אבחנה נוספת היא ש-&lt;span&gt;\( \alpha=\sup A \)&lt;/span&gt;, כלומר האיבר המינימלי של אוסף הסודרים שגדולים או שווים לכל אברי &lt;span&gt;\( A \)&lt;/span&gt;. איבר כזה בהחלט קיים כי &lt;span&gt;\( \alpha \)&lt;/span&gt; הוא סודר כזה, אז מספיק להסתכל על קבוצת כל הסודרים הקטנים או שווים אליו שמקיימים את התכונה הזו והיא סדורה היטב. בנוסף, מכיוון ש-&lt;span&gt;\( \text{sup}A \)&lt;/span&gt; גדול או שווה לכל איבר ב-&lt;span&gt;\( A \)&lt;/span&gt; הוא מכיל את כולם, ולכן מכיל את האיחוד שלהם שהוא &lt;span&gt;\( \alpha \)&lt;/span&gt;; והמינימליות שלו פירושה שהוא מוכל ב-&lt;span&gt;\( \alpha \)&lt;/span&gt;, כך שקיבלנו שהם שווים.&lt;/p&gt;

&lt;p&gt;עכשיו אפשר להגדיר גבול, עבור מקרה ספציפי. ניקח סודר גבולי &lt;span&gt;\( \alpha \)&lt;/span&gt; וסדרה של סודרים שהאינדקסים שלה הם כל הסודרים עד ולא כולל &lt;span&gt;\( \alpha \)&lt;/span&gt;, כלומר &lt;span&gt;\( \left\{ a_{\beta}\right\} _{\beta&amp;lt;\alpha} \)&lt;/span&gt; (פורמלית, זו פונקציה מ-&lt;span&gt;\( \alpha \)&lt;/span&gt; אל קבוצה כלשהי של סודרים, כמו שסדרה רגילה היא פונקציה מ-&lt;span&gt;\( \mathbb{N} \)&lt;/span&gt; לקבוצה כלשהי). נניח שהסדרה עולה, כלומר אם &lt;span&gt;\( \beta_{1}&amp;lt;\beta_{2} \)&lt;/span&gt; אז &lt;span&gt;\( a_{\beta_{1}}&amp;lt;a_{\beta_{2}} \)&lt;/span&gt;, ועכשיו אפשר להגדיר את הגבול של הסדרה על ידי&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \lim_{\beta\to\alpha}a_{\beta}=\sup\left\{ a_{\beta}\ |\ \beta&amp;lt;\alpha\right\}  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עם ההגדרה הזו אפשר להציג סוף סוף את ההגדרה הפורמלית של פעולות האריתמטיקה של סודרים.&lt;/p&gt;

&lt;p&gt;חיבור מוגדר על ידי&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;&lt;span&gt;\( \alpha+0\triangleq\alpha \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( \alpha+\left(\beta+1\right)\triangleq\left(\alpha+\beta\right)+1 \)&lt;/span&gt; לכל סודר &lt;span&gt;\( \beta \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( \alpha+\beta\triangleq\lim_{\gamma\to\beta}\left(\alpha+\gamma\right) \)&lt;/span&gt; לכל סודר גבולי &lt;span&gt;\( \beta&amp;gt;0 \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;כפל מוגדר על ידי&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;&lt;span&gt;\( \alpha\cdot0\triangleq0 \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( \alpha\cdot\left(\beta+1\right)\triangleq\left(\alpha\cdot\beta\right)+\alpha \)&lt;/span&gt; לכל סודר &lt;span&gt;\( \beta \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( \alpha\cdot\beta\triangleq\lim_{\gamma\to\beta}\left(\alpha\cdot\gamma\right) \)&lt;/span&gt; לכל סודר גבולי &lt;span&gt;\( \beta&amp;gt;0 \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;חזקה מוגדרת על ידי&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;&lt;span&gt;\( \alpha^{0}\triangleq1 \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( \alpha^{\beta+1}\triangleq\alpha^{\beta}\cdot\alpha \)&lt;/span&gt; לכל סודר &lt;span&gt;\( \beta \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( \alpha^{\beta}\triangleq\lim_{\gamma\to\beta}\alpha^{\gamma} \)&lt;/span&gt; לכל סודר גבולי &lt;span&gt;\( \beta&amp;gt;0 \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;זה מסיים את ההגדרה, אם כי אני כבר מציין שההגדרה הזו לא פורמלית מספיק; הגדרתי את הכל באופן רקורסיבי, אבל לא הסברתי למה בכלל אפשר להגדיר דברים באופן רקורסיבי. בגלל שהנושא הזה מביא איתו שלל סיבוכים משל עצמו, אני שומר אותו לפוסט הבא.&lt;/p&gt;

&lt;h2&gt;כמה דוגמאות ועוד דרך התבוננות על זה&lt;/h2&gt;

&lt;p&gt;עכשיו שיש לנו הגדרות פורמליות אפשר לראות כל מני דברים שאולי קצת לא אינטואיטיביים לנו, למשל ש-&lt;span&gt;\( 1+\omega\ne\omega+1 \)&lt;/span&gt;. למה? כי &lt;span&gt;\( \omega+1=\left\{ 0,1,\ldots,\omega\right\}  \)&lt;/span&gt;, זה הסודר שבא מייד אחרי &lt;span&gt;\( \omega \)&lt;/span&gt;; לעומת זאת, אם ננסה למצוא מהו &lt;span&gt;\( 1+\omega \)&lt;/span&gt; על פי הגדרה, נקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( 1+\omega=\lim_{n\to\omega}\left(1+n\right)=\sup\mathbb{N}=\omega \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;זה בגלל שאם &lt;span&gt;\( n&amp;lt;\omega \)&lt;/span&gt; אז &lt;span&gt;\( n \)&lt;/span&gt; הוא מספר טבעי, ולכן &lt;span&gt;\( 1+n \)&lt;/span&gt; גם הוא מספר טבעי, ואנחנו לוקחים את הסופרמום על קבוצת הטבעיים - לא קיבלנו שום דבר “חדש”.&lt;/p&gt;

&lt;p&gt;הבעיה עם התיאור הזה, לפחות שלי, היא שאני מרגיש שהעניינים הסתבכו בצורה משמעותית. קיבלנו הגדרה יפה ומועילה, אבל עכשיו אנחנו רואים שיש בה מוקשים סמויים שאין לנו אינטואיציה טובה לגביהם. אז אולי אפשר לתת עוד אינטואיציה מה זה בכלל חיבור סודרים? התשובה היא שכן, ולמרבה המזל היא די פשוטה.&lt;/p&gt;

&lt;p&gt;בואו ניקח שתי קבוצות זרות &lt;span&gt;\( A,B \)&lt;/span&gt; שהן סדורות בסדרים מלאים, &lt;span&gt;\( &amp;lt;_{A},&amp;lt;_{B} \)&lt;/span&gt;, ונגדיר יחס סדר על &lt;span&gt;\( A\cup B \)&lt;/span&gt; שאפשר לתאר בתור “קודם &lt;span&gt;\( A \)&lt;/span&gt; ואז &lt;span&gt;\( B \)&lt;/span&gt;”. כלומר:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;אם &lt;span&gt;\( a\in A,b\in B \)&lt;/span&gt; אז &lt;span&gt;\( a&amp;lt;b \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;אם &lt;span&gt;\( a,b\in A \)&lt;/span&gt; אז &lt;span&gt;\( a&amp;lt;b \)&lt;/span&gt; אם ורק אם &lt;span&gt;\( a&amp;lt;_{A}b \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;אם &lt;span&gt;\( a,b\in B \)&lt;/span&gt; אז &lt;span&gt;\( a&amp;lt;b \)&lt;/span&gt; אם ורק אם &lt;span&gt;\( a&amp;lt;_{B}b \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;ראינו כבר משהו כזה לא מזמן; &lt;a href=&quot;https://gadial.net/2023/01/07/well_ordered_sets/&quot;&gt;בפוסט שלי&lt;/a&gt; על קבוצות סדורות היטב לקחתי את &lt;span&gt;\( \mathbb{Z} \)&lt;/span&gt; וחילקתי אותה לשני חלקים: &lt;span&gt;\( \mathbb{Z}=A\cup B \)&lt;/span&gt; כאשר &lt;span&gt;\( A=\mathbb{N} \)&lt;/span&gt; עם יחס הסדר הרגיל ו-&lt;span&gt;\( B=\left\{ -1,-2,-3,\ldots\right\}  \)&lt;/span&gt; עם יחס הסדר על פי הערך המוחלט. מזה הסקתי יחס סדר חדש ולא סטנדרטי של &lt;span&gt;\( \mathbb{Z} \)&lt;/span&gt;, שסימנתי &lt;span&gt;\( \mathbb{Z}=\left\{ 0,1,2,\ldots,-1,-2,\ldots\right\}  \)&lt;/span&gt;. עכשיו, כשעושים את זה על קבוצות סדורות היטב, התוצאה היא קבוצה סדורה היטב; ואם &lt;span&gt;\( A\cong\alpha,B\cong\beta \)&lt;/span&gt; מקבלים ש-&lt;span&gt;\( A\cup B\cong\alpha+\beta \)&lt;/span&gt; (בדוגמא שלנו קיבלנו ש-&lt;span&gt;\( \mathbb{Z} \)&lt;/span&gt; עם יחס הסדר המוזר איזומורפית ל-&lt;span&gt;\( \omega+\omega \)&lt;/span&gt;). זו הדרך הנוחה לחשוב על זה.&lt;/p&gt;

&lt;p&gt;עכשיו אולי קצת יותר ברור עניין ה-&lt;span&gt;\( 1+\omega\ne\omega+1 \)&lt;/span&gt;. כי &lt;span&gt;\( \omega+1 \)&lt;/span&gt; זה “לאינסוף… ומעבר לו!” - זו קבוצת הטבעיים &lt;span&gt;\( \omega \)&lt;/span&gt; כשאנחנו מוסיפים עוד איבר 1 (זה ה-&lt;span&gt;\( +1 \)&lt;/span&gt;) “בסוף” שלה, אחרי כל הטבעיים. לעומת זאת, &lt;span&gt;\( 1+\omega \)&lt;/span&gt; זו קבוצת הטבעיים כשאנחנו מוסיפים איבר חדש &lt;strong&gt;בהתחלה&lt;/strong&gt;, כלומר למשל הקבוצה &lt;span&gt;\( \left\{ -1,0,1,2,\ldots\right\}  \)&lt;/span&gt; עם יחס הסדר הרגיל, שאיזומורפית ל-&lt;span&gt;\( \mathbb{N} \)&lt;/span&gt; עם האיזומורפיזם &lt;span&gt;\( x\mapsto x+1 \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;מה עם כפל? אותו עניין: &lt;span&gt;\( 2\cdot\omega\ne\omega\cdot2 \)&lt;/span&gt;. כי &lt;span&gt;\( 2\cdot\omega=\lim_{n\to\omega}2\cdot n=\omega \)&lt;/span&gt;, אבל &lt;span&gt;\( \omega\cdot2=\left(\omega\cdot1\right)+\omega=\omega+\omega \)&lt;/span&gt;. ושוב נשאלת השאלה האם אפשר לתת תיאור “קבוצתי” של זה, ואפשר! ניקח &lt;span&gt;\( A,B \)&lt;/span&gt; כמו קודם ונסתכל על &lt;span&gt;\( A\times B \)&lt;/span&gt;. על הקבוצה הזו נגדיר &lt;strong&gt;סדר לקסיקוגרפי&lt;/strong&gt;, כלומר כזה שבו קודם כל משווים את האיברים ברכיב אחד, ורק אם הם זהים משווים ברכיב השני. כאן ספציפית משווים קודם את &lt;span&gt;\( B \)&lt;/span&gt; ורק אז את &lt;span&gt;\( A \)&lt;/span&gt;. כלומר, אם יש לנו את &lt;span&gt;\( \left(a_{1},b_{1}\right),\left(a_{2},b_{2}\right)\in A\times B \)&lt;/span&gt; אז &lt;span&gt;\( \left(a_{1},b_{1}\right)&amp;lt;\left(a_{2},b_{2}\right) \)&lt;/span&gt; אם ורק אם&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;&lt;span&gt;\( b_{1}&amp;lt;b_{2} \)&lt;/span&gt;, או:&lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( b_{1}=b_{2} \)&lt;/span&gt; וגם &lt;span&gt;\( a_{1}&amp;lt;a_{2} \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;וכמקודם, אם &lt;span&gt;\( A\cong\alpha \)&lt;/span&gt; ו-&lt;span&gt;\( B\cong\beta \)&lt;/span&gt; אז &lt;span&gt;\( A\times B\cong\alpha\times\beta \)&lt;/span&gt;. למשל, עבור &lt;span&gt;\( \omega\cdot2 \)&lt;/span&gt; אפשר להסתכל על הקבוצה &lt;span&gt;\( \mathbb{N}\times\left\{ 0,1\right\}  \)&lt;/span&gt;; אנחנו משווים איברים &lt;span&gt;\( \left(n,b\right) \)&lt;/span&gt; קודם כל על פי ה”ביט” הימני, ואז על פי המספר השמאלי. אנחנו מקבלים שני עותקים של &lt;span&gt;\( \mathbb{N} \)&lt;/span&gt;: ראשית כל האיברים מהצורה &lt;span&gt;\( \left(n,0\right) \)&lt;/span&gt; ולאחר מכן האיברים מהצורה &lt;span&gt;\( \left(n,1\right) \)&lt;/span&gt;.&lt;/p&gt;

&lt;h2&gt;אז איך מגיעים לצורה הנורמלית?&lt;/h2&gt;

&lt;p&gt;כזכור, התחלנו את הפוסט מלדבר על זה שכל סודר ניתן להציג בצורה הנורמלית &lt;span&gt;\( \alpha=\omega^{\beta_{1}}\cdot k_{1}+\ldots+\omega^{\beta_{n}}\cdot k_{n} \)&lt;/span&gt;. איך מוכיחים את זה? התשובה היא - באינדוקציה. אבל כמו שהייתי זקוק לסוג מיוחד של רקורסיה כדי להגדיר את פעולות האריתמטיקה, אני צריך סוג מיוחד של אינדוקציה בשביל ההוכחה; אני אשמור את ההסבר הפורמלי עליה לפוסט הבא ובואו פשוט נזרום איתה כרגע.&lt;/p&gt;

&lt;p&gt;הלב הטכני של ההוכחה הוא משפט ש… ניחשתן נכון… מכליל תוצאה דומה עבור מספרים טבעיים. ספציפית, בטבעיים אנחנו יודעים שאם &lt;span&gt;\( a,b \)&lt;/span&gt; הם טבעיים כך ש-&lt;span&gt;\( b&amp;gt;0 \)&lt;/span&gt; אז קיימים &lt;span&gt;\( q,r \)&lt;/span&gt; יחידים כך ש-&lt;span&gt;\( a=bq+r \)&lt;/span&gt; ו-&lt;span&gt;\( 0\le r&amp;lt;a \)&lt;/span&gt;. מה שנקרא, חילוק עם שארית. עבור סודרים קיים אותו דבר בדיוק: בהינתן &lt;span&gt;\( \alpha,\beta \)&lt;/span&gt; כך ש-&lt;span&gt;\( \beta&amp;gt;0 \)&lt;/span&gt;, קיימים &lt;span&gt;\( \gamma,\rho \)&lt;/span&gt; כך ש-&lt;span&gt;\( \alpha=\beta\cdot\gamma+\rho \)&lt;/span&gt; ו-&lt;span&gt;\( \rho&amp;lt;\alpha \)&lt;/span&gt;. גם ההוכחה של זה דומה להוכחה עבור הטבעיים: לוקחים את &lt;span&gt;\( \gamma \)&lt;/span&gt; המקסימלי שעבורו &lt;span&gt;\( \alpha\ge\beta\cdot\gamma \)&lt;/span&gt; (קיים כזה כי &lt;span&gt;\( \beta\cdot\left(\alpha+1\right)&amp;gt;\alpha \)&lt;/span&gt;). עכשיו לוקחים את &lt;span&gt;\( \rho \)&lt;/span&gt; המקסימלי שעבורו &lt;span&gt;\( \alpha\ge\beta\cdot\gamma+\rho \)&lt;/span&gt; (קיים כזה כי &lt;span&gt;\( \beta\cdot\gamma+\beta=\beta\cdot\left(\gamma+1\right)&amp;gt;\alpha \)&lt;/span&gt;). קל לראות ש-&lt;span&gt;\( \alpha=\beta\cdot\gamma+\rho \)&lt;/span&gt; אחרת היינו מקבלים סתירה למקסימליות עם &lt;span&gt;\( \beta\cdot\gamma+\rho+1 \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;את המשפט המרכזי של הצורה הנורמלית מוכיחים באינדוקציה על &lt;span&gt;\( \alpha \)&lt;/span&gt;. עבור &lt;span&gt;\( \alpha=1 \)&lt;/span&gt; בוחרים &lt;span&gt;\( \beta=0 \)&lt;/span&gt; ומקבלים &lt;span&gt;\( \alpha=\omega^{\beta} \)&lt;/span&gt; כך ש-&lt;span&gt;\( \alpha\ge\beta \)&lt;/span&gt;. עבור &lt;span&gt;\( \alpha&amp;gt;1 \)&lt;/span&gt; כלשהו, בוחרים את &lt;span&gt;\( \beta \)&lt;/span&gt; להיות הסודר הגדול ביותר כך ש-&lt;span&gt;\( \alpha\ge\omega^{\beta} \)&lt;/span&gt;. קיים כזה כי &lt;span&gt;\( \alpha\le\omega^{\alpha} \)&lt;/span&gt; (ההוכחה היא באינדוקציה; נראה אותה בפוסט הבא בתור דוגמא). על פי משפט החלוקה שראינו, קיימים &lt;span&gt;\( \delta,\rho \)&lt;/span&gt; כך ש-&lt;span&gt;\( \rho&amp;lt;\omega^{\beta} \)&lt;/span&gt; ומתקיים &lt;span&gt;\( \alpha=\omega^{\beta}\cdot\delta+\rho \)&lt;/span&gt;. עכשיו שמים לב ש-&lt;span&gt;\( \delta \)&lt;/span&gt; חייב להיות מספר טבעי (כי אם היה לפחות &lt;span&gt;\( \omega \)&lt;/span&gt; היינו מקבלים &lt;span&gt;\( \omega^{\beta}\cdot\delta\ge\omega^{\beta}\cdot\omega=\omega^{\beta+1} \)&lt;/span&gt; בסתירה למקסימליות של &lt;span&gt;\( \beta \)&lt;/span&gt;) ואפשר להמשיך באינדוקציה על &lt;span&gt;\( \rho \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;זה מסיים את הפוסט הזה, אבל כמות נפנופי הידיים שהלכה פה היא לא זניחה, והיא תחמיר בהמשך אם לא נעצור כדי להבין מה הולך באינדוקציות והרקורסיות שאני משתמש בהן; בזה יעסוק הפוסט הבא.&lt;/p&gt;</content><author><name></name></author><category term="סודרים" /><summary type="html">איך הסודרים נראים?</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://gadial.net/assets/img/main/default-card.png" /></entry><entry><title type="html">תורת הקבוצות - סודרים</title><link href="http://gadial.net/2023/01/12/ordinals/" rel="alternate" type="text/html" title="תורת הקבוצות - סודרים" /><published>2023-01-12T00:00:00+00:00</published><updated>2023-01-12T00:00:00+00:00</updated><id>http://gadial.net/2023/01/12/ordinals</id><content type="html" xml:base="http://gadial.net/2023/01/12/ordinals/">&lt;h2&gt;מבוא&lt;/h2&gt;

&lt;p&gt;סדרת הפוסטים שלי על תורת הקבוצות &lt;a href=&quot;https://gadial.net/2023/01/07/well_ordered_sets/&quot;&gt;הגיעה אל המושג&lt;/a&gt; של קבוצה סדורה היטב, וזה מביא אותנו בטבעיות אל אחת מאבני הבניין של תורת הקבוצות: &lt;strong&gt;סודרים&lt;/strong&gt;. אפשר לגשת למושג הזה מכמה כיוונים שונים; אחד הוא בתור הכללה של המספרים הטבעיים, שמאפשר להכליל את המושגים של “ראשון, שני, שלישי” עד אינסוף ומעבר לו, עם דגש על &lt;strong&gt;מעבר לו&lt;/strong&gt;; כיוון שני הוא בתור “קבוצה סדורה היטב קנונית”. מכיוון שבעבר &lt;a href=&quot;https://gadial.net/2011/05/23/cantor_inventing_ordinals/&quot;&gt;כתבתי כמה פוסטים&lt;/a&gt; על סודרים שבהם התחלתי מנקודת המבט הראשונה, הפעם אני אאמץ את השניה, והראשונה תבוא מעצמה אחר כך.&lt;/p&gt;

&lt;p&gt;האינטואיציה היא כזו: נניח שיש לי קבוצה סדורה היטב &lt;span&gt;\( A \)&lt;/span&gt;. אני רוצה להפוך אותה איכשהו לקבוצה סדורה “קנונית” שאיזומורפית ל-&lt;span&gt;\( A \)&lt;/span&gt;; הדרך לעשות את זה הוא לבחור איזו צורת ייצוג לאיברים שהיא כמה שיותר חסכונית בפרטים. הרי מבחינתי הקבוצות הסדורות &lt;span&gt;\( \left\{ 1&amp;lt;2&amp;lt;3\right\}  \)&lt;/span&gt; ו-&lt;span&gt;\( \left\{ 53&amp;lt;7&amp;lt;22\right\}  \)&lt;/span&gt; (לא כתיב סטנדרטי אבל נו, הבנתם) הן אותו הדבר וכל הקטע הזה של לכתוב “53” זה סתם סירבול שמבלבל. אז אפשר אולי להגיד “האיבר הראשון בקבוצה יהיה 0, השני יהיה 1 וכן הלאה”, אבל זה עדיין מותיר אותנו עם השאלה - איך בכלל מוגדרים המספרים הללו? ובכן, &lt;a href=&quot;https://gadial.net/2019/10/19/what_is_set_theory/&quot;&gt;כבר בפוסט המבוא&lt;/a&gt; שלי לסדרת הפוסטים על תורת הקבוצות נתתי הגדרה, אבל בואו נשכח ממנה כי א) היא בדיוק שייכת למה שכיניתי קודם “כיוון ראשון” וב) מה שאני הולך לעשות עכשיו ייתן לי אותה בחינם.&lt;/p&gt;

&lt;p&gt;הגישה החדשה מתבססת על משפט מחץ אחד: בואו נחליף את אברי &lt;span&gt;\( A \)&lt;/span&gt;, לפי הסדר, בקבוצת האיברים שמגיעים לפניהם. כלומר, אינטואיטיבית בכל שלב נחליף את &lt;span&gt;\( a\in A \)&lt;/span&gt; בקבוצה &lt;span&gt;\( a^{&amp;lt;}=\left\{ b\in A\ |\ b&amp;lt;a\right\}  \)&lt;/span&gt;. זה אומר שהאיבר הראשון של &lt;span&gt;\( A \)&lt;/span&gt; יוחלף ב-&lt;span&gt;\( \emptyset \)&lt;/span&gt;, השני יוחלף ב-&lt;span&gt;\( \left\{ \emptyset\right\}  \)&lt;/span&gt;, השלישי ב-&lt;span&gt;\( \left\{ \emptyset,\left\{ \emptyset\right\} \right\}  \)&lt;/span&gt; וכן הלאה. הקבוצה שתתקבל אחרי כל ההחלפות הללו תהיה &lt;strong&gt;סודר&lt;/strong&gt;, הסודר שמתאים ל-&lt;span&gt;\( A \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;זו האינטואיציה, אבל אני &lt;strong&gt;לא רוצה לעשות את זה ככה&lt;/strong&gt;. גם בפוסט הקודם, על קבוצות סדורות היטב, אפשר היה לראות שאני ממש מפחד מלהתקרב להגדרות שהן “סדרתיות” כאלו ומעדיף הגדרות שעושות הכל בבת אחת. זה כי להגדיר את הכל בבת אחת יוצא פורמלי ונהדר, בעוד שלהגדיר משהו “סדרתית” נראה חשוד ומפוקפק; כל הפואנטה עם סודרים היא שאחרי שיהיה לנו אותם, נוכל סוף כל סוף להגדיר דברים באופן “סדרתי”, אפילו דברים אינסופיים, ולא לחוש שיש משהו חשוד ומפוקפק בזה, ובשביל זה אנחנו צריכים שהסודרים יוגדרו “כולם בבת אחת”, עם איזו הגדרת מחץ מושלמת. מה שמדהים הוא שהגדרה כזו לא סתם קיימת, היא גם די פשוטה אחרי שמתרגלים.&lt;/p&gt;

&lt;h2&gt;איך מגדירים סודרים?&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;סודר&lt;/strong&gt; מוגדר בתור קבוצה טרנזטיבית שסדורה בסדר מלא על ידי &lt;span&gt;\( \in \)&lt;/span&gt;. זו הגדרה קצרה וקולעת אבל בלי להבין מה זו קבוצה &lt;strong&gt;טרנזיטיבית&lt;/strong&gt; היא לא עוזרת לנו בכלל. ובכן, קבוצה &lt;span&gt;\( A \)&lt;/span&gt; היא טרנזיטיבית אם כל איבר שלה הוא גם תת קבוצה שלה. כלומר, אם &lt;span&gt;\( a\in A \)&lt;/span&gt; גורר ש-&lt;span&gt;\( a\subseteq A \)&lt;/span&gt;. זה בפרט אומר שכל אברי &lt;span&gt;\( A \)&lt;/span&gt; הם קבוצות, אבל לא סתם קבוצות - קבוצות שהאיברים היחידים שיכולים להופיע בהן הם איברים אחרים של &lt;span&gt;\( A \)&lt;/span&gt;. זו הדרך שלנו “לנקות” את היקום ממושגים מיותרים כמו “53”; כדי שמשהו יהיה איבר של &lt;span&gt;\( A \)&lt;/span&gt; הוא חייב להיות קבוצה (ולא “מושג מיותר”), ולא סתם קבוצה אלא קבוצה שבעצמה נטולת מושגים מיותרים.&lt;/p&gt;

&lt;p&gt;הנה עוד דרך נוחה לחשוב על טרנזיטיביות: נניח ש-&lt;span&gt;\( A \)&lt;/span&gt; היא קבוצה טרנזיטיבית ומתקיים &lt;span&gt;\( b\in a\in A \)&lt;/span&gt;, כלומר &lt;span&gt;\( b \)&lt;/span&gt; הוא איבר שמופיע בתוך &lt;span&gt;\( a \)&lt;/span&gt; שהוא בעצמו איבר של &lt;span&gt;\( A \)&lt;/span&gt;. אז מכיוון ש-&lt;span&gt;\( A \)&lt;/span&gt; טרנזיטיבית אנחנו יודעים ש-&lt;span&gt;\( a\subseteq A \)&lt;/span&gt;, מה שאומר ש-&lt;span&gt;\( b\in A \)&lt;/span&gt;. את זה הסקתי מ-&lt;span&gt;\( b\in a\in A \)&lt;/span&gt;, כלומר אני יכול “לוותר על האיבר באמצע”, קצת כמו מה שקורה עם יחסים טרנזיטיביים; מכאן מגיע השם&lt;/p&gt;

&lt;p&gt;עכשיו, בין קבוצות שונות יכול להתקיים היחס &lt;span&gt;\( \in \)&lt;/span&gt;, כלומר “להיות איבר של”, אז ברור שאפשר להשתמש בו כדי להגדיר סדר על קבוצה טרנזיטיבית &lt;span&gt;\( A \)&lt;/span&gt; הדרישה הנוספת מסודר היא שהסדר הזה יהיה &lt;strong&gt;מלא&lt;/strong&gt;, כלומר שכל שני איברים יהיו ניתנים להשוואה, או במילים אחרות: אם &lt;span&gt;\( a,b\in A \)&lt;/span&gt; כך ש-&lt;span&gt;\( a\ne b \)&lt;/span&gt; זה אומר ש-&lt;span&gt;\( a\in b \)&lt;/span&gt; או ש-&lt;span&gt;\( b\in a \)&lt;/span&gt;. אחד משני אלו חייב להתקיים.&lt;/p&gt;

&lt;p&gt;עכשיו, בפוסט הקודם הזכרתי שאפשר להגדיר שני סוגים של יחסי סדר: אחד שסימנתי בתור &lt;span&gt;\( \le \)&lt;/span&gt; והשני שסימנתי בתור &lt;span&gt;\( &amp;lt; \)&lt;/span&gt;. הראשון היה טרנזיטיבי, רפלקסיבי ואנטי-סימטרי והשני היה טרנזיטיבי וא-רפלקסיבי. אמרתי ששתי ההגדרות סבבה כי כל יחס סדר על פי אחת מהן משרה יחס סדר על פי ההגדרה השניה. במקרה שלנו, &lt;span&gt;\( \in \)&lt;/span&gt; אמור להיות שייך לסוג השני: הוא טרנזיטיבי אבל א-רפלקסיבי, כלומר אנחנו מניחים שבסודר לא מתקיים &lt;span&gt;\( a\in a \)&lt;/span&gt; וזה לא מונע מאיתנו לומר ש-&lt;span&gt;\( \in \)&lt;/span&gt; הוא יחס סדר.&lt;/p&gt;

&lt;p&gt;אבל רגע, האם בכלל יכול להתקיים בתורת הקבוצות &lt;span&gt;\( a\in a \)&lt;/span&gt;? באופן עקרוני אין מניעה לזה; אבל כדי לשמור את העניינים פשוטים, אחת מהאקסיומות של צרמלו-פרנקל, שלא הזכרתי &lt;a href=&quot;https://gadial.net/2019/10/20/zf_axioms_intro/&quot;&gt;בפוסט ההיכרות איתן&lt;/a&gt;, מיועדת למנוע את הסיבוך הזה וסיבוכים דומים. היא נקראת &lt;strong&gt;אקסיומת היסוד&lt;/strong&gt; ואומרת שבכל קבוצה לא ריקה &lt;span&gt;\( A \)&lt;/span&gt; קיים איבר מינימלי ביחס הסדר &lt;span&gt;\( \in \)&lt;/span&gt;. כלומר, קיימת ב-&lt;span&gt;\( A \)&lt;/span&gt; קבוצה שאף איבר ב-&lt;span&gt;\( A \)&lt;/span&gt; לא שייך אליה (שימו לב להבדל בין “מינימלי” ו”ראשון”; איבר ראשון חייב גם להיות שייך לכל קבוצה אחרת ב-&lt;span&gt;\( A \)&lt;/span&gt;, ואיבר מינימלי לא).&lt;/p&gt;

&lt;p&gt;בניסוח קצת יותר פורמלי, אקסיומת היסוד אומרת שאם &lt;span&gt;\( A\ne\emptyset \)&lt;/span&gt; אז קיים &lt;span&gt;\( a\in A \)&lt;/span&gt; כך שלכל &lt;span&gt;\( b\in A \)&lt;/span&gt; מתקיים &lt;span&gt;\( b\notin a \)&lt;/span&gt;. בניסוח שקול, אפשר לומר שמתקיים &lt;span&gt;\( a\cap A=\emptyset \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;למה האקסיומה הזו מונעת את הסיטואציה &lt;span&gt;\( a\in a \)&lt;/span&gt;? ובכן, אם &lt;span&gt;\( a \)&lt;/span&gt; היא קבוצה שמקיימת &lt;span&gt;\( a\in a \)&lt;/span&gt; אז אפשר להסתכל על הקבוצה &lt;span&gt;\( \left\{ a\right\}  \)&lt;/span&gt; (הקיום שלה נובע מאקסיומת הזיווג שהראיתי בפוסט ההוא). מכיוון שזו קבוצה עם איבר בודד, זה חייב להיות האיבר שאת הקיום שלו אקסיומת היסוד מבטיחה, כלומר צריך להתקיים &lt;span&gt;\( b\notin a \)&lt;/span&gt; לכל &lt;span&gt;\( b\in\left\{ a\right\}  \)&lt;/span&gt;, או במילים אחרות - צריך להתקיים &lt;span&gt;\( a\notin a \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;אקסיומת היסוד עושה עוד משהו בהקשר שלנו מלבד לאסור את &lt;span&gt;\( a\notin a \)&lt;/span&gt;; היא אומרת שאם &lt;span&gt;\( A \)&lt;/span&gt; היא קבוצה שסדורה בסדר &lt;strong&gt;מלא&lt;/strong&gt; על ידי &lt;span&gt;\( \in \)&lt;/span&gt;, אז היא קבוצה &lt;strong&gt;סדורה היטב&lt;/strong&gt;. כי מה זו קבוצה סדורה היטב? זו קבוצה שסדורה בסדר מלא כך שלכל תת-קבוצה לא ריקה יש איבר ראשון. אקסיומת היסוד מבטיחה רק איבר &lt;strong&gt;מינימלי&lt;/strong&gt;, אבל כשהסדר שלנו הוא מלא, להיות איבר ראשון ולהיות איבר מינימלי זה אותו הדבר. לכן לפעמים פשוט מגדירים סודר בתור קבוצה טרנזיטיבית שסדורה בסדר טוב על ידי &lt;span&gt;\( \in \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;עכשיו, אקסיומת היסוד מוכיחה יותר מאשר &lt;span&gt;\( a\notin a \)&lt;/span&gt; אלא משהו כללי יותר: שאין &lt;strong&gt;סדרה יורדת אינסופית&lt;/strong&gt; של קבוצות שסדורות על ידי הכלה. כלומר, לא קיימת סדרה &lt;span&gt;\( a_{0},a_{1},a_{2},a_{3},\ldots \)&lt;/span&gt; של קבוצות (לאו דווקא שונות זו מזו) כך ש-&lt;span&gt;\( \cdots\in a_{3}\in a_{2}\in a_{1}\in a_{0} \)&lt;/span&gt;. כדי לראות את זה, אפשר פשוט להסתכל על הקבוצה &lt;span&gt;\( S=\left\{ a_{0},a_{1},a_{2},\ldots\right\}  \)&lt;/span&gt;; קיים לה איבר מינימלי, והוא זה שהולך “לתקוע” את השרשרת כי אף אחד לא יכול להיות שייך אליו.&lt;/p&gt;

&lt;p&gt;קצת חיפפתי פה - הנחתי שהקבוצה &lt;span&gt;\( S \)&lt;/span&gt; קיימת ולא הסברתי למה; זה בגלל שכדי להוכיח את הקיום של &lt;span&gt;\( S \)&lt;/span&gt; אני זקוק לאקסיומה נוספת שטרם הצגתי - &lt;strong&gt;אקסיומת ההחלפה&lt;/strong&gt;. אני אציג אותה פורמלית בפוסט אחר, אבל בשימוש הקונקרטי כאן הרעיון הוא שאם יש לי &lt;strong&gt;סדרה&lt;/strong&gt; של איברים, זה אומר שיש לי דרך לתאר &lt;strong&gt;התאמה&lt;/strong&gt; בין המספרים הטבעיים ואיברי הסדרה (אני בכוונה לא אומר “פונקציה” כי פונקציה היא קבוצה מסויימת; ההתאמה שאני מדבר עליה לא חייבת להיות קבוצה בפני עצמה אלא פשוט משהו שאפשר לתאר עם נוסחה לוגית). אקסיומת ההחלפה אומרת במקרה הזה שמכיוון שקבוצת הטבעיים קיימת, גם הקבוצה של “כל האיברים שהטבעיים עוברים אליהם” קיימת. אינטואיטיבית זה אותו הרעיון הרגיל שבו אם יש התאמה חח”ע ועל בין שתי קבוצות אז הן “אותו דבר עד כדי שינוי שם האיברים”.&lt;/p&gt;

&lt;h2&gt;כמה דוגמאות לסודרים קונקרטיים&lt;/h2&gt;

&lt;p&gt;האם אנחנו מכירים סודרים קונקרטיים? בוודאי; המספרים הטבעיים הם כאלו, עם הבניה שהראיתי בפוסט המקורי שלי. בואו נזכיר את זה: ראשית, &lt;span&gt;\( \emptyset \)&lt;/span&gt; היא סודר באופן ריק, ואנחנו מסמנים &lt;span&gt;\( 0\triangleq\emptyset \)&lt;/span&gt;. שנית, אם &lt;span&gt;\( \alpha \)&lt;/span&gt; הוא סודר &lt;strong&gt;כלשהו&lt;/strong&gt; אז גם &lt;span&gt;\( \alpha+1\triangleq\alpha\cup\left\{ \alpha\right\}  \)&lt;/span&gt; הוא סודר: ה-&lt;span&gt;\( \alpha \)&lt;/span&gt; שהוספנו אל &lt;span&gt;\( \alpha \)&lt;/span&gt; עצמה מכיל את כל יתר האיברים של &lt;span&gt;\( \alpha \)&lt;/span&gt; ולכן הוא ניתן להשוואה עם כולם (וגדול מכולם), ומכאן ש-&lt;span&gt;\( \in \)&lt;/span&gt; הוא יחס סדר מלא גם על &lt;span&gt;\( \alpha+1 \)&lt;/span&gt;; והיחס הזה הוא עדיין יחס סדר טוב כי כל תת-קבוצה של &lt;span&gt;\( \alpha+1 \)&lt;/span&gt; מכילה איבר ראשון (אם זו תת-קבוצה של &lt;span&gt;\( \alpha \)&lt;/span&gt; אז יש בה איבר ראשון כי &lt;span&gt;\( \alpha \)&lt;/span&gt; סודר; ואם היא לא תת-קבוצה של &lt;span&gt;\( \alpha \)&lt;/span&gt;, כלומר אם גם &lt;span&gt;\( \alpha \)&lt;/span&gt; עצמו הוא איבר בה, אז הוא איבר ראשון אם הוא היחיד בקבוצה, ואחרת אפשר להוציא אותו ממנה ולקבל איבר ראשון מהקבוצה בלעדיו כי &lt;span&gt;\( \alpha \)&lt;/span&gt; סודר, כמו קודם). זה מוביל אותנו להגדרה קונקרטית של יתר הטבעיים:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( 1=0\cup\left\{ 0\right\} =\left\{ 0\right\} =\left\{ \emptyset\right\}  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( 2=1\cup\left\{ 1\right\} =\left\{ 0,1\right\} =\left\{ \emptyset,\left\{ \emptyset\right\} \right\}  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;וכן הלאה. באופן כללי, כל טבעי &lt;span&gt;\( n \)&lt;/span&gt; יקיים &lt;span&gt;\( n=\left\{ 0,1,2,\ldots,n-1\right\}  \)&lt;/span&gt;, וכולם יהיו סודרים. למעשה, יחס הסדר ש-&lt;span&gt;\( \in \)&lt;/span&gt; מגדיר על הסודרים הללו הוא יחס הסדר הרגיל על המספרים הטבעיים (כלומר, &lt;span&gt;\( a&amp;lt;b \)&lt;/span&gt; כשחושבים עליהם בתור מספרים טבעיים פירושו &lt;span&gt;\( a\in b \)&lt;/span&gt; כשחושבים עליהם בתור קבוצות).&lt;/p&gt;

&lt;p&gt;מי בא אחרי הטבעיים? כל היופי בסודרים הוא שאפשר להמשיך אחרי הטבעיים. ספציפית, אם נסתכל על הקבוצה של כל הטבעיים, שנסמן כאן בתור &lt;span&gt;\( \omega=\left\{ 0,1,2,\ldots\right\}  \)&lt;/span&gt;, קל לראות שהיא סודר בעצמה, אבל איך היא “נוצרה”? הרי לעשות &lt;span&gt;\( +1 \)&lt;/span&gt; לא יכול ליצור אותה. לכאורה מה שקרה הוא שכדי לקבל את &lt;span&gt;\( \omega \)&lt;/span&gt; איחדנו את כל הטבעיים: &lt;span&gt;\( \omega=\bigcup_{n=0}^{\infty}n \)&lt;/span&gt;, אבל צריך להיות זהירים - זה לא משהו שאקסיומות צרמלו-פרנקל מאפשרות לנו לעשות. הן כן מאפשרות לנו לבצע איחוד אינסופי של קבוצות &lt;strong&gt;בתנאי&lt;/strong&gt; שיש קבוצה שמכילה את כל הקבוצות הללו מראש; אבל במקרה הנוכחי הקבוצה הזו היא &lt;span&gt;\( \omega \)&lt;/span&gt; בעצמה. אז מה עושים?&lt;/p&gt;

&lt;p&gt;התשובה היא שצריך אקסיומה מיוחדת, שנקראת &lt;strong&gt;אקסיומת האינסוף&lt;/strong&gt;. כשהצגתי אותה בשעתו תיארתי אותה פשוט בתור “הקבוצה &lt;span&gt;\( \mathbb{N} \)&lt;/span&gt; קיימת” אבל נהוג יותר ניסוח שהוא קצת יותר עקיף: מניחים שקיימת קבוצה &lt;span&gt;\( A \)&lt;/span&gt; כך ש-&lt;span&gt;\( \emptyset\in A \)&lt;/span&gt; ואם &lt;span&gt;\( a\in A \)&lt;/span&gt; אז גם &lt;span&gt;\( a\cup\left\{ a\right\} \in A \)&lt;/span&gt;. במילים אחרות, זה מחייב את &lt;span&gt;\( A \)&lt;/span&gt; להכיל את כל הטבעיים, על פי הבניה שלהם שראינו; ייתכן ש-&lt;span&gt;\( A \)&lt;/span&gt; תכיל עוד איברים בנוסף, אבל אפשר להשתמש באקסיומת ההפרדה כדי לחלץ ממנה את &lt;span&gt;\( \omega \)&lt;/span&gt;. זה מצריך מאיתנו למצוא קריטריון שאפשר לנסח בלוגיקה פורמלית ואומר מתי איבר של &lt;span&gt;\( A \)&lt;/span&gt; הוא מספר טבעי; הקריטריון הוא “&lt;span&gt;\( a \)&lt;/span&gt; הוא מספר טבעי אם ורק אם &lt;span&gt;\( a=\emptyset \)&lt;/span&gt; או ש-&lt;span&gt;\( a=b\cup\left\{ b\right\}  \)&lt;/span&gt; עבור &lt;span&gt;\( b \)&lt;/span&gt; כלשהו וגם לכל &lt;span&gt;\( c\in a \)&lt;/span&gt;, או ש-&lt;span&gt;\( c=\emptyset \)&lt;/span&gt; או ש-&lt;span&gt;\( c=b\cup\left\{ b\right\}  \)&lt;/span&gt; עבור &lt;span&gt;\( b\in a \)&lt;/span&gt; כלשהו”. משכנע? ובכן, לא, גם אותי זה לא משכנע, בואו ננסה לראות למה זה עובד.&lt;/p&gt;

&lt;p&gt;ראשית, ברור שכל מספר טבעי אכן עונה לקריטריון הזה. מספר טבעי הוא או &lt;span&gt;\( \emptyset \)&lt;/span&gt; או מהצורה &lt;span&gt;\( n+1=n\cup\left\{ n\right\}  \)&lt;/span&gt; עבור טבעי &lt;span&gt;\( n \)&lt;/span&gt; כלשהו; ומכיוון שכל האיברים של מספר טבעי הם בעצמם מספרים טבעיים (בדיוק אלו שקטנים ממנו) גם הקטע עם “לכל &lt;span&gt;\( c\in a \)&lt;/span&gt;” מתקיים. אבל למה &lt;strong&gt;רק&lt;/strong&gt; מספרים טבעיים עונים לקריטריון הזה? כאן מי שתבוא לעזרת אקסיומת האינסוף היא אקסיומת היסוד.&lt;/p&gt;

&lt;p&gt;כזכור, אקסיומת היסוד אומרת לנו שלא יכולה להיות בתוך &lt;span&gt;\( a \)&lt;/span&gt; סדרה יורדת אינסופית &lt;span&gt;\( \cdots\in b_{2}\in b_{1}\in b_{0} \)&lt;/span&gt;. עכשיו, בואו ניקח &lt;span&gt;\( a \)&lt;/span&gt; כלשהו שמקיים את הקריטריון. אם &lt;span&gt;\( a=\emptyset \)&lt;/span&gt; אז הוא מספר טבעי (0) וסיימנו. אחרת, &lt;span&gt;\( a=b_{0}\cup\left\{ b_{0}\right\}  \)&lt;/span&gt; עבור &lt;span&gt;\( b_{0} \)&lt;/span&gt; כלשהו. בפרט, &lt;span&gt;\( b_{0}\in a \)&lt;/span&gt;, ולכן גם עבורו, או ש-&lt;span&gt;\( b_{0}=\emptyset \)&lt;/span&gt; (ואז &lt;span&gt;\( a=1 \)&lt;/span&gt;) או ש-&lt;span&gt;\( b_{0}=b_{1}\cup\left\{ b_{1}\right\}  \)&lt;/span&gt; עבור &lt;span&gt;\( b_{1}\in a \)&lt;/span&gt;, ואת התהליך הזה אפשר להמשיך ולקבל סדרה יורדת &lt;span&gt;\( \cdots\in b_{2}\in b_{1}\in b_{0} \)&lt;/span&gt; שחייבת להיעצר אחרי מספר צעדים סופי - ואז נקבל מהסדרה הזו את &lt;span&gt;\( a \)&lt;/span&gt; בתור מספר טבעי.&lt;/p&gt;

&lt;p&gt;יפה. אז הסודר &lt;span&gt;\( \omega \)&lt;/span&gt; קיים. ואם הוא קיים, אז קיימים גם &lt;span&gt;\( \omega+1,\omega+2,\ldots \)&lt;/span&gt; וכדומה. אבל מזה אפשר לקבל (עם אקסיומת ההחלפה שכבר הזכרתי) שהקבוצה &lt;span&gt;\( \left\{ \omega+1,\omega+2,\ldots\right\} =\left\{ \omega+n\ |\ n\in\mathbb{N}\right\} \ldots \)&lt;/span&gt; קיימת, ואפשר לאחד אותה עם &lt;span&gt;\( \omega \)&lt;/span&gt; ולקבל את הקבוצה &lt;span&gt;\( \left\{ 1,2,3,\ldots,\omega,\omega+1,\ldots\right\}  \)&lt;/span&gt;. לקבוצה הזו יש סימון: &lt;span&gt;\( \omega\cdot2 \)&lt;/span&gt;, והמשמעות שלו תתבהר בקרוב כשאדבר על האופן שבו מגדירים פעולות חשבון על סודרים.&lt;/p&gt;

&lt;h2&gt;איך משווים סודרים?&lt;/h2&gt;

&lt;p&gt;לב הרעיון בסודרים הוא שכל שני סודרים ניתנים להשוואה, כשהיחס שמשמש אותנו לצורך השוואה הוא &lt;span&gt;\( \in \)&lt;/span&gt;; כלומר, לכל זוג סודרים, אחד מהם הוא איבר של השני. זה לא מובן מאליו מההגדרה של “קבוצה טרנזיטיבית שסדורה בסדר מלא על ידי &lt;span&gt;\( \in \)&lt;/span&gt;”, נכון? בואו נוכיח את זה.&lt;/p&gt;

&lt;p&gt;נתחיל עם להוכיח שסודר הוא בדיוק קבוצת הסודרים שקטנים ממנו. אבל צריך מאוד להיזהר עם הטענה הזו - הסודרים שקטנים ממנו &lt;strong&gt;איפה&lt;/strong&gt;? אז אני אנסח טענה יותר קונקרטית: נניח ש-&lt;span&gt;\( \alpha \)&lt;/span&gt; הוא סודר ו-&lt;span&gt;\( \beta\in\alpha \)&lt;/span&gt; הוא איבר שלו. אז ראשית כל גם &lt;span&gt;\( \beta \)&lt;/span&gt; בעצמו הוא סודר (כלומר, כל האיברים של סודר הם סודרים בעצמם) ושנית, &lt;span&gt;\( \beta=\beta^{&amp;lt;}=\left\{ \gamma\in\alpha\ |\ \gamma&amp;lt;\beta\right\}  \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;ובכן, מכיוון ש-&lt;span&gt;\( \beta\in\alpha \)&lt;/span&gt; וגם &lt;span&gt;\( \alpha \)&lt;/span&gt; הוא קבוצה טרנזיטיבית, נקבל ש-&lt;span&gt;\( \beta\subseteq\alpha \)&lt;/span&gt;. אם כל האיברים של &lt;span&gt;\( \beta \)&lt;/span&gt; הם גם איברים של &lt;span&gt;\( \alpha \)&lt;/span&gt;, ואנחנו יודעים &lt;strong&gt;שכל&lt;/strong&gt; האיברים של &lt;span&gt;\( \alpha \)&lt;/span&gt; סדורים בסדר מלא על ידי &lt;span&gt;\( \in \)&lt;/span&gt;, אז בפרט גם האיברים הספציפיים של &lt;span&gt;\( \alpha \)&lt;/span&gt; ששייכים ל-&lt;span&gt;\( \beta \)&lt;/span&gt; סדורים בסדר כזה, ולכן אברי &lt;span&gt;\( \beta \)&lt;/span&gt; סדורים בסדר מלא על ידי &lt;span&gt;\( \in \)&lt;/span&gt;. מה שנשאר להראות כדי להשתכנע ש-&lt;span&gt;\( \beta \)&lt;/span&gt; הוא סודר זה שהוא טרנזיטיבי.&lt;/p&gt;

&lt;p&gt;גם הוכחת הטרנזיטיביות קלה: נניח ש-&lt;span&gt;\( \gamma\in\beta \)&lt;/span&gt;. אנחנו רוצים להראות ש-&lt;span&gt;\( \gamma\subseteq\beta \)&lt;/span&gt;; הדרך הכי ישירה להראות את זה היא להראות שלכל &lt;span&gt;\( \delta\in\gamma \)&lt;/span&gt; מתקיים &lt;span&gt;\( \delta\in\beta \)&lt;/span&gt;, מה שאמנם מכניס הרבה אותיות לתמונה אבל היי, כמעט סיימנו! יש לנו את השרשרת &lt;span&gt;\( \delta\in\gamma\in\beta\in\alpha \)&lt;/span&gt; ומכיוון ש-&lt;span&gt;\( \alpha \)&lt;/span&gt; טרנזיטיבית, אנחנו מקבלים ש-&lt;span&gt;\( \delta,\gamma\in\alpha \)&lt;/span&gt; שניהם. כזכור, &lt;span&gt;\( \in \)&lt;/span&gt; הוא יחס סדר מלא על &lt;span&gt;\( \alpha \)&lt;/span&gt; ולכן מ-&lt;span&gt;\( \delta\in\gamma\in\beta \)&lt;/span&gt; אפשר להסיק &lt;span&gt;\( \delta&amp;lt;\gamma&amp;lt;\beta \)&lt;/span&gt;, ומטרנזיטיביות של יחסי סדר נקבל &lt;span&gt;\( \delta&amp;lt;\beta \)&lt;/span&gt;, שמשמעותו &lt;span&gt;\( \delta\in\beta \)&lt;/span&gt; אם נזכרים שיחס הסדר פה הוא &lt;span&gt;\( \in \)&lt;/span&gt;. אני אוהב את ההוכחה בגישה הזו בגלל שמרגישים איך הטרנזיטיביות “הרגילה” של יחסים מתקשרת לטרנזיטיביות של קבוצות טרנזיטיביות.&lt;/p&gt;

&lt;p&gt;מה שנשאר להוכיח הוא ש-&lt;span&gt;\( \beta=\beta^{&amp;lt;} \)&lt;/span&gt;. אבל כמעט ואין פה מה להוכיח, בעצם: מכיוון ש-&lt;span&gt;\( \beta\in\alpha \)&lt;/span&gt; ו-&lt;span&gt;\( \alpha \)&lt;/span&gt; טרנזיטיבי אז &lt;span&gt;\( \beta\subseteq\alpha \)&lt;/span&gt;, מה שאומר שלכל &lt;span&gt;\( \gamma\in\beta \)&lt;/span&gt; מתקיים &lt;span&gt;\( \gamma\in\alpha \)&lt;/span&gt;, ומכיוון ש-&lt;span&gt;\( \gamma\in\beta \)&lt;/span&gt; אז &lt;span&gt;\( \gamma&amp;lt;\beta \)&lt;/span&gt; ולכן &lt;span&gt;\( \gamma\in\beta^{&amp;lt;} \)&lt;/span&gt;; בכיוון השני, אם &lt;span&gt;\( \gamma\in\beta^{&amp;lt;} \)&lt;/span&gt; אז על פי הגדרה, &lt;span&gt;\( \gamma&amp;lt;\beta \)&lt;/span&gt;, כלומר &lt;span&gt;\( \gamma\in\beta \)&lt;/span&gt;. קיבלנו &lt;span&gt;\( \beta=\beta^{&amp;lt;} \)&lt;/span&gt; וזה באמת היה פשוט, כשהנחנו ש-&lt;span&gt;\( \beta \)&lt;/span&gt; “חי” בתוך סודר אחר, &lt;span&gt;\( \alpha \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;עכשיו מה שאני רוצה הוא להראות שבהינתן שני סודרים &lt;span&gt;\( \alpha,\beta \)&lt;/span&gt;, או שהם זהים או שאחד מהם “חי” בתוך השני. אם נוכיח את זה, אז יחס השייכות &lt;span&gt;\( \in \)&lt;/span&gt; לא סתם מגדיר יחס סדר &lt;strong&gt;בתוך&lt;/strong&gt; כל סודר; הוא מגדיר סדר על &lt;strong&gt;כל&lt;/strong&gt; הסודרים (ו&lt;strong&gt;כל&lt;/strong&gt; הסודרים זו אפילו לא קבוצה; יש יותר מדי כאלו, ולכן “יחס סדר” במובן הרגיל לא מוגדר עליהם כי יחס הוא תמיד מעל קבוצה).&lt;/p&gt;

&lt;p&gt;למרבה המזל, את עיקר העבודה עשיתי כבר בפוסט הקודם: הראיתי שעבור כל שתי קבוצות סדורות היטב, או שהן איזומורפיות, או שאחת מהן איזומורפית לקטע התחלתי של השניה. זה בפרט נכון עבור סודרים, אז רק צריך לבצע את הקפיצה מ”איזומורפי” אל “ממש ממש נמצא שם בפועל”.&lt;/p&gt;

&lt;p&gt;אם &lt;span&gt;\( \alpha\cong\beta \)&lt;/span&gt; אני רוצה להסיק מכך ש-&lt;span&gt;\( \alpha=b \)&lt;/span&gt;. ניקח אם כן את האיזומורפיזם &lt;span&gt;\( f:\alpha\to\beta \)&lt;/span&gt; ונראה שהוא פונקציית הזהות. נניח בשלילה שהוא לא ונסתכל על ה-&lt;span&gt;\( \gamma\in\alpha \)&lt;/span&gt; המינימלי שמקיים &lt;span&gt;\( \gamma\ne f\left(\gamma\right) \)&lt;/span&gt; (קיים איבר מינימלי כזה כי &lt;span&gt;\( \alpha \)&lt;/span&gt; סדורה היטב). אלא שמכיוון ש-&lt;span&gt;\( \gamma\in\alpha \)&lt;/span&gt; אז ממה שהוכחתי לפני רגע, &lt;span&gt;\( \gamma=\gamma^{&amp;lt;} \)&lt;/span&gt;, והרי &lt;span&gt;\( \gamma^{&amp;lt;} \)&lt;/span&gt; כוללת רק איברים של &lt;span&gt;\( \alpha \)&lt;/span&gt; &lt;strong&gt;שכן&lt;/strong&gt; מקיימים שהם שווים ל-&lt;span&gt;\( f \)&lt;/span&gt; של עצמם (כי &lt;span&gt;\( \gamma \)&lt;/span&gt; היה המינימלי שלא קיים זאת) ולכן &lt;span&gt;\( \gamma^{&amp;lt;}=f\left(\gamma^{&amp;lt;}\right) \)&lt;/span&gt;. עכשיו, בבירור &lt;span&gt;\( f\left(\gamma^{&amp;lt;}\right)=f\left(\gamma\right)^{&amp;lt;} \)&lt;/span&gt;: זה טיעון שכבר ראינו כמה פעמים בפעולה; מכיוון ש-&lt;span&gt;\( f \)&lt;/span&gt; משמרת סדר, כל איבר ב-&lt;span&gt;\( \gamma^{&amp;lt;} \)&lt;/span&gt; חייב לעבור לאיבר שקטן מ-&lt;span&gt;\( f\left(\gamma\right) \)&lt;/span&gt;, ומכיוון ש-&lt;span&gt;\( f \)&lt;/span&gt; על כל האיברים ב-&lt;span&gt;\( f\left(\gamma\right)^{&amp;lt;} \)&lt;/span&gt; הולכים להתקבל - והם לא יכולים להתקבל על ידי איברים שגדולים מ-&lt;span&gt;\( \gamma \)&lt;/span&gt; כי זה שוב מפר את שימור הסדר.&lt;/p&gt;

&lt;p&gt;מהתוצאה שראינו קודם, אנחנו יודעים שמתקיים &lt;span&gt;\( f\left(\gamma\right)=f\left(\gamma\right)^{&amp;lt;} \)&lt;/span&gt;, כי זה מתקיים לכל איבר של סודר, ולכן קיבלנו בסופו של דבר:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \gamma=\gamma^{&amp;lt;}=f\left(\gamma^{&amp;lt;}\right)=f\left(\gamma\right)^{&amp;lt;}=f\left(\gamma\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;וקיבלנו סתירה לכך ש-&lt;span&gt;\( \gamma\ne f\left(\gamma\right) \)&lt;/span&gt;, ומכאן המסקנה ש-&lt;span&gt;\( f \)&lt;/span&gt; היא פונקציית הזהות ולכן &lt;span&gt;\( \alpha=\beta \)&lt;/span&gt; אם הם איזומורפיים. זה בפני עצמו כבר מספיק כדי ללמד אותנו שסודר הוא באמת ייצוג &lt;strong&gt;קנוני&lt;/strong&gt; של סדר טוב; כלומר, אין שני סודרים שונים שמייצגים את אותו אוסף של קבוצות סדורות היטב שאיזומורפיות זו לזו.&lt;/p&gt;

&lt;p&gt;ונניח ש-&lt;span&gt;\( \alpha \)&lt;/span&gt; איזומורפית לקטע התחלתי של &lt;span&gt;\( \beta \)&lt;/span&gt;, מה קורה עכשיו? ובכן, קטע התחלתי כזה הוא מהצורה &lt;span&gt;\( \gamma^{&amp;lt;} \)&lt;/span&gt; עבור &lt;span&gt;\( \gamma\in\beta \)&lt;/span&gt;, וכבר ראינו שבמקרה הזה &lt;span&gt;\( \gamma \)&lt;/span&gt; הוא סודר ו-&lt;span&gt;\( \gamma=\gamma^{&amp;lt;} \)&lt;/span&gt;, כלומר קיבלנו ש-&lt;span&gt;\( \alpha\cong\gamma \)&lt;/span&gt;. לפני שניה ראינו שזה אומר ש-&lt;span&gt;\( \alpha=\gamma \)&lt;/span&gt;, ולכן בפרט &lt;span&gt;\( \alpha\in\beta \)&lt;/span&gt;, מה שמסיים את ההוכחה בצורה פשוטה עד להפתיע.&lt;/p&gt;

&lt;h2&gt;איך הסודרים מייצגים את כל הקבוצות הסדורות היטב?&lt;/h2&gt;

&lt;p&gt;אני מדבר פה הרבה על זה שסודרים הם “ייצוג קנוני” לקבוצות סדורות היטב, אבל בעצם טרם הראיתי את זה. הטענה המדויקת שאני רוצה לטעון היא שאם &lt;span&gt;\( A \)&lt;/span&gt; היא קבוצה סדורה היטב &lt;strong&gt;כלשהי&lt;/strong&gt;, אז קיים סודר &lt;strong&gt;יחיד&lt;/strong&gt; &lt;span&gt;\( \alpha \)&lt;/span&gt; כך ש-&lt;span&gt;\( A\cong\alpha \)&lt;/span&gt;. את הקטע של ה”יחיד” כבר הוכחנו לפני רגע, כשהוכחנו שאם &lt;span&gt;\( \alpha\cong\beta \)&lt;/span&gt; אז &lt;span&gt;\( \alpha=\beta \)&lt;/span&gt;, אבל למה כל &lt;span&gt;\( A \)&lt;/span&gt; איזומורפית לסודר כלשהו? הרמז היחיד לזה היה בקשקוש שקשקשתי בהתחלה על זה שאפשר לקחת את האיברים של &lt;span&gt;\( A \)&lt;/span&gt; ולהחליף אותם בהדרגה בסודרים, אבל כאמור - אנחנו לא רוצים לעשות משהו “תהליכי” שכזה.&lt;/p&gt;

&lt;p&gt;אז הטריק הוא כזה: בסודרים, ה”מידע” שיש בכל איבר של הסודר הוא בדיוק מי הסודרים שקטנים ממנו (זו המשמעות של &lt;span&gt;\( \alpha^{&amp;lt;}=\alpha \)&lt;/span&gt; שראינו). בקבוצה סדורה היטב “סתם”, באיבר יכול להיות מידע “מיותר”. מה שאנחנו רוצים לעשות הוא בדיוק להחליף כל איבר בסודר שלא מכיל מידע מיותר, אז הסודר שיחליף את האיבר &lt;span&gt;\( a \)&lt;/span&gt; צריך “לקודד” את המידע על &lt;span&gt;\( a^{&amp;lt;} \)&lt;/span&gt;. זה מוביל אותנו להגדרה: בהינתן קבוצה סדורה היטב &lt;span&gt;\( A \)&lt;/span&gt;, נגדיר את הסודר &lt;span&gt;\( \alpha \)&lt;/span&gt; בתור קבוצת כל הסודרים שאיזומורפיים לקטעים התחלתיים של איברים ב-&lt;span&gt;\( A \)&lt;/span&gt;. כמובן, צריך להוכיח ש-&lt;span&gt;\( A\cong\alpha \)&lt;/span&gt; וש-&lt;span&gt;\( \alpha \)&lt;/span&gt; סודר, אבל לפני זה צריך להסביר למה &lt;span&gt;\( \alpha \)&lt;/span&gt; קיים בכלל. זה נובע שוב מאקסיומת ההחלפה שלא תיארתי פורמלית: כל איבר &lt;span&gt;\( a\in A \)&lt;/span&gt; שיש סודר שאיזומורפי אל &lt;span&gt;\( a^{&amp;lt;} \)&lt;/span&gt; ניתן להחליף בסודר הזה; זה הולך ליצור את &lt;span&gt;\( \alpha \)&lt;/span&gt; מתוך &lt;span&gt;\( A \)&lt;/span&gt; על ידי החלפה. זה לא פורמלי, אבל זה מספיק טוב עד שנגיע לפוסט על האקסיומה הזו.&lt;/p&gt;

&lt;p&gt;אוקיי, אז למה &lt;span&gt;\( \alpha \)&lt;/span&gt; היא סודר? ראשית כל, היא קבוצה של סודרים, וראינו שכל זוג סודרים ניתנים להשוואה על ידי &lt;span&gt;\( \in \)&lt;/span&gt;, אז זו קבוצה סדורה בסדר מלא על ידי &lt;span&gt;\( \in \)&lt;/span&gt;. שנית, בואו נראה שהיא טרנזיטיבית. ניקח &lt;span&gt;\( \gamma\in\beta\in\alpha \)&lt;/span&gt;. אנחנו יודעים ש-&lt;span&gt;\( \beta\cong b^{&amp;lt;} \)&lt;/span&gt; עבור &lt;span&gt;\( b\in A \)&lt;/span&gt; כלשהו, כי זו ההגדרה של כל אברי &lt;span&gt;\( \alpha \)&lt;/span&gt;; האיזומורפיזם הזה בפרט מעביר את &lt;span&gt;\( \gamma \)&lt;/span&gt; לאיבר כלשהו של &lt;span&gt;\( b^{&amp;lt;} \)&lt;/span&gt;, נאמר &lt;span&gt;\( c\in b^{&amp;lt;} \)&lt;/span&gt;; אז &lt;span&gt;\( \gamma\cong c^{&amp;lt;} \)&lt;/span&gt; על ידי אותו איזומורפיזם בדיוק כשהוא מצומצם אל &lt;span&gt;\( \gamma \)&lt;/span&gt;. מכיוון שקיבלנו ש-&lt;span&gt;\( \gamma \)&lt;/span&gt; איזומורפי לקטע התחלתי של &lt;span&gt;\( A \)&lt;/span&gt; אז &lt;span&gt;\( \gamma\in\alpha \)&lt;/span&gt;, כפי שרצינו. זה מסיים את ההוכחה ש-&lt;span&gt;\( \alpha \)&lt;/span&gt; הוא סודר.&lt;/p&gt;

&lt;p&gt;מה שנשאר להראות הוא ש-&lt;span&gt;\( A\cong\alpha \)&lt;/span&gt;, ואת זה נעשה עם הוכחה די דומה לזו של הפוסט הקודם שבנתה איזומורפיזם בין &lt;span&gt;\( A,B \)&lt;/span&gt; בתור קבוצה של איברים. כאן הקבוצה שלנו תהיה&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( f=\left\{ \left(b,\beta\right)\in A\times\alpha\ |\ b^{&amp;lt;}\cong\beta\right\}  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כדי שזו תהיה פונקציה חח”ע ועל ומשמרת סדר אנחנו בעיקר צריכים להראות ש&lt;strong&gt;כל&lt;/strong&gt; &lt;span&gt;\( b\in A \)&lt;/span&gt; מופיע ב-&lt;span&gt;\( f \)&lt;/span&gt;. כדי לראות את זה, קודם כל נשים לב לכך שאם &lt;span&gt;\( b\in A \)&lt;/span&gt; וגם &lt;span&gt;\( c&amp;lt;b \)&lt;/span&gt; אז &lt;span&gt;\( c\in A \)&lt;/span&gt;, כי אם יש איזומורפיזם &lt;span&gt;\( g:b^{&amp;lt;}\to\beta \)&lt;/span&gt; אז הצמצום שלו אל &lt;span&gt;\( c^{&amp;lt;} \)&lt;/span&gt; נותן לנו איזומורפיזם בין &lt;span&gt;\( c^{&amp;lt;} \)&lt;/span&gt; ובין &lt;span&gt;\( g\left(b\right) \)&lt;/span&gt; (ואותו &lt;span&gt;\( g\left(b\right) \)&lt;/span&gt; שייך ל-&lt;span&gt;\( \alpha \)&lt;/span&gt; כי הוא איבר של איבר של הסודר &lt;span&gt;\( \alpha \)&lt;/span&gt;). אז &lt;span&gt;\( f \)&lt;/span&gt; “סגורה כלפי מטה” ביחס ל-&lt;span&gt;\( A \)&lt;/span&gt; כמו בפוסט הקודם, ולכן התחום של &lt;span&gt;\( f \)&lt;/span&gt; הוא או כל &lt;span&gt;\( A \)&lt;/span&gt; או קטע התחלתי של &lt;span&gt;\( A \)&lt;/span&gt;, נאמר &lt;span&gt;\( a^{&amp;lt;} \)&lt;/span&gt;, אבל במקרה הזה נקבל &lt;span&gt;\( f\left(a^{&amp;lt;}\right)=\alpha \)&lt;/span&gt;. למה זה לא הגיוני? כי בואו ניזכר ש-&lt;span&gt;\( \alpha \)&lt;/span&gt; הוגדרה בתור קבוצת &lt;strong&gt;כל הסודרים&lt;/strong&gt; שאיזומורפיים לקטע התחלתי של איבר ב-&lt;span&gt;\( A \)&lt;/span&gt;. אם &lt;span&gt;\( \alpha \)&lt;/span&gt; איזומורפי ל-&lt;span&gt;\( a^{&amp;lt;} \)&lt;/span&gt;, זה אומר שבפרט &lt;span&gt;\( \alpha\in\alpha \)&lt;/span&gt; וזה לא יכול לקרות. מכאן שהתחום של &lt;span&gt;\( f \)&lt;/span&gt; הוא כל &lt;span&gt;\( A \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;שאר הדברים קלים יותר: &lt;span&gt;\( f \)&lt;/span&gt; היא פונקציה כי היא לא יכולה להעביר את אותו &lt;span&gt;\( b \)&lt;/span&gt; לשני סודרים שונים &lt;span&gt;\( \beta_{1},\beta_{2} \)&lt;/span&gt;, כי אז נקבל &lt;span&gt;\( \beta_{1}\cong b^{&amp;lt;}\cong\beta_{2} \)&lt;/span&gt; ולכן הם שווים. &lt;span&gt;\( f \)&lt;/span&gt; היא על כי מהגדרת &lt;span&gt;\( \alpha \)&lt;/span&gt; כל איבר של &lt;span&gt;\( \alpha \)&lt;/span&gt; איזומורפי לקטע ההתחלתי של איבר כלשהו ב-&lt;span&gt;\( A \)&lt;/span&gt;; ו-&lt;span&gt;\( f \)&lt;/span&gt; היא חח”ע כי אם &lt;span&gt;\( b_{1}^{&amp;lt;}\cong\beta\cong b_{2}^{&amp;lt;} \)&lt;/span&gt; נקבל ש-&lt;span&gt;\( b_{1}=b_{2} \)&lt;/span&gt; כי כזכור, קבוצה סדורה היטב לא יכולה להיות איזומורפית לקטע התחלתי שלה (ולכן לא ייתכן שאחד מהקטעים מוכל בשני) והיא שומרת סדר מסיבה דומה: אם &lt;span&gt;\( b_{1}&amp;lt;b_{2} \)&lt;/span&gt; אבל &lt;span&gt;\( \beta_{1}&amp;gt;\beta_{2} \)&lt;/span&gt; אז נקבל מ- &lt;span&gt;\( b_{1}^{&amp;lt;}\cong\beta_{1} \)&lt;/span&gt; ומ-&lt;span&gt;\( b_{2}^{&amp;lt;}\cong\beta_{2} \)&lt;/span&gt; ש-&lt;span&gt;\( b_{2}^{&amp;lt;} \)&lt;/span&gt; איזומורפית לקטע התחלתי של &lt;span&gt;\( \beta_{1} \)&lt;/span&gt; ולכן ש-&lt;span&gt;\( b_{2}^{&amp;lt;} \)&lt;/span&gt; איזומורפית לקטע התחלתי של &lt;span&gt;\( b_{1}^{&amp;lt;} \)&lt;/span&gt; וזה כמובן בלתי אפשרי.&lt;/p&gt;

&lt;p&gt;זה מסיים את ההוכחה! הראינו שכל קבוצה סדורה היטב איזומורפית לסודר כלשהו! אבל בעצם, אפשר להגיד אפילו יותר מזה: אם אנחנו מקבלים את אקסיומת הבחירה אז כל קבוצה ניתנת לסידור היטב, מה שאומר שכל קבוצה איזומורפית לסודר כלשהו; ובפרט, שקיימת התאמה חח”ע ועל בין כל קבוצה ובין סודר כלשהו. האבחנה הזו תהיה חשובה לנו מאוד בהמשך, כשננסה להגדיר פורמלית את המושג של &lt;strong&gt;עוצמה&lt;/strong&gt;, כי זו הדרך שבה מראים שהעוצמה של כל קבוצה היא מוגדרת היטב.&lt;/p&gt;

&lt;p&gt;מה הלאה? בשלב הבא אנחנו רוצים להתחיל להשתמש בסודרים בצורה מעניינת - להגדיר עליהם פעולות חשבון, ולהשתמש בהם כדי להגדיר דברים על ידי רקורסיה על-סופית. הכיף רק מתחיל.&lt;/p&gt;</content><author><name></name></author><category term="סודרים" /><summary type="html">מבוא</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://gadial.net/assets/img/main/default-card.png" /></entry><entry><title type="html">תורת הקבוצות - קבוצות סדורות היטב</title><link href="http://gadial.net/2023/01/07/well_ordered_sets/" rel="alternate" type="text/html" title="תורת הקבוצות - קבוצות סדורות היטב" /><published>2023-01-07T00:00:00+00:00</published><updated>2023-01-07T00:00:00+00:00</updated><id>http://gadial.net/2023/01/07/well_ordered_sets</id><content type="html" xml:base="http://gadial.net/2023/01/07/well_ordered_sets/">&lt;h2&gt;מבוא&lt;/h2&gt;

&lt;p&gt;בסדרת הפוסטים שלי על תורת הקבוצות &lt;a href=&quot;https://gadial.net/2020/01/10/order_relations/&quot;&gt;הצגתי מתישהו&lt;/a&gt; את המושג של &lt;strong&gt;יחס סדר&lt;/strong&gt;. בפוסט הזה אני רוצה לדבר על סוג חשוב ומועיל של יחסי סדר: &lt;strong&gt;סדר טוב&lt;/strong&gt;. בואו נתחיל קודם כל מההגדרות.&lt;/p&gt;

&lt;p&gt;כזכור, יחס סדר &lt;span&gt;\( \le \)&lt;/span&gt; מעל קבוצה &lt;span&gt;\( A \)&lt;/span&gt; הוא יחס (קבוצה של זוגות של אברי &lt;span&gt;\( A \)&lt;/span&gt;, כלומר תת-קבוצה של &lt;span&gt;\( A\times A \)&lt;/span&gt;) שהוא&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;&lt;strong&gt;רפלקסיבי&lt;/strong&gt;: לכל &lt;span&gt;\( a\in A \)&lt;/span&gt; מתקיים &lt;span&gt;\( a\le a \)&lt;/span&gt;.&lt;/li&gt;


&lt;li&gt;&lt;strong&gt;טרנזיטיבי&lt;/strong&gt;: אם &lt;span&gt;\( a\le b \)&lt;/span&gt; וגם &lt;span&gt;\( b\le c \)&lt;/span&gt; אז &lt;span&gt;\( a\le c \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;&lt;strong&gt;אנטיסימטרי&lt;/strong&gt;: אם &lt;span&gt;\( a\le b \)&lt;/span&gt; וגם &lt;span&gt;\( b\le a \)&lt;/span&gt; אז &lt;span&gt;\( a=b \)&lt;/span&gt;.&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;לפעמים מגדירים יחס סדר גם בצורה שונה, ובה מסמנים אותו &lt;span&gt;\( &amp;lt; \)&lt;/span&gt;; הוא עדיין צריך להיות טרנזיטיבי, אבל עכשיו הוא צריך להיות גם א-רפלקסיבי, כלומר &lt;span&gt;\( a\not&amp;lt;a \)&lt;/span&gt; לכל &lt;span&gt;\( a\in A \)&lt;/span&gt;. זה ניסוח קצת יותר “חסכוני” כי אנטיסימטריה לא יכולה להתקיים: אם &lt;span&gt;\( a&amp;lt;b \)&lt;/span&gt; וגם &lt;span&gt;\( b&amp;lt;a \)&lt;/span&gt; נובע מטרנזיטיביות &lt;span&gt;\( a&amp;lt;a \)&lt;/span&gt;, מה שאמרנו שלא קורה. שני הניסוחים שמישים ומקובלים וקל לעבור מאחד לשני: אם &lt;span&gt;\( \le \)&lt;/span&gt; הוא יחס סדר על פי הניסוח הראשון, נגדיר ש-&lt;span&gt;\( a&amp;lt;b \)&lt;/span&gt; אם ורק אם &lt;span&gt;\( a\le b \)&lt;/span&gt; וגם &lt;span&gt;\( a\ne b \)&lt;/span&gt; וקיבלנו את יחס הסדר השני &lt;span&gt;\( &amp;lt; \)&lt;/span&gt;, ובאופן דומה אם אנחנו מתחילים מ-&lt;span&gt;\( &amp;lt; \)&lt;/span&gt; אז נגדיר &lt;span&gt;\( a\le b \)&lt;/span&gt; אם ורק אם &lt;span&gt;\( a&amp;lt;b \)&lt;/span&gt; או &lt;span&gt;\( a=b \)&lt;/span&gt; וקיבלנו את &lt;span&gt;\( \le \)&lt;/span&gt;. בגלל ששני סוגי היחסים קשורים עד כדי כך לפעמים ארשה לעצמי להשתמש באחד ולפעמים בשני, לפי מה שיוצא ומתאים.&lt;/p&gt;

&lt;p&gt;יחס סדר הוא &lt;strong&gt;מלא&lt;/strong&gt; (או &lt;strong&gt;לינארי&lt;/strong&gt;) אם אפשר להשוות כל שני איברים, כלומר לכל &lt;span&gt;\( a,b\in A \)&lt;/span&gt; או ש-&lt;span&gt;\( a\le b \)&lt;/span&gt; או ש-&lt;span&gt;\( b\le a \)&lt;/span&gt;. ואיבר &lt;span&gt;\( a\in A \)&lt;/span&gt; הוא &lt;strong&gt;איבר ראשון&lt;/strong&gt; על פי יחס הסדר, אם לכל &lt;span&gt;\( b\in A \)&lt;/span&gt; מתקיים &lt;span&gt;\( a\le b \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;עכשיו אפשר להגדיר מה זה סדר טוב: זה יחס סדר &lt;strong&gt;מלא&lt;/strong&gt; שבו לכל תת-קבוצה לא ריקה של &lt;span&gt;\( A \)&lt;/span&gt; קיים &lt;strong&gt;איבר ראשון&lt;/strong&gt;. לזוג &lt;span&gt;\( \left(A,\le\right) \)&lt;/span&gt; של הקבוצה ויחס הסדר הטוב עליה קוראים &lt;strong&gt;קבוצה סדורה היטב&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;בואו נראה דוגמאות. והרבה. כי מה הטעם בהגדרה בלי דוגמאות.&lt;/p&gt;

&lt;p&gt;הדוגמא המרכזית, האבטיפוס, נותן ההשראה לכל המושג הזה, היא קבוצת המספרים הטבעיים, &lt;span&gt;\( \mathbb{N} \)&lt;/span&gt; עם יחס הסדר הרגיל עליה, כלומר &lt;span&gt;\( 0&amp;lt;1&amp;lt;2&amp;lt;3&amp;lt;\ldots \)&lt;/span&gt;. זה בוודאי יחס סדר מלא, ואם ניקח תת-קבוצה לא ריקה של טבעיים, האיבר הראשון שבה הוא בסך הכל האיבר המינימלי בגודלו. למשל, &lt;span&gt;\( \left\{ 13,5,81\right\}  \)&lt;/span&gt; היא תת-קבוצה שכזו, והאיבר הראשון בה, על פי יחס הסדר, הוא 5.&lt;/p&gt;

&lt;p&gt;זו תכונה שימושית בצורה יוצאת מן הכלל: הרבה הוכחות במתמטיקה כוללות אספקט שבו לוקחים תת-קבוצה כלשהי של טבעיים ואז מסתכלים על האיבר המינימלי בה. אפילו ההוכחה שהוכחות באינדוקציה עובדות היא כזו: כזכור, הוכחה באינדוקציה אומרת שאם טענה &lt;span&gt;\( P \)&lt;/span&gt; כלשהי מתקיימת עבור 0 (מסמנים זאת &lt;span&gt;\( P\left(0\right) \)&lt;/span&gt;) ובנוסף, אם היא מתקיימת עבור טבעי &lt;span&gt;\( n \)&lt;/span&gt; כלשהו היא מתקיימת גם עבור &lt;span&gt;\( n+1 \)&lt;/span&gt; (&lt;span&gt;\( P\left(n\right)\Rightarrow P\left(n+1\right) \)&lt;/span&gt;) אז נובע מכך שהיא מתקיימת לכל הטבעיים (&lt;span&gt;\( \forall n\in\mathbb{N}:P\left(n\right) \)&lt;/span&gt;). איך מוכיחים את זה? פשוט, מסתכלים על קבוצת הטבעיים שעבורם &lt;span&gt;\( P \)&lt;/span&gt; אינה מתקיימת; אם היא ריקה, סיימנו, ואחרת קיים לה איבר ראשון, &lt;span&gt;\( n \)&lt;/span&gt;. מכיוון ש-&lt;span&gt;\( P\left(0\right) \)&lt;/span&gt; אז &lt;span&gt;\( n&amp;gt;0 \)&lt;/span&gt; ולכן גם &lt;span&gt;\( n-1\in\mathbb{N} \)&lt;/span&gt;, אבל מהמינימליות של &lt;span&gt;\( n \)&lt;/span&gt; עולה ש-&lt;span&gt;\( P\left(n-1\right) \)&lt;/span&gt;, ועכשיו אפשר להסיק מכך שגם &lt;span&gt;\( P\left(\left(n-1\right)+1\right)=P\left(n\right) \)&lt;/span&gt; - סתירה להנחה ש-&lt;span&gt;\( P\left(n\right) \)&lt;/span&gt; לא מתקיים.&lt;/p&gt;

&lt;p&gt;אפשר לשאול, ובצדק, מה בהוכחה שהראיתי כאן התבסס באופן ספציפי על המספרים הטבעיים - לכאורה בשינויים קלים ההוכחה תעבוד לכל קבוצה סדורה היטב. ובכן, בדיוק כך! הנה לנו אחת מהסיבות שבגללן אנחנו אוהבים קבוצות סדורות היטב. עוד אחזור לזה בהמשך.&lt;/p&gt;

&lt;p&gt;בואו נתבונן כעת על הקבוצה &lt;span&gt;\( \mathbb{Z}=\left\{ \ldots,-2,-1,0,1,2,\ldots\right\}  \)&lt;/span&gt; של המספרים השלמים. הקבוצה הזו סדורה בסדר מלא, אבל הוא &lt;strong&gt;לא&lt;/strong&gt; סדר טוב, כי אפילו לכל &lt;span&gt;\( \mathbb{Z} \)&lt;/span&gt; עצמה אין איבר ראשון. אותה בעיה תמנע גם מ-&lt;span&gt;\( \mathbb{Q} \)&lt;/span&gt; להיות סדורה בסדר טוב. אבל מה קורה אם נפטרים מהבעיה הזו? למשל, בואו נסתכל על &lt;span&gt;\( \mathbb{Q}^{\ge0}=\left\{ q\in\mathbb{Q}\ |\ q\ge0\right\}  \)&lt;/span&gt;. לקבוצה הזו בוודאי יש איבר ראשון: 0. לרוע המזל, זה לא מספיק בשביל שהקבוצה תהיה סדורה בסדר טוב, כי צריך שיהיה איבר ראשון &lt;strong&gt;לכל&lt;/strong&gt; תת-קבוצה לא ריקה של &lt;span&gt;\( \mathbb{Q}^{\ge0} \)&lt;/span&gt;, והנה דוגמא לתת-קבוצה כזו שאין לה איבר ראשון (אני מסדר את אבריה כך שהגדול ביותר בא תחילה): &lt;span&gt;\( \left\{ 1,\frac{1}{2},\frac{1}{3},\frac{1}{4},\frac{1}{5},\ldots\right\}  \)&lt;/span&gt;. הקבוצה הזו “שואפת לאפס” באיזה מובן אינטואיטיבי, אבל מכיוון ש-0 אינו שייך אליה, אין לתת-הקבוצה הזו איבר ראשון. שימו לב לניואנס הזה: אם &lt;span&gt;\( B\subseteq A \)&lt;/span&gt; אז צריך שיהיה ל-&lt;span&gt;\( B \)&lt;/span&gt; איבר ראשון &lt;strong&gt;בתוך &lt;/strong&gt;&lt;span&gt;\( B \)&lt;/span&gt; עצמה. לא משנה אם קיים ב-&lt;span&gt;\( A\backslash B \)&lt;/span&gt; מישהו שנראה כמו אינפימום של &lt;span&gt;\( B \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;מה שכן אפשר לעשות הוא לקחת קבוצה קיימת ולהתעלל במושג הסדר הרגיל שלה - להחליף אותו במשהו שאולי נראה לנו ממש מוזר, אבל הוא כן יהיה סדר טוב. למשל, בואו נסתכל על &lt;span&gt;\( \mathbb{Z} \)&lt;/span&gt; ונגדיר שכל מספר &lt;strong&gt;שלילי&lt;/strong&gt; יותר גדול מכל מספר &lt;strong&gt;חיובי&lt;/strong&gt;, ובנוסף את השליליים אני מסדר לפי הערך המוחלט שלהם. במילים אחרות, נקבל את &lt;span&gt;\( \mathbb{Z}=\left\{ 0,1,2,3,\ldots,-1,-2,-3,\ldots\right\}  \)&lt;/span&gt;, כשכאן אני כותב את האיברים משמאל לימין על פי הסדר שלהם. הקבוצה הזו &lt;strong&gt;כן&lt;/strong&gt; סדורה היטב.&lt;/p&gt;

&lt;p&gt;גם את &lt;span&gt;\( \mathbb{Q}^{\ge0} \)&lt;/span&gt; אפשר לסדר די בקלות בסדר טוב, וזה בעצם מה שעושים בהוכחה הסטנדרטית ש-&lt;span&gt;\( \mathbb{Q} \)&lt;/span&gt; בת מניה: אנחנו כותבים סדר כמו &lt;span&gt;\( \frac{0}{0},\frac{0}{1},\frac{1}{0},\frac{0}{2},\frac{1}{1},\frac{2}{0},\ldots \)&lt;/span&gt; - זה משהו די מגוחך שכולל איברים לא הגיוניים כמו &lt;span&gt;\( \frac{0}{0} \)&lt;/span&gt;, אבל העיקרון ברור - מהרשימה הזו אנחנו לוקחים רק את המספרים של &lt;span&gt;\( \mathbb{Q}^{\ge0} \)&lt;/span&gt;, בפעם הראשונה שהם הופיעו, והרשימה עצמה מסודרת כך: ראשית מופיעים כל הביטויים &lt;span&gt;\( \frac{a}{b} \)&lt;/span&gt; עם &lt;span&gt;\( a,b\ge0 \)&lt;/span&gt; כך ש-&lt;span&gt;\( a+b=0 \)&lt;/span&gt;; אחר כך כל הביטויים כך ש-&lt;span&gt;\( a+b=1 \)&lt;/span&gt; וכן הלאה, כשבכל פעם אנחנו מתחילים מ-&lt;span&gt;\( a=0 \)&lt;/span&gt; ומגדילים אותו תוך שאנו מקטינים את &lt;span&gt;\( b \)&lt;/span&gt; בהדרגה. זה יניב לנו את&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \mathbb{Q}^{\ge0}=\left\{ 0,1,\frac{1}{2},2,\frac{1}{3},3,\ldots\right\}  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;זו קבוצה די מבולגנת, אבל אם חושבים על זה קצת, היא בעצם לא שונה במבנה שלה מהמספרים הטבעיים: פורמלית, נראה בהמשך שהיא &lt;strong&gt;איזומורפית&lt;/strong&gt; אליהם. לעומת זאת, &lt;span&gt;\( \mathbb{Z}=\left\{ 0,1,2,3,\ldots,-1,-2,-3,\ldots\right\}  \)&lt;/span&gt; לא איזומורפית: האיבר &lt;span&gt;\( -1 \)&lt;/span&gt; בקבוצה הזו נטול קודם מיידי (איבר שקטן ממנו ואין איברים אחרים ביניהם) אבל ב-&lt;span&gt;\( \mathbb{N} \)&lt;/span&gt; עם יחס הסדר הרגיל זה לא קיים.&lt;/p&gt;

&lt;p&gt;אם כן, בואו נדבר על איזומורפיזמים.&lt;/p&gt;

&lt;h2&gt;איזומורפיזם של קבוצות סדורות היטב - חימום&lt;/h2&gt;

&lt;p&gt;באופן כללי במתמטיקה, איזומורפיזם של שתי קבוצות אומר שהן אותו דבר עד כדי שינוי שמות - כש”אותו הדבר” צריך להתייחס גם ל&lt;strong&gt;מבנה&lt;/strong&gt; הרלוונטי שיש על הקבוצות בהקשר שעליו מדברים. אם אין שום מבנה, אז איזומורפיזם &lt;span&gt;\( f:A\to B \)&lt;/span&gt; של קבוצות הוא בסך הכל פונקציה חח”ע ועל ביניהן; אבל בהקשר שלנו, שבו יש יחסי סדר על הקבוצות שאסמן &lt;span&gt;\( \le_{A},\le_{B} \)&lt;/span&gt;, איזומורפיזם הוא פונקציה &lt;span&gt;\( f:A\to B \)&lt;/span&gt; שהיא חח”ע, על ו&lt;strong&gt;משמרת סדר&lt;/strong&gt;: כלומר, &lt;span&gt;\( a\le b \)&lt;/span&gt; אם ורק אם &lt;span&gt;\( f\left(a\right)\le f\left(b\right) \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;הנה דוגמא פשוטה. בואו נסדר את &lt;span&gt;\( \mathbb{Z} \)&lt;/span&gt; כך שמספרים חיוביים ושליליים מגיעים זה אחר זה: &lt;span&gt;\( \mathbb{Z}=\left\{ 0,1,-1,2,-2,3,-3,\ldots\right\}  \)&lt;/span&gt;. עם הסדר הזה, &lt;span&gt;\( \mathbb{Z} \)&lt;/span&gt; היא בסך הכל &lt;span&gt;\( \mathbb{N} \)&lt;/span&gt; בתחפושת. הנה האיזומורפיזם המפורש:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( f\left(n\right)=\begin{cases} k &amp;amp; n=2k-1\\ -k &amp;amp; n=2k \end{cases} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ההגדרה הזו עובדת לקבוצות סדורות באופן כללי, ואנחנו מסמנים &lt;span&gt;\( A\cong B \)&lt;/span&gt; כדי לציין ששתי הקבוצות הן איזומורפיות. מה שמעניין אותנו בהקשר של קבוצות סדורות היטב הוא שאיזומורפיזם מאפשר לנו &lt;strong&gt;להשוות&lt;/strong&gt; בין קבוצות סדורות היטב שונות. במובן מסויים, לכל שתי קבוצות סדורות היטב, או ששתיהן איזומורפיות זו לזו, או שאחת מהן “גדולה יותר” ואז השניה איזומורפית לחלק ממנה, אבל לא סתם חלק - &lt;strong&gt;קטע התחלתי&lt;/strong&gt;, שזה מושג חדש שאני צריך להגדיר אבל הוא די אינטואיטיבי:&lt;/p&gt;

&lt;p&gt;אם &lt;span&gt;\( \left(A,&amp;lt;\right) \)&lt;/span&gt; היא קבוצה סדורה היטב ו-&lt;span&gt;\( a\in A \)&lt;/span&gt; אז &lt;strong&gt;הקטע ההתחלתי&lt;/strong&gt; שמתאים ל-&lt;span&gt;\( a \)&lt;/span&gt; הוא הקבוצה &lt;span&gt;\( a^{&amp;lt;}\triangleq\left\{ b\in A\ |\ b&amp;lt;a\right\}  \)&lt;/span&gt;, כלומר כל האיברים של &lt;span&gt;\( A \)&lt;/span&gt; שקטנים מ-&lt;span&gt;\( a \)&lt;/span&gt; עצמו (&lt;strong&gt;לא כולל&lt;/strong&gt; &lt;span&gt;\( a \)&lt;/span&gt; עצמו, מה שיהיה רלוונטי מאוד בהוכחות שתכף נראה).&lt;/p&gt;

&lt;p&gt;אני רוצה להוכיח שאם &lt;span&gt;\( A,B \)&lt;/span&gt; הן שתי קבוצות סדורות היטב, אז או ש-&lt;span&gt;\( A\cong B \)&lt;/span&gt;, או ש-&lt;span&gt;\( A\cong b^{&amp;lt;} \)&lt;/span&gt; לאיזה &lt;span&gt;\( b\in B \)&lt;/span&gt;, או ש-&lt;span&gt;\( B\cong a^{&amp;lt;} \)&lt;/span&gt; לאיזה &lt;span&gt;\( a&amp;lt;A \)&lt;/span&gt;. בגלל שזו הוכחה לא טריוויאלית מחלקים אותה לשלבים של טענות פשוטות יותר.&lt;/p&gt;

&lt;p&gt;ראשית, נוכיח שאם &lt;span&gt;\( A \)&lt;/span&gt; סדורה היטב, אז היא &lt;strong&gt;לא&lt;/strong&gt; איזומורפית לאף קטע התחלתי של עצמה, ואפילו יותר מזה - היא לא איזומורפית לאף תת-קבוצה של קטע התחלתי של עצמה. כלומר, ניקח &lt;span&gt;\( a\in A \)&lt;/span&gt; כלשהו ונוכיח שלכל &lt;span&gt;\( B\subseteq a^{&amp;lt;} \)&lt;/span&gt; מתקיים &lt;span&gt;\( A\not\cong B \)&lt;/span&gt;ֲ. נניח בשלילה שדווקא כן &lt;span&gt;\( A\cong B \)&lt;/span&gt; עבור &lt;span&gt;\( B\subseteq a^{&amp;lt;} \)&lt;/span&gt; כלשהי, עם איזומורפיזם &lt;span&gt;\( f:A\to B \)&lt;/span&gt;, ונשאל את עצמנו את השאלה - אל מי &lt;span&gt;\( f \)&lt;/span&gt; מעבירה את &lt;span&gt;\( a \)&lt;/span&gt;? היא מעבירה אותו לאיבר ב-&lt;span&gt;\( a^{&amp;lt;} \)&lt;/span&gt;, כלומר למישהו שקטן מ-&lt;span&gt;\( a \)&lt;/span&gt;:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( f\left(a\right)&amp;lt;a \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו אני יכול להפעיל את &lt;span&gt;\( f \)&lt;/span&gt; על שני האגפים של אי השוויון הזה, ומכיוון ש-&lt;span&gt;\( f \)&lt;/span&gt; משמרת סדר, אני אקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( f\left(f\left(a\right)\right)&amp;lt;f\left(a\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;וככה אפשר להמשיך באופן כללי ולקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( f^{n}\left(a\right)&amp;lt;f^{n-1}\left(a\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;או במילים אחרות, קיבלתי סדרה יורדת אינסופית של איברים:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( a&amp;gt;f\left(a\right)&amp;gt;f^{2}\left(a\right)&amp;gt;f^{3}\left(a\right)&amp;gt;\ldots \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;בקבוצה סדורה היטב לא יכולה להיות סדרה כזו, כי אם נסתכל על הקבוצה &lt;span&gt;\( \left\{ f^{n}\left(a\right)\ |\ n\in\mathbb{N}\right\}  \)&lt;/span&gt;, זו תת-קבוצה של &lt;span&gt;\( A \)&lt;/span&gt; ומכיוון ש-&lt;span&gt;\( A \)&lt;/span&gt; סדורה היטב, צריך להיות בה איבר ראשון, כזה שקטן מכל האיברים האחרים; אבל לכל איבר בסדרה הזו קיים איבר שקטן ממנו. הגענו לסתירה, והמסקנה היא ש-&lt;span&gt;\( A\not\cong B \)&lt;/span&gt;, כמו שרצינו.&lt;/p&gt;

&lt;p&gt;הדבר השני שאני רוצה להוכיח בדרך אל המשפט הגדול הוא שאם &lt;span&gt;\( A\cong B \)&lt;/span&gt;, אז האיזומורפיזם ביניהם הוא &lt;strong&gt;יחיד&lt;/strong&gt;. כלומר, אם &lt;span&gt;\( f:A\to B \)&lt;/span&gt; וגם &lt;span&gt;\( g:A\to B \)&lt;/span&gt; הם איזומורפיזמים, אז &lt;span&gt;\( f=g \)&lt;/span&gt;, או במילים אחרות: &lt;span&gt;\( h=g^{-1}f=\text{Id}_{A} \)&lt;/span&gt; הוא איזומורפיזם הזהות.&lt;/p&gt;

&lt;p&gt;ה-&lt;span&gt;\( h \)&lt;/span&gt; הזה הוא בעצם המפתח להוכחה: אם אנחנו לוקחים &lt;span&gt;\( a\in A \)&lt;/span&gt; אז &lt;span&gt;\( h \)&lt;/span&gt; היא בפרט איזומורפיזם בין הקבוצות &lt;span&gt;\( a^{&amp;lt;} \)&lt;/span&gt; ו-&lt;span&gt;\( h\left(a\right)^{&amp;lt;} \)&lt;/span&gt;. למה? ובכן, &lt;span&gt;\( h \)&lt;/span&gt; היא הרכבה של פונקציות חח”ע, על ושומרות סדר ולכן היא חח”ע, על ושומרת סדר בעצמה; עכשיו, אם &lt;span&gt;\( x\in a^{&amp;lt;} \)&lt;/span&gt; זה אומר ש-&lt;span&gt;\( x&amp;lt;a \)&lt;/span&gt;, ולכן &lt;span&gt;\( h\left(x\right)&amp;lt;h\left(a\right) \)&lt;/span&gt; ומכאן ש-&lt;span&gt;\( h\left(x\right)\in h\left(a\right)^{&amp;lt;} \)&lt;/span&gt;; קיבלנו שהתמונה של &lt;span&gt;\( a^{&amp;lt;} \)&lt;/span&gt; על ידי &lt;span&gt;\( h \)&lt;/span&gt; מוכלת ב-&lt;span&gt;\( h\left(a\right)^{&amp;lt;} \)&lt;/span&gt;. מצד שני, אם &lt;span&gt;\( y\in h\left(a\right)^{&amp;lt;} \)&lt;/span&gt; אז &lt;span&gt;\( y&amp;lt;h\left(a\right) \)&lt;/span&gt; ולכן &lt;span&gt;\( h^{-1}\left(y\right)&amp;lt;a \)&lt;/span&gt; ולכן המקור של &lt;span&gt;\( y \)&lt;/span&gt; שייך ל-&lt;span&gt;\( a^{&amp;lt;} \)&lt;/span&gt;. משני אלו נקבל שהתמונה של &lt;span&gt;\( a^{&amp;lt;} \)&lt;/span&gt; היא בדיוק &lt;span&gt;\( h\left(a\right)^{&amp;lt;} \)&lt;/span&gt; ולכן &lt;span&gt;\( h \)&lt;/span&gt; היא איזומורפיזם בין שתי הקבוצות הללו.&lt;/p&gt;

&lt;p&gt;עכשיו, בואו נזכור ש-&lt;span&gt;\( h \)&lt;/span&gt; היא פונקציה מ-&lt;span&gt;\( A \)&lt;/span&gt; לעצמה: &lt;span&gt;\( h:A\to A \)&lt;/span&gt;. כלומר, &lt;span&gt;\( a^{&amp;lt;} \)&lt;/span&gt; וגם &lt;span&gt;\( h\left(a\right)^{&amp;lt;} \)&lt;/span&gt; שניהם קטעים התחלתיים של &lt;span&gt;\( A \)&lt;/span&gt; עצמה, ולכן או ש-&lt;span&gt;\( a=h\left(a\right) \)&lt;/span&gt; או ש&lt;strong&gt;אחד מהם הוא קטע התחלתי של השני&lt;/strong&gt;. אבל המשפט הקודם שראינו הוא שקבוצה לא יכולה להיות איזומורפית לקטע התחלתי של עצמה, ולכן בהכרח &lt;span&gt;\( a=h\left(a\right) \)&lt;/span&gt;. זה מתקיים לכל &lt;span&gt;\( a\in A \)&lt;/span&gt; ולכן נובע מכך ש-&lt;span&gt;\( h \)&lt;/span&gt; היא הזהות, כמו שרצינו.&lt;/p&gt;

&lt;h2&gt;איזומורפיזם של קבוצות סדורות היטב - המשפט המרכזי&lt;/h2&gt;

&lt;p&gt;הגענו להוכחה של הטענה המרכזית שלנו: שאם &lt;span&gt;\( A,B \)&lt;/span&gt; הן קבוצות סדורות היטב אז הן איזומורפיות או שאחת מהן איזומורפית לקטע התחלתי של השניה. זו לא הוכחה קשה במיוחד, אבל היא כן קצת טריקית בגלל הטכניקה שבה משתמשים בה, שלא דומה לדברים אחרים שיש בתורת הקבוצות הנאיבית עד השלב הזה.&lt;/p&gt;

&lt;p&gt;ראשית, לפני שנתחיל את הדבר העיקרי, בואו נשים לב לשני דברים שלא הבהרתי בניסוח המשפט:&lt;/p&gt;

&lt;ol&gt; &lt;li&gt;רק אחד משלושת המקרים יכול להתקיים, כי אם שני מקרים מתקיימים בו זמנית אפשר לקבל סיטואציה של קבוצה שאיזומורפית לתת-קבוצה של קטע התחלתי של עצמה, וראינו שזה לא יכול לקרות. למשל, אם &lt;span&gt;\( A\cong B \)&lt;/span&gt; עם איזומורפיזם &lt;span&gt;\( f \)&lt;/span&gt; וגם &lt;span&gt;\( A\cong b^{&amp;lt;} \)&lt;/span&gt; עם עבור &lt;span&gt;\( b\in B \)&lt;/span&gt; עם איזומורפיזם &lt;span&gt;\( g \)&lt;/span&gt; אז הרכבת האיזומורפיזמים &lt;span&gt;\( gf^{-1} \)&lt;/span&gt; היא איזומורפיזם &lt;span&gt;\( B\cong b^{&amp;lt;} \)&lt;/span&gt; וזו סתירה. או למשל אם &lt;span&gt;\( A\cong b^{&amp;lt;} \)&lt;/span&gt; עם &lt;span&gt;\( f \)&lt;/span&gt; ו-&lt;span&gt;\( B\cong a^{&amp;lt;} \)&lt;/span&gt; עם &lt;span&gt;\( g \)&lt;/span&gt; אז נקבל פונקציה חח&quot;ע ושומרת סדר מ-&lt;span&gt;\( A \)&lt;/span&gt; אל &lt;span&gt;\( a^{&amp;lt;} \)&lt;/span&gt;. היא לאו דווקא על &lt;span&gt;\( a^{&amp;lt;} \)&lt;/span&gt;, אבל היא על תת-קבוצה של &lt;span&gt;\( a^{&amp;lt;} \)&lt;/span&gt;, אז אנחנו מקבלים איזומורפיזם של &lt;span&gt;\( A \)&lt;/span&gt; עם תת-קבוצה של קטע התחלתי של עצמה.&lt;/li&gt;


&lt;li&gt;האיזומורפיזם שכן קיים הוא יחיד - זה בדיוק מה שהוכחנו קודם עבור שתי קבוצות כלליות.&lt;/li&gt;

&lt;/ol&gt;

&lt;p&gt;עכשיו בואו נעבור להוכחה עצמה. האינטואיציה היא שכדי לבנות איזומורפיזם בין שתי קבוצות סדורות היטב, מתבקש (אפילו בלתי נמנע) להתחיל מלהעביר את האיברים הראשונים של שתיהן אחד לשני, ואז את האיברים “הבאים בתור”, כלומר את האיברים הראשונים בקבוצת “האיברים שטרם טיפלנו בהם” וכן הלאה, אבל זה ניסוח די מסורבל - בניה “בשלבים” כשיכולים להיות אינסוף שלבים - ולאו דווקא אינסוף בן מניה של שלבים. צריך למצוא דרך לטפל בהכל “בבת אחת”.&lt;/p&gt;

&lt;p&gt;אז הנה רעיון: בואו נדמיין שאנחנו כן מבצעים את הבנייה בשלבים הזו, ובשלב מסוים אנחנו מחליטים להעביר את &lt;span&gt;\( a\in A \)&lt;/span&gt; אל &lt;span&gt;\( b\in B \)&lt;/span&gt;. מה זה אומר? מכיוון שאנחנו בונים את ההעתקה שלנו באופן הדרגתי, זה אומר שכבר טיפלנו &lt;strong&gt;בכל&lt;/strong&gt; האיברים שקטנים מ-&lt;span&gt;\( a \)&lt;/span&gt; ו&lt;strong&gt;בכל&lt;/strong&gt; האיברים שקטנים מ-&lt;span&gt;\( b \)&lt;/span&gt; והעברנו אותם זה לזה. במילים אחרות, כבר בנינו את האיזומורפיזם &lt;span&gt;\( a^{&amp;lt;}\cong b^{&amp;lt;} \)&lt;/span&gt;, וכעת אנחנו מרחיבים אותו על ידי הוספת הכלל &lt;span&gt;\( a\mapsto b \)&lt;/span&gt; לאיזומורפיזם. אבל למה לדבר על “הוספת כלל”? בשביל מה למדנו תורת הקבוצות אם לא כדי ללמוד שאפשר לדבר על פונקציות פשוט בתור קבוצות של זוגות? ובכן, אם כבר בנינו את האיזומורפיזם &lt;span&gt;\( f:a^{&amp;lt;}\to b^{&amp;lt;} \)&lt;/span&gt;, בואו נוסיף אל &lt;span&gt;\( f \)&lt;/span&gt; את האיבר &lt;span&gt;\( \left(a,b\right) \)&lt;/span&gt;!&lt;/p&gt;

&lt;p&gt;כל זה טוב ויפה, אבל איפה אני נפטר מהעניין הזה של בניה בשלבים? ובכן, אני צריך שלבים רק אם יש לי תהליך שיש בו &lt;strong&gt;אפשרויות בחירה&lt;/strong&gt; כלשהן, אבל אני טוען שאין לנו שום בחירה. לא בחרתי להעביר את &lt;span&gt;\( a \)&lt;/span&gt; אל &lt;span&gt;\( b \)&lt;/span&gt; כי ככה יצא בבניה הספציפית שלי; אני מעביר את &lt;span&gt;\( a \)&lt;/span&gt; אל &lt;span&gt;\( b \)&lt;/span&gt; כי &lt;span&gt;\( b \)&lt;/span&gt; הוא האיבר &lt;strong&gt;היחיד&lt;/strong&gt; שעבורו מתקיים &lt;span&gt;\( a^{&amp;lt;}\cong b^{&amp;lt;} \)&lt;/span&gt;. זכרו את מה שראינו: אם &lt;span&gt;\( a^{&amp;lt;}\cong b^{&amp;lt;} \)&lt;/span&gt; אז פשוט &lt;strong&gt;לא ייתכן&lt;/strong&gt; ש-&lt;span&gt;\( a^{&amp;lt;} \)&lt;/span&gt; יהיה איזומורפי לכל קטע התחלתי אחר של &lt;span&gt;\( B \)&lt;/span&gt; (כי קטע כזה יכיל או יוכל ב-&lt;span&gt;\( b^{&amp;lt;} \)&lt;/span&gt;) והאיזומורפיזם &lt;span&gt;\( a^{&amp;lt;}\cong b^{&amp;lt;} \)&lt;/span&gt; הוא &lt;strong&gt;יחיד&lt;/strong&gt;, אז הוא לא תלוי באיזו &lt;span&gt;\( f \)&lt;/span&gt; ספציפית שבניתי עד כה.&lt;/p&gt;

&lt;p&gt;זה מוביל אותי אל ההגדרה של &lt;span&gt;\( f \)&lt;/span&gt; שבה אנחנו הולכים להשתמש, שהיא לב ההוכחה:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( f=\left\{ \left(a,b\right)\in A\times B\ |\ a^{&amp;lt;}\cong b^{&amp;lt;}\right\}  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;הפונקציה הזו היא האיזומורפיזם שאנחנו רוצים. לאיזה מבין המקרים? לכולם! לפי מי מהם שנכון. אם למשל &lt;span&gt;\( A\cong b^{&amp;lt;} \)&lt;/span&gt;, זה אומר שנקבל את כל הזוגות &lt;span&gt;\( \left(a,b\right) \)&lt;/span&gt; עם &lt;span&gt;\( a\in A \)&lt;/span&gt;; לא כל ה-&lt;span&gt;\( b \)&lt;/span&gt;-ים של &lt;span&gt;\( B \)&lt;/span&gt; יופיעו, וזה בסדר גמור. אם לעומת זאת &lt;span&gt;\( a^{&amp;lt;}\cong B \)&lt;/span&gt; אז זה אומר שכל ה-&lt;span&gt;\( b \)&lt;/span&gt;-ים כן יופיעו אבל לא כל ה-&lt;span&gt;\( a \)&lt;/span&gt;-ים, וזה עדיין בסדר גמור. הפונקציה עובדת בכל מקרה.&lt;/p&gt;

&lt;p&gt;אבל קודם כל צריך להשתכנע שקבוצת הזוגות הזו היא באמת פונקציה, ופונקציה חח”ע ועל ושומרת סדר. למרבה המזל, כמעט הכל נובע מדברים שכבר הוכחנו.&lt;/p&gt;

&lt;p&gt;מה זה אומר ש-&lt;span&gt;\( f \)&lt;/span&gt; היא פונקציה? ראשית, זה אומר שלכל &lt;span&gt;\( a \)&lt;/span&gt; בתחום שלה צריך להתאים &lt;span&gt;\( b \)&lt;/span&gt; מהטווח, אבל מכיוון שלא התחייבנו על מה התחום אין מה להוכיח פה - את התחום נגדיר בדיוק בתור&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \text{dom}f\triangleq\left\{ a\in A\ |\ \exists b\in B:\left(a,b\right)\in f\right\}  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;שנית, זה אומר שלכל &lt;span&gt;\( a \)&lt;/span&gt; מתאים רק &lt;span&gt;\( b \)&lt;/span&gt; &lt;strong&gt;יחיד&lt;/strong&gt;, אבל זה קל, כי אם &lt;span&gt;\( \left(a,b_{1}\right),\left(a,b_{2}\right)\in f \)&lt;/span&gt; אז זה אומר ש-&lt;span&gt;\( a\cong b_{1}^{&amp;lt;} \)&lt;/span&gt; וגם &lt;span&gt;\( a\cong b_{2}^{&amp;lt;} \)&lt;/span&gt; ומכאן נובע &lt;span&gt;\( b_{1}^{&amp;lt;}\cong b_{2}^{&amp;lt;} \)&lt;/span&gt; וזו סתירה אלא אם &lt;span&gt;\( b_{1}=b_{2} \)&lt;/span&gt; כי כבר הוכחנו שקבוצה לא איזומורפית לקטע התחלתי שלה.&lt;/p&gt;

&lt;p&gt;באותו אופן בדיוק מראים שאם &lt;span&gt;\( \left(a_{1},b\right),\left(a_{2},b\right)\in f \)&lt;/span&gt; אז &lt;span&gt;\( a_{1}=a_{2} \)&lt;/span&gt;, כלומר ש-&lt;span&gt;\( f \)&lt;/span&gt; חח”ע. וזה ש-&lt;span&gt;\( f \)&lt;/span&gt; היא על הוא שוב עניין של איך מגדירים, ספציפית כאן איך מגדירים את הטווח של &lt;span&gt;\( f \)&lt;/span&gt;, שפשוט נזהה עם התמונה שלה &lt;span&gt;\( \left\{ b\in B\ |\ \exists a\in A:\left(a,b\right)\in f\right\}  \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;אז בבניה שלנו ראינו כבר ש-&lt;span&gt;\( f \)&lt;/span&gt; היא פונקציה חח”ע ועל בין תת-קבוצה כלשהי של &lt;span&gt;\( A \)&lt;/span&gt; ותת-קבוצה כלשהי של &lt;span&gt;\( B \)&lt;/span&gt;. אבל מהן הקבוצות הללו? בתור התחלה אני רוצה להראות שאם איבר &lt;span&gt;\( a\in A \)&lt;/span&gt; שייך לתחום של &lt;span&gt;\( f \)&lt;/span&gt;, כך גם כל &lt;span&gt;\( a^{\prime}&amp;lt;a \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;אם &lt;span&gt;\( a\in\text{dom}f \)&lt;/span&gt; אז קיים &lt;span&gt;\( b \)&lt;/span&gt; כך ש-&lt;span&gt;\( a^{&amp;lt;}\cong b^{&amp;lt;} \)&lt;/span&gt;. בואו נסמן את האיזומורפיזם הזה ב-&lt;span&gt;\( g \)&lt;/span&gt;: &lt;span&gt;\( g:a^{&amp;lt;}\to b^{&amp;lt;} \)&lt;/span&gt;. עכשיו, בואו נסתכל על &lt;span&gt;\( \left(a^{\prime}\right)^{&amp;lt;} \)&lt;/span&gt;: זו תת-קבוצה של &lt;span&gt;\( a^{&amp;lt;} \)&lt;/span&gt; ולכן אפשר &lt;strong&gt;לצמצם&lt;/strong&gt; את האיזומורפיזם &lt;span&gt;\( g \)&lt;/span&gt; לתת-הקבוצה הזו. אם נסמן &lt;span&gt;\( b^{\prime}=g\left(a^{\prime}\right) \)&lt;/span&gt; נקבל שהצמצום הזה נותן לנו איזומורפיזם &lt;span&gt;\( \left(a^{\prime}\right)^{&amp;lt;}\cong\left(b^{\prime}\right)^{&amp;lt;} \)&lt;/span&gt; (הוא בהכרח תופס את כל האיברים ב-&lt;span&gt;\( \left(b^{\prime}\right)^{&amp;lt;} \)&lt;/span&gt; כי איבר שגדול או שווה ל-&lt;span&gt;\( a^{\prime} \)&lt;/span&gt; לא יכול לעבור למשהו שקטן מ-&lt;span&gt;\( b^{\prime} \)&lt;/span&gt;).&lt;/p&gt;

&lt;p&gt;כלומר, ראינו שאם &lt;span&gt;\( \left(a,b\right)\in f \)&lt;/span&gt; אז לכל &lt;span&gt;\( a^{\prime}&amp;lt;a \)&lt;/span&gt; קיים &lt;span&gt;\( b^{\prime}&amp;lt;b \)&lt;/span&gt; כך ש-&lt;span&gt;\( \left(a^{\prime},b^{\prime}\right)\in f \)&lt;/span&gt; (ובדומה לכל &lt;span&gt;\( b^{\prime}&amp;lt;b \)&lt;/span&gt; קיים &lt;span&gt;\( a^{\prime}&amp;lt;a \)&lt;/span&gt; מתאים). המסקנה מזה היא כפולה: ראשית, &lt;span&gt;\( f \)&lt;/span&gt; משמרת סדר. שנית, אם התחום של &lt;span&gt;\( f \)&lt;/span&gt; הוא לא כל &lt;span&gt;\( A \)&lt;/span&gt;, אז מכיוון ש-&lt;span&gt;\( A \)&lt;/span&gt; סדורה היטב אפשר להסתכל על &lt;span&gt;\( A\backslash\text{dom}f \)&lt;/span&gt; ולקבוצה הזו יהיה איבר ראשון, &lt;span&gt;\( a \)&lt;/span&gt;. לא ייתכן שיהיו איברים ב-&lt;span&gt;\( \text{dom}f \)&lt;/span&gt; שגדולים מ-&lt;span&gt;\( a \)&lt;/span&gt; אחרת מה שראינו כרגע היה מוכיח ש-&lt;span&gt;\( a\in\text{dom}f \)&lt;/span&gt;, ולכן המסקנה היא ש-&lt;span&gt;\( \text{dom}f=a^{&amp;lt;} \)&lt;/span&gt;. באותו האופן התמונה של &lt;span&gt;\( f \)&lt;/span&gt; היא או &lt;span&gt;\( B \)&lt;/span&gt; כולה או &lt;span&gt;\( b^{&amp;lt;} \)&lt;/span&gt; עבור &lt;span&gt;\( b\in B \)&lt;/span&gt; כלשהו.&lt;/p&gt;

&lt;p&gt;אז אם לסכם, הראינו ש-&lt;span&gt;\( f \)&lt;/span&gt; היא פונקציה חח”ע, על ומשמרת סדר שהתחום שלה הוא &lt;span&gt;\( A \)&lt;/span&gt; או קטע התחלתי של &lt;span&gt;\( A \)&lt;/span&gt; והטווח שלה הוא &lt;span&gt;\( B \)&lt;/span&gt; או קטע התחלתי של &lt;span&gt;\( B \)&lt;/span&gt;: זה מכסה את כל האפשרויות ומסיים את ההוכחה.&lt;/p&gt;

&lt;h2&gt;בונוס: האם כל קבוצה ניתנת לסידור טוב?&lt;/h2&gt;

&lt;p&gt;התחלנו את הפוסט עם האבחנה ש-&lt;span&gt;\( \mathbb{Z} \)&lt;/span&gt; ו-&lt;span&gt;\( \mathbb{Q} \)&lt;/span&gt; עם הסדר “הרגיל” עליהן אינן סדורות בסדר טוב, אבל אפשר איכשהו להתחכם וכן להגדיר עליהן סדרים טובים (אפילו כמה סדרים טובים שונים). האופן שבו עשיתי את זה היה מאוד &lt;strong&gt;ספציפי&lt;/strong&gt; לקבוצות הללו; השתמשתי בהתחכמויות שנעזרות במבנה שכבר קיים עליהן. אם אני אצטרך לעשות משהו דומה עם &lt;span&gt;\( \mathbb{R} \)&lt;/span&gt;, האם אוכל למצוא התחכמות דומה? ובכן, לא. &lt;strong&gt;אין לי מושג&lt;/strong&gt; איך לסדר את &lt;span&gt;\( \mathbb{R} \)&lt;/span&gt; בסדר טוב. זה תרגיל טוב לנסות ולעשות את זה בצורה קונסטרוקטיבית, כי לנסות ולהיתקע (או לא לדעת מאיפה להתחיל בכלל) בעצמכם זה יותר משכנע מאשר שאני סתם אגיד “אני לא יודע”.&lt;/p&gt;

&lt;p&gt;עדיין, כמה מסובך סדר טוב יכול להיות? מה קשה בלהגיד “ניקח איבר כלשהו של &lt;span&gt;\( \mathbb{R} \)&lt;/span&gt;, זה יהיה האיבר הראשון שלנו, עכשיו ניקח עוד איבר והוא יהיה השני וכן הלאה”? ובכן, מי מבטיח לנו שבסופו של דבר נמצה באופן הזה את &lt;strong&gt;כל&lt;/strong&gt; האיברים של &lt;span&gt;\( \mathbb{R} \)&lt;/span&gt;? הרי יש &lt;a href=&quot;https://gadial.net/2020/10/28/diagonalizations_and_infinite_sets/&quot;&gt;מספר לא בן מניה שלהם&lt;/a&gt;. אנחנו צריכים איכשהו לטפל בכל האיברים בבת אחת, וזה למרות שבניגוד לבניה של האיזומורפיזם מהחלק הקודם, כאן הבניה מאוד תלויה &lt;strong&gt;בבחירות&lt;/strong&gt; שביצענו בדרך. כאן נחלצת לעזרתנו &lt;strong&gt;אקסיומת הבחירה&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;הזכרתי את אקסיומת הבחירה &lt;a href=&quot;https://gadial.net/2020/06/20/general_cartesian_products/&quot;&gt;בפוסט על מכפלות קרטזיות כלליות&lt;/a&gt;, בואו נזכיר אותה שוב, בניסוח שהכי נוח לי כאן: אם &lt;span&gt;\( X \)&lt;/span&gt; היא משפחה של קבוצות לא ריקות (&lt;span&gt;\( A\ne\emptyset \)&lt;/span&gt; לכל &lt;span&gt;\( A\in X \)&lt;/span&gt;) אז קיימת &lt;span&gt;\( f:X\to\bigcup_{A\in X}A \)&lt;/span&gt; (“פונקציית בחירה”) כך שלכל &lt;span&gt;\( A\in X \)&lt;/span&gt; מתקיים &lt;span&gt;\( f\left(A\right)\in A \)&lt;/span&gt;. אנחנו קוראים לזה “אקסיומה” כי אי אפשר להוכיח את זה מיתר &lt;a href=&quot;https://gadial.net/2019/10/20/zf_axioms_intro/&quot;&gt;האקסיומות של צרמלו פרנקל&lt;/a&gt;; האקסיומות הללו נותנות לנו סט כלים מוגבל יחסית בשביל לבנות קבוצות, כדי למנוע סיטואציה שבה אנחנו בונים בטעות קבוצה פרדוקסלית, ופונקציות בחירה הן קבוצות מורכבות מאוד לעתים, כאלו שפשוט לא ניתן לבנות עם סט הכלים המוגבל של צרמלו-פרנקל.&lt;/p&gt;

&lt;p&gt;אם אנחנו מניחים את אקסיומת הבחירה, אז די פשוט להוכיח שכל קבוצה &lt;span&gt;\( A \)&lt;/span&gt; ניתנת לסידור בסדר טוב. ראשית, נסתכל על אוסף כל תת-הקבוצות הלא ריקות של &lt;span&gt;\( A \)&lt;/span&gt; (פורמלית, &lt;span&gt;\( X=\mathcal{P}\left(A\right)\backslash\left\{ \emptyset\right\}  \)&lt;/span&gt;) וניקח פונקציית בחירה &lt;span&gt;\( f \)&lt;/span&gt; על האוסף הזה, כלומר נניח שיש לנו פונקציה שמקבלת תת-קבוצה לא ריקה &lt;span&gt;\( B\subseteq A \)&lt;/span&gt; ומחזירה &lt;span&gt;\( f\left(B\right)=b\in B \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;סליחה, אמרתי “די פשוט”? האמת שזה לא כזה פשוט. גם עם פונקציית הבחירה לצידנו, לנסות ולחשוב מה הצעד הבא זה לא קל במיוחד. דרך אחת היא להמשיך עם הגישה של הגדרה “רקורסיבית”, באמצעות כלי שנקרא &lt;strong&gt;רקורסיה על-סופית&lt;/strong&gt;. זה בדיוק מה שעשיתי &lt;a href=&quot;https://gadial.net/2012/06/04/choice_order_zorn/&quot;&gt;בפוסט שכתבתי בעבר&lt;/a&gt; על השקילות בין משפט הסדר הטוב ואקסיומת הבחירה. שם המחיר היה לא רק שימוש ברקורסיה על-סופית אלא גם נפנוף ידיים כללי, ולכן יכול להיות נחמד להציג כאן הוכחה שתהיה פורמלית לגמרי ולא תזדקק לכל זה, אבל המחיר יהיה טיפה מאמץ שהיא תדרוש מאיתנו (אפשר גם להשתמש במשהו אחר, שנקרא “הלמה של צורן”, שהוא נפלא בפני עצמו אבל לדבר עליו יצריך אותי להכניס עוד סט חדש של מושגים שאני לא צריך כאן, במחיר של זה שההוכחה תהיה דומה מאוד לשימוש בלמה של צורן).&lt;/p&gt;

&lt;p&gt;הנה ההגדרה המרכזית שנזדקק לה: נאמר שלקבוצה &lt;span&gt;\( B\subseteq A \)&lt;/span&gt; יש את “תכונה X” אם &lt;strong&gt;קיים&lt;/strong&gt; סדר טוב של &lt;span&gt;\( B \)&lt;/span&gt; כך שלכל &lt;span&gt;\( b\in B \)&lt;/span&gt; מתקיים &lt;span&gt;\( f\left(A\backslash b^{&amp;lt;}\right) \)&lt;/span&gt;. במילים אחרות, אם &lt;span&gt;\( f \)&lt;/span&gt; מגדירה לנו סדר טוב על &lt;span&gt;\( B \)&lt;/span&gt; בצורה הנחמדה שאנחנו מצפים לה: בהינתן כל האיברים שסידרנו עד כה, נבקש מ-&lt;span&gt;\( f \)&lt;/span&gt; “תני לנו איבר מ-&lt;span&gt;\( A \)&lt;/span&gt; שטרם סידרנו”, היא תחזיר לנו את &lt;span&gt;\( b \)&lt;/span&gt; והוא יהיה האיבר הבא בסדר (ולכן קבוצת האיברים שסידרנו עד שהגענו אל &lt;span&gt;\( b \)&lt;/span&gt; היא בדיוק &lt;span&gt;\( b^{&amp;lt;} \)&lt;/span&gt;). שימו לב שזו לא הגדרה “תהליכית” כך שאנחנו לא צריכים לדבר על רקורסיות על סופיות ושאר ירקות, אבל מצד שני אם נוכיח של-&lt;span&gt;\( A \)&lt;/span&gt; עצמה יש את תכונה X, ניצחנו.&lt;/p&gt;

&lt;p&gt;האם בכלל יש קבוצות שמקיימות את תכונה X? ובכן, &lt;span&gt;\( \emptyset \)&lt;/span&gt; מקיימת אותה באופן ריק, פשוט כי תכונה X מנוסחת בתור “לכל &lt;span&gt;\( b\in B \)&lt;/span&gt;…” וב-&lt;span&gt;\( \emptyset \)&lt;/span&gt; אין איברים ואפשר “לסדר אותה בסדר טוב” ריק.&lt;/p&gt;

&lt;p&gt;בנוסף, לכל קבוצה &lt;span&gt;\( B\subset A \)&lt;/span&gt; ששונה מ-&lt;span&gt;\( A \)&lt;/span&gt; ומקיימת את תכונה X, אפשר להרחיב אותה באופן טבעי כך שתמשיך לקיים את תכונה X: נבנה את &lt;span&gt;\( B\cup\left\{ f\left(A\backslash B\right)\right\}  \)&lt;/span&gt;, כלומר, נבקש את האיבר “הבא בתור” מ-&lt;span&gt;\( f \)&lt;/span&gt;, ונרחיב את הסדר הטוב על &lt;span&gt;\( B \)&lt;/span&gt; כך שהאיבר הזה יהיה האחרון.&lt;/p&gt;

&lt;p&gt;שני אלו מראים לנו שיש כנראה כמות יפה של קבוצות שמקיימות את תכונה X, אז אפשר לעשות תעלול סטנדרטי ולהסתכל על &lt;strong&gt;האיחוד&lt;/strong&gt; שלהן, שאסמן בתור &lt;span&gt;\( C\subseteq A \)&lt;/span&gt;. אם גם &lt;span&gt;\( C \)&lt;/span&gt; מקיימת את תכונה X, ניצחנו; ינבע מכך ש-&lt;span&gt;\( C=A \)&lt;/span&gt;. למה? כי אם &lt;span&gt;\( C\ne A \)&lt;/span&gt; אז אפשר &lt;strong&gt;להרחיב&lt;/strong&gt; אותה כפי שראינו קודם ולקבל קבוצה שמכילה ממש את &lt;span&gt;\( C \)&lt;/span&gt; אבל &lt;strong&gt;השתתפה באיחוד &lt;/strong&gt;שנתן את &lt;span&gt;\( C \)&lt;/span&gt; מלכתחילה, וזו כמובן סתירה.&lt;/p&gt;

&lt;p&gt;אז האתגר שלנו הוא להסתכל על איחוד של קבוצות שמקיימות את תכונה X ולהראות שגם הוא מקיים את תכונה X (מי שמכירות את הלמה של צורן כנראה ממלמלות עכשיו “כל זה נשמע מוכר באופן חשוד” או משהו).&lt;/p&gt;

&lt;p&gt;מה שאני ארצה להראות הוא שאין לקבוצות הרבה גמישות בבואן לקיים את תכונה X; הפונקציה &lt;span&gt;\( f \)&lt;/span&gt; מכריחה באופן די קשוח כל קבוצה כזו להשתמש בסדר טוב ספציפי. בניסוח קונקרטי, אם &lt;span&gt;\( B_{1},B_{2}\subseteq A \)&lt;/span&gt; הן שתי קבוצות סדורות בסדר טוב שמקיימות את תכונה X ביחס לסדר הטוב הזה, כך ש-&lt;span&gt;\( B_{1}\cong B_{2} \)&lt;/span&gt;, אז &lt;span&gt;\( B_{1}=B_{2} \)&lt;/span&gt; והאיזומורפיזם שלהן הוא הזהות. כלומר, אין כזה דבר, שני סדרים טובים שונים (בין אם על אותה קבוצה ובין אם על קבוצות אחרות) שמאפשרים לקבוצה לקיים את תכונה X.&lt;/p&gt;

&lt;p&gt;ההוכחה די פשוטה: ניקח את האיזומורפיזם &lt;span&gt;\( g:B_{1}\to B_{2} \)&lt;/span&gt; ונניח שהוא לא פונקציית הזהות, אז יהא &lt;span&gt;\( b\in B_{1} \)&lt;/span&gt; האיבר הראשון מבין אלו שמקיימים &lt;span&gt;\( b\ne g\left(b\right) \)&lt;/span&gt;. המשמעות היא ש-&lt;span&gt;\( b^{&amp;lt;}=g\left(b\right)^{&amp;lt;} \)&lt;/span&gt; (כי כל האיברים שקטנים מ-&lt;span&gt;\( b \)&lt;/span&gt; עוברים לעצמם בגלל המינימליות של &lt;span&gt;\( b \)&lt;/span&gt;).&lt;/p&gt;

&lt;p&gt;עכשיו, מכיוון ש-&lt;span&gt;\( B_{1},B_{2} \)&lt;/span&gt; מקיימות את תכונת X, המשמעות של זה היא ש-&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( b=f\left(B_{1}\backslash b^{&amp;lt;}\right)=f\left(B_{1}\backslash g\left(b\right)^{&amp;lt;}\right)=g\left(b\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;וזו סתירה להנחה ש-&lt;span&gt;\( b\ne g\left(b\right) \)&lt;/span&gt;, אז קיבלנו ש-&lt;span&gt;\( g \)&lt;/span&gt; היא אכן הזהות.&lt;/p&gt;

&lt;p&gt;מה אפשר להסיק מכך? קחו שתי קבוצות &lt;span&gt;\( B_{1},B_{2}\subseteq A \)&lt;/span&gt; כלשהן שמקיימות את תכונה X. שתיהן סדורות בסדר טוב כלשהו; המשפט המרכזי שהצגנו קודם אומר שהן או איזומורפיות, או שאחת מהן איזומורפית לקטע התחלתי של השניה. אבל כפי שראינו, בסיטואציה הספציפית שלנו עם תכונה X, אין “איזומורפיזם”. יש רק שוויון. או ש-&lt;span&gt;\( B_{1}=B_{2} \)&lt;/span&gt;, או שאחת מהן היא קטע התחלתי של השניה. במילים אחרות, כל הקבוצות הללו סדורות &lt;strong&gt;באותו סדר טוב&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;עכשיו, מה זה סדר טוב? בסופו של דבר זה יחס - קבוצה של זוגות. אם ניקח מכל קבוצה עם תכונה X את הסדר הטוב שלה ונאחד את כל הסדרים הטובים הללו, התוצאה תהיה סדר טוב על איחוד כל הקבוצות הללו, &lt;span&gt;\( C \)&lt;/span&gt;. כדי לראות שהסדר הזה מקיים את תכונה X, פשוט ניקח &lt;span&gt;\( c\in C \)&lt;/span&gt; כלשהו; הוא שייך לאחת מקבוצות ה-X שבאיחוד, והקבוצה הזו כבר מראה שהוא מקיים &lt;span&gt;\( c=f\left(A\backslash c^{&amp;lt;}\right) \)&lt;/span&gt;. סיימנו!&lt;/p&gt;

&lt;h2&gt;מה הלאה?&lt;/h2&gt;

&lt;p&gt;בכל הדיון שלנו על קבוצות סדורות היטב חזר שוב ושוב עניין ה”איזומורפיזם” שלהן. במקום שבו יש לי איזומורפיזמים, עולה השאלה האם יש לי אובייקטים “קנוניים” שיכולים לייצג לי את המחלקות השונות של אובייקטים איזומורפיים. אם הולכים בגישה הזו מגיעים חיש קל אל מה שנקרא &lt;strong&gt;סודרים&lt;/strong&gt;, שהוא המושג הבא שנדבר עליו.&lt;/p&gt;</content><author><name></name></author><category term="קבוצות סדורות היטב" /><summary type="html">מבוא</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://gadial.net/assets/img/main/default-card.png" /></entry><entry><title type="html">טומוגרפיה קוונטית: איך מגלים מה כבר יש לנו?</title><link href="http://gadial.net/2022/10/12/quantum_state_tomography/" rel="alternate" type="text/html" title="טומוגרפיה קוונטית: איך מגלים מה כבר יש לנו?" /><published>2022-10-12T00:00:00+00:00</published><updated>2022-10-12T00:00:00+00:00</updated><id>http://gadial.net/2022/10/12/quantum_state_tomography</id><content type="html" xml:base="http://gadial.net/2022/10/12/quantum_state_tomography/">&lt;p&gt;&lt;a href=&quot;https://gadial.net/2022/10/09/density_matrices/&quot;&gt;בפוסט הקודם שלי&lt;/a&gt; הצגתי את מה שקראתי לו “פורמליזם מטריצת הצפיפות” ולפני שאני ממשיך לדבר עליו - ספציפית, על השינויים שהוא יכול לעבור - אני רוצה לעצור ולהציג נושא שישתמש באופן ישיר בפורמליזם הזה והוא די מגניב בזכות עצמו: טומוגרפיית מצבים קוונטית (Quantum State Tomography).&lt;/p&gt;

&lt;p&gt;דבר אחד שאני מקווה שהדגשתי בסדרת הפוסטים עד כה הוא שמדידה של מצב קוונטי &lt;strong&gt;הורסת&lt;/strong&gt; את המצב הקוונטי. משמידה אותו. חורבן. הרס. אם הייתי במצב &lt;span&gt;\( \left|+\right\rangle  \)&lt;/span&gt; ומדדתי מדידה “רגילה”, בבסיס &lt;span&gt;\( Z \)&lt;/span&gt; (כלומר, מדידה שמתאימה לאיברים &lt;span&gt;\( \left\{ \left|0\right\rangle ,\left|1\right\rangle \right\}  \)&lt;/span&gt;), אז זהו, אני כבר לא ב-&lt;span&gt;\( \left|+\right\rangle  \)&lt;/span&gt;. אני או ב-&lt;span&gt;\( \left|0\right\rangle  \)&lt;/span&gt; או ב-&lt;span&gt;\( \left|1\right\rangle  \)&lt;/span&gt;. אם הייתי במצב כללי &lt;span&gt;\( \alpha\left|0\right\rangle +\beta\left|1\right\rangle  \)&lt;/span&gt; ומדדתי בבסיס &lt;span&gt;\( Z \)&lt;/span&gt; , אז זהו. אני או ב-&lt;span&gt;\( \left|0\right\rangle  \)&lt;/span&gt; או ב-&lt;span&gt;\( \left|1\right\rangle  \)&lt;/span&gt; וזהו. המקדמים &lt;span&gt;\( \alpha,\beta \)&lt;/span&gt; נעלמו ואינם עוד.&lt;/p&gt;

&lt;p&gt;גרוע מכך - מדידה אחת פשוט &lt;strong&gt;לא יכולה&lt;/strong&gt; ללמד אותי מהם &lt;span&gt;\( \alpha,\beta \)&lt;/span&gt;. אם קיבלתי &lt;span&gt;\( \left|0\right\rangle  \)&lt;/span&gt; אני יכול לדעת ש-&lt;span&gt;\( \alpha\ne0 \)&lt;/span&gt; אבל לא יותר מכך. באלגוריתמים הקוונטיים שהצגתי עד כה, כולל האלגוריתם של שור, לא התעניינו בערכים של האמפליטודות; רק ניסינו לבצע עליהם מניפולציות כדי להבטיח שבהסתברות גבוהה התוצאה הסופית תהיה כזו שעוזרת לנו.&lt;/p&gt;

&lt;p&gt;אבל העניין הוא… שקצת שיקרתי. בהחלט &lt;strong&gt;אפשר&lt;/strong&gt; לחשב את ה-&lt;span&gt;\( \alpha,\beta \)&lt;/span&gt; הללו מתוך המצב הקוונטי, וזאת בתנאי שיש לנו &lt;strong&gt;מספר עותקים שלו&lt;/strong&gt;. כמה עותקים בדיוק - את זה נראה בקרוב. עכשיו, אפשר לטעון ובצדק שאי אפשר לשכפל מצב קוונטי (יש משפט כזה! No Cloning Theorem!) ולכן אני לא יכול סתם לקחת מצב קוונטי, לשכפל אותו ואז להשתמש בשיטה הקסומה שאני הולך להציג פה. זה נכון לגמרי; אבל אם המצב הקוונטי נוצר כתוצאה של תהליך מסוים, אני יכול לחזור על התהליך הזה שוב ושוב ולקבל את אותו מצב שוב ושוב. זה מה שהרצה פרקטית של אלגוריתם במחשב קוונטי עושה גם ככה: מריצה את אותו אלגוריתם מספר פעמים גדול (נאמר, 1,000?) על המחשב ויוצרת סטטיסטיקה של תוצאות.&lt;/p&gt;

&lt;p&gt;כמובן, אפשר לשאול ובצדק - אם אנחנו אלו שמייצרים את המצב, האם זה לא אומר שאנחנו יודעים לאיזה מצב הגענו? ובכן, &lt;strong&gt;לא!&lt;/strong&gt; משתי סיבות. ראשית, כי אני לא מניח שאנחנו יודעים לחשב מה המצב גם אם יש לנו מעגל קונקרטי שמייצר אותו - אולי החישוב המלא של מה שהמעגל עושה הוא מסובך? אולי יש בתוך המעגל אלמנטים שאנחנו יכולים לשלוט עליהם אבל אנחנו לא יודעים מה הם בדיוק עושים? ושנית, באופן די דומה למה שכבר אמרתי, במעגלים קוונטיים יש בעיה של &lt;strong&gt;רעשים&lt;/strong&gt; והתנהגויות לא צפויות. ייתכן שאנחנו &lt;strong&gt;חושבים&lt;/strong&gt;~שאנחנו מייצרים את &lt;span&gt;\( \left|+\right\rangle  \)&lt;/span&gt; אבל עקב שגיאות במימוש של המחשב הקוונטי אנחנו תמיד מקבלים את &lt;span&gt;\( \left|-\right\rangle  \)&lt;/span&gt; - זה &lt;strong&gt;בהחלט&lt;/strong&gt; משהו שהיינו רוצים להיות מסוגלים לזהות. בפועל, זה אכן שימוש מרכזי של טומוגרפיה קוונטית - בדיקה שהמחשב אכן מתנהג כפי שאנו מצפים שיתנהג, והערכה של רמת הרעש שיש בו.&lt;/p&gt;

&lt;p&gt;אם כן, הבה ונאמר שיש לנו מצב קוונטי ואנחנו מסוגלים לשחזר שוב ושוב במדויק את התהליך שיוצר אותו. ואנחנו מודדים אותו 1,000 פעם בבסיס &lt;span&gt;\( Z \)&lt;/span&gt; ומקבלים 483 פעם “0” ו-517 פעם “1”. מה זה אומר על המצב שבו אני נמצא? אם אני ב-&lt;span&gt;\( \left|+\right\rangle =\frac{\left|0\right\rangle +\left|1\right\rangle }{\sqrt{2}} \)&lt;/span&gt; ומודד 1,000 פעמים בהחלט ייתכן שאקבל את התפלגות התוצאות הזו, אבל גם אם אני במצב &lt;span&gt;\( \sqrt{\frac{483}{1000}}\left|0\right\rangle +\sqrt{\frac{517}{1000}}\left|1\right\rangle  \)&lt;/span&gt; זה ייתכן. כלומר, יש לנו בעיה כבר עם עצם זה שלחזור שוב ושוב על אותו ניסוי ולספור תוצאות לא נותן לנו את ההסתברויות שהובילו אליהן. אבל זו אפילו לא הבעיה המרכזית לבינתיים!&lt;/p&gt;

&lt;p&gt;אז בואו נניח לצורך הדיון שאיכשהו המדידות שלי מושלמות ואני מצליח לגלות בצורה מדויקת את ההסתברויות לכל התוצאות, כלומר אם המצב שלי הוא &lt;span&gt;\( \left|+\right\rangle  \)&lt;/span&gt; אני מקבל את וקטור ההסתברויות &lt;span&gt;\( \overline{p}=\left(\begin{array}{c} 0.5\\ 0.5 \end{array}\right) \)&lt;/span&gt;. מה הבעיה כאן? שגם אם המצב שלי הוא &lt;span&gt;\( \left|-\right\rangle  \)&lt;/span&gt; אני אקבל את &lt;strong&gt;אותו וקטור הסתברויות בדיוק&lt;/strong&gt;. מדידה בבסיס &lt;span&gt;\( Z \)&lt;/span&gt; פשוט &lt;strong&gt;לא מסוגלת&lt;/strong&gt; להבדיל בין שני המצבים הללו. אני אקבל את אותה סטטיסטיקה בדיוק. אז מה עושים?&lt;/p&gt;

&lt;p&gt;למרבה המזל, יש עוד מדידות בעולם חוץ ממדידה בבסיס &lt;span&gt;\( Z \)&lt;/span&gt;. למשל, מדידה בבסיס &lt;span&gt;\( X \)&lt;/span&gt;, שאבריה הם &lt;span&gt;\( \left\{ \left|+\right\rangle ,\left|-\right\rangle \right\}  \)&lt;/span&gt;. מדידה כזו בוודאי יכולה להפריד בין &lt;span&gt;\( \left|+\right\rangle  \)&lt;/span&gt; (שיחזיר וקטור הסתברויות &lt;span&gt;\( \left(\begin{array}{c} 1\\ 0 \end{array}\right) \)&lt;/span&gt;) ובין &lt;span&gt;\( \left|-\right\rangle  \)&lt;/span&gt; (שיחזיר וקטור הסתברויות &lt;span&gt;\( \left(\begin{array}{c} 0\\ 1 \end{array}\right) \)&lt;/span&gt;). אלא מה? מדידה בבסיס &lt;span&gt;\( X \)&lt;/span&gt; לא מסוגלת להבדיל בין &lt;span&gt;\( \left|0\right\rangle ,\left|1\right\rangle  \)&lt;/span&gt; ששניהם מחזירים &lt;span&gt;\( \overline{p}=\left(\begin{array}{c} 0.5\\ 0.5 \end{array}\right) \)&lt;/span&gt; - אותה בעיה כמו קודם.&lt;/p&gt;

&lt;p&gt;האם צריך להתייאש? בוודאי שלא! המסקנה צריכה להיות חיובית - אולי בסיס מדידה אחד הוא לא הפתרון, אבל שילוב של מידע מכמה מדידות שונות יאפשר לשחזר את המצב בודאות. מכאן מגיע השם של השיטה שאציג - &lt;strong&gt;טומוגרפיה קוונטית&lt;/strong&gt;. בעולם האמיתי, “טומוגרפיה” הוא שם של טכניקה בתחומים רבים ושונים שמאפשרת לשחזר מידע על אובייקט מורכב (חומרים, איברים בגוף וכו’) על ידי מדידה של “חתכים” שלו. כאן צריך לחשוב על מדידה בבסיס ספציפי (שנותנת הסתברויות) בתור “חתך” שכזה. אבל כמה חתכים צריך? כמה מידע צריך לשחזר?&lt;/p&gt;

&lt;p&gt;בואו נסבך קצת יותר את הסיטואציה. מה אם התהליך שמייצר את המצב הקוונטי שלנו איננו דטרמיניסטי, למרות שהוא בעל חוקיות ברורה? למשל: התהליך קודם מייצר את המצב &lt;span&gt;\( \left|+\right\rangle  \)&lt;/span&gt;, ואז התהליך עצמו מודד אותו בבסיס &lt;span&gt;\( Z \)&lt;/span&gt; וכמובן שלא מספר לנו מה התוצאה. זה אומר שהמצב הקוונטי שאנחנו מנסים לבצע לו טומוגרפיה הוא &lt;span&gt;\( \left|0\right\rangle  \)&lt;/span&gt; בהסתברות &lt;span&gt;\( \frac{1}{2} \)&lt;/span&gt; ו-&lt;span&gt;\( \left|1\right\rangle  \)&lt;/span&gt; בהסתברות &lt;span&gt;\( \frac{1}{2} \)&lt;/span&gt;. מדידה בבסיס &lt;span&gt;\( Z \)&lt;/span&gt; תיתן לנו את וקטור ההסתברויות &lt;span&gt;\( \left(\begin{array}{c} 0.5\\ 0.5 \end{array}\right) \)&lt;/span&gt; וגם מדידה בבסיס &lt;span&gt;\( X \)&lt;/span&gt; תיתן לנו את אותו וקטור הסתברויות - סיטואציה שונה מאלו שראינו קודם, שממחישה שכשאנחנו משחזרים מצב, אנחנו לא רוצים לשחזר &lt;strong&gt;וקטור&lt;/strong&gt; אלא &lt;strong&gt;מטריצה&lt;/strong&gt; - את מטריצת הצפיפות שמתארת את המצב. כלומר, אם אנחנו מתעסקים עם מצב של קיוביט יחיד, אנחנו רוצים לשחזר מטריצה &lt;span&gt;\( \rho=\left(\begin{array}{cc} \alpha &amp;amp; \beta\\ \gamma &amp;amp; \delta \end{array}\right) \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;עכשיו, כשדיברנו על מטריצות צפיפות ראינו ש-&lt;span&gt;\( \text{tr}\rho=1 \)&lt;/span&gt;, כלומר &lt;span&gt;\( \alpha+\delta=1 \)&lt;/span&gt;, מה שאומר שאפשר להסיק את &lt;span&gt;\( \delta \)&lt;/span&gt; מתוך &lt;span&gt;\( \alpha \)&lt;/span&gt;. נשארו לנו שלושה פרמטרים שצריך להסיק - שלוש “דרגות חופש” של המטריצה. האינטואיציה שלנו מאלגברה לינארית אולי אומרת לנו שצריך, אם כן, מערכת של שלוש משוואות לינאריות שמערבת את &lt;span&gt;\( \rho \)&lt;/span&gt; איכשהו, וזה במקרה הממוזל שבכלל אפשר להסיק את &lt;span&gt;\( \rho \)&lt;/span&gt; ממערכת משוואות לינארית שכזו. זה מה שיפה כאן - בתנאים האידאליים שלנו (שבהם וקטורי ההסתברויות נתונים לנו במדויק) זה אכן כל מה שצריך, פתרון של מערכת משוואות לינארית. אבל איזו?&lt;/p&gt;

&lt;p&gt;כזכור מהפוסט הקודם על מטריצות צפיפות, אם אני במצב &lt;span&gt;\( \rho \)&lt;/span&gt; ואני מודד אותו עם קבוצת אופרטורי מדידה כלשהי, אז ההסתברות ש-&lt;span&gt;\( M_{i} \)&lt;/span&gt; יעלה בגורל היא &lt;span&gt;\( p\left(i\right)=\text{tr}\left(M_{i}^{\dagger}M_{i}\rho\right) \)&lt;/span&gt;. זו אחלה משוואה בזכות עצמה, אבל אם רוצים לפשט אותה קצת, אפשר לעבור שוב ללשון של וקטורים. על מטריצה &lt;span&gt;\( A \)&lt;/span&gt; מסדר &lt;span&gt;\( n\times m \)&lt;/span&gt; קל מאוד לחשוב בתור וקטור מאורך &lt;span&gt;\( n\cdot m \)&lt;/span&gt;: נאמר, וקטור שמכיל קודם כל את אברי &lt;strong&gt;השורה הראשונה&lt;/strong&gt; של &lt;span&gt;\( A \)&lt;/span&gt;, ואז השורה השניה וכן הלאה; או &lt;strong&gt;העמודה הראשונה&lt;/strong&gt; של &lt;span&gt;\( A \)&lt;/span&gt; ואז העמודה השניה וכן הלאה. אני אלך לפי הקונבנציה שלוקחים את &lt;strong&gt;השורות&lt;/strong&gt; בזו אחר זו, אבל שתי הגישות נפוצות ואין עדיפות עקרונית לאחת מהן.&lt;/p&gt;

&lt;p&gt;אם כן, אם אם &lt;span&gt;\( A \)&lt;/span&gt; היא מטריצה מסדר &lt;span&gt;\( n\times m \)&lt;/span&gt;, אני אסמן ב-&lt;span&gt;\( \left|\left.A\right\rangle \right\rangle  \)&lt;/span&gt; את וקטור &lt;strong&gt;העמודה&lt;/strong&gt; מאורך &lt;span&gt;\( n\cdot m \)&lt;/span&gt; שאבריו לפי הסדר הם &lt;span&gt;\( a_{11},\ldots,a_{1m},a_{21},\ldots,a_{nm} \)&lt;/span&gt;. הנה דוגמא קונקרטית עבור מטריצת &lt;span&gt;\( 2\times3 \)&lt;/span&gt;:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( A=\left(\begin{array}{ccc} a_{11} &amp;amp; a_{12} &amp;amp; a_{13}\\ a_{21} &amp;amp; a_{22} &amp;amp; a_{23} \end{array}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;במקרה הזה נקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|\left.A\right\rangle \right\rangle =\left(\begin{array}{cccccc} a_{11} &amp;amp; a_{12} &amp;amp; a_{13} &amp;amp; a_{21} &amp;amp; a_{22} &amp;amp; a_{23}\end{array}\right)^{T} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו, כמו שהגדרתי בשעתו &lt;span&gt;\( \left\langle \psi\right|=\left(\left|\psi\right\rangle \right)^{\dagger} \)&lt;/span&gt; אני יכול להגדיר גם &lt;span&gt;\( \left\langle \left\langle A\right.\right|=\left(\left|\left.A\right\rangle \right\rangle \right)^{\dagger} \)&lt;/span&gt;, ואז אני מקבל את השוויון היפה&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left\langle \left\langle A\right.\right|\left|\left.B\right\rangle \right\rangle =\text{tr}\left(A^{\dagger}B\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;קל לבדוק שזה אכן מתקיים:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \text{tr}\left(A^{\dagger}B\right)=\sum_{k=1}^{m}\left[A^{\dagger}B\right]_{kk}=\sum_{k=1}^{m}\sum_{i=1}^{n}\left[A^{\dagger}\right]_{ki}\left[B\right]_{ik}= \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( =\sum_{k=1}^{m}\sum_{i=1}^{n}\overline{\left[A\right]_{ik}}\left[B\right]_{ik}=\left\langle \left\langle A\right.\right|\left|\left.B\right\rangle \right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;שימו לב שהמעבר האחרון לא כל כך מתעניין בשאלה אם האופן שבו &lt;span&gt;\( A,B \)&lt;/span&gt; הפכו לוקטור היה לפי שורות, עמודות, או כל סדר אחר; לכן הבחירה שלי ללכת על פי שורות היא קונבנציה ולא משהו קריטי.&lt;/p&gt;

&lt;p&gt;אגב, לא נכנסתי לפרטים הללו כאן, אבל &lt;span&gt;\( \text{tr}\left(A^{\dagger}B\right) \)&lt;/span&gt; מגדיר לנו &lt;strong&gt;מכפלה פנימית&lt;/strong&gt; על המרחב הוקטורי של המטריצות מהסדר המתאים; זו לא פעולה אקראית שצצה משום מקום. בהקשר שלנו, &lt;span&gt;\( \text{tr}\left(M_{i}^{\dagger}M_{i}\rho\right) \)&lt;/span&gt; זה הערך שמעניין אותנו, ואנחנו יכולים לנצל את זה ש-&lt;span&gt;\( \left(M_{i}^{\dagger}M_{i}\right)^{\dagger}=M_{i}^{\dagger}M_{i} \)&lt;/span&gt; כדי לכתוב&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( p\left(i\right)=\left\langle \left\langle M_{i}^{\dagger}M_{i}\right.\right|\left|\left.\rho\right\rangle \right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;למעשה, כדי לפשט עניינים, נוח לסמן &lt;span&gt;\( E_{i}=M_{i}^{\dagger}M_{i} \)&lt;/span&gt; ולעבור לתאר מדידות עם ה-&lt;span&gt;\( E_{i} \)&lt;/span&gt;-ים הללו, שמקיימים &lt;span&gt;\( \sum E_{i}=I \)&lt;/span&gt; וכל &lt;span&gt;\( E_{i} \)&lt;/span&gt; הוא מטריצה חיובית (במובן שתיארתי בפוסט הקודם: &lt;span&gt;\( \left\langle \psi\right|E_{i}\left|\psi\right\rangle &amp;gt;0 \)&lt;/span&gt; לכל &lt;span&gt;\( \left|\psi\right\rangle \ne0 \)&lt;/span&gt;). אפשר לעשות את ההפך, &lt;strong&gt;להתחיל&lt;/strong&gt; מסט של אופרטורים שמקיימים את שתי התכונות הללו ולהסיק ממנו &lt;span&gt;\( M_{i} \)&lt;/span&gt;-ים שנותנים לנו מדידה; הפורמליזם שבו עובדים עם ה-&lt;span&gt;\( E_{i} \)&lt;/span&gt;-ים נקרא פורמליזם ה-POVM (ראשי תיבות של Positive Operator Valued Measurements), אבל אני לא נכנס לעובי הקורה הזה.&lt;/p&gt;

&lt;p&gt;סיכום ביניים: אם יש לי מדידה עם אופרטור מתאים &lt;span&gt;\( E_{i} \)&lt;/span&gt;, אני מקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( p\left(i\right)=\left\langle \left\langle E_{i}\right.\right|\left|\left.\rho\right\rangle \right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;את הפעולה הזו אפשר לתאר בתור כפל של השורה &lt;span&gt;\( \left\langle \left\langle E_{i}\right.\right| \)&lt;/span&gt; בעמודה &lt;span&gt;\( \left|\left.\rho\right\rangle \right\rangle  \)&lt;/span&gt;, והיא מתאימה לתוצאה אפשרית &lt;strong&gt;אחת &lt;/strong&gt;של מדידה אפשרית &lt;strong&gt;אחת&lt;/strong&gt; של &lt;span&gt;\( \rho \)&lt;/span&gt;. אני יכול לאסוף בצורה הזו הרבה שורות, שמתאימות למדידות שונות, ולקבל מטריצה &lt;span&gt;\( M \)&lt;/span&gt;, ואז יש לי את מערכת המשוואות&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( M\left|\left.\rho\right\rangle \right\rangle =\vec{p} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כאשר &lt;span&gt;\( \vec{p} \)&lt;/span&gt; הוא וקטור ההסתברויות: וקטור של סקלרים, שבו הכניסה ה-&lt;span&gt;\( i \)&lt;/span&gt; מתאימה למדידה על פי האופרטור שרשום בשורה ה-&lt;span&gt;\( i \)&lt;/span&gt; של &lt;span&gt;\( M \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;כל זה מתוסבך נורא, אז בואו נראה דוגמא קונקרטית עבור המקרה של קיוביט בודד. כבר דיברתי על מדידה של קיוביט בבסיסים &lt;span&gt;\( Z,X \)&lt;/span&gt; שנגזרים מאופרטורי פאולי &lt;span&gt;\( X,Z \)&lt;/span&gt;; אני אזכיר איך בדיוק הם נגזרים, ואעשה את אותו דבר בדיוק גם עבור &lt;span&gt;\( Y \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;נתחיל עם &lt;span&gt;\( X=\left(\begin{array}{cc} 0 &amp;amp; 1\\ 1 &amp;amp; 0 \end{array}\right) \)&lt;/span&gt;. הרעיון הוא שבגלל שזה אופרטור הרמיטי, קיים לו &lt;strong&gt;פירוק ספקטרלי&lt;/strong&gt;, כלומר שאפשר לכתוב &lt;span&gt;\( X=\sum\lambda P_{\lambda}^{X} \)&lt;/span&gt;: צירוף לינארי שהמקדמים &lt;span&gt;\( \lambda \)&lt;/span&gt; שלו הם הערכים העצמיים השונים של &lt;span&gt;\( X \)&lt;/span&gt; ו-&lt;span&gt;\( P_{\lambda}^{X} \)&lt;/span&gt; הוא אופרטור ההטלה למרחב העצמי שמתאים ל-&lt;span&gt;\( \lambda \)&lt;/span&gt;. עבור &lt;span&gt;\( X \)&lt;/span&gt; (וגם עבור &lt;span&gt;\( Y,Z \)&lt;/span&gt;) הערכים העצמיים הם &lt;span&gt;\( \pm1 \)&lt;/span&gt; ולכן מקבלים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( X=1\cdot P_{1}^{X}+\left(-1\right)\cdot P_{-1}^{X} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;בדיקה זריזה מעלה ש-&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( P_{1}^{X}=\frac{1}{2}\left(\begin{array}{cc} 1 &amp;amp; 1\\ 1 &amp;amp; 1 \end{array}\right),P_{-1}^{X}=\frac{1}{2}\left(\begin{array}{cc} 1 &amp;amp; -1\\ -1 &amp;amp; 1 \end{array}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עבור &lt;span&gt;\( Y=\left(\begin{array}{cc} 0 &amp;amp; -i\\ i &amp;amp; 0 \end{array}\right) \)&lt;/span&gt; נקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( P_{1}^{Y}=\frac{1}{2}\left(\begin{array}{cc} 1 &amp;amp; -i\\ i &amp;amp; 1 \end{array}\right),P_{-1}^{Y}=\frac{1}{2}\left(\begin{array}{cc} 1 &amp;amp; i\\ -i &amp;amp; 1 \end{array}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ועבור &lt;span&gt;\( Z=\left(\begin{array}{cc} 1 &amp;amp; 0\\ 0 &amp;amp; -1 \end{array}\right) \)&lt;/span&gt; נקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( P_{1}^{Z}=\left(\begin{array}{cc} 1 &amp;amp; 0\\ 0 &amp;amp; 0 \end{array}\right),P_{-1}^{Z}=\left(\begin{array}{cc} 0 &amp;amp; 0\\ 0 &amp;amp; 1 \end{array}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ה-&lt;span&gt;\( P \)&lt;/span&gt;-ים הללו הם ה-&lt;span&gt;\( M_{i} \)&lt;/span&gt;-ים בשיטת הכתיב הקודמת שלי, כך שאנחנו רוצים לקבל מהם את &lt;span&gt;\( E_{i}=M_{i}^{\dagger}M_{i} \)&lt;/span&gt;, אבל מכיוון שאלו אופרטורים הרמיטיים (כלומר &lt;span&gt;\( M_{i}^{\dagger}=M_{i} \)&lt;/span&gt;) והטלות (כלומר &lt;span&gt;\( M_{i}^{2}=M_{i} \)&lt;/span&gt;) נקבל בדיוק את אותם אופרטורים. אז כדי לבנות את המטריצה &lt;span&gt;\( M \)&lt;/span&gt; שדיברתי עליה צריך לעשות שני דברים: לפרוש אותם לשורה אחת ארוכה כל אחד, ולהצמיד את האיברים (כי כזכור, &lt;span&gt;\( \left\langle \left\langle E_{i}\right.\right| \)&lt;/span&gt; מסמל את &lt;span&gt;\( \left(\left|\left.E_{i}\right\rangle \right\rangle \right)^{\dagger} \)&lt;/span&gt;). לכן &lt;span&gt;\( P_{1}^{Y} \)&lt;/span&gt; יהפוך אל &lt;span&gt;\( \left(\begin{array}{cccc} \frac{1}{2} &amp;amp; -\frac{i}{2} &amp;amp; \frac{i}{2} &amp;amp; \frac{1}{2}\end{array}\right) \)&lt;/span&gt; אחרי השיטוח ואל &lt;span&gt;\( \left(\begin{array}{cccc} \frac{1}{2} &amp;amp; \frac{i}{2} &amp;amp; -\frac{i}{2} &amp;amp; \frac{1}{2}\end{array}\right) \)&lt;/span&gt; אחרי ההצמדה. בסך הכל נקבל את המטריצה&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( M=\left(\begin{array}{cccc} \frac{1}{2} &amp;amp; \frac{1}{2} &amp;amp; \frac{1}{2} &amp;amp; \frac{1}{2}\\ \frac{1}{2} &amp;amp; -\frac{1}{2} &amp;amp; -\frac{1}{2} &amp;amp; \frac{1}{2}\\ \frac{1}{2} &amp;amp; \frac{i}{2} &amp;amp; -\frac{i}{2} &amp;amp; \frac{1}{2}\\ \frac{1}{2} &amp;amp; -\frac{i}{2} &amp;amp; \frac{i}{2} &amp;amp; \frac{1}{2}\\ 1 &amp;amp; 0 &amp;amp; 0 &amp;amp; 0\\ 0 &amp;amp; 0 &amp;amp; 0 &amp;amp; 1 \end{array}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו, הרעיון הוא כזה: יש לנו מצב קוונטי &lt;span&gt;\( \rho \)&lt;/span&gt; שאנחנו לא יודעים מהו. אנחנו מודדים אותו בבסיסים &lt;span&gt;\( X,Y,Z \)&lt;/span&gt; ומקבלים התפלגות של תוצאות. לכל בסיס אנחנו מקבלים שתי תוצאות, אחת לכל אחד מהערכים העצמיים (שתי התוצאות הללו מסתכמות ל-1, אז הן לא בלתי תלויות זו בזו). את התוצאות הללו אנחנו מכניסים לוקטור &lt;span&gt;\( \vec{p} \)&lt;/span&gt;, ואז אנחנו מקבלים&lt;strong&gt; מערכת משוואות לינארית:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( M\left|\left.\rho\right\rangle \right\rangle =\vec{p} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כאן &lt;span&gt;\( M,\vec{p} \)&lt;/span&gt; ידועים ו-&lt;span&gt;\( \left|\left.\rho\right\rangle \right\rangle  \)&lt;/span&gt; הוא הנעלם שאנחנו רוצים לשחזר. איך פותרים מערכת משוואות לינארית? בדרך כלל מחשבים את &lt;span&gt;\( M^{-1} \)&lt;/span&gt; וכופלים בה את שני האגפים ומקבלים &lt;span&gt;\( \left|\left.\rho\right\rangle \right\rangle =M^{-1}\vec{p} \)&lt;/span&gt;, אלא שזה פשוט לא יכול לעבוד כאן, כי &lt;span&gt;\( M \)&lt;/span&gt; &lt;strong&gt;גדולה מדי&lt;/strong&gt; - היא לא מטריצה ריבועית. יש לה רק ארבע עמודות, אבל שש שורות. אפשר, כמובן, להסיר חלק מהשורות הללו, אבל אפשר גם לעשות משהו אחר.&lt;/p&gt;

&lt;p&gt;כאמור, &lt;span&gt;\( M \)&lt;/span&gt; היא לא מטריצה ריבועית, אבל &lt;span&gt;\( M^{\dagger}M \)&lt;/span&gt; היא כן מטריצה ריבועית, ובתקווה היא גם הפיכה (במקרה שלנו היא אכן יוצאת הפיכה; אם היא לא יוצאת הפיכה זה אומר שבחרנו למדוד את &lt;span&gt;\( \rho \)&lt;/span&gt; בשילוב בסיסים שהוא לא &lt;strong&gt;מלא טומוגרפית&lt;/strong&gt; - אי אפשר להשתמש בו בשביל טומוגרפיה). ועכשיו תראו איזה קסם אני עושה. אני מתחיל עם &lt;span&gt;\( M\left|\left.\rho\right\rangle \right\rangle =\vec{p} \)&lt;/span&gt;, כופל את שני האגפים ב-&lt;span&gt;\( M^{\dagger} \)&lt;/span&gt; ומקבל &lt;span&gt;\( M^{\dagger}M\left|\left.\rho\right\rangle \right\rangle =M^{\dagger}\vec{p} \)&lt;/span&gt;, ואז אני כופל בהופכית של &lt;span&gt;\( M^{\dagger}M \)&lt;/span&gt; ומקבל:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|\left.\rho\right\rangle \right\rangle =\left(M^{\dagger}M\right)^{-1}M^{\dagger}\vec{p} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;וכך אני מצליח לשחזר את &lt;span&gt;\( \rho \)&lt;/span&gt; המקורית!&lt;/p&gt;

&lt;p&gt;בואו נראה איך זה עובד בפועל. אם תחשבו, תקבלו ש-&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( M^{\dagger}M=\left(\begin{array}{cccc} 2 &amp;amp; 0 &amp;amp; 0 &amp;amp; 1\\ 0 &amp;amp; 1 &amp;amp; 0 &amp;amp; 0\\ 0 &amp;amp; 0 &amp;amp; 1 &amp;amp; 0\\ 1 &amp;amp; 0 &amp;amp; 0 &amp;amp; 2 \end{array}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ההופכית שלה היא&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left(M^{\dagger}M\right)^{-1}=\left(\begin{array}{cccc} \frac{2}{3} &amp;amp; 0 &amp;amp; 0 &amp;amp; -\frac{1}{3}\\ 0 &amp;amp; 1 &amp;amp; 0 &amp;amp; 0\\ 0 &amp;amp; 0 &amp;amp; 1 &amp;amp; 0\\ -\frac{1}{3} &amp;amp; 0 &amp;amp; 0 &amp;amp; \frac{2}{3} \end{array}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ולכן מקבלים בסוף&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left(M^{\dagger}M\right)^{-1}M^{\dagger}=\left(\begin{array}{cccccc} \frac{1}{6} &amp;amp; \frac{1}{6} &amp;amp; \frac{1}{6} &amp;amp; \frac{1}{6} &amp;amp; \frac{2}{3} &amp;amp; -\frac{1}{3}\\ \frac{1}{2} &amp;amp; -\frac{1}{2} &amp;amp; -\frac{i}{2} &amp;amp; \frac{i}{2} &amp;amp; 0 &amp;amp; 0\\ \frac{1}{2} &amp;amp; -\frac{1}{2} &amp;amp; \frac{i}{2} &amp;amp; -\frac{i}{2} &amp;amp; 0 &amp;amp; 0\\ \frac{1}{6} &amp;amp; \frac{1}{6} &amp;amp; \frac{1}{6} &amp;amp; \frac{1}{6} &amp;amp; -\frac{1}{3} &amp;amp; \frac{2}{3} \end{array}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;זו המטריצה הקסומה שכשכופלים אותה בוקטור ההסתברויות &lt;span&gt;\( \vec{p} \)&lt;/span&gt; שקיבלנו מהניסוי, משחזרים את המצב &lt;span&gt;\( \rho \)&lt;/span&gt; המקורי. בואו ננסה למשל לשחזר את &lt;span&gt;\( \rho \)&lt;/span&gt; שמתאר את הסיטואציה שבה אנחנו ב-&lt;span&gt;\( \left|0\right\rangle ,\left|1\right\rangle  \)&lt;/span&gt; בהסתברות חצי-חצי. אנחנו כבר יודעים שתוצאות המדידה בבסיס &lt;span&gt;\( X \)&lt;/span&gt; הולכות להיות &lt;span&gt;\( \left(\frac{1}{2},\frac{1}{2}\right) \)&lt;/span&gt; בגלל שלא משנה אם אנחנו ב-&lt;span&gt;\( \left|0\right\rangle  \)&lt;/span&gt; או ב-&lt;span&gt;\( \left|1\right\rangle  \)&lt;/span&gt;, מדידה בבסיס &lt;span&gt;\( X \)&lt;/span&gt; מתפלגת חצי-חצי עבור שני המצבים הללו. בנוסף אנחנו יודעים שגם המדידה בבסיס &lt;span&gt;\( Z \)&lt;/span&gt; הולכת להיות &lt;span&gt;\( \left(\frac{1}{2},\frac{1}{2}\right) \)&lt;/span&gt; מסיבה שונה: אם אנחנו ב-&lt;span&gt;\( \left|0\right\rangle  \)&lt;/span&gt; אז המדידה תחזיר בודאות &lt;span&gt;\( \left|0\right\rangle  \)&lt;/span&gt; אבל אנחנו ב-&lt;span&gt;\( \left|0\right\rangle  \)&lt;/span&gt; רק בהסתברות &lt;span&gt;\( \frac{1}{2} \)&lt;/span&gt; מראש. מה שעוד לא דיברתי עליו הוא מה קורה במדידה בבסיס &lt;span&gt;\( Y \)&lt;/span&gt;, אבל חישוב עם הנוסחה &lt;span&gt;\( p\left(i\right)=\left\langle \psi\right|E_{i}\left|\psi\right\rangle  \)&lt;/span&gt; מראה שגם במקרה זה, לא משנה אם אנחנו ב-&lt;span&gt;\( \left|0\right\rangle  \)&lt;/span&gt; או ב-&lt;span&gt;\( \left|1\right\rangle  \)&lt;/span&gt;, ההסתברות לכל תוצאה היא &lt;span&gt;\( \frac{1}{2} \)&lt;/span&gt;. לכן בסך הכל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \vec{p}=\left(\begin{array}{c} \frac{1}{2}\\ \frac{1}{2}\\ \frac{1}{2}\\ \frac{1}{2}\\ \frac{1}{2}\\ \frac{1}{2} \end{array}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו נחשב ונקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left(M^{\dagger}M\right)^{-1}M^{\dagger}\vec{p}=\left(\begin{array}{c} \frac{1}{2}\\ 0\\ 0\\ \frac{1}{2} \end{array}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;וכשמשחזרים מזה את המטריצה המקורית מקבלים &lt;span&gt;\( \left(\begin{array}{cc} \frac{1}{2} &amp;amp; 0\\ 0 &amp;amp; \frac{1}{2} \end{array}\right) \)&lt;/span&gt;, כפי שציפינו.&lt;/p&gt;

&lt;p&gt;מה אם במקום זה היינו במצב &lt;span&gt;\( \left|+\right\rangle  \)&lt;/span&gt; בהתחלה? כזכור, זה משפיע על המדידות בבסיס &lt;span&gt;\( X \)&lt;/span&gt; שיוצאות &lt;span&gt;\( \left(\begin{array}{c} 1\\ 0 \end{array}\right) \)&lt;/span&gt;, אבל אם עושים את החישובים עבור בסיסים &lt;span&gt;\( Y,Z \)&lt;/span&gt; עדיין מקבלים חצי חצי, כלומר וקטור ההסתברויות במקרה זה הוא&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left(\begin{array}{c} 1\\ 0\\ \frac{1}{2}\\ \frac{1}{2}\\ \frac{1}{2}\\ \frac{1}{2} \end{array}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ועכשיו מקבלים:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left(M^{\dagger}M\right)^{-1}M^{\dagger}\vec{p}=\left(\begin{array}{c} \frac{1}{2}\\ \frac{1}{2}\\ \frac{1}{2}\\ \frac{1}{2} \end{array}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כלומר &lt;span&gt;\( \rho=\left(\begin{array}{cc} \frac{1}{2} &amp;amp; \frac{1}{2}\\ \frac{1}{2} &amp;amp; \frac{1}{2} \end{array}\right) \)&lt;/span&gt; כמו שציפינו לקבל.&lt;/p&gt;

&lt;p&gt;יפה, אז אנחנו רואים שאפשר לבצע את הקסם של שיחזור &lt;span&gt;\( \rho \)&lt;/span&gt; מתוך מדידות, אבל &lt;strong&gt;איך&lt;/strong&gt; מבצעים את המדידות הללו? כמובן, אם אנחנו אלו שמתעסקים במחשב הקוונטי ברמת המימוש (או בניסוי הקוונטי שעושים; טומוגרפיה קוונטית לא חייבת להיות של מצב במחשב קוונטי) אנחנו אולי יכולים לממש סוגים שונים של מדידות. אבל נאמר שאנחנו עובדים עם מחשב קוונטי שיודע למדוד רק בבסיס &lt;span&gt;\( Z \)&lt;/span&gt;, האם יש דרך לבצע מדידות גם בבסיסים אחרים?&lt;/p&gt;

&lt;p&gt;ובכן, יש. בואו ניזכר במשהו שכבר הראיתי פעם-פעמיים, עבור המטריצה &lt;span&gt;\( H=\frac{1}{\sqrt{2}}\left(\begin{array}{cc} 1 &amp;amp; 1\\ 1 &amp;amp; -1 \end{array}\right) \)&lt;/span&gt;:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( H^{\dagger}ZH=X \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אפשר לראות את זה על ידי חישוב מפורש. זה כמובן עובר לרמת ההטלות:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( X=H^{\dagger}ZH=H^{\dagger}\left(P_{1}^{Z}-P_{-1}^{Z}\right)H=H^{\dagger}P_{1}^{Z}H-H^{\dagger}P_{-1}^{Z}H \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ומכאן אפשר להסיק שלכל מצב &lt;span&gt;\( \left|\psi\right\rangle  \)&lt;/span&gt; מתקיים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left\langle \psi\right|P_{\lambda}^{X}\left|\psi\right\rangle =\left\langle \psi\right|H^{\dagger}P_{1}^{Z}H\left|\psi\right\rangle =\left\langle H\psi\right|P_{1}^{Z}\left|H\psi\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כלומר, אפשר להמיר מדידה בבסיס &lt;span&gt;\( X \)&lt;/span&gt; של &lt;span&gt;\( \left|\psi\right\rangle  \)&lt;/span&gt; במדידה בבסיס &lt;span&gt;\( Z \)&lt;/span&gt; של &lt;span&gt;\( H\left|\psi\right\rangle  \)&lt;/span&gt; - התפלגות התוצאות שנקבל תהיה זהה. זה באמת מה שעושים במחשב קוונטי - מעגל אחד שפשוט מייצר את המצב הקוונטי עבור מדידה בבסיס &lt;span&gt;\( Z \)&lt;/span&gt;, מעגל אחר שמייצר את המצב הקוונטי ואז מפעיל עליו &lt;span&gt;\( H \)&lt;/span&gt; עבור מדידה בבסיס &lt;span&gt;\( X \)&lt;/span&gt;. ומה עם בסיס &lt;span&gt;\( Y \)&lt;/span&gt;? ובכן, &lt;span&gt;\( SXS^{\dagger}=Y \)&lt;/span&gt; עבור &lt;span&gt;\( S=\left(\begin{array}{cc} 1 &amp;amp; 0\\ 0 &amp;amp; i \end{array}\right) \)&lt;/span&gt;, ולכן &lt;span&gt;\( \left(HS^{\dagger}\right)^{\dagger}Z\left(HS^{\dagger}\right)=Y \)&lt;/span&gt;, ומכאן שכדי למדוד בבסיס &lt;span&gt;\( Y \)&lt;/span&gt; קודם מפעילים על המצב &lt;span&gt;\( S^{\dagger} \)&lt;/span&gt;, אחר כך מפעילים עליו &lt;span&gt;\( H \)&lt;/span&gt; ואז מודדים בבסיס &lt;span&gt;\( Z \)&lt;/span&gt; כרגיל.&lt;/p&gt;

&lt;p&gt;כל הדיון עד כה התעסק בסיטואציה של קיוביט בודד. אבל מה אם &lt;span&gt;\( \rho \)&lt;/span&gt; הוא מצב של מערכת על &lt;span&gt;\( n \)&lt;/span&gt; קיוביטים? נתחיל מ-&lt;span&gt;\( n=2 \)&lt;/span&gt;. במקרה הזה, אנחנו מסתכלים על כל הזוגות &lt;span&gt;\( \left(P_{1},P_{2}\right) \)&lt;/span&gt; כאשר &lt;span&gt;\( P_{i}\in\left\{ X,Y,Z\right\}  \)&lt;/span&gt; - בסך הכל תשעה זוגות כאלו. כל זוג מגדיר לנו מעגל אחר עם מדידות אחרות. למשל, &lt;span&gt;\( \left(X,Y\right) \)&lt;/span&gt; פירושו “למדוד את הקיוביט הראשון בבסיס &lt;span&gt;\( X \)&lt;/span&gt; ואת השני בבסיס &lt;span&gt;\( Y \)&lt;/span&gt;”, כששתי המדידות הללו מבוצעות בצורה שתיארתי זה עתה. מה שמתקבל הוא 4 תוצאות מדידה אפשריות: &lt;span&gt;\( 00,01,10,11 \)&lt;/span&gt;, שכל אחת נותנת לנו הסתברות אחרת ותקבל שורה משלה בוקטור &lt;span&gt;\( \vec{p} \)&lt;/span&gt; - כלומר, זה יהיה וקטור עם 36 כניסות. עבור &lt;span&gt;\( n \)&lt;/span&gt; כללי, אנחנו מסתכלים על כל ה-&lt;span&gt;\( n \)&lt;/span&gt;-יות &lt;span&gt;\( \left(P_{1},\ldots,P_{n}\right) \)&lt;/span&gt; כאשר &lt;span&gt;\( P_{i}\in\left\{ X,Y,Z\right\}  \)&lt;/span&gt;. יש בסך הכל &lt;span&gt;\( 3^{n} \)&lt;/span&gt; &lt;span&gt;\( n \)&lt;/span&gt;-יות כאלו וכל &lt;span&gt;\( n \)&lt;/span&gt;-יה כזו מגדירה &lt;span&gt;\( 2^{n} \)&lt;/span&gt; תוצאות מדידה אפשריות… כפי שאפשר לראות, זה גדל אקספוננציאלית. זה אומר שבפועל, טומוגרפיה הופכת למשהו &lt;strong&gt;בלתי יישים בעליל&lt;/strong&gt; עבור יותר ממספר זעיר של קיוביטים; מה שעושים בפועל הוא טומוגרפיה רק לחלק מהקיוביטים במערכת במקום לכולם.&lt;/p&gt;

&lt;p&gt;הנה למשל מעגל טומוגרפיה על שני קיוביטים שקודם כל מייצר את המצב השזור &lt;span&gt;\( \frac{\left|00\right\rangle +\left|11\right\rangle }{\sqrt{2}} \)&lt;/span&gt; (או, אם לחדד את הפואנטה מאחורי טומוגרפיה קוונטית, קודם &lt;strong&gt;מנסה &lt;/strong&gt;ליצור&lt;strong&gt; &lt;/strong&gt;את המצב הזה, ומטרת הטומוגרפיה היא לראות כמה הוא הצליח בזה) ולאחר מכן מודד את הקיוביט הראשון בבסיס &lt;span&gt;\( X \)&lt;/span&gt; ואת השני בבסיס &lt;span&gt;\( Y \)&lt;/span&gt;:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/2022/qst.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;לסיום, אי אפשר לוותר על רגע ה”כל מה שאמרתי לכם עד כה היה שקר גמור” הבלתי נמנע. כלומר, לא שיקרתי בשום צורה, אבל כן הזנחתי את העניין המרכזי. אי שם בתחילת הפוסט אמרתי שבואו נניח לצורך פשטות שיש לי את הערכים המדויקים של &lt;span&gt;\( \vec{p} \)&lt;/span&gt;, שזה נחמד אבל זה &lt;strong&gt;לא משהו שהולך להתקבל בניסוי&lt;/strong&gt;. בניסוי אני לא אקבל &lt;span&gt;\( \frac{1}{2} \)&lt;/span&gt; אלא זוועה כמו &lt;span&gt;\( \frac{483}{1000} \)&lt;/span&gt;. בסיטואציה כזו, הוקטור &lt;span&gt;\( \vec{p} \)&lt;/span&gt; שקיבלתי הוא לא מדויק; שיטת היפוך המטריצה שהצגתי לא רק שלא תחזיר את &lt;span&gt;\( \rho \)&lt;/span&gt; הנכונה אלא רק קירוב שלה (את זה אפשר לסבול, בכל מקרה אנחנו לא מצפים לדיוק מוחלט), אבל גרוע מזה - סביר להניח שהיא תחזיר &lt;span&gt;\( \rho \)&lt;/span&gt; &lt;strong&gt;שאינה מטריצת צפיפות&lt;/strong&gt;, כלומר אינה בעלת עקבה 1 או שאינה חיובית. זו כבר בעיה משמעותית יותר - בדרך כלל אנחנו רוצים שטומוגרפיה תחזיר לנו מצב קוונטי שהוא קירוב של המצב האמיתי, לא שתחזיר לנו קירוב שאיננו אמיתי.&lt;/p&gt;

&lt;p&gt;זה אומר שנוקטים בשיטת פתרון אחרת, שנעזרת בכלים סטנדרטיים של אופטימיזציה: מה שאנחנו רוצים הוא להביא למינימום את הביטוי&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \|M\left|\left.\rho\right\rangle \right\rangle -\vec{p}\| \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כאשר אברי &lt;span&gt;\( \left|\left.\rho\right\rangle \right\rangle  \)&lt;/span&gt; הם המשתנים של בעיית האופטימיזציה, והם כפופים לאילוצים נוספים שמבטיחים ש-&lt;span&gt;\( \rho \)&lt;/span&gt; תהיה מטריצת צפיפות תקינה. חשבתי להיכנס כאן לעובי הקורה של איך עושים את זה, ואולי אעשה את זה בהמשך, אבל נראה לי שעדיף לשמור על הפוסט הזה ממוקד יחסית.&lt;/p&gt;

&lt;p&gt;עוד בעיה שצריך להביא בחשבון היא שחישוב קוונטי הוא תהליך &lt;strong&gt;רועש&lt;/strong&gt;. זה אומר שבביצוע תהליך המדידה עצמה עשויות להצטבר בעיות; וגרוע לא פחות - גם בשערי ה-&lt;span&gt;\( H \)&lt;/span&gt; וה-&lt;span&gt;\( S^{\dagger} \)&lt;/span&gt; שאנחנו משתמשים בהם כדי למדוד בבסיסים שונים גם כן עשויות להצטבר בעיות. מה שהיינו רוצים הוא שיטת טומוגרפיה שאיכשהו מביאה את זה בחשבון, ואמנם יש כזו (במחיר של סיבוכיות הרבה יותר גדולה של מה שהיא עושה) שנקראת Gate Set Tomography, אבל לפני שאדבר עליה צריך לחזור אל השאלה שבה סיימתי את הפוסט הקודם - איך בעצם ממדלים שינויים שיכולים להתבצע על מערכת קוונטית, וספציפית איך ממדלים רעשים?&lt;/p&gt;</content><author><name></name></author><category term="טומוגרפיה קוונטית" /><summary type="html">בפוסט הקודם שלי הצגתי את מה שקראתי לו “פורמליזם מטריצת הצפיפות” ולפני שאני ממשיך לדבר עליו - ספציפית, על השינויים שהוא יכול לעבור - אני רוצה לעצור ולהציג נושא שישתמש באופן ישיר בפורמליזם הזה והוא די מגניב בזכות עצמו: טומוגרפיית מצבים קוונטית (Quantum State Tomography).</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://gadial.net/2022/qst.png" /></entry><entry><title type="html">חישוב קוונטי: פורמליזם מטריצות הצפיפות</title><link href="http://gadial.net/2022/10/09/density_matrices/" rel="alternate" type="text/html" title="חישוב קוונטי: פורמליזם מטריצות הצפיפות" /><published>2022-10-09T00:00:00+00:00</published><updated>2022-10-09T00:00:00+00:00</updated><id>http://gadial.net/2022/10/09/density_matrices</id><content type="html" xml:base="http://gadial.net/2022/10/09/density_matrices/">&lt;h2&gt;מה זה מטריצות צפיפות ואיך מגיעים אליהן מוקטורי מצב?&lt;/h2&gt;

&lt;p&gt;בואו נדבר על סיטואציה פשוטה מאוד בחישוב קוונטי שכבר ראינו כמה פעמים בסדרת הפוסטים הזו: יש לנו את המצב הקוונטי על קיוביט בודד &lt;span&gt;\( \left|+\right\rangle =\frac{\left|0\right\rangle +\left|1\right\rangle }{\sqrt{2}} \)&lt;/span&gt; ואנחנו מודדים אותו. מה קורה? קורים שני דברים: אנחנו, המודדים, מקבלים “החוצה” ביט של מידע - או 0 או 1 - והמצב הקוונטי עובר שינוי: אם ביט המידע שקיבלנו היה &lt;span&gt;\( 0 \)&lt;/span&gt; אז המצב הקוונטי הופך להיות &lt;span&gt;\( \left|0\right\rangle  \)&lt;/span&gt;, ואם ביט המידע שקיבלנו היה 1 אז המצב הקוונטי הופך להיות &lt;span&gt;\( \left|1\right\rangle  \)&lt;/span&gt;. כל אחת מהתוצאות הללו מתקבלת באותה הסתברות, כלומר &lt;span&gt;\( \frac{1}{2} \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;טוב ויפה, אבל עכשיו נניח שאנחנו &lt;strong&gt;לא&lt;/strong&gt; אלו שמודדים את המצב; אנחנו רואים מישהי אחרת באה ומודדת את המצב, ולא מגלה לנו מה התוצאה! מה אנחנו כן יכולים להגיד על המצב הנוכחי של הקיוביט? ובכן, בדיוק את מה שראינו לפני רגע: אנחנו יכולים לומר “בהסתברות &lt;span&gt;\( \frac{1}{2} \)&lt;/span&gt; הקיוביט במצב &lt;span&gt;\( \left|0\right\rangle  \)&lt;/span&gt; ובהסתברות &lt;span&gt;\( \frac{1}{2} \)&lt;/span&gt; הקיוביט במצב &lt;span&gt;\( \left|1\right\rangle  \)&lt;/span&gt;”.&lt;/p&gt;

&lt;p&gt;אחד הדברים המבלבלים והקשים ביותר להבנה כשמתחילים לדבר על חישוב קוונטי (ואולי על תורת הקוונטים בפרט?) הוא להבין שלומר “הקיוביט במצב &lt;span&gt;\( \left|+\right\rangle  \)&lt;/span&gt;” זה &lt;strong&gt;ממש לא אותו דבר&lt;/strong&gt; כמו לומר “בהסתברות &lt;span&gt;\( \frac{1}{2} \)&lt;/span&gt; הקיוביט במצב &lt;span&gt;\( \left|0\right\rangle  \)&lt;/span&gt; ובהסתברות &lt;span&gt;\( \frac{1}{2} \)&lt;/span&gt; הקיוביט במצב &lt;span&gt;\( \left|1\right\rangle  \)&lt;/span&gt;”. הראשון הוא כמו לומר “החתול של שרדינגר בסופרפוזיציה של רגוע ועצבני” והשני הוא כמו לומר “החתול של שרדינגר רגוע או עצבני, אנחנו פשוט לא יודעים מי מהם כי עדיין לא פתחנו את הקופסה”. עד סוף הפוסט, אולי אפילו עד האמצע שלו, כבר נראה את ה”ממש לא אותו דבר” הזה במלוא הפורמליזם המתמטי שלו - פורמליזם שעד כה טרם הצגתי, כי לא נזקקתי לו אבל אני רוצה להתחיל לדבר על דברים שמערבים אותו: פורמליזם &lt;strong&gt;מטריצת הצפיפות&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;הרעיון במטריצת צפיפות הוא &lt;strong&gt;להכליל&lt;/strong&gt; את האופן שבו אנחנו מתארים מצב של מערכת קוונטית. עד כה השתמשנו בוקטור כדי לתאר אותה: כך למשל &lt;span&gt;\( \left|+\right\rangle  \)&lt;/span&gt; הוא הוקטור &lt;span&gt;\( \frac{1}{\sqrt{2}}\left(\begin{array}{c} 1\\ 1 \end{array}\right) \)&lt;/span&gt;. בפורמליזם של מטריצות צפיפות, מה שמתאר את המצב של המערכת הקוונטית יהיה &lt;strong&gt;מטריצה&lt;/strong&gt;: אם כדי לתאר מצב קוונטי על &lt;span&gt;\( n \)&lt;/span&gt; קיוביטים נזקקנו לוקטור מאורך &lt;span&gt;\( 2^{n} \)&lt;/span&gt;, הרי שבשביל מטריצת צפיפות נזדקק למטריצה מסדר &lt;span&gt;\( 2^{n}\times2^{n} \)&lt;/span&gt;. הגודל הנוסף הזה מאפשר לנו לכלול יותר מידע מאשר קודם; הוא מאפשר לנו בדיוק לתאר בצורה קומפקטית סיטואציה של “בהסתברות כך וכך המערכת נמצאת במצב כך וכך”, עבור קבוצה של מצבים ולא רק עבור מצב בודד שאנחנו יודעים בודאות באיזה מצב הוא.&lt;/p&gt;

&lt;p&gt;לפני שנגיע לפורמליזם, אני רוצה לחדד את הנקודה שאיתה פתחתי המצב &lt;span&gt;\( \left|+\right\rangle  \)&lt;/span&gt; הוא מצב קוונטי ספציפי, קונקרטי. אין שום הסתברות שנלווית לתיאור הזה של המערכת. ההסתברות מתחילה לשחק תפקיד רק כאשר אנחנו מודדים את המצב, לא לפני כן. קל לראות את זה אם נזכרים שיש בעולם כמה דרכים שונות למדוד מצב קוונטי; מדידה “רגילה” היא מה שקראתי לו מדידה בבסיס &lt;span&gt;\( Z \)&lt;/span&gt;, מדידה שמתוארת על ידי האיברים &lt;span&gt;\( \left|0\right\rangle ,\left|1\right\rangle  \)&lt;/span&gt; שהם התוצאות האפשריות של המדידה. אבל יש עוד מדידות, למשל מדידה בבסיס &lt;span&gt;\( X \)&lt;/span&gt; שמתוארת על ידי האיברים &lt;span&gt;\( \left|+\right\rangle ,\left|-\right\rangle  \)&lt;/span&gt;. אם אני מבצע מדידה בבסיס &lt;span&gt;\( X \)&lt;/span&gt; של המצב &lt;span&gt;\( \left|+\right\rangle  \)&lt;/span&gt;, אני אקבל את התוצאה שמתאימה ל-&lt;span&gt;\( \left|+\right\rangle  \)&lt;/span&gt; בהסתברות של 100 אחוז.&lt;/p&gt;

&lt;p&gt;לעומת זאת, אם המצב הקוונטי שלי הוא “בהסתברות &lt;span&gt;\( \frac{1}{2} \)&lt;/span&gt; הקיוביט במצב &lt;span&gt;\( \left|0\right\rangle  \)&lt;/span&gt; ובהסתברות &lt;span&gt;\( \frac{1}{2} \)&lt;/span&gt; הקיוביט במצב &lt;span&gt;\( \left|1\right\rangle  \)&lt;/span&gt;”, מה יקרה אם אמדוד אותו בבסיס &lt;span&gt;\( X \)&lt;/span&gt;? אם הקיוביט במצב &lt;span&gt;\( \left|0\right\rangle  \)&lt;/span&gt; אז בהסתברות &lt;span&gt;\( \frac{1}{2} \)&lt;/span&gt; נקבל &lt;span&gt;\( \left|+\right\rangle  \)&lt;/span&gt; ובהסתברות &lt;span&gt;\( \frac{1}{2} \)&lt;/span&gt; נקבל &lt;span&gt;\( \left|-\right\rangle  \)&lt;/span&gt;; ואם הקיוביט במצב &lt;span&gt;\( \left|1\right\rangle  \)&lt;/span&gt; אז… במקרה הספציפי הזה של בסיס &lt;span&gt;\( X \)&lt;/span&gt;, יקרה בדיוק אותו דבר - כל תוצאה בהסתברות חצי (יכולים גם לקרות דברים מסובכים יותר באופן כללי).&lt;/p&gt;

&lt;p&gt;אז כדי לחדד, אם המצב הקוונטי שלנו הוא &lt;span&gt;\( \left|+\right\rangle  \)&lt;/span&gt; אז מדידה בבסיס &lt;span&gt;\( X \)&lt;/span&gt; תיתן בודאות מוחלטת &lt;span&gt;\( \left|+\right\rangle  \)&lt;/span&gt;, אבל אם הוא “בהסתברות &lt;span&gt;\( \frac{1}{2} \)&lt;/span&gt; הקיוביט במצב &lt;span&gt;\( \left|0\right\rangle  \)&lt;/span&gt; ובהסתברות &lt;span&gt;\( \frac{1}{2} \)&lt;/span&gt; הקיוביט במצב &lt;span&gt;\( \left|1\right\rangle  \)&lt;/span&gt;” אז מדידה בסיס &lt;span&gt;\( X \)&lt;/span&gt; תיתן &lt;span&gt;\( \left|+\right\rangle  \)&lt;/span&gt; רק בהסתברות &lt;span&gt;\( \frac{1}{2} \)&lt;/span&gt; ואחרת היא תיתן &lt;span&gt;\( \left|-\right\rangle  \)&lt;/span&gt;. זה מראה לנו ששני המצבים הללו שונים, בודאות מוחלטת. וכאמור, להבין שהם שונים זה לטעמי אחד המכשולים הגדולים בדרך להבנה של חישוב קוונטי.&lt;/p&gt;

&lt;p&gt;לפני שנעבור לדבר על מצבים קוונטיים מסובכים שמערבים הסתברויות, בואו ניקח צעד אחורה: ניזכר בפורמליזם המתמטי הרגיל של חישוב קוונטי באמצעות וקטורים, ונראה איך אפשר לבטא את כולו גם בשפה של מטריצות. אני חושב שזה ייראה די פשוט ולא קשה להבנה; יהיה קצת קשה להבין &lt;strong&gt;למה&lt;/strong&gt; אנחנו עושים את זה אבל כבר הצהרתי מה המטרה שלנו פה.&lt;/p&gt;

&lt;p&gt;אז הנה הפורמליזם:&lt;/p&gt;

&lt;ol&gt; &lt;li&gt;מערכת קוונטית מתוארת על ידי מרחב הילברט &lt;span&gt;\( \mathcal{H} \)&lt;/span&gt; מעל &lt;span&gt;\( \mathbb{C} \)&lt;/span&gt;, ומצב ספציפי של המערכת הוא וקטור &lt;span&gt;\( \left|\psi\right\rangle \in\mathcal{H} \)&lt;/span&gt; מנורמה 1.&lt;/li&gt;


&lt;li&gt;בהינתן אופרטור &lt;span&gt;\( U:\mathcal{H}\to\mathcal{H} \)&lt;/span&gt; שהוא &lt;strong&gt;אוניטרי&lt;/strong&gt;, ניתן להפעיל אותו על המערכת על ידי כפל המטריצה שמייצגת את &lt;span&gt;\( U \)&lt;/span&gt; בוקטור שמייצג את מצב המערכת ולהעביר אותה למצב חדש: &lt;span&gt;\( \left|\psi^{\prime}\right\rangle =U\left|\psi\right\rangle  \)&lt;/span&gt;.&lt;/li&gt;


&lt;li&gt;בהינתן קבוצת אופרטורים &lt;span&gt;\( \left\{ M_{0},M_{1},\ldots,M_{t}\right\}  \)&lt;/span&gt; שמכונים בהקשר הזה &quot;אופרטורי מדידה&quot;, אפשר למדוד את המערכת ביחס לאופרטורים הללו ולקבל תוצאה &lt;span&gt;\( i\in\left\{ 0,1,\ldots,t\right\}  \)&lt;/span&gt; בהסתברות &lt;span&gt;\( p\left(i\right) \)&lt;/span&gt;, ואם התקבלה התוצאה הזו המערכת עוברת למצב &lt;span&gt;\( \left|\psi^{i}\right\rangle  \)&lt;/span&gt;, כך ש: 

&lt;ol&gt;
&lt;li&gt;&lt;span&gt;\( p\left(i\right)=\left\langle \psi\right|M_{i}^{\dagger}M_{i}\left|\psi\right\rangle  \)&lt;/span&gt;.&lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( \left|\psi^{i}\right\rangle =\frac{M_{i}\left|\psi\right\rangle }{\sqrt{\left\langle \psi\right|M_{i}^{\dagger}M_{i}\left|\psi\right\rangle }} \)&lt;/span&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;זה לא משהו קל לעיכול במיוחד אבל אני מניח שכבר ראינו את זה קודם - ואם לא, &lt;a href=&quot;https://gadial.net/2022/07/28/quantum_computing_math/&quot;&gt;הנה ההתחלה&lt;/a&gt; של ה”קודם”. בואו נראה עכשיו איך אותו דבר בדיוק מתואר עם מטריצה במקום וקטור.&lt;/p&gt;

&lt;p&gt;ראשית, בואו ניזכר מה הסימונים שלנו אומרים. על &lt;span&gt;\( \left|\psi\right\rangle  \)&lt;/span&gt; אני חושב בתור וקטור עמודה; במקרה הפשוט שבו &lt;span&gt;\( \left|\psi\right\rangle  \)&lt;/span&gt; מייצג מערכת של קיוביט בודד, זה יהיה וקטור עמודה מסדר 2, &lt;span&gt;\( \left|\psi\right\rangle =\left(\begin{array}{c} \alpha\\ \beta \end{array}\right) \)&lt;/span&gt;. בנוסף לכך, הצגתי סימון נוסף: &lt;span&gt;\( \left\langle \psi\right| \)&lt;/span&gt;. אפשר לחשוב על &lt;span&gt;\( \left\langle \psi\right| \)&lt;/span&gt; בתור &lt;span&gt;\( \left\langle \psi\right|\triangleq\left(\left|\psi\right\rangle \right)^{\dagger} \)&lt;/span&gt;, כלומר זה וקטור &lt;strong&gt;שורה &lt;/strong&gt;&lt;span&gt;\( \left\langle \psi\right|=\left(\begin{array}{cc} \overline{\alpha} &amp;amp; \overline{\beta}\end{array}\right) \)&lt;/span&gt;. יש עוד דרך לחשוב על &lt;span&gt;\( \left\langle \psi\right| \)&lt;/span&gt; בתור פונקציונל לינארי, אבל נעזוב את זה.&lt;/p&gt;

&lt;p&gt;עכשיו, בסימון הזה, מה בעצם &lt;span&gt;\( \left|\psi\right\rangle \left\langle \psi\right| \)&lt;/span&gt; אומר? זו &lt;strong&gt;מטריצה&lt;/strong&gt; מסדר &lt;span&gt;\( 2\times2 \)&lt;/span&gt; (ובאופן כללי, כש-&lt;span&gt;\( \left|\psi\right\rangle  \)&lt;/span&gt; הוא וקטור מסדר &lt;span&gt;\( n \)&lt;/span&gt;, זו מטריצה &lt;span&gt;\( n\times n \)&lt;/span&gt;). כדי לראות את זה אני פשוט אכפול את הוקטורים במפורש:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|\psi\right\rangle \left\langle \psi\right|=\left(\begin{array}{c} \alpha\\ \beta \end{array}\right)\left(\begin{array}{cc} \overline{\alpha} &amp;amp; \overline{\beta}\end{array}\right)=\left(\begin{array}{cc} \left|\alpha\right|^{2} &amp;amp; \alpha\overline{\beta}\\ \overline{\alpha}\beta &amp;amp; \left|\beta\right|^{2} \end{array}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;זה פשוט על פי ההגדרה הרגילה של כפל מטריצות. שימו לב שאם אני כופל את שני הוקטורים הללו בסדר &lt;strong&gt;הפוך &lt;/strong&gt;אני מקבל מטריצה מסדר &lt;span&gt;\( 1\times1 \)&lt;/span&gt; שאני חושב עליה בתור סקלר:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left\langle \psi\right|\left|\psi\right\rangle =\left(\begin{array}{cc} \overline{\alpha} &amp;amp; \overline{\beta}\end{array}\right)\left(\begin{array}{c} \alpha\\ \beta \end{array}\right)=\left|\alpha\right|^{2}+\left|\beta\right|^{2} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;בעצם, לכפול שני וקטורים בצורה הזו, &lt;span&gt;\( \left\langle \psi\right|\left|\varphi\right\rangle  \)&lt;/span&gt;, נותן לנו את &lt;strong&gt;המכפלה הפנימית&lt;/strong&gt; שלהם. על אותו משקל, לפעמים קוראים ל-&lt;span&gt;\( \left|\psi\right\rangle \left\langle \varphi\right| \)&lt;/span&gt; “מכפלה חיצונית” אבל נעזוב גם את זה. מה שמעניין, מבחינתי, זה רק איך שתרגממו את הוקטור &lt;span&gt;\( \left|\psi\right\rangle  \)&lt;/span&gt; למטריצה &lt;span&gt;\( \left|\psi\right\rangle \left\langle \psi\right| \)&lt;/span&gt;. בשביל לקצר עניינים, אני אשתמש ב-&lt;span&gt;\( \rho \)&lt;/span&gt; בדרך כלל כדי לתאר מטריצות כאלו (כמו גם את המטריצות היותר מורכבות שנקבל בהמשך).&lt;/p&gt;

&lt;p&gt;לפני שנסביר איך זה מסתדר עם המתמטיקה של התפתחות המערכת בזמן ושל מדידות, בואו נראה דוגמאות! קודם כל דוגמא פשוטה:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|0\right\rangle \left\langle 0\right|=\left(\begin{array}{c} 1\\ 0 \end{array}\right)\left(\begin{array}{cc} 1 &amp;amp; 0\end{array}\right)=\left(\begin{array}{cc} 1 &amp;amp; 0\\ 0 &amp;amp; 0 \end{array}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ובאופן דומה:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|1\right\rangle \left\langle 1\right|=\left(\begin{array}{c} 0\\ 1 \end{array}\right)\left(\begin{array}{cc} 0 &amp;amp; 1\end{array}\right)=\left(\begin{array}{cc} 0 &amp;amp; 0\\ 0 &amp;amp; 1 \end{array}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;והנה ידידנו מתחילת הפוסט:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|+\right\rangle \left\langle +\right|=\frac{1}{\sqrt{2}}\left(\begin{array}{c} 1\\ 1 \end{array}\right)\frac{1}{\sqrt{2}}\left(\begin{array}{cc} 1 &amp;amp; 1\end{array}\right)=\left(\begin{array}{cc} \frac{1}{2} &amp;amp; \frac{1}{2}\\ \frac{1}{2} &amp;amp; \frac{1}{2} \end{array}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;והנה דוגמא דומה עם שני קיוביטים, עם מי שנקרא “מצב בל” (אחד מהם, ליתר דיוק): &lt;span&gt;\( \left|\Phi^{+}\right\rangle =\frac{\left|00\right\rangle +\left|11\right\rangle }{\sqrt{2}} \)&lt;/span&gt;:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|\Phi^{+}\right\rangle \left\langle \Phi^{+}\right|=\frac{1}{\sqrt{2}}\left(\begin{array}{c} 1\\ 0\\ 0\\ 1 \end{array}\right)\frac{1}{\sqrt{2}}\left(\begin{array}{cccc} 1 &amp;amp; 0 &amp;amp; 0 &amp;amp; 1\end{array}\right)=\left(\begin{array}{cccc} \frac{1}{2} &amp;amp; 0 &amp;amp; 0 &amp;amp; \frac{1}{2}\\ 0 &amp;amp; 0 &amp;amp; 0 &amp;amp; 0\\ 0 &amp;amp; 0 &amp;amp; 0 &amp;amp; 0\\ \frac{1}{2} &amp;amp; 0 &amp;amp; 0 &amp;amp; \frac{1}{2} \end{array}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;הנה איור של מטריצת הצפיפות הזו; זה האופן שבו בדרך כלל מאיירים דברים כאלו (לפעמים עם איור נוסף, למקרה שהאיברים במטריצה הם מרוכבים):&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/2022/density_matrix.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;אני מקווה שאלו מספיק דוגמאות כדי לקבל תחושה ראשונית ואפשר לעבור לתיאוריה המתמטית.&lt;/p&gt;

&lt;p&gt;אם כדי לתאר את ההתפתחות של המערכת בהתאם לאופרטור &lt;span&gt;\( U \)&lt;/span&gt; היינו צריכים קודם לחשב מכפלה של מטריצה בוקטור, &lt;span&gt;\( \left|\psi^{\prime}\right\rangle =U\left|\psi\right\rangle  \)&lt;/span&gt;, מה הנוסחה המתאימה כדי לחשב את &lt;span&gt;\( \rho^{\prime} \)&lt;/span&gt; מתוך &lt;span&gt;\( \rho \)&lt;/span&gt;? ובכן, אם נזכור ש-&lt;span&gt;\( \left\langle \psi\right|=\left(\left|\psi\right\rangle \right)^{\dagger} \)&lt;/span&gt;, אז נקבל ש-&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left\langle \psi^{\prime}\right|=\left(\left|\psi^{\prime}\right\rangle \right)^{\dagger}=\left(U\left|\psi\right\rangle \right)^{\dagger}=\left\langle \psi\right|U^{\dagger} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;(כי ככה אלו חוקי המטריצות: &lt;span&gt;\( \left(AB\right)^{\dagger}=B^{\dagger}A^{\dagger} \)&lt;/span&gt;)&lt;/p&gt;

&lt;p&gt;ומכאן:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \rho^{\prime}=\left|\psi^{\prime}\right\rangle \left\langle \psi^{\prime}\right|=U\left|\psi\right\rangle \left\langle \psi\right|U^{\dagger}=U\rho U^{\dagger} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;הפעולה, הזו של לקחת משהו ולכפול אותו מצד אחד ב-&lt;span&gt;\( U \)&lt;/span&gt; ומצד שני ב-&lt;span&gt;\( U^{\dagger} \)&lt;/span&gt; נקראת &lt;strong&gt;הצמדה&lt;/strong&gt; והיא מאוד נפוצה במתמטיקה (בדרך כלל אמנם בגרסה שלה שבה ה-&lt;span&gt;\( U^{\dagger} \)&lt;/span&gt; הוא משמאל ולא מימין, אבל אין הבדל מהותי). אז בינתיים הכל נחמד - לקחנו פעולה טבעית בלשון וקטורים והחלפנו אותה בפעולה טבעית בלשון מטריצות.&lt;/p&gt;

&lt;p&gt;עכשיו, נניח שאנחנו מודדים מצב &lt;span&gt;\( \rho=\left|\psi\right\rangle \left\langle \psi\right| \)&lt;/span&gt;, מה ההסתברות &lt;span&gt;\( p\left(i\right) \)&lt;/span&gt; שאופרטור המדידה &lt;span&gt;\( M_{i} \)&lt;/span&gt; יעלה בגורל? אם נלך על פי הנוסחה &lt;span&gt;\( p\left(i\right)=\left\langle \psi\right|M_{i}^{\dagger}M_{i}\left|\psi\right\rangle  \)&lt;/span&gt;, לא ברור מה יש לנו לעשות - איכשהו ה-&lt;span&gt;\( \left\langle \psi\right| \)&lt;/span&gt; וה-&lt;span&gt;\( \left|\psi\right\rangle  \)&lt;/span&gt; מרוחקים מאוד זה מזה ולא ברור מה אפשר לעשות איתם… אלא אם כן אני אשלוף מהשרוול פיסת קסם של אלגברה לינארית.&lt;/p&gt;

&lt;p&gt;זוכרים איך קיבלנו &lt;span&gt;\( \left|\psi\right\rangle \left\langle \psi\right|=\left(\begin{array}{cc} \left|\alpha\right|^{2} &amp;amp; \alpha\overline{\beta}\\ \overline{\alpha}\beta &amp;amp; \left|\beta\right|^{2} \end{array}\right) \)&lt;/span&gt; ו-&lt;span&gt;\( \left\langle \psi\right|\left|\psi\right\rangle =\left|\alpha\right|^{2}+\left|\beta\right|^{2} \)&lt;/span&gt; וקראתי לראשון “מכפלה חיצונית” ולשני “מכפלה פנימית”? אם מסתכלים טיפה רואים שהמכפלה הפנימית מתחבאת בתוך &lt;span&gt;\( \left|\psi\right\rangle \left\langle \psi\right| \)&lt;/span&gt;: היא סכום אברי האלכסון הראשי של &lt;span&gt;\( \left|\psi\right\rangle \left\langle \psi\right| \)&lt;/span&gt;. “סכום אברי האלכסון הראשי” של מטריצה ריבועית &lt;span&gt;\( A \)&lt;/span&gt; הוא כזה דבר שימושי במתמטיקה שיש לו שם וסימן בפני עצמו; הוא נקרא &lt;strong&gt;העקבה&lt;/strong&gt; של &lt;span&gt;\( A \)&lt;/span&gt; ומסומן &lt;span&gt;\( \text{tr}\left(A\right)=\sum_{i=1}^{n}a_{ii} \)&lt;/span&gt;, ומה שראינו עם המכפלה הפנימית והחיצונית הוא מקרה פרטי של הטענה הכללית הבאה באלגברה לינארית: אם &lt;span&gt;\( A \)&lt;/span&gt; היא מטריצה מסדר &lt;span&gt;\( 1\times n \)&lt;/span&gt; (“וקטור שורה”) ו-&lt;span&gt;\( B \)&lt;/span&gt; היא מטריצה מסדר &lt;span&gt;\( n\times1 \)&lt;/span&gt; (“וקטור עמודה”) אז&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( AB=\text{tr}\left(BA\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ההוכחה של זה היא פשוט משחק באינדקסים:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \text{tr}\left(BA\right)=\sum_{i=1}^{n}\left[BA\right]_{ii}=\sum_{i=1}^{n}B_{i,1}A_{1,i}=AB \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;איך זה עוזר לנו? ובכן, &lt;span&gt;\( \left\langle \psi\right| \)&lt;/span&gt; הוא וקטור שורה ואילו &lt;span&gt;\( M_{i}^{\dagger}M_{i}\left|\psi\right\rangle  \)&lt;/span&gt; הוא וקטור עמודה, ולכן אפשר לבצע את החלפת המקומות הזו:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( p\left(i\right)=\left\langle \psi\right|M_{i}^{\dagger}M_{i}\left|\psi\right\rangle =\text{tr}\left(M_{i}^{\dagger}M_{i}\left|\psi\right\rangle \left\langle \psi\right|\right)=\text{tr}\left(M_{i}^{\dagger}M_{i}\rho\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;וקיבלנו גם כאן ניסוח נחמד של חישוב &lt;span&gt;\( p\left(i\right) \)&lt;/span&gt; מתוך &lt;span&gt;\( \rho \)&lt;/span&gt; שמתבסס על מושגים מוכרים באלגברה לינארית.&lt;/p&gt;

&lt;p&gt;אם אנחנו יודעים שהאופרטור &lt;span&gt;\( M_{i} \)&lt;/span&gt; עלה בגורל, אנחנו יודעים שהמצב הקוונטי עבר אל &lt;span&gt;\( \left|\psi^{i}\right\rangle =\frac{M_{i}\left|\psi\right\rangle }{\sqrt{\left\langle \psi\right|M_{i}^{\dagger}M_{i}\left|\psi\right\rangle }} \)&lt;/span&gt;. עם מה שכבר ראינו, אפשר לנסח את זה מחדש גם בלשון מטריצות:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \rho^{i}=\left|\psi^{i}\right\rangle \left\langle \psi^{i}\right|=\frac{M_{i}\left|\psi\right\rangle \left\langle \psi\right|M^{\dagger}}{\left(\sqrt{\left\langle \psi\right|M_{i}^{\dagger}M_{i}\left|\psi\right\rangle }\right)^{2}}=\frac{M_{i}\rho M_{i}^{\dagger}}{\text{tr}\left(M_{i}^{\dagger}M_{i}\rho\right)} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;וזה משלים את הניסוח מחדש של הסיטואציות שאנחנו כבר רגילים אליהן בלשון מטריצות במקום וקטורים, שזה נחמד אבל מן הסתם זו לא הפואנטה כי עם וקטורים זה נוח יותר. עכשיו אנחנו מגיעים אל הפואנטה - האופן שבו אפשר להשתמש בלשון מטריצות כדי לתאר סיטואציה הסתברותית “קלאסית” שמערבת מצבים קוונטיים. בזה אני מתכוון לכך שיש לנו מערכת קוונטית שיכולה להיות באחד מבין המצבים הקוונטיים &lt;span&gt;\( \left|\psi_{1}\right\rangle ,\left|\psi_{2}\right\rangle ,\ldots,\left|\psi_{m}\right\rangle  \)&lt;/span&gt; אבל &lt;strong&gt;אנחנו לא יודעים איזה&lt;/strong&gt;, אנחנו רק יודעים שהיא נמצאת במצב &lt;span&gt;\( \left|\psi_{k}\right\rangle  \)&lt;/span&gt; בהסתברות &lt;span&gt;\( p_{k} \)&lt;/span&gt; שהיא מספר בין 0 ל-1: &lt;span&gt;\( 0\le p_{k}\le1 \)&lt;/span&gt;, כך ש-&lt;span&gt;\( \sum_{k=1}^{m}p_{k}=1 \)&lt;/span&gt;. והאופן הפורמלי שבו אני הולך לתאר סיטואציה כזו הוא באמצעות המטריצה&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \rho=\sum_{k=1}^{m}p_{k}\left|\psi_{k}\right\rangle \left\langle \psi_{k}\right| \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ובמילים אחרות, אני לוקח את מטריצות הצפיפות של כל המצבים ולוקח את הממוצע המשוקלל שלהן, כשהמשקולות הן ההסתברויות של המצבים. כדאי כבר עכשיו להעיר שממטריצת הצפיפות שאני מקבל אני לא אוכל “לשחזר” את המצבים וההסתברויות שלהם; בהחלט אפשר יהיה לקבל את אותה מטריצת צפיפות מכמה סיטואציות שונות, אבל כל הסיטואציות הללו יהיו זהות מבחינת המשך ההתפתחות שלהן בזמן והתוצאות של מדידות אפשריות שלהן - כלומר, מטריצת הצפיפות היא דרך קומפקטית לשמור את המידע מבלי לאבד משהו מהותי.&lt;/p&gt;

&lt;p&gt;בואו נבין למה שיטת הייצוג הזו באמת עובדת. נתחיל ממה קורה כשמפעילים אופרטור &lt;span&gt;\( U \)&lt;/span&gt; על המערכת. אם, בהסתברות &lt;span&gt;\( p_{k} \)&lt;/span&gt;, המערכת שלנו הייתה במצב &lt;span&gt;\( \left|\psi_{k}\right\rangle  \)&lt;/span&gt;, אז אחרי הפעלת &lt;span&gt;\( U \)&lt;/span&gt; על המערכת אני מצפה להיות בהסתברות &lt;span&gt;\( p_{k} \)&lt;/span&gt; במצב &lt;span&gt;\( U\left|\psi_{k}\right\rangle  \)&lt;/span&gt;, כלומר אני מצפה להיות ב-&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \rho^{\prime}=\sum_{k=1}^{m}p_{k}U\left|\psi_{k}\right\rangle \left\langle \psi_{k}\right|U^{\dagger}=U\left(\sum_{k=1}^{m}p_{k}\left|\psi_{k}\right\rangle \left\langle \psi_{k}\right|\right)U^{\dagger}=U\rho U^{\dagger} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אז &lt;span&gt;\( \rho \)&lt;/span&gt;, גם כשהוא מייצג אוסף של מצבים קוונטיים, עדיין מתפתח כפי שציפינו על ידי הפעלת &lt;span&gt;\( U \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;כעת, מה אם מנסים למדוד את &lt;span&gt;\( \rho \)&lt;/span&gt; כשהוא מייצג אוסף? מה ההסתברות &lt;span&gt;\( p\left(i\right) \)&lt;/span&gt; לקבל את התוצאה שמתאימה ל-&lt;span&gt;\( M_{i} \)&lt;/span&gt;? כמובן, זה תלוי באיזה מצב המערכת נמצאת. כבר ראינו שאם היא במצב &lt;span&gt;\( \left|\psi_{k}\right\rangle  \)&lt;/span&gt;, ההסתברות לקבל את &lt;span&gt;\( M_{i} \)&lt;/span&gt; היא &lt;span&gt;\( \text{tr}\left(M_{i}^{\dagger}M_{i}\left|\psi_{k}\right\rangle \left\langle \psi_{k}\right|\right) \)&lt;/span&gt;. לכן:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( p\left(i|k\right)=\text{tr}\left(M_{i}^{\dagger}M_{i}\left|\psi_{k}\right\rangle \left\langle \psi_{k}\right|\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כאן אני משתמש בנוסחה להסתברות &lt;strong&gt;מותנית&lt;/strong&gt;. בואו ניזכר שניה איך זה עובד באופן כללי: אם במרחב ההסתברות שלנו יש שני מאורעות, &lt;span&gt;\( A,B \)&lt;/span&gt;, אז&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( p\left(A|B\right)=\frac{p\left(A\cap B\right)}{p\left(B\right)} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כאן אפשר לחשוב על מרחב ההסתברות שלנו כאילו הוא מתאר סדרה של שתי הגרלות: בהגרלה הראשונה נבחר מצב &lt;span&gt;\( \left|\psi_{k}\right\rangle  \)&lt;/span&gt; באקראי, ובהגרלה השניה, שתלויה בראשונה, נבחר אופרטור מדידה &lt;span&gt;\( M_{i} \)&lt;/span&gt;. כלומר, מרחב ההסתברות שלנו כולל זוגות &lt;span&gt;\( \left(k,i\right) \)&lt;/span&gt; של תוצאות אפשריות, והמאורע “&lt;span&gt;\( \left|\psi_{k}\right\rangle  \)&lt;/span&gt; נבחר” הוא בעצם הקבוצה &lt;span&gt;\( \left\{ \left(k,i\right)\ |\ 1\le i\le t\right\}  \)&lt;/span&gt; (כאן &lt;span&gt;\( t \)&lt;/span&gt; הוא מספר תוצאות המדידה האפשריות).&lt;/p&gt;

&lt;p&gt;הסתברות מותנית מאפשרת לנו, כשאנחנו מנסים לחשב את ההסתברות של מאורע מסובך &lt;span&gt;\( A \)&lt;/span&gt;, לחלק את המרחב לפיסות נוחות לעיכול, &lt;span&gt;\( B_{1},\ldots,B_{m} \)&lt;/span&gt; שקל לחשב את &lt;span&gt;\( p\left(A|B_{k}\right) \)&lt;/span&gt; לכל אחת מהן, ואז לחבר את כל הפיסות הללו כדי לקבל את &lt;span&gt;\( p\left(A\right) \)&lt;/span&gt; המקורית. זה עובד כאשר מרחב ההסתברות שלנו הוא &lt;strong&gt;איחוד זר&lt;/strong&gt; של כל ה-&lt;span&gt;\( B_{k} \)&lt;/span&gt;-ים הללו (כולם קבוצות זרות, והאיחוד שלהם נותן את כל מרחב ההסתברות). במקרה הזה מתקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( p\left(A\right)=\sum_{k=1}^{m}p\left(A|B_{k}\right)p\left(B_{k}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;זה נקרא &lt;strong&gt;נוסחת ההסתברות השלמה&lt;/strong&gt; וההוכחה פשוט מתבססת על כך ש-&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \sum_{k=1}^{m}p\left(A|B_{k}\right)p\left(B_{k}\right)=\sum_{k=1}^{m}p\left(A\cap B_{k}\right)=p\left(A\cap\bigcup_{k=1}^{m}B_{k}\right)=p\left(A\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;תוך שאנחנו משתמשים כאן באופן שבו הסתברות של איחוד מאורעות זרים הופכת לסכום ההסתברויות שלהם.&lt;/p&gt;

&lt;p&gt;אם נחזור לענייננו, קיבלתי&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( p\left(i|k\right)=\text{tr}\left(M_{i}^{\dagger}M_{i}\left|\psi_{k}\right\rangle \left\langle \psi_{k}\right|\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;והמאורעות “&lt;span&gt;\( \left|\psi_{k}\right\rangle  \)&lt;/span&gt; נבחר” הם בוודאי זרים, ולכן&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( p\left(i\right)=\sum_{k=1}^{m}p\left(i|k\right)p\left(k\right)=\sum_{k=1}^{m}p_{k}\text{tr}\left(M_{i}^{\dagger}M_{i}\left|\psi_{k}\right\rangle \left\langle \psi_{k}\right|\right)= \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( =\text{tr}\left(M_{i}^{\dagger}M_{i}\sum_{k=1}^{m}p_{k}\left|\psi_{k}\right\rangle \left\langle \psi_{k}\right|\right)=\text{tr}\left(M_{i}^{\dagger}M_{i}\rho\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כשהמעבר הלפני אחרון מתבסס על קסם אלגברה לינארית - שפונקציית העקבה &lt;span&gt;\( \text{tr} \)&lt;/span&gt; היא לינארית בעצמה (אפשר לראות את זה מחישוב ישיר).&lt;/p&gt;

&lt;p&gt;גם פה -הגענו אל אותה נוסחה כמו קודם, רק שעכשיו היא תקפה גם למקרה של אוסף מצבים קוונטיים.&lt;/p&gt;

&lt;p&gt;הדבר הבא שהראיתי היה לאן עוברים אחרי מדידה אם &lt;strong&gt;ידוע&lt;/strong&gt; ש-&lt;span&gt;\( M_{i} \)&lt;/span&gt; עלה בגורל: המצב &lt;span&gt;\( \left|\psi^{i}\right\rangle =\frac{M_{i}\left|\psi\right\rangle }{\sqrt{\left\langle \psi\right|M_{i}^{\dagger}M_{i}\left|\psi\right\rangle }} \)&lt;/span&gt;. אם יש לנו אוסף של מצבים קוונטיים, אני מסמן ב-&lt;span&gt;\( \left|\psi_{k}^{i}\right\rangle  \)&lt;/span&gt; את “המצב שאליו המערכת עוברת אם הייתה במצב &lt;span&gt;\( \left|\psi_{k}\right\rangle  \)&lt;/span&gt; ואז עלתה בגורל תוצאת המדידה &lt;span&gt;\( M_{i} \)&lt;/span&gt;” (שימו לב שהמצבים הללו לא בהכרח שונים זה מזה, אבל זו לא בעיה, לא הייתה לי דרישה כזו). במילים אחרות, ההסתברות להיות ב-&lt;span&gt;\( \left|\psi_{k}^{i}\right\rangle  \)&lt;/span&gt; היא &lt;span&gt;\( p\left(i,k\right) \)&lt;/span&gt;. אבל השאלה שאני שואל כרגע היא מה ההסתברות להיות ב-&lt;span&gt;\( \left|\psi_{k}^{i}\right\rangle  \)&lt;/span&gt; &lt;strong&gt;אם ידוע&lt;/strong&gt; ש-&lt;span&gt;\( M_{i} \)&lt;/span&gt; עלה בגורל, כלומר “אם ידוע ש-&lt;span&gt;\( M_{i} \)&lt;/span&gt; עלה בגורל, מה ההסתברות שמלכתחילה היינו במצב &lt;span&gt;\( \left|\psi_{k}\right\rangle  \)&lt;/span&gt;”, כלומר &lt;span&gt;\( p\left(k|i\right) \)&lt;/span&gt;, שהוא ההפך מ-&lt;span&gt;\( p\left(i|k\right) \)&lt;/span&gt; שכבר חישבתי.&lt;/p&gt;

&lt;p&gt;עכשיו, הנה טריק יעיל שנקרא “כלל בייס”: מכיוון ש-&lt;span&gt;\( p\left(A|B\right)=\frac{p\left(A\cap B\right)}{p\left(B\right)} \)&lt;/span&gt; אפשר לכתוב &lt;span&gt;\( p\left(A|B\right)p\left(B\right)=p\left(A\cap B\right) \)&lt;/span&gt;. אבל באותה צורה ממש מקבלים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( p\left(B|A\right)p\left(A\right)=p\left(A\cap B\right)=p\left(A|B\right)p\left(B\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ולכן:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( p\left(A|B\right)=\frac{p\left(B|A\right)p\left(A\right)}{p\left(B\right)} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כלומר, זו שיטה להפוך את ההסתברות של א’ שמותנה בקיום ב’, להסתברות של ב’ שמותנה בקיום א’. בפרט, בסיטואציות כמו הנוכחית שבה אנחנו חושבים על המאורעות בתור “מה שבא קודם” ו”מה שבא אחר כך”, היא מאפשרת לעבור מהשאלה היותר אינטואיטיבית “בהינתן שקרה משהו, מה ההסתברות שינבע מכך משהו אחר בעתיד” אל השאלה הטריקית יותר “בהינתן שקרה משהו, מה ההסתברות שבעבר התרחש משהו שממנו זה נבע” (הסתברות א-פריורית אל מול הסתברות א-פוסטריורית).&lt;/p&gt;

&lt;p&gt;עבורנו מה שמתקבל מכל זה כשאנחנו מתעסקים עם &lt;span&gt;\( \rho=\sum_{k=1}^{m}p_{k}\left|\psi_{k}\right\rangle \left\langle \psi_{k}\right| \)&lt;/span&gt; הוא&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( p\left(k|i\right)=\frac{p\left(i|k\right)p\left(k\right)}{p\left(i\right)}=p_{k}\frac{\text{tr}\left(M_{i}^{\dagger}M_{i}\left|\psi_{k}\right\rangle \left\langle \psi_{k}\right|\right)}{\text{tr}\left(M_{i}^{\dagger}M_{i}\rho\right)} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו, המטרה שלי היא להבין לאן &lt;span&gt;\( \rho \)&lt;/span&gt; עברה אחרי המדידה בהינתן ש-&lt;span&gt;\( M_{i} \)&lt;/span&gt; עלה בגורל; מה התפלגות המצבים החדשה, כלומר מהו&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \rho^{i}=\sum_{k=1}^{m}p\left(k|i\right)\left|\psi_{k}^{i}\right\rangle \left\langle \psi_{k}^{i}\right| \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;בואו נפשט את הנוסחה הזו. כזכור, &lt;span&gt;\( \left|\psi_{k}^{i}\right\rangle =\frac{M_{i}\left|\psi_{k}\right\rangle }{\sqrt{\left\langle \psi_{k}\right|M_{i}^{\dagger}M_{i}\left|\psi_{k}\right\rangle }} \)&lt;/span&gt; ולכן, כפי שכבר ראינו קודם,&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|\psi_{k}^{i}\right\rangle \left\langle \psi_{k}^{i}\right|=\frac{M_{i}\left|\psi_{k}\right\rangle \left\langle \psi_{k}\right|M_{i}^{\dagger}}{\text{tr}\left(M_{i}^{\dagger}M_{i}\left|\psi_{k}\right\rangle \left\langle \psi_{k}\right|\right)} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;שימו לב שהמונה של &lt;span&gt;\( p\left(k|i\right) \)&lt;/span&gt; והמכנה של &lt;span&gt;\( \left|\psi_{k}^{i}\right\rangle \left\langle \psi_{k}^{i}\right| \)&lt;/span&gt; מבטלים זה את זה! בזכות זה, אם נציב את שניהם בנוסחה &lt;span&gt;\( \rho^{i}=\sum_{k=1}^{m}p\left(k|i\right)\left|\psi_{k}^{i}\right\rangle \left\langle \psi_{k}^{i}\right| \)&lt;/span&gt;, נקבל&lt;/p&gt;

&lt;p&gt;ואם נציב את מה שכבר מצאנו בנוסחה הזו, נקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \rho^{i}=\sum_{k=1}^{m}p_{k}\frac{M_{i}\left|\psi_{k}\right\rangle \left\langle \psi_{k}\right|M_{i}^{\dagger}}{\text{tr}\left(M_{i}^{\dagger}M_{i}\rho\right)}=\frac{M_{i}\sum_{k=1}^{m}p_{k}\left|\psi_{k}\right\rangle \left\langle \psi_{k}\right|M_{i}^{\dagger}}{\text{tr}\left(M_{i}^{\dagger}M_{i}\rho\right)}=\frac{M_{i}\rho M_{i}^{\dagger}}{\text{tr}\left(M_{i}^{\dagger}M_{i}\rho\right)} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ושוב - קיבלנו את אותה נוסחה גם עבור מקבץ מצבים קוונטיים ולא מצב בודד. זה משלים את הכללת הפורמליזם של חישוב קוונטי מוקטורים שמייצגים מצב בודד, אל מטריצות צפיפות שמייצגות מקבץ של מצבים.&lt;/p&gt;

&lt;p&gt;אבל לא סיימנו, עכשיו מגיע הקטע הכי נחמד! עד עכשיו תיארתי מה קורה עם מדידה שבה אנחנו מגרילים תוצאה ואז שואלים את עצמנו - בהינתן שקיבלנו את התוצאה &lt;span&gt;\( M_{i} \)&lt;/span&gt;, לאן עברנו? אבל עכשיו אפשר לדבר על השאלה - מה קורה אם אנחנו מבצעים מדידה ו&lt;strong&gt;לא יודעים&lt;/strong&gt; מה התוצאה? זה מה שאיתו פתחנו.&lt;/p&gt;

&lt;p&gt;אינטואיטיבית, מה שקורה במקרה הזה הוא שאנחנו עוברים לסיטואציה הסתברותית קלאסית: אם בהסתברות &lt;span&gt;\( p\left(i\right) \)&lt;/span&gt; עברנו מהמקבץ &lt;span&gt;\( \rho \)&lt;/span&gt; אל המקבץ &lt;span&gt;\( \rho^{i} \)&lt;/span&gt;, אז עברנו אל מקבץ &lt;span&gt;\( \rho^{\prime} \)&lt;/span&gt; שמורכב מכל המקבצים &lt;span&gt;\( \rho^{i} \)&lt;/span&gt; הללו יחד, כשההסתברות של כל איבר במקבץ &lt;span&gt;\( \rho^{i} \)&lt;/span&gt; מוכפלת ב-&lt;span&gt;\( p\left(i\right) \)&lt;/span&gt; (כי עכשיו יש לנו תהליך דו-שלבי לקבלת איבר במקבץ &lt;span&gt;\( \rho^{\prime} \)&lt;/span&gt;: ראשית מגרילים &lt;span&gt;\( \rho^{i} \)&lt;/span&gt; ואז מגרילים איבר מתוכו). כלומר&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \rho^{\prime}=\sum_{i=1}^{t}p\left(i\right)\rho^{i} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אבל כבר חישבנו את &lt;span&gt;\( p\left(i\right),\rho^{i} \)&lt;/span&gt;! נציב אותם בנוסחה ונקבל שוב ביטול הדדי נחמד:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \rho^{\prime}=\sum_{i=1}^{t}p\left(i\right)\rho^{i}=\sum_{i=1}^{t}\text{tr}\left(M_{i}^{\dagger}M_{i}\rho\right)\frac{M_{i}\rho M_{i}^{\dagger}}{\text{tr}\left(M_{i}^{\dagger}M_{i}\rho\right)}=\sum_{i=1}^{t}M_{i}\rho M_{i}^{\dagger} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;זו כנראה הנוסחה הפשוטה והיפה ביותר כאן, והיא הראשונה שבאמת מהווה משהו חדש - האופן שבו מערכת קוונטית מתפתחת בזמן תחת פעולת מדידה עם תוצאות לא ידועות. בואו נראה איך זה נותן לנו את הדוגמא מתחילת הפוסט.&lt;/p&gt;

&lt;p&gt;את הפוסט התחלנו עם המצב &lt;span&gt;\( \left|+\right\rangle  \)&lt;/span&gt;, שמתורגם למטריצת הצפיפות&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \rho=\left|+\right\rangle \left\langle +\right|\frac{1}{\sqrt{2}}\left(\begin{array}{c} 1\\ 1 \end{array}\right)\frac{1}{\sqrt{2}}\left(\begin{array}{cc} 1 &amp;amp; 1\end{array}\right)=\left(\begin{array}{cc} \frac{1}{2} &amp;amp; \frac{1}{2}\\ \frac{1}{2} &amp;amp; \frac{1}{2} \end{array}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אנחנו מודדים את &lt;span&gt;\( \rho \)&lt;/span&gt; בבסיס &lt;span&gt;\( Z \)&lt;/span&gt;, כלומר עם אופרטורי המדידה&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( M_{0}=\left(\begin{array}{cc} 1 &amp;amp; 0\\ 0 &amp;amp; 0 \end{array}\right),M_{1}=\left(\begin{array}{cc} 0 &amp;amp; 0\\ 0 &amp;amp; 1 \end{array}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;לאן &lt;span&gt;\( \rho \)&lt;/span&gt; יעבור אם אנחנו לא יודעים את תוצאת המדידה?&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \rho^{\prime}=M_{0}\rho M_{0}^{\dagger}+M_{1}\rho M_{1}^{\dagger}= \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( =\left(\begin{array}{cc} 1 &amp;amp; 0\\ 0 &amp;amp; 0 \end{array}\right)\left(\begin{array}{cc} \frac{1}{2} &amp;amp; \frac{1}{2}\\ \frac{1}{2} &amp;amp; \frac{1}{2} \end{array}\right)\left(\begin{array}{cc} 1 &amp;amp; 0\\ 0 &amp;amp; 0 \end{array}\right)+\left(\begin{array}{cc} 0 &amp;amp; 0\\ 0 &amp;amp; 1 \end{array}\right)\left(\begin{array}{cc} \frac{1}{2} &amp;amp; \frac{1}{2}\\ \frac{1}{2} &amp;amp; \frac{1}{2} \end{array}\right)\left(\begin{array}{cc} 0 &amp;amp; 0\\ 0 &amp;amp; 1 \end{array}\right)= \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( =\left(\begin{array}{cc} \frac{1}{2} &amp;amp; 0\\ 0 &amp;amp; \frac{1}{2} \end{array}\right)=\frac{1}{2}\left(\begin{array}{cc} 1 &amp;amp; 0\\ 0 &amp;amp; 0 \end{array}\right)+\frac{1}{2}\left(\begin{array}{cc} 0 &amp;amp; 0\\ 0 &amp;amp; 1 \end{array}\right)=\frac{1}{2}\left|0\right\rangle \left\langle 0\right|+\frac{1}{2}\left|1\right\rangle \left\langle 1\right| \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;והנה, קיבלנו באופן פורמלי את “בהסתברות &lt;span&gt;\( \frac{1}{2} \)&lt;/span&gt; הקיוביט במצב &lt;span&gt;\( \left|0\right\rangle  \)&lt;/span&gt; ובהסתברות &lt;span&gt;\( \frac{1}{2} \)&lt;/span&gt; הקיוביט במצב &lt;span&gt;\( \left|1\right\rangle  \)&lt;/span&gt;” וסגרנו מעגל עם תחילת הפוסט.&lt;/p&gt;

&lt;h2&gt;מה זה מטריצות צפיפות ואיך מגיעים אליהן בלי וקטורי מצב?&lt;/h2&gt;

&lt;p&gt;עד עכשיו הצגתי מטריצות צפיפות בתור הכללה של וקטורי מצב, אבל האם היה אפשר גם אחרת? האם בתיאוריה הייתי יכול להתחיל את התיאור של הפורמליזם המתמטי של חישוב קוונטי בלי לדבר על וקטורים בכלל, רק על מטריצות? התשובה היא “כן”, אבל צריך להיות זהירים; כשם שלא כל וקטור הוא וקטור מצב, גם לא כל מטריצה היא מטריצת צפיפות.&lt;/p&gt;

&lt;p&gt;ראשית, זוכרים איך וקטור &lt;span&gt;\( \left|\psi\right\rangle  \)&lt;/span&gt; שהוא וקטור מצב חייב להיות מנורמה 1, כלומר לקיים &lt;span&gt;\( \left\langle \psi\right|\left|\psi\right\rangle =1 \)&lt;/span&gt;? וזוכרים איך אפשר להחליף את הסדר בין המוכפלים אם משתמשים ב-tr? אז&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \text{tr}\left(\left|\psi\right\rangle \left\langle \psi\right|\right)=\left\langle \psi\right|\left|\psi\right\rangle =1 \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ועכשיו, עבור &lt;span&gt;\( \rho=\sum_{k=1}^{m}p_{k}\left|\psi_{k}\right\rangle \left\langle \psi_{k}\right| \)&lt;/span&gt; כללי:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \text{tr}\left(\rho\right)=\text{tr}\left(\sum_{k=1}^{m}p_{k}\left|\psi_{k}\right\rangle \left\langle \psi_{k}\right|\right)=\sum_{k=1}^{m}p_{k}\text{tr}\left(\left|\psi_{k}\right\rangle \left\langle \psi_{k}\right|\right)=\sum_{k=1}^{m}p_{k}=1 \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כלומר, אם מטריצה &lt;span&gt;\( \rho \)&lt;/span&gt; רוצה להיות מטריצת צפיפות, ברור שהיא &lt;strong&gt;חייבת&lt;/strong&gt; לקיים &lt;span&gt;\( \text{tr}\left(\rho\right)=1 \)&lt;/span&gt;. אבל זה לא מספיק. יש עוד תכונה מהותית ש-&lt;span&gt;\( \rho \)&lt;/span&gt; מקיימת, ונובעת מהסימטריה של &lt;span&gt;\( \left|\psi\right\rangle \left\langle \psi\right| \)&lt;/span&gt;. אבל בשביל להבין מאיפה התכונה הזו מגיעה אולי שווה לתת טיפה רקע.&lt;/p&gt;

&lt;p&gt;באלגברה לינארית הפעולה הבסיסית שמעניינת אותנו היא &lt;strong&gt;טרנספורמציה לינארית&lt;/strong&gt;, פונקציה &lt;span&gt;\( T:V\to W \)&lt;/span&gt; שהיא לינארית, כלומר מקיימת &lt;span&gt;\( T\left(u+v\right)=T\left(u\right)+T\left(v\right) \)&lt;/span&gt;, ו-&lt;span&gt;\( T\left(\lambda v\right)=\lambda T\left(v\right) \)&lt;/span&gt;. זו תכונה כל כך יפה, שממנה נגזר שאפשר לתאר כל טרנספורמציה לינארית באמצעות הפעולה הפשוטה יחסית של כפל מטריצה בוקטור: קיימת מטריצה &lt;span&gt;\( A_{T} \)&lt;/span&gt; כך ש-&lt;span&gt;\( T\left(v\right)=A_{T}\cdot v \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;אפשר לקחת את זה לשלב הבא ולדבר על העתקה &lt;strong&gt;בילינארית&lt;/strong&gt;, שהיא פונקציה &lt;span&gt;\( B:V\times U\to W \)&lt;/span&gt; בשני משתנים שהיא לינארית בכל משתנה לחוד, כלומר&lt;/p&gt;

&lt;ol&gt; &lt;li&gt;&lt;span&gt;\( B\left(v_{1}+v_{2},u\right)=B\left(v_{1},u\right)+B\left(v_{2},u\right) \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( B\left(v,u_{1}+u_{2}\right)=B\left(v,u_{1}\right)+B\left(v,u_{2}\right) \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( B\left(\lambda v,u\right)=\lambda B\left(v,u\right) \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( B\left(v,\lambda u\right)=\lambda B\left(v,u\right) \)&lt;/span&gt;&lt;/li&gt;

&lt;/ol&gt;

&lt;p&gt;במקרה שבו &lt;span&gt;\( V=U \)&lt;/span&gt; ו-&lt;span&gt;\( W=\mathbb{F} \)&lt;/span&gt;, כלומר &lt;span&gt;\( B \)&lt;/span&gt; מעתיקה זוגות של איברים מ-&lt;span&gt;\( V \)&lt;/span&gt; אל איבר כלשהו בשדה ש-&lt;span&gt;\( V \)&lt;/span&gt; חי מעליו, קוראים ל-&lt;span&gt;\( B \)&lt;/span&gt; &lt;strong&gt;תבנית בילינארית&lt;/strong&gt;, וכמו שאפשר לייצג פונקציה לינארית עם מטריצה, אפשר לייצג תבנית בילינארית עם מטריצה. ספציפית, קיימת מטריצה &lt;span&gt;\( A \)&lt;/span&gt; כך ש-&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( B\left(v,u\right)=v^{T}Au \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;(אני מחפף פה ומניח שהוקטורים של &lt;span&gt;\( V \)&lt;/span&gt; הם מראש וקטורי עמודה; בפועל צריך לקחת בסיס ל-&lt;span&gt;\( V \)&lt;/span&gt; ואת וקטורי הקואורדינטות של &lt;span&gt;\( v,u \)&lt;/span&gt; אבל נעזוב את זה).&lt;/p&gt;

&lt;p&gt;כשאנחנו מעל &lt;span&gt;\( \mathbb{F}=\mathbb{R} \)&lt;/span&gt;, אפשר לחשוב על &lt;strong&gt;מכפלה פנימית&lt;/strong&gt; בתור מקרה פרטי מעניין של תבנית בילינארית. מעל המרוכבים זה טיפה יותר מסובך - אנחנו צריכים לדבר על משהו שנקרא &lt;strong&gt;תבנית הרמיטית&lt;/strong&gt;, שמקיימת את תכונות 1-3 שהראיתי קודם, אבל 4 מוחלפת ב-&lt;span&gt;\( B\left(v,\lambda u\right)=\overline{\lambda}B\left(v,u\right) \)&lt;/span&gt;, ובנוסף יש דרישה של מעין אנטי-סימטריות: &lt;span&gt;\( B\left(u,v\right)=\overline{B\left(v,u\right)} \)&lt;/span&gt;. מטריצה &lt;span&gt;\( A \)&lt;/span&gt; מייצגת את &lt;span&gt;\( B \)&lt;/span&gt; על ידי המשוואה הטיפה שונה&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( B\left(v,u\right)=v^{\dagger}A\overline{u} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אבל כדי שתבנית הרמיטית תהיה מכפלה פנימית, על כל הדברים הנחמדים שנובעים מכך, יש עוד תכונה אחת שהיא חייבת לקיים: &lt;strong&gt;חיוביות&lt;/strong&gt;. לכל &lt;span&gt;\( v\ne0 \)&lt;/span&gt; צריך להתקיים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( B\left(v,v\right)&amp;gt;0 \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו, כשאנחנו חושבים על &lt;span&gt;\( B \)&lt;/span&gt; בתור משהו שמיוצג עם המטריצה &lt;span&gt;\( A \)&lt;/span&gt;, לאיזו דרישה על &lt;span&gt;\( A \)&lt;/span&gt; החיוביות מתורגמת? לכך שאם &lt;span&gt;\( v\ne0 \)&lt;/span&gt; אז יתקיים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( v^{T}A\overline{v}&amp;gt;0 \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;את הדרישה הזו אני יכול לנסח בצורה יותר נחמדה עבורנו אם אחליף את &lt;span&gt;\( v \)&lt;/span&gt; ב-&lt;span&gt;\( \overline{v} \)&lt;/span&gt; (זה לא משנה, כי אני עובר על כל ה-&lt;span&gt;\( v\ne0 \)&lt;/span&gt;) ואקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( v^{\dagger}Av&amp;gt;0 \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;מטריצה &lt;span&gt;\( A \)&lt;/span&gt; שמקיימת את התכונה הזו נקראת &lt;strong&gt;מטריצה חיובית&lt;/strong&gt; (positive definite), וזו גם בדיוק התכונה שאני הולך לדרוש מ-&lt;span&gt;\( \rho \)&lt;/span&gt; שלנו שמתיימרת לייצג מצב קוונטי, בנוסף לדרישה שכבר ראינו ש-&lt;span&gt;\( \text{tr}\left(\rho\right)=1 \)&lt;/span&gt;. בואו נבין למה זה מתקיים אם &lt;span&gt;\( \rho \)&lt;/span&gt; הגיעה מוקטורים, כלומר היא מהצורה&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \rho=\sum_{k=1}^{m}p_{k}\left|\psi_{k}\right\rangle \left\langle \psi_{k}\right| \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אנחנו לוקחים וקטור שונה מאפס כלשהו, &lt;span&gt;\( v=\left|\varphi\right\rangle  \)&lt;/span&gt;, ומחשבים את &lt;span&gt;\( v^{\dagger}\rho v \)&lt;/span&gt;, כלומר את&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left\langle \varphi\right|\rho\left|\varphi\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו, עבור המקרה הפשוט שבו &lt;span&gt;\( \rho=\left|\psi\right\rangle \left\langle \psi\right| \)&lt;/span&gt; נקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left\langle \varphi\right|\rho\left|\varphi\right\rangle =\left\langle \varphi\right|\left|\psi\right\rangle \left\langle \psi\right|\left|\varphi\right\rangle =\left|\left\langle \varphi,\psi\right\rangle \right|^{2}&amp;gt;0 \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;(כאשר כאן התוצאה התקבלה כי המכפלה הפנימית הרגילה מעל &lt;span&gt;\( \mathbb{C} \)&lt;/span&gt; היא חיובית)&lt;/p&gt;

&lt;p&gt;ומכאן להכללה עבור סכום מהצורה &lt;span&gt;\( \rho=\sum_{k=1}^{m}p_{k}\left|\psi_{k}\right\rangle \left\langle \psi_{k}\right| \)&lt;/span&gt; הדרך טריוויאלית:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left\langle \varphi\right|\rho\left|\varphi\right\rangle =\sum_{k=1}^{m}p_{k}\left|\left\langle \varphi,\psi_{k}\right\rangle \right|^{2}&amp;gt;0 \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו אפשר לשכוח לחלוטין מוקטורי מצב ולנסח מחדש את עקרונות הבסיס של חישוב קוונטי בעזרת מטריצות צפיפות; אבל אני אעבור לדבר על &lt;strong&gt;אופרטור צפיפות&lt;/strong&gt;, כי לדבר על מטריצה מניח במובלע בסיס (אין כזו הבדלה בשפה כשמדברים על וקטורים - המילה “וקטור” מתארת גם אובייקט כללי של מרחב וקטורי וגם את וקטור השורה שאיבריו הם אברי השדה, ולכן לא צצה הבחנה כזו קודם). מי שרגילות לאלגברה לינארית כבר יודעות שאת רוב מה שאפשר לומר על מטריצות, אפשר לומר על אופרטורים - פשוט לוקחים בסיס כלשהו ומוודאים שהמטריצה המייצגת של האופרטור בבסיס הזה מקיימת את התכונה הזו (מן הסתם זה דורש שהתכונה לא תהיה תלויה בבחירת הבסיס, ולמרבה המזל זה מה שקורה עם התכונות המעניינות באלגברה לינארית).&lt;/p&gt;

&lt;p&gt;אם כן, בחישוב קוונטי אנחנו מתארים מערכת קוונטית מסויימת בעזרת מרחב הילברט &lt;span&gt;\( \mathcal{H} \)&lt;/span&gt;, כך שמצב המערכת בכל רגע נתון הוא אופרטור &lt;span&gt;\( \rho:\mathcal{H}\to\mathcal{H} \)&lt;/span&gt; שמקיים&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;&lt;span&gt;\( \text{tr}\left(\rho\right)=1 \)&lt;/span&gt;.&lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( \rho \)&lt;/span&gt; הוא אופרטור חיובי.&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;ואם המערכת נמצאת בהסתברות &lt;span&gt;\( p_{k} \)&lt;/span&gt; במצב &lt;span&gt;\( \rho_{k} \)&lt;/span&gt; אז המצב שלה הוא &lt;span&gt;\( \rho=\sum_{k}p_{k}\rho_{k} \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;בהינתן אופרטור אוניטרי &lt;span&gt;\( U:\mathcal{H}\to\mathcal{H} \)&lt;/span&gt;, ניתן להפעיל אותו על המערכת כדי לשנות את מצבה:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \rho\mapsto U\rho U^{\dagger} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ובהינתן אוסף של אופרטורי מדידה &lt;span&gt;\( \left\{ M_{0},\ldots,M_{t}\right\}  \)&lt;/span&gt; מעל &lt;span&gt;\( \mathcal{H} \)&lt;/span&gt; שהדרישה היחידה עליהם היא שיתקיים &lt;span&gt;\( \sum_{i=0}^{t}M_{i}^{\dagger}M_{i}=I \)&lt;/span&gt;, ניתן למדוד את המערכת במצב &lt;span&gt;\( \rho \)&lt;/span&gt; ולקבל את התוצאה &lt;span&gt;\( M_{i} \)&lt;/span&gt; בהסתברות&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( p\left(i\right)=\text{tr}\left(M_{i}^{\dagger}M_{i}\rho\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ואם התקבלה תוצאה זו, המערכת עוברת למצב&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \rho\mapsto\frac{M_{i}\rho M_{i}^{\dagger}}{\text{tr}\left(M_{i}^{\dagger}M_{i}\rho\right)} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;זה מסיים את ההגדרה, וכפי שראינו, תוצאה מיידית ממנה היא שאם מודדים את המערכת בעזרת &lt;span&gt;\( \left\{ M_{0},\ldots,M_{t}\right\}  \)&lt;/span&gt; אבל תוצאת המדידה אינה ידועה לנו, המערכת עוברת מבחינתנו למצב&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \rho\mapsto\sum_{i=0}^{t}M_{i}\rho M_{i}^{\dagger} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ייתכן מאוד שכבר שמתם לב שאם “מודדים” את המערכת באמצעות אופרטור מדידה בודד, &lt;span&gt;\( \left\{ U\right\}  \)&lt;/span&gt;, שהוא אוניטרי, השינוי של המערכת עקב ה”מדידה” הזו הוא&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \rho\mapsto U\rho U^{\dagger} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כלומר, השינוי ה”רגיל”. של מצב המערכת. רק שעכשיו יש לנו קבוצה גדולה בהרבה של שינויים אפשריים, ואנחנו רוצים להבין אותה יותר טוב - למה? לא רק כי הם מייצגים מדידות, אלא גם כי הם מייצגים &lt;strong&gt;רעשים&lt;/strong&gt;, שאפשר לחשוב עליהם בדיוק בתור “מדידות שלא אומרים לנו את התוצאה שלהן” ו”מדידות שמבוצעות באופן אקראי”. בשביל לתאר את הדברים הללו אנחנו כבר חייבים את הפורמליזם של מטריצת הצפיפיות, מה שמצדיק את כל הפוסט הזה. אבל מה בדיוק מאפיין את קבוצת כל השינויים האפשריים הללו ואיך מייצגים איברים שלה? על זה נדבר בפוסט הבא.&lt;/p&gt;</content><author><name></name></author><category term="מטריצת צפיפות" /><summary type="html">מה זה מטריצות צפיפות ואיך מגיעים אליהן מוקטורי מצב?</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://gadial.net/2022/density_matrix.png" /></entry><entry><title type="html">חישוב קוונטי: האלגוריתם של שור</title><link href="http://gadial.net/2022/09/30/shor_algorithm_revisit/" rel="alternate" type="text/html" title="חישוב קוונטי: האלגוריתם של שור" /><published>2022-09-30T00:00:00+00:00</published><updated>2022-09-30T00:00:00+00:00</updated><id>http://gadial.net/2022/09/30/shor_algorithm_revisit</id><content type="html" xml:base="http://gadial.net/2022/09/30/shor_algorithm_revisit/">&lt;h2&gt;מבוא&lt;/h2&gt;

&lt;p&gt;סדרת הפוסטים הקודמת שלי על חישוב קוונטי הסתיימה &lt;a href=&quot;https://gadial.net/2014/08/24/shor_algorithm/&quot;&gt;בפוסט גדול על האלגוריתם של שור&lt;/a&gt;. אני חושב שהגיע הזמן לתת עוד סיבוב, עם פוסט שייתן מבט רחב יותר על מה הרעיון הכללי של האלגוריתם ואיך הוא עובד, ויוותר על חלק מהפרטים הקטנים שכבר הוכחתי בפוסט המקורי ההוא. היתרון הגדול שלי עכשיו על פני הסיבוב הקודם הוא שכבר היו לי פוסטים נפרדים על &lt;a href=&quot;https://gadial.net/2022/09/01/quantum_fourier_transform/&quot;&gt;התמרת פורייה הקוונטית&lt;/a&gt; ועל &lt;a href=&quot;https://gadial.net/2022/09/06/phase_estimation_algorithm/&quot;&gt;אלגוריתם הערכת פאזה&lt;/a&gt;, שהם הרכיבים הקוונטיים המרכזיים של האלגוריתם, והיכרות איתם מאפשרת להסתכל עליו “ממעוף הציפור”, מה שבלתי אפשרי בלעדיהם.&lt;/p&gt;

&lt;p&gt;אז בואו נתחיל עם מעוף הציפור הזה. ראשית, הבעיה שאלגוריתם שור בא לפתור היא בעיית &lt;strong&gt;הפירוק לגורמים&lt;/strong&gt;: נתון לנו מספר טבעי &lt;span&gt;\( N \)&lt;/span&gt;, ואנחנו מחפשים מספר טבעי &lt;span&gt;\( 1&amp;lt;d&amp;lt;N \)&lt;/span&gt; כך ש-&lt;span&gt;\( d \)&lt;/span&gt; מחלק את &lt;span&gt;\( N \)&lt;/span&gt;. למשל עבור &lt;span&gt;\( N=15 \)&lt;/span&gt; אנחנו נשמח לקבל את &lt;span&gt;\( d=3 \)&lt;/span&gt; או &lt;span&gt;\( d=5 \)&lt;/span&gt;. זו נראית בעיה לא גדולה כל כך במספרים קטנים, אבל כש-&lt;span&gt;\( N \)&lt;/span&gt; הוא מספר בן מאות ספרות, אפילו האלגוריתמים המחוכמים ביותר שיש לנו כיום שאינם משתמשים במחשב קוונטי (ואלו אלגוריתמים &lt;strong&gt;מאוד&lt;/strong&gt; מחוכמים, עם מתמטיקה &lt;strong&gt;מאוד&lt;/strong&gt; מתקדמת) לא מסוגלים להתמודד עם הבעיה, וזה למרות שקל לנו לעשות חשבונות עם מספרים בני מאות ספרות; זו לא סתם בעיה של “המספר גדול מכדי שנעשה איתו כל דבר שהוא” - זו בעיה של &lt;strong&gt;סיבוכיות זמן ריצה אקספוננציאלית&lt;/strong&gt;. מה שהאלגוריתם של שור מציע הוא פתרון &lt;strong&gt;מהיר&lt;/strong&gt; של הבעיה, בזמן ריצה &lt;strong&gt;פולינומי&lt;/strong&gt; (לא חייבים באמת להבין מה המילים הללו אומרות, מעבר לזה שכאן “אקספוננציאלי” זו מילה נרדפת לא מדוייקת ל”איטי” ו”פולינומי” זו מילה נרדפת לא מדוייקת ל”מהיר”). בשביל המהירות הגדולה הזו, האלגוריתם של שור משתמש במחשב קוונטי (אם כי טרם נבנה מחשב קוונטי שמסוגל להריץ את שור עבור מספרים בני מאות ספרות, וזו שאלה טובה מתי יהיה כזה).&lt;/p&gt;

&lt;p&gt;אחרי שאמרנו את זה, צריך להבהיר שהאלגוריתם של שור, למעשה, &lt;strong&gt;איננו&lt;/strong&gt; אלגוריתם לפירוק לגורמים! הוא אלגוריתם שבא לפתור בעיה אחרת, שנקראת “בעיית מציאת הסדר”, כי היכולת שלנו לפתור את בעיית מציאת הסדר נותנת לנו גם שיטה לפירוק לגורמים, אבל החלק שנעזר במציאת הסדר כדי לפרק לגורמים הוא חלק “קלאסי”, שלא מעורב בו חישוב קוונטי.&lt;/p&gt;

&lt;p&gt;עוד נקודה שצריך להבהיר היא שהאלגוריתם של שור הוא &lt;strong&gt;הסתברותי&lt;/strong&gt; - ייתכן בהחלט שנריץ אותו, לא נקבל שום דבר שיעזור לנו לפרק את &lt;span&gt;\( N \)&lt;/span&gt; לגורמים, ונאלץ להריץ אותו שוב. ההסתברות שהוא יצליח היא טובה למדי, אבל הניתוח שנדרש כדי להראות את זה הוא לא פשוט.&lt;/p&gt;

&lt;p&gt;ולבסוף, החלק הקוונטי של האלגוריתם של שור הוא פשוט מקרה ספציפי של אלגוריתם הערכת הפאזה, עבור &lt;span&gt;\( U \)&lt;/span&gt; קונקרטי כלשהו שאציג בהמשך. זה מקרה מעניין יותר ממה שדיברנו עליו בפוסט הקודם, כי שם היה נתון לנו &lt;span&gt;\( \left|u\right\rangle  \)&lt;/span&gt; שהוא וקטור עצמי של &lt;span&gt;\( U \)&lt;/span&gt;, אבל באלגוריתם של שור אין לנו מושג מי הוקטורים העצמיים של &lt;span&gt;\( U \)&lt;/span&gt;; אבל באמצעות תעלול מחוכם ויפה, אנחנו הולכים להריץ את אלגוריתם הערכת הפאזה על &lt;strong&gt;סופרפוזיציה&lt;/strong&gt; של הערכים העצמיים של &lt;span&gt;\( U \)&lt;/span&gt; ואיכשהו זה יסתדר לנו.&lt;/p&gt;

&lt;p&gt;גם אחרי שאלגוריתם הערכת הפאזה הסתיים, הפלט שלו הוא לא התוצאה הסופית של שום דבר - הוא בוודאי לא מספר שמחלק את &lt;span&gt;\( N \)&lt;/span&gt;, אבל הוא אפילו לא אותו “סדר” מסתורי שאנחנו צריכים למצוא; מה שאלגוריתם הערכת הפאזה נותן לנו הוא מספר רציונלי בין 0 ל-1 שבפני עצמו אין בו כלום; מה שאנחנו עושים (וגם זה חישוב קלאסי לגמרי) הוא ליצור בדרך מסויימת סדרה של &lt;strong&gt;קירובים&lt;/strong&gt; לתוצאה הזו של הערכת הפאזה שקיבלנו. כל קירוב כזה יהיה מספר רציונלי &lt;span&gt;\( \frac{s}{r} \)&lt;/span&gt;, כשהמכנה &lt;span&gt;\( r \)&lt;/span&gt; &lt;strong&gt;עשוי להיות&lt;/strong&gt; ה”סדר” שחיפשנו. זה אומר שבהינתן התוצאה של שור, אנחנו מקבלים קבוצה של כמה וכמה מועמדים להיות ה”סדר”, ועבור כל אחד מהם צריך לבדוק אם הוא איכשהו נותן לנו פירוק לגורמים של &lt;span&gt;\( N \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;זה נשמע ממש מסורבל - איפה זה ואיפה הגרסה האוטופית המדומיינת של האלגוריתם של שור, שבה אנחנו עושים איזה מעגל קוונטי חמוד, מודדים ומקבלים גורם של &lt;span&gt;\( N \)&lt;/span&gt;. אבל ככה זה בחישוב קוונטי - זה אף פעם לא פשוט כמו שעושים מזה, אבל כשמבינים את הפרטים המשוגעים זה נהיה עוד יותר יפה משזה נשמע במבט ראשון.&lt;/p&gt;

&lt;h2&gt;איך &quot;מציאת סדר&quot; עוזרת לפרק מספר לגורמים?&lt;/h2&gt;

&lt;p&gt;בואו ניכנס קצת יותר לפרטים של מה עושים כשרוצים למצוא גורם של &lt;span&gt;\( N \)&lt;/span&gt;. המתמטיקה שצריך להכיר פה היא זו של &lt;strong&gt;חשבון מודולרי&lt;/strong&gt;, כלומר של ביצוע פעולות חיבור וכפל כשבסוף מחלקים במשהו ולוקחים את השארית. החישובים שלנו יהיו מודולו &lt;span&gt;\( N \)&lt;/span&gt;. למשל, אם &lt;span&gt;\( N=15 \)&lt;/span&gt; ו-&lt;span&gt;\( a=7 \)&lt;/span&gt; אז &lt;span&gt;\( 7^{2} \)&lt;/span&gt; מודולו &lt;span&gt;\( N \)&lt;/span&gt; הוא שארית החלוקה של 49 ב-15, כלומר 4. כותבים את זה &lt;span&gt;\( 7^{2}\equiv_{N}4 \)&lt;/span&gt;. הדבר השני שצריך להכיר הוא את הקיום של אלגוריתם יעיל שבהינתן שני מספרים &lt;span&gt;\( a,b \)&lt;/span&gt; מחשב את ה-&lt;span&gt;\( \text{gcd}\left(a,b\right) \)&lt;/span&gt; - המספר הגדול ביותר שמחלק את &lt;span&gt;\( a \)&lt;/span&gt; וגם את &lt;span&gt;\( b \)&lt;/span&gt;. לא חשוב כרגע איך אלגוריתם עושה את זה (&lt;a href=&quot;https://gadial.net/2011/09/12/euclidean_algorithm_and_rings/&quot;&gt;יש לי פוסט&lt;/a&gt;) אלא רק שאפשר לבדוק את זה ביעילות.&lt;/p&gt;

&lt;p&gt;מה זה ה”סדר” המסתורי שהאלגוריתם של שור מחשב? זה המושג הסטנדרטי מתורת החבורות: הסדר של &lt;span&gt;\( a \)&lt;/span&gt; מודולו &lt;span&gt;\( N \)&lt;/span&gt; הוא המספר &lt;span&gt;\( r&amp;gt;0 \)&lt;/span&gt; המינימלי שעבורו &lt;span&gt;\( a^{r}\equiv_{N}1 \)&lt;/span&gt;. מספר כזה קיים בהכרח רק &lt;span&gt;\( \text{gcd}\left(a,N\right)=1 \)&lt;/span&gt;; אבל אם &lt;span&gt;\( \text{gcd}\left(a,N\right)&amp;gt;1 \)&lt;/span&gt; אז המספר &lt;span&gt;\( \text{gcd}\left(a,N\right) \)&lt;/span&gt; (שאפשר לחשב ביעילות, כאמור) הוא מחלק לא טריוויאלי של &lt;span&gt;\( N \)&lt;/span&gt; וסיימנו.&lt;/p&gt;

&lt;p&gt;אז איך עובד כל התהליך? ראשית, בודקים ש-&lt;span&gt;\( N \)&lt;/span&gt; הוא לא זוגי, כלומר פשוט מנסים לחלק אותו ב-2. אם כן - סיימנו. אחרת, בודקים ש-&lt;span&gt;\( N \)&lt;/span&gt; הוא לא חזקה של ראשוני, כלומר &lt;span&gt;\( N=p^{n} \)&lt;/span&gt; עבור &lt;span&gt;\( n \)&lt;/span&gt; כלשהו. זה כבר עניין טריקי יותר, אבל יש אלגוריתם יעיל שעושה את זה ואני לא מציג אותו כי זה לא באמת קשור לאלגוריתם של שור.&lt;/p&gt;

&lt;p&gt;בהינתן ש-&lt;span&gt;\( N \)&lt;/span&gt; הוא לא מהצורה הזו, אנחנו עושים את הדבר הבא: מגרילים מספר &lt;span&gt;\( 1&amp;lt;a&amp;lt;N \)&lt;/span&gt;. בודקים ש-&lt;span&gt;\( \text{gcd}\left(a,N\right)=1 \)&lt;/span&gt;, כי אם הוא גדול יותר אז מצאנו מחלק של &lt;span&gt;\( N \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;אחר כך אנחנו מפעילים את החלק הקוונטי של האלגוריתם של שור ומקבלים כל מני מספרים שכל אחד מהם הוא בעל פוטנציאל להיות הסדר של &lt;span&gt;\( a \)&lt;/span&gt;. לכל מספר &lt;span&gt;\( r \)&lt;/span&gt; כזה, אם &lt;span&gt;\( r \)&lt;/span&gt; אי זוגי מתעלמים ממנו, ואם &lt;span&gt;\( r \)&lt;/span&gt; זוגי, אנו בודקים האם &lt;span&gt;\( \text{gcd}\left(a^{\frac{r}{2}}-1,N\right)&amp;gt;1 \)&lt;/span&gt; או ש-&lt;span&gt;\( \text{gcd}\left(a^{\frac{r}{2}}+1,N\right)&amp;gt;1 \)&lt;/span&gt;. אם קיבלנו מספר כזה, סיימנו; מצאנו מחלק לא טריוויאלי של &lt;span&gt;\( N \)&lt;/span&gt;. אם לכל ה-&lt;span&gt;\( r \)&lt;/span&gt;-ים שעשינו הניסוי לא הצליח, אנחנו מגרילים &lt;span&gt;\( a \)&lt;/span&gt; אחר ומנסים שוב. זהו, זה כל האלגוריתם… למעט החלק של מציאת הסדר, שהוא כאמור העיקר.&lt;/p&gt;

&lt;p&gt;למה כל זה עובד? כאן מגיעה הוכחה קצת מייגעת מתורת המספרים, שאני ארשה לעצמי לדלג עליה לגמרי כי כבר יש לי אותה &lt;a href=&quot;https://gadial.net/2014/08/24/shor_algorithm/&quot;&gt;בפוסט הקודם&lt;/a&gt; על האלגוריתם של שור. זה עובד, תסמכו עלי. אנחנו פה בשביל החלק הקוונטי.&lt;/p&gt;

&lt;h2&gt;איך בגדול עובד אלגוריתם מציאת הסדר?&lt;/h2&gt;

&lt;p&gt;בואו ניזכר מה עושה אלגוריתם הערכת הפאזה: הוא מניח שאנחנו יודעים לבנות מעגל עבור אופרטור &lt;span&gt;\( U:\mathbb{C}^{2^{m}}\to\mathbb{C}^{2^{m}} \)&lt;/span&gt;, ובהינתן שני רגיסטרים קוונטיים (שזה שם יפה ל”הרבה קיוביטים שאנחנו מחלקים אותם קונספטואלית לשתי קבוצות”) &lt;span&gt;\( \left|0^{n}\right\rangle \left|u\right\rangle  \)&lt;/span&gt; כך ש-&lt;span&gt;\( \left|u\right\rangle  \)&lt;/span&gt; הוא וקטור עצמי של &lt;span&gt;\( U \)&lt;/span&gt;, אנחנו מסוגלים לבצע חישוב שבסוף שלו מדידה של הרגיסטר הראשון תניב קירוב ל-&lt;span&gt;\( \varphi \)&lt;/span&gt;, שהוא מספר &lt;span&gt;\( 0\le\varphi\le1 \)&lt;/span&gt; שמקיים &lt;span&gt;\( U\left|u\right\rangle =e^{2\pi i\varphi} \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;לכן, כשאנחנו באים להשתמש באלגוריתם הזה בפועל, השאלה הראשונה שאנחנו צריכים לענות עליה היא מהו &lt;span&gt;\( U \)&lt;/span&gt; שלנו, והשניה היא מהו &lt;span&gt;\( \left|u\right\rangle  \)&lt;/span&gt;. בואו נראה איך זה יהיה אצלנו.&lt;/p&gt;

&lt;p&gt;ראשית, בואו ניזכר איך אני משתמש בכתיב &lt;span&gt;\( \left|a\right\rangle  \)&lt;/span&gt; כאשר &lt;span&gt;\( a \)&lt;/span&gt; הוא מספר טבעי. למשל, אם &lt;span&gt;\( a=5 \)&lt;/span&gt; אז הייצוג הבינארי של &lt;span&gt;\( a \)&lt;/span&gt; הוא &lt;span&gt;\( 101 \)&lt;/span&gt;, ואז הסימון &lt;span&gt;\( \left|a\right\rangle  \)&lt;/span&gt; מסמן את &lt;span&gt;\( \left|101\right\rangle =\left|1\right\rangle \otimes\left|0\right\rangle \otimes\left|1\right\rangle  \)&lt;/span&gt;. צריך קצת להיזהר - אם מלכתחילה ברגיסטר שלנו משתתפים יותר קיוביטים מאשר צריך ספרות כדי לייצג את המספר, אז כל הקיוביטים ה”מיותרים” יהיו אפס. למשל, אם יש חמישה קיוביטים ואני מתבונן על המספר &lt;span&gt;\( 13 \)&lt;/span&gt;, אז &lt;span&gt;\( \left|13\right\rangle =\left|01101\right\rangle  \)&lt;/span&gt;. מעכשיו בכל מה שהולך לקרות באלגוריתם של שור, אני אשתמש רק בסימון &lt;span&gt;\( \left|a\right\rangle  \)&lt;/span&gt; כש-&lt;span&gt;\( a \)&lt;/span&gt; הוא מספר טבעי; אני לא אכתוב דברים בינאריים שם.&lt;/p&gt;

&lt;p&gt;עכשיו אפשר לתאר את &lt;span&gt;\( U \)&lt;/span&gt;. כזכור, אלגוריתם מציאת הסדר מקבל כקלט מספר &lt;span&gt;\( N \)&lt;/span&gt; ומספר &lt;span&gt;\( a&amp;lt;N \)&lt;/span&gt; והשאלה היא מהו הסדר של &lt;span&gt;\( a \)&lt;/span&gt; מודולו &lt;span&gt;\( N \)&lt;/span&gt;. אז האופרטור &lt;span&gt;\( U \)&lt;/span&gt; שבו משתמשים נבנה בהתבסס על שני המספרים הללו:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( U\left|b\right\rangle =\left|ab\text{ mod }N\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כלומר, הוא בסך הכל כפל ב-&lt;span&gt;\( a \)&lt;/span&gt; מודולו &lt;span&gt;\( N \)&lt;/span&gt;. בגלל שמעצבן לכתוב כל הזמן &lt;span&gt;\( \text{mod }N \)&lt;/span&gt; אני הולך להשמיט אותו מעכשיו והלאה, אבל בכל פעם שבה מופיע משהו כמו &lt;span&gt;\( \left|a^{2}\right\rangle  \)&lt;/span&gt;, תזכרו שאני מתכוון אל הערך של &lt;span&gt;\( a^{2} \)&lt;/span&gt; מודולו &lt;span&gt;\( N \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;עכשיו, אם אנחנו זוכרים, בהערכת פאזה צריך להיות מסוגלים לחשב לא רק את &lt;span&gt;\( U \)&lt;/span&gt; אלא גם את &lt;span&gt;\( U^{2^{t}} \)&lt;/span&gt; עבור ערכים הולכים וגדלים של &lt;span&gt;\( t \)&lt;/span&gt;, כלומר לחשב&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( U^{2^{t}}\left|b\right\rangle =\left|a^{2^{t}}b\text{ mod }N\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אני &lt;strong&gt;לא הולך להסביר&lt;/strong&gt; בפוסט הזה איך עושים את זה, כדי להישאר ממוקד. יש איזו פרדוקסליות בשאלה איך עושים את זה. מצד אחד, באופן כללי אנחנו מסוגלים לבצע חישובים “רגילים” במחשב קוונטי, מה שמזמין פוסט שעומד בפני עצמו שמסביר איך בדיוק עושים את זה. מצד שני, השאלה איך מחשבים את &lt;span&gt;\( U^{2^{t}} \)&lt;/span&gt; בצורה אופטימלית, עם מינימום שערים, היא לא שאלה סגורה גם כיום. לכל זוג של &lt;span&gt;\( a,N \)&lt;/span&gt; בעצם בונים מעגל אחר שמבצע את החישוב המתאים, וזו בעיה קלאסית בתחום של &lt;strong&gt;סינתזה&lt;/strong&gt; של מעגלים קוונטיים - הבניה של מעגל אופטימלי מתוך התיאור האבסטרקטי יותר שלו. אז אני לא נכנס לזה בפוסט הזה כי זה מזמין סדרת פוסטים בפני עצמה. אבל אפשר לעשות את זה.&lt;/p&gt;

&lt;p&gt;יפה, אז יש לנו את האופרטור &lt;span&gt;\( U\left|b\right\rangle =\left|ab\text{ mod }N\right\rangle  \)&lt;/span&gt;. איך בדיוק הוא קשור לסדר &lt;span&gt;\( r \)&lt;/span&gt; של &lt;span&gt;\( a \)&lt;/span&gt; מודולו &lt;span&gt;\( N \)&lt;/span&gt;? איך כל זה קשור ל”פאזה”? מה הולך כאן? בואו נפיל את האסימון הזה - לטעמי זה הולך להיות הרגע היפה ביותר מבין כל מה שראינו עד כה בסדרת הפוסטים הזו על חישוב קוונטי. כל כך יפה, שאני ארשה לעצמי להיות לא מדויק בניסוחים שלי - בהמשך גם זה יגיע.&lt;/p&gt;

&lt;p&gt;בואו נסתכל לרגע על מה &lt;span&gt;\( U \)&lt;/span&gt; עושה לכמה איברים קונקרטיים:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( U\left|1\right\rangle =\left|a\cdot1\text{ mod }N\right\rangle =\left|a\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( U\left|a\right\rangle =\left|a\cdot a\text{ mod }N\right\rangle =\left|a^{2}\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( U\left|a^{2}\right\rangle =\left|a\cdot a^{2}\text{ mod }N\right\rangle =\left|a^{3}\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אוקיי, אנחנו מבינים, על סדרת הערכים &lt;span&gt;\( 1,a,a^{2},\ldots \)&lt;/span&gt; מה ש-&lt;span&gt;\( U \)&lt;/span&gt; עושה הוא לקדם את האיבר הנוכחי אל האיבר הבא בסדרה. אבל מתי זה נגמר? ובכן, זה נגמר בדיוק כשמגיעים לסדר של &lt;span&gt;\( a \)&lt;/span&gt; - לאיבר &lt;span&gt;\( a^{2}\equiv_{N}1 \)&lt;/span&gt;. במילים אחרות:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( U\left|a^{r-1}\right\rangle =\left|a\cdot a^{r-1}\text{ mod }N\right\rangle =\left|1\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ואז אנחנו חוזרים אל &lt;strong&gt;התחלת&lt;/strong&gt; הסדרה (במתמטית אומרים על זה ש-&lt;span&gt;\( U \)&lt;/span&gt; מבצע לסדרה &lt;span&gt;\( 1,a,a^{2},\ldots,a^{r-1} \)&lt;/span&gt; &lt;strong&gt;הזזה ציקלית&lt;/strong&gt;).&lt;/p&gt;

&lt;p&gt;סבבה, איך זה נותן לנו וקטור עצמי של &lt;span&gt;\( U \)&lt;/span&gt;? פשוט מאוד: בואו ניקח &lt;strong&gt;סופרפוזיציה אחידה&lt;/strong&gt; של כל אברי הסדרה הזו, כלומר נסתכל על המצב&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|u_{0}\right\rangle =\frac{\left|1\right\rangle +\left|a\right\rangle +\left|a^{2}\right\rangle +\ldots+\left|a^{r-1}\right\rangle }{\sqrt{r}}=\frac{1}{\sqrt{r}}\sum_{k=0}^{r-1}\left|a^{k}\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;המצב הזה הוא בבירור מצב עצמי של &lt;span&gt;\( U \)&lt;/span&gt;, כלומר &lt;span&gt;\( U\left|u_{0}\right\rangle =\left|u_{0}\right\rangle  \)&lt;/span&gt;; הוא מתאים לערך העצמי 1, וזה… לא עוזר לנו… בשום צורה? אלגוריתם הערכת הפאזה, אם יופעל על המצב הזה, יחזיר לנו 0. זה לא נותן לנו את &lt;span&gt;\( r \)&lt;/span&gt;; זה לא נותן לנו שום כלום. אז בשביל מה אני משגע אתכם?&lt;/p&gt;

&lt;p&gt;אה-הא! העניין הוא שיש &lt;strong&gt;עוד&lt;/strong&gt; וקטורים עצמיים! &lt;span&gt;\( \left|u_{0}\right\rangle  \)&lt;/span&gt; הוא רק האבטיפוס; הדוגמא הראשונה והפשוטה שנותנת לנו את האינטואיציה כדי להמשיך הלאה. בואו נחשוב לרגע על אותו וקטור, אבל עם &lt;strong&gt;מקדמים&lt;/strong&gt; עבור האיברים:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \frac{1}{\sqrt{r}}\sum_{k=0}^{r-1}\alpha_{k}\left|a^{k}\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אם אנחנו רוצים שאחרי הפעלת &lt;span&gt;\( U \)&lt;/span&gt; נחזור לאותו מצב בדיוק כפול סקלר כלשהו, צריך להתקיים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( U\left(\frac{1}{\sqrt{r}}\sum_{k=0}^{r-1}\alpha_{k}\left|a^{k}\right\rangle \right)=\lambda\frac{1}{\sqrt{r}}\sum_{k=0}^{r-1}\alpha_{k}\left|a^{k}\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( U\left(\frac{1}{\sqrt{r}}\sum_{k=0}^{r-1}\alpha_{k}\left|a^{k}\right\rangle \right)=\frac{1}{\sqrt{r}}\sum_{k=0}^{r-1}\alpha_{k}U\left(\left|a^{k}\right\rangle \right)=\frac{1}{\sqrt{r}}\sum_{k=0}^{r-1}\alpha_{k}\left|a^{k+1\text{ mod }r}\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אם אנחנו משווים את זה אל &lt;span&gt;\( \lambda\frac{1}{\sqrt{r}}\sum_{k=0}^{r-1}\alpha_{k}\left|a^{k}\right\rangle  \)&lt;/span&gt; אנחנו מקבלים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \lambda\frac{1}{\sqrt{r}}\sum_{k=0}^{r-1}\alpha_{k}\left|a^{k}\right\rangle =\frac{1}{\sqrt{r}}\sum_{k=0}^{r-1}\alpha_{k}\left|a^{k+1\text{ mod }r}\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ואחרי חילוץ המקדמים, אנחנו מקבלים את המשוואות&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \lambda\alpha_{0}=\alpha_{r-1} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \lambda\alpha_{1}=\alpha_{0} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \lambda\alpha_{2}=\alpha_{1} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;וכן הלאה, עד שמגיעים לבסוף אל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \lambda\alpha_{r-1}=\alpha_{r-2} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אם נכפול את אגפי ימין ושמאל של כל המשוואות, נקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \lambda^{r}\prod_{k=0}^{r-1}\alpha_{k}=\prod_{k=0}^{r-1}\alpha_{k} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כלומר, &lt;span&gt;\( \lambda^{r}=1 \)&lt;/span&gt;. או במילים אחרות, אנחנו מסוגלים לקבל וקטור עצמי עבור כל &lt;strong&gt;שורש יחידה &lt;/strong&gt;מסדר&lt;strong&gt; &lt;/strong&gt;&lt;span&gt;\( r \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;הצורה הכללית של שורש יחידה מסדר &lt;span&gt;\( r \)&lt;/span&gt; היא&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( e^{\frac{2\pi i}{r}\cdot s} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כאשר &lt;span&gt;\( 0\le s&amp;lt;r \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;עכשיו, עבור שורש יחידה &lt;span&gt;\( e^{\frac{2\pi i}{r}\cdot s} \)&lt;/span&gt; קונקרטי, איך נקבל את הוקטורים העצמיים המתאימים? אפשר לקבוע שרירותית שתמיד יתקיים &lt;span&gt;\( \alpha_{0}=1 \)&lt;/span&gt; כי ככה דברים ייצאו לנו נחמד, ואז נובע ש-&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \alpha_{1}=\lambda^{-1}\alpha_{0}=e^{-\frac{2\pi i}{r}\cdot s} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ובדומה נקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \alpha_{2}=e^{-2\cdot\frac{2\pi i}{r}\cdot s} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ובאופן כללי, נקבל את הוקטור העצמי&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|u_{s}\right\rangle =\frac{1}{\sqrt{r}}\sum_{k=0}^{r-1}e^{-k\cdot\frac{2\pi i}{r}s}\left|a^{k}\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;והוקטור &lt;span&gt;\( \left|u_{0}\right\rangle  \)&lt;/span&gt; שראינו קודם אכן מתקבל כאן כמקרה פרטי, כאשר &lt;span&gt;\( s=0 \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;האם אלו באמת וקטורים עצמיים? אפשר לעשות שוב את החישוב, אבל כבר עשינו אותו קודם והוא יעבוד באותה צורה כל פעם. עבור &lt;span&gt;\( \left|u_{s}\right\rangle  \)&lt;/span&gt;, הערך העצמי הוא שורש היחידה ה-&lt;span&gt;\( r \)&lt;/span&gt;-י שהתאים ל-&lt;span&gt;\( s \)&lt;/span&gt;, כלומר&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( U\left|u_{s}\right\rangle =e^{\frac{2\pi i}{r}s}\left|u_{s}\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ואם לחזור ללשון של אלגוריתם הערכת הפאזה, אז הפאזה &lt;span&gt;\( \varphi_{s} \)&lt;/span&gt; של &lt;span&gt;\( \left|u_{s}\right\rangle  \)&lt;/span&gt; היא &lt;span&gt;\( \varphi_{s}=\frac{s}{r} \)&lt;/span&gt;. בפרט, &lt;strong&gt;אם&lt;/strong&gt; הייתה לנו דרך להפעיל את אלגוריתם הערכת הפאזה על &lt;span&gt;\( \left|u_{1}\right\rangle  \)&lt;/span&gt; ולקבל תוצאה מדויקת, אז היינו מקבלים ליד את המספר הרציונלי &lt;span&gt;\( \frac{1}{r} \)&lt;/span&gt;. היינו מקבלים אותו בייצוג בינארי, אבל מתוך הייצוג הזה קל לחשב את &lt;span&gt;\( r \)&lt;/span&gt; עצמו, מה שמסיים לנו את כל העבודה!&lt;/p&gt;

&lt;p&gt;זהו, זו “נפילת האסימון” המדוברת. זה האופן שבו הסדר &lt;span&gt;\( r \)&lt;/span&gt; עשוי לצוץ מתוך אלגוריתם הערכת פאזה. כשאני רוצה לסכם לעצמי את הפאנץ’ של האלגוריתם, אני חושב על הסדרה &lt;span&gt;\( 1,a,a^{2},\ldots,a^{r-1} \)&lt;/span&gt; ואומר לעצמי “הזזה ציקלית. הזזה ציקלית”.&lt;/p&gt;

&lt;p&gt;העניין הוא שזה לא מספיק. מה שתיארתי עד כה הוא אמנם נכון מבחינה רעיונית, אבל אנחנו לא באמת מסוגלים לממש את זה בפועל. נזדקק לעוד תעלול אחד אחרון. והתעלול הזה הוא כנראה הדבר הכי מגניב פה.&lt;/p&gt;

&lt;p&gt;מה בעצם הבעיה? אם הייתי מסוגל להפעיל את אלגוריתם הערכת הפאזה על &lt;span&gt;\( \left|u_{1}\right\rangle  \)&lt;/span&gt; אכן הייתי מקבל את &lt;span&gt;\( \frac{1}{r} \)&lt;/span&gt; (או לפחות קירוב טוב של &lt;span&gt;\( \frac{1}{r} \)&lt;/span&gt; ועוד נחזור לחישוב המדויק). אבל &lt;strong&gt;אני לא יודע&lt;/strong&gt; את &lt;span&gt;\( \left|u_{1}\right\rangle  \)&lt;/span&gt;. אין לי מושג איך לבנות אותו. המקדמים שלו מקודדים איכשהו את &lt;span&gt;\( e^{\frac{2\pi i}{r}} \)&lt;/span&gt;; בשביל ליצור אותם אני כנראה אצטרך לדעת מה הוא &lt;span&gt;\( r \)&lt;/span&gt;, שהוא המספר שאותו אנחנו מחפשים! לכאורה אני במעגל ולא התקדמתי אף צעד; זה הכי כיף כשנראה שאנחנו בסיטואציה כזו כשלמעשה אנחנו במרחק צעד אחד מהפתרון.&lt;/p&gt;

&lt;p&gt;הפתרון הוא לקחת את &lt;strong&gt;כל&lt;/strong&gt; הוקטורים העצמיים &lt;span&gt;\( \left|u_{s}\right\rangle  \)&lt;/span&gt;, עבור &lt;strong&gt;כל&lt;/strong&gt; &lt;span&gt;\( 0\le s&amp;lt;r \)&lt;/span&gt;, ולהסתכל על הסופרפוזיציה של כולם ביחד, כלומר על&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \frac{1}{\sqrt{r}}\sum_{s=0}^{r-1}\left|u_{s}\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;לכאורה לא התקדמנו בכלל - קודם היה מצב אחד שלא היה לנו מושג מהו, ועכשיו יש לנו סופרפוזיציה של הרבה מצבים כאלו; איך אנחנו אמורים לבנות אותה? התשובה היא שהיא מצב שאנחנו מכירים היטב וקל לנו מאוד לבנות - רק צריך לעשות את החישוב:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \frac{1}{\sqrt{r}}\sum_{s=0}^{r-1}\left|u_{s}\right\rangle =\frac{1}{\sqrt{r}}\sum_{s=0}^{r-1}\left(\frac{1}{\sqrt{r}}\sum_{k=0}^{r-1}e^{-k\cdot\frac{2\pi i}{r}s}\left|a^{k}\right\rangle \right)= \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( =\frac{1}{r}\sum_{k=1}^{r-1}\left(\sum_{s=0}^{r-1}e^{-k\cdot\frac{2\pi i}{r}s}\right)\left|a^{k}\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו נחלץ לעזרתנו תעלול ידוע ומוכר - אם &lt;span&gt;\( \omega \)&lt;/span&gt; הוא שורש יחידה &lt;strong&gt;כלשהו&lt;/strong&gt; מסדר &lt;span&gt;\( r \)&lt;/span&gt;, אז &lt;span&gt;\( 1+\omega+\omega^{2}+\ldots+\omega^{r-1}=\begin{cases} 0 &amp;amp; \omega\ne1\\ r &amp;amp; \omega=1 \end{cases} \)&lt;/span&gt;. למה? כי אם &lt;span&gt;\( \omega\ne1 \)&lt;/span&gt; אז הסכום משמאל הוא טור הנדסי שיוצא &lt;span&gt;\( \frac{\omega^{r}-1}{\omega-1}=\frac{1-1}{\omega-1}=0 \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;במקרה שלנו, &lt;span&gt;\( \omega=-k\frac{2\pi i}{r} \)&lt;/span&gt; - זה בהחלט שורש יחידה מסדר &lt;span&gt;\( r \)&lt;/span&gt;, והוא שווה ל-1 רק כאשר &lt;span&gt;\( k=0 \)&lt;/span&gt;. כלומר מכל הסכום הגדול נשאר רק&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \frac{1}{\sqrt{r}}\sum_{s=0}^{r-1}\left|u_{s}\right\rangle =\frac{1}{r}\cdot r\left|a^{0}\right\rangle =\left|1\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;שימו לב: &lt;span&gt;\( \left|1\right\rangle  \)&lt;/span&gt; במקרה הזה הוא לא קיוביט בודד שערכו &lt;span&gt;\( \left|1\right\rangle  \)&lt;/span&gt;, אלא כזכור, הסימון המקוצר שלי ל-&lt;span&gt;\( \left|000\ldots01\right\rangle  \)&lt;/span&gt;. אבל זה בוודאי ובוודאי מצב שאנחנו יודעים לבנות - כלומר, אנחנו בהחלט יודעים לקבל את הסופרפוזיציה של כל ה-&lt;span&gt;\( \left|u_{s}\right\rangle  \)&lt;/span&gt; גם אם אנחנו לא יודעים לקבל אף אחד מהם אישית; זו גם הסיבה שבגללה כל כך עניין אותי להבין את כל ה-&lt;span&gt;\( \left|u_{s}\right\rangle  \)&lt;/span&gt; כולל &lt;span&gt;\( \left|u_{0}\right\rangle  \)&lt;/span&gt; ולא סתם התמקדתי ב-&lt;span&gt;\( \left|u_{1}\right\rangle  \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;בסופו של דבר, מה עושה המעגל של אלגוריתם הערכת פאזה? נקרא לו &lt;span&gt;\( \text{PE} \)&lt;/span&gt; (קיצור של Phase Estimation). אם מריצים אותו עד השלב שלפני המדידה שבסוף, הוא מחשב את האופרטור האוניטרי&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \text{PE}\left(\left|0^{n}\right\rangle \left|u_{s}\right\rangle \right)=\left|\tilde{\varphi}_{s}\right\rangle \left|u_{s}\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כאשר &lt;span&gt;\( \left|\tilde{\varphi}_{s}\right\rangle  \)&lt;/span&gt; הוא מצב קוונטי שהמדידה שלו נותנת בהסתברות טובה קירוב טוב של &lt;span&gt;\( \varphi_{s} \)&lt;/span&gt; - הפאזה שמתאימה ל-&lt;span&gt;\( u_{s} \)&lt;/span&gt;, כלומר &lt;span&gt;\( \frac{s}{r} \)&lt;/span&gt;. עכשיו, אם במקום לרוץ על מצב בודד, נרוץ על סופרפוזיציה שלהם, העובדה ש-&lt;span&gt;\( \text{PE} \)&lt;/span&gt; הוא אופרטור &lt;strong&gt;לינארי&lt;/strong&gt; נותנת לנו&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \text{PE}\left(\left|0^{n}\right\rangle \left(\frac{1}{\sqrt{r}}\sum_{s=0}^{r-1}\left|u_{s}\right\rangle \right)\right)=\frac{1}{\sqrt{r}}\sum_{s=0}^{r-1}\text{PE}\left(\left|0^{n}\right\rangle \left|u_{s}\right\rangle \right)=\frac{1}{\sqrt{r}}\sum_{s=0}^{r-1}\left|\tilde{\varphi}_{s}\right\rangle \left|u_{s}\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;במילים אחרות, אנחנו מקבלים ברגיסטר הראשון סופרפוזיציה אחידה של כל ה-&lt;span&gt;\( \left|\tilde{\varphi}_{s}\right\rangle  \)&lt;/span&gt;-ים, ולכן אפשר לחשוב על מדידה של הרגיסטר הראשון כאילו היא עושה שני דברים בזה אחר זה:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;מגרילה &lt;span&gt;\( 0\le s&amp;lt;r \)&lt;/span&gt; באקראי ובהתפלגות אחידה.&lt;/li&gt;


&lt;li&gt;מודדת את &lt;span&gt;\( \left|\tilde{\varphi}_{s}\right\rangle  \)&lt;/span&gt;, כלומר מקבלת ערך שבהסתברות טובה הוא קירוב טוב של &lt;span&gt;\( \frac{s}{r} \)&lt;/span&gt;.&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;האם כל ה-&lt;span&gt;\( s \)&lt;/span&gt;-ים טובים עבורנו? ובכן, לא. ראינו כבר קודם שעבור &lt;span&gt;\( s=0 \)&lt;/span&gt; אין לנו כלום - לא נוכל לחלץ את &lt;span&gt;\( r \)&lt;/span&gt; מהערך שנקבל. ובמקרים אחרים, אם &lt;span&gt;\( \text{gcd}\left(s,r\right)&amp;gt;1 \)&lt;/span&gt; אז הסיכוי שנצליח לעשות משהו טוב נפגע מאוד - &lt;span&gt;\( \frac{s}{r} \)&lt;/span&gt; לא יהיה שבר מצומצם ולכן אם ננסה “לשחזר” את &lt;span&gt;\( \frac{s}{r} \)&lt;/span&gt; לא נקבל את &lt;span&gt;\( r \)&lt;/span&gt;. הנה דוגמא פשוטה: נניח ש-&lt;span&gt;\( r=15 \)&lt;/span&gt; ו-&lt;span&gt;\( s=3 \)&lt;/span&gt;. אז &lt;span&gt;\( \frac{s}{r}=\frac{3}{15}=\frac{1}{5}=0.2 \)&lt;/span&gt;; אז אפילו אם נקבל את התוצאה המדויקת &lt;span&gt;\( 0.2 \)&lt;/span&gt; לא נוכל לשחזר מזה את &lt;span&gt;\( r=15 \)&lt;/span&gt;; המכנה שנשחזר הוא 5. בגלל הבעיה הזו, לפעמים באלגוריתם של שור כשמקבלים “מועמד ל-&lt;span&gt;\( r \)&lt;/span&gt;” משתלם לפעול לא רק מתוך הנחה שהמועמד הזה טוב, אלא גם לנסות כמה כפולות שלו - להכפיל ב-2,3,4 וכו’ ולנסות גם עבורן. זה חישוב מהיר מאוד שלא מאט אותנו, ואם במקרה הוא מצליח ומצאנו גורם של &lt;span&gt;\( N \)&lt;/span&gt; נדע בודאות שהצלחנו, כך שאין חיסרון של ממש להרחבה הזו.&lt;/p&gt;

&lt;p&gt;זה סוף אלגוריתם הערכת הפאזה, כלומר סוף החלק הקוונטי של האלגוריתם; הנה איך הכל נראה בסופו של דבר.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/2022/shor_algorithm.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h2&gt;איך משחזרים את הסדר מתוך הקירוב שהערכת הפאזה נותנת לנו?&lt;/h2&gt;

&lt;p&gt;ברגע שבו אלגוריתם הערכת הפאזה מסתיים, נגמר החלק הקוונטי של האלגוריתם, אבל עדיין נשאר חלק לא טריוויאלי בעליל שצריך לבצע - השלב שבו אנחנו עוברים מה&lt;strong&gt;קירוב&lt;/strong&gt; שקיבלנו לפאזה, עד שיש לנו ביד מועמד פוטנציאלי להיות הסדר, &lt;span&gt;\( r \)&lt;/span&gt;. כאן נכנס לתמונה מה שנקרא &lt;strong&gt;אלגוריתם השברים המשולבים&lt;/strong&gt;, שזו פשוט דרך מפחידה להגיד “שיטה למציאת קירובים רציונלים טובים למספר שקיבלנו”.&lt;/p&gt;

&lt;p&gt;מה זה שבר משולב? &lt;a href=&quot;https://gadial.net/2010/05/29/continued_fractions_1/&quot;&gt;יש לי פוסט על זה&lt;/a&gt; אבל הוא נכנס לעומק שאני לא זקוק לו פה, ומצד שני תמיד נחמד להציג שוב נושא כל כך מגניב, בטח כשיש לו שימוש פרקטי. אז הנה מבוא על רגל אחת. נתחיל עם דוגמא קונקרטית - המספר &lt;span&gt;\( \pi \)&lt;/span&gt; - היחס בין היקף מעגל לקוטרו - הוא אחד מהקבועים המתמטיים המפורסמים ביותר. אם ננסה לכתוב אותו בבסיס עשרוני הוא ייראה משהו כמו &lt;span&gt;\( \pi=3.14159\ldots \)&lt;/span&gt;, כשהנקודות אומרות שיש עוד ספרות בהמשך. אם נוותר על הנקודות ונסתכל על המספר &lt;span&gt;\( 3.14159 \)&lt;/span&gt;, מה שיש לנו ביד הוא &lt;strong&gt;קירוב רציונלי&lt;/strong&gt; של &lt;span&gt;\( \pi \)&lt;/span&gt; - קירוב שאפשר לכתוב אותו בתור מנה של שני מספרים שלמים, &lt;span&gt;\( \frac{314159}{10000} \)&lt;/span&gt; (זאת להבדיל מ-&lt;span&gt;\( \pi \)&lt;/span&gt; עצמו שיש הוכחה שאי אפשר להציג בתור מנה של שני מספרים שלמים). אני יכול גם להסתכל על קירובים שמתקבלים מלקחת &lt;strong&gt;פחות&lt;/strong&gt; ספרות של &lt;span&gt;\( \pi \)&lt;/span&gt;: אני מקבל את סדרת הקירובים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( 3,\frac{31}{10},\frac{314}{100},\frac{3141}{1000},\frac{31415}{10000} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;האם זו סדרת קירובים &lt;strong&gt;טובה&lt;/strong&gt;? הקירוב &lt;span&gt;\( \frac{314}{100}=3.14 \)&lt;/span&gt;, למשל, הוא מפורסם במיוחד: צורת הכתיב שלו, בשילוב עם שיטת כתיב התאריכים האמריקאית ויום ההולדת של אלברט איינשטיין, הולידו את &lt;strong&gt;יום פאי&lt;/strong&gt;. אבל האמת היא, בינינו, שזה קירוב &lt;strong&gt;די גרוע&lt;/strong&gt; לעומת קירוב אחר, &lt;span&gt;\( \frac{22}{7} \)&lt;/span&gt;, שזכה ליום פחות מפורסם משל עצמו (“יום קירוב פאי”, למרות שכאמור הוא דווקא הקירוב הטוב יותר). אם נחשב את ההפרש של כל אחד מהקירובים מפאי נקבל&lt;span&gt;\( \left|\pi-3.14\right|=0.001592\dots \)&lt;/span&gt; ו-&lt;span&gt;\( \left|\pi-\frac{22}{7}\right|=0.001264\ldots \)&lt;/span&gt;, כלומר יש יתרון ברור ל-&lt;span&gt;\( \frac{22}{7} \)&lt;/span&gt;, למרות שלכאורה נקודת המוצא של &lt;span&gt;\( \frac{314}{100} \)&lt;/span&gt; היא טובה &lt;strong&gt;הרבה &lt;/strong&gt;יותר, כי המכנה שלו הוא מספר גדול יותר, ולכן לכאורה מאפשר למצוא מספר שקרוב לפאי ברזולוציה טובה יותר (תחשבו על סרגל שיש בו סימוני סנטימטרים לעומת סרגל שיש בו רק שבעה סימנים ברווחים אחידים בין כל מטר - מה נראה לנו כמו כלי מדויק יותר?)&lt;/p&gt;

&lt;p&gt;אם נסתכל על הקירוב ה”טוב”, &lt;span&gt;\( \frac{22}{7} \)&lt;/span&gt;, מה מבדיל אותו מהסדרה שהראיתי קודם? בסדרה הזו, &lt;strong&gt;המכנה&lt;/strong&gt; של כל השברים היה חזקה של 10: 1, 10, 100, 1000 וכו’. לעומת בקירוב &lt;span&gt;\( \frac{22}{7} \)&lt;/span&gt; נדחף לנו ה-7 הלא קשור הזה. העניין הוא שמבחינת המתמטיקה, האהבה שלנו למספר 10 היא &lt;strong&gt;שרירותית&lt;/strong&gt;; זה בגלל שהביולוגיה חננה אותנו בעשר אצבעות, לא בגלל שעשר הוא מספר מופלא לקירובים. לכן, שיטת הקירובים שאנחנו רגילים אליה מהבסיס העשרוני שלנו היא לאו דווקא אופטימלית; שברים משולבים הם אלו שנותנים לנו את הקירובים האופטימליים, במובן מאוד מדויק שאתאר עוד מעט - ובגלל שמקבלים קירובים כל כך טובים, זה מתקשר ישירות לאלגוריתם שלנו.&lt;/p&gt;

&lt;p&gt;איך זה קשור? ובכן, עוד מעט אראה איך בעזרת שברים משולבים אפשר לקבל סדרת קירובים למספר כלשהו &lt;span&gt;\( x \)&lt;/span&gt;. הקסם המופלא בשיטה הזו הוא שאם למספר &lt;span&gt;\( x \)&lt;/span&gt; כלשהו יש קירוב &lt;strong&gt;טוב&lt;/strong&gt; (עבור משמעות של “טוב” שאתן במדויק בהמשך), אז &lt;strong&gt;בודאות מוחלטת&lt;/strong&gt; הקירוב הטוב הזה יופיע בסדרת הקירובים שמקבלים מהפיתוח של &lt;span&gt;\( x \)&lt;/span&gt; לשבר משולב.&lt;/p&gt;

&lt;p&gt;איך זה קשור אלינו? כי בואו נחשוב רגע מה עושה שלב הערכת הפאזה: הוא מחזיר מספר &lt;span&gt;\( x \)&lt;/span&gt; שהוא &lt;strong&gt;קירוב טוב&lt;/strong&gt; של &lt;span&gt;\( \frac{s}{r} \)&lt;/span&gt; כאשר &lt;span&gt;\( r \)&lt;/span&gt; הוא הסדר שאנחנו מחפשים - מטרת האלגוריתם - ו-&lt;span&gt;\( 0\le s&amp;lt;r \)&lt;/span&gt; הוא מספר אקראי. אבל אם &lt;span&gt;\( x \)&lt;/span&gt; הוא &lt;strong&gt;קירוב טוב&lt;/strong&gt; של &lt;span&gt;\( \frac{s}{r} \)&lt;/span&gt; ההפך נכון באותה מידה: &lt;span&gt;\( \frac{s}{r} \)&lt;/span&gt; הוא &lt;strong&gt;קירוב טוב &lt;/strong&gt;של &lt;span&gt;\( x \)&lt;/span&gt;, ולכן הולך להופיע בפיתוח לשברים משולבים של &lt;span&gt;\( x \)&lt;/span&gt;. כזכור, בפוסט על אלגוריתם הערכת פאזה ראינו בדיוק כיצד ניתן להגדיל את ההסתברות לקבלת קירוב טוב (עוד קיוביטים), אז מה שנצטרך לעשות הוא להבין כמה טוב צריך להיות &lt;strong&gt;הקירוב הטוב&lt;/strong&gt; הזה.&lt;/p&gt;

&lt;p&gt;עוד עניין שאין לנו דרך להתמודד איתו הוא ש-&lt;span&gt;\( \frac{s}{r} \)&lt;/span&gt; צריך להיות &lt;strong&gt;שבר מצומצם&lt;/strong&gt;. אם למשל &lt;span&gt;\( s=7 \)&lt;/span&gt; ו-&lt;span&gt;\( r=63 \)&lt;/span&gt;, אז &lt;span&gt;\( \frac{s}{r}=\frac{7}{63}=\frac{1}{9} \)&lt;/span&gt;, ואז מה שהפיתוח לשברים משולבים ייתן לנו הוא את &lt;span&gt;\( \frac{1}{9} \)&lt;/span&gt;. זה כמובן אותו מספר בדיוק כמו &lt;span&gt;\( \frac{7}{63} \)&lt;/span&gt;, אבל אנחנו מעוניינים במספר 63 שנמצא במכנה, לא ב-9. אז כדי שהאלגוריתם יצליח, ה-&lt;span&gt;\( 0\le s&amp;lt;r \)&lt;/span&gt; שנבחר באקראי צריך להיות זר ל-&lt;span&gt;\( r \)&lt;/span&gt;. למרבה המזל, רוב ה-&lt;span&gt;\( s \)&lt;/span&gt;-ים הללו אכן כאלו, אז זו לא בעיה אמיתית - אבל מי שרוצים להיות ממש זהירים יכולים, בהינתן המספר שהתקבל במכנה, לנסות גם כפולות שלו - אם היינו מנסים לקחת את ה-9 שקיבלנו במכנה, לכפול אותו ב-7 ולנסות לפרק לגורמים את &lt;span&gt;\( N \)&lt;/span&gt; עם ה-&lt;span&gt;\( 63 \)&lt;/span&gt; שקיבלנו, היינו מצליחים; הנסיונות הללו לא מפריעים לשום דבר ומגדילים עוד קצת את הסיכוי שנצליח, אבל כנראה שאפשר גם בלעדיהם.&lt;/p&gt;

&lt;p&gt;אוקיי, בואו נעבור לשברים משולבים! ספציפית אל המספר &lt;span&gt;\( \frac{314159}{100000} \)&lt;/span&gt; שהבטחתי למצוא לו סדרת קירובים טובה יותר מאשר &lt;span&gt;\( 3,3.1,3.14 \)&lt;/span&gt; וכן הלאה. הטכניקה שבה אשתמש תיראה מוזרה במבט ראשון, אבל סמכו עלי - היא עובדת. כזכור, אי שם בבית הספר לימדו אותנו שיש משהו שנקרא “שבר מדומה” שהוא שבר שבו המונה גדול מהמכנה. שבר כזה אפשר להפריד לסכום שנקרא “מספר מעורב” של החלק השלם ועוד החלק השברי שהוא בין 0 ל-1. במקרה שלנו:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \frac{314159}{100000}=3+\frac{14159}{100000} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו אני עושה את הטריק המרכזי שלי: אני משתמש בכך שבאופן כללי, &lt;span&gt;\( \frac{a}{b}=\frac{1}{\frac{b}{a}} \)&lt;/span&gt; כדי לכתוב&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \frac{14159}{100000}=\frac{1}{\frac{100000}{14159}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;מה הולך פה? קודם היה לנו שבר “אמיתי”, שבו המונה &lt;strong&gt;קטן&lt;/strong&gt; מהמכנה; עכשיו המונה והמכנה התהפכו, אז שוב קיבלנו שבר מדומה שאנחנו יכולים להפריד למספר שלם ועוד שבר. בשביל לעשות את זה, צריך לחלק את 100,000 ב-14,159; המנה שנקבל היא החלק השלם, והשארית שנקבל היא מה שנשאר על השבר: &lt;span&gt;\( \frac{100000}{14159}=7+\frac{887}{14159} \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;אם שותלים את הביטוי הזה בחישוב שכבר עשינו, מקבלים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( 3+\frac{14159}{100000}=3+\frac{1}{7+\frac{887}{14159}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אפשר להמשיך עם זה ולהתעלל גם ב–&lt;span&gt;\( \frac{887}{14159} \)&lt;/span&gt;, אבל אפשר גם לקחת הפסקה לרגע ולהגיד “אוקיי, בואו נתעלם לגמרי מה-&lt;span&gt;\( \frac{887}{14159} \)&lt;/span&gt;, מה קיבלנו עכשיו?” ואז יש לנו את השבר&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( 3+\frac{1}{7}=\frac{22}{7} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;הופה! הנה צץ לנו הקירוב המצוין לפאי שדיברתי עליו קודם! כאילו במטה קסם. ובכן, כן, זה &lt;strong&gt;באמת&lt;/strong&gt; קסם, עד כמה שדברים שקורים במתמטיקה הם קסם; זה הקסם שמאפשר לנו לסיים את האלגוריתם של שור. &lt;strong&gt;למה&lt;/strong&gt; זה קורה? סבלנות! עוד אוכיח את זה באופן מלא בפוסט הזה.&lt;/p&gt;

&lt;p&gt;נחזור אל ה-&lt;span&gt;\( \frac{887}{14159} \)&lt;/span&gt;. בשלב הזה אנחנו כבר יודעים מה לעשות - לחלק את 14159 ב-887 ולראות מה המנה ומה השארית, ואז לכתוב&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \frac{887}{14159}=\frac{1}{15+\frac{854}{887}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אם נשתול את זה בביטוי המקורי נקבל משהו שהוא כבר בלתי קריא בעליל:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( 3+\frac{1}{7+\frac{1}{15+\frac{854}{887}}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;בגלל שזה בלתי קריא, משתמשים לפעמים בשיטת סימון אחרת, שבה לא צריך לרדת למטה עוד ועוד:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( 3+\frac{1}{7+}\frac{1}{15+}\frac{1}{887/854} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אבל אני אשתמש בשיטת סימון עוד יותר קומפקטית: הרי לא באמת צריך את כל הפלוסים וה-1 חלקי הללו, אנחנו מתעניינים רק במספרים שליד הפלוסים. אז אפשר לכתוב&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left[3,7,15,\frac{887}{854}\right] \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;זו צורת הכתיב הנפוצה והמקובלת. הנה הגדרה פורמלית של מה היא אומרת:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left[a_{0},a_{1},\ldots a_{n}\right]=a_{0}+\frac{1}{a_{1}+\frac{1}{a_{2}+\frac{1}{\cdots+\frac{1}{a_{n}}}}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ועכשיו אפשר להמשיך יותר בנוחות. נחלק את 887 ב-854 ונקבל מנה 1 ושארית 33, כלומר השלב הבא הוא&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left[3,7,15,1,\frac{854}{33}\right] \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;בשלב הבא נחלק 854 ב-33 ונקבל מנה 25 ושארית 29, ובואו נמשיך גם לשלב הבא כי הבנו את הקטע:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left[3,7,15,1,25,\frac{33}{29}\right]=\left[3,7,15,1,25,1,\frac{29}{4}\right]= \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( =\left[3,7,15,1,25,1,7,\frac{4}{1}\right] \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;וזה השלב האחרון, כי 4 מתחלק ב-1 ללא שארית! זו הצורה ה”סופית” של השבר המשולב:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left[3,7,15,1,25,1,7,4\right] \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כלומר, אנחנו מרגישים רגועים לומר שסיימנו כשהאיבר האחרון, הימני ביותר, הוא עצמו מספר שלם ולא שבר.&lt;/p&gt;

&lt;p&gt;ואיך כל זה עוזר לנו בכלל? כפי שראינו קודם, כבר כש”עצרנו” את החישוב אחרי שקיבלנו את ה-7 הראשון והתעלמנו מהשארית, קיבלנו את הקירוב &lt;span&gt;\( \frac{22}{7} \)&lt;/span&gt; המצוין. באותו אופן אפשר לעצור את הקירוב גם בשלבים מתקדמים יותר ולקבל קירובים מצויינים אחרים. למשל:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left[3,7,15\right]=3+\frac{1}{7+\frac{1}{15}}=3+\frac{1}{\frac{106}{15}}=\frac{333}{106} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;גם זה קירוב מפורסם של פאי, וכן הלאה - הבנו את הרעיון. שימו לב, אגב, שלא עבדנו עם &lt;span&gt;\( \pi \)&lt;/span&gt; בכלל; התחלנו עם המספר &lt;span&gt;\( 3.14159 \)&lt;/span&gt; ומצאנו סדרת קירובים &lt;strong&gt;אליו&lt;/strong&gt;; בגלל שהוא קירוב לא רע של פאי, קיבלנו שסדרת הקירובים החלקיים עד כה נותנת גם את הקירובים המצויינים של &lt;span&gt;\( \pi \)&lt;/span&gt;. אם היינו מלכתחילה רוצים לחשב שבר משולב עבור &lt;span&gt;\( \pi \)&lt;/span&gt; היינו נתקלים בשתי בעיות - החישוב קצת יותר מסובך, והשבר המשולב המתקבל צריך להיות &lt;strong&gt;אינסופי&lt;/strong&gt;; כדי להתחמק מהסיבוך הזה שלא דרוש לי הסתפקתי בלתאר איך מחשבים שבר משולב עבור מספר שהוא מלכתחילה שבר - ומה שראינו הוא שהשבר המשולב שאנחנו בונים אכן נותן סדרה מצויינת של קירובים לאותו השבר. זה המקרה הרלוונטי לנו כי כזכור, אנחנו מקבלים מאלגוריתם הערכת הפאזה מספר &lt;strong&gt;רציונלי &lt;/strong&gt;&lt;span&gt;\( x \)&lt;/span&gt; שבתקווה &lt;span&gt;\( \frac{s}{r} \)&lt;/span&gt; הוא קירוב מצויין אליו. אם &lt;span&gt;\( x \)&lt;/span&gt; הוא מספר רציונלי, אנחנו יודעים איך לחשב לו שבר משולב ואז לקבל ממנו את סדרת הקירובים האופטימלית שהוא נותן - זה חישוב מאוד פשוט שכולל בסך הכל פעולות של חילוק עם שארית וחישובים אריתמטיים פשוטים יותר. קל לתכנת את זה והריצה של החלק הזה לוקחת שברירי שניה.&lt;/p&gt;

&lt;h2&gt;בונוס: איך מוכיחים את כל הקטע הזה של השברים המשולבים?&lt;/h2&gt;

&lt;p&gt;יופי, סיימנו עם האלגוריתם של שור ואפשר לעבור לתורת המספרים נטו! בואו נעבור לתיאור פורמלי של עניין ה&lt;strong&gt;קירוב טוב&lt;/strong&gt; הזה. נתחיל עם סימון: אם &lt;span&gt;\( x \)&lt;/span&gt; הוא מספר רציונלי עם פיתוח לשבר משולב &lt;span&gt;\( \left[a_{0},a_{1},\ldots,a_{n}\right] \)&lt;/span&gt;, אני אסמן את סדרת הקירובים שמתקבלת מהפיתוח הזה בתור &lt;span&gt;\( \frac{p_{0}}{q_{0}},\frac{p_{1}}{q_{1}},\frac{p_{2}}{q_{2}},\ldots,\frac{p_{n}}{q_{n}} \)&lt;/span&gt;. כלומר, &lt;span&gt;\( \frac{p_{k}}{q_{k}}=\left[a_{0},a_{1},\ldots,a_{k}\right] \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;הנה דברים שאפשר להראות אבל לא אראה הפעם: &lt;span&gt;\( q_{0}&amp;lt;q_{1}&amp;lt;q_{2}&amp;lt;\ldots&amp;lt;q_{n} \)&lt;/span&gt;, כלומר המכנה הולך וגדל ככל שמתקדמים בסדרה; &lt;span&gt;\( p_{k},q_{k} \)&lt;/span&gt; זרים זה לזה לכל אינדקס &lt;span&gt;\( k \)&lt;/span&gt;; והקירוב &lt;span&gt;\( \frac{p_{k}}{q_{k}} \)&lt;/span&gt; הוא טוב במובן הבא:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|x-\frac{p_{k}}{q_{k}}\right|&amp;lt;\frac{1}{q_{k}q_{k+1}}&amp;lt;\frac{1}{q_{k}^{2}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כשהמעבר השני נובע מכך ש-&lt;span&gt;\( q_{k}&amp;lt;q_{k+1} \)&lt;/span&gt; (עבור &lt;span&gt;\( k=n \)&lt;/span&gt; הנוסחה לא עובדת כי אין &lt;span&gt;\( q_{k+1} \)&lt;/span&gt; אבל ממילא בשלב הזה ההפרש הוא 0).&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \frac{p_{k}}{q_{k}} \)&lt;/span&gt; הוא &lt;strong&gt;הקירוב הטוב ביותר&lt;/strong&gt; במובן זה שלכל &lt;span&gt;\( 1\le d\le q_{k} \)&lt;/span&gt; ולכל &lt;span&gt;\( c \)&lt;/span&gt; מתקיים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|x-\frac{p_{k}}{q_{k}}\right|\le\left|x-\frac{c}{d}\right| \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כלומר, אם מסתכלים על כל המספרים הרציונליים עם מכנה שהוא לכל היותר &lt;span&gt;\( q_{k} \)&lt;/span&gt;, לא נמצא אף אחד שהוא קירוב יותר טוב ל-&lt;span&gt;\( x \)&lt;/span&gt; מאשר &lt;span&gt;\( \frac{p_{k}}{q_{k}} \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;יפה, כל אלו הם משפטים מעניינים, אבל המשפט שמעניין אותי באמת הוא זה שמבטיח לנו שקירוב טוב בהכרח יופיע בפיתוח לשבר משולב, וסוף סוף אפשר לנסח אותו פורמלית: אם &lt;span&gt;\( c,d \)&lt;/span&gt; זרים זה לזה, עם &lt;span&gt;\( 1\le d \)&lt;/span&gt;, ומתקיים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|x-\frac{c}{d}\right|&amp;lt;\frac{1}{2d^{2}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אז &lt;strong&gt;בודאות&lt;/strong&gt; קיים &lt;span&gt;\( k \)&lt;/span&gt; כך ש-&lt;span&gt;\( \frac{c}{d}=\frac{a_{k}}{b_{k}} \)&lt;/span&gt; עבור איבר &lt;span&gt;\( \frac{a_{k}}{b_{k}} \)&lt;/span&gt; בסדרת הקירובים שמתקבלת מהפיתוח של &lt;span&gt;\( x \)&lt;/span&gt; לשבר משולב.&lt;/p&gt;

&lt;p&gt;איך מוכיחים את זה?&lt;/p&gt;

&lt;p&gt;טוב, אני אצטרך שנכיר עוד כמה דברים על שברים משולבים כדי להתקדם. הדבר הראשון הוא נוסחה די משוגעת שעבור שבר משולב &lt;span&gt;\( \left[a_{0},a_{1},\ldots,a_{n},a_{n+1}\right] \)&lt;/span&gt; נותנת לנו את &lt;span&gt;\( \frac{p_{n+1}}{q_{n+1}} \)&lt;/span&gt; - האיבר הבא בסדרת הקירובים - אם נתונים לנו &lt;span&gt;\( \frac{p_{n}}{q_{n}},\frac{p_{n-1}}{q_{n-1}} \)&lt;/span&gt; ו-&lt;span&gt;\( a_{n+1} \)&lt;/span&gt;. הנה הנוסחה:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \frac{p_{n+1}}{q_{n+1}}=\frac{a_{n+1}p_{n}+p_{n-1}}{a_{n+1}q_{n}+q_{n-1}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;בואו נראה את זה בפעולה עבור &lt;span&gt;\( \left[3,7,15,1,25,1,7,4\right] \)&lt;/span&gt;, השבר המשולב שכבר מצאנו עבור הקירוב לפאי. כזכור, שני הקירובים הראשונים שקיבלנו היו &lt;span&gt;\( \frac{3}{1} \)&lt;/span&gt; ו-&lt;span&gt;\( \frac{22}{7} \)&lt;/span&gt;, והקירוב השלישי היה &lt;span&gt;\( \frac{333}{106} \)&lt;/span&gt;. לכאורה כדי לקבל את הקירוב השלישי אנחנו לא יכולים להיעזר בשני הראשונים; אנחנו חייבים לבצע את כל החישוב &lt;span&gt;\( 3+\frac{1}{7+\frac{1}{15}} \)&lt;/span&gt;; אי אפשר לקחת את &lt;span&gt;\( \frac{22}{7}=3+\frac{1}{7} \)&lt;/span&gt; ופשוט “לשתול” את &lt;span&gt;\( 15 \)&lt;/span&gt; בתוכו בצורה פשוטה. אבל בואו נראה מה קורה עם הנוסחה:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \frac{a_{2}p_{1}+p_{0}}{a_{2}q_{1}+q_{0}}=\frac{15\cdot22+3}{15\cdot7+1}=\frac{333}{106} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;קסם! תקשיבו לי, זה פשוט קסם! אין לי שמץ של מושג איך זה קורה למרות שלדעתי כבר ראיתי כמה פעמים את ההוכחה. בואו נראה אותה שוב ביחד.&lt;/p&gt;

&lt;p&gt;כפי שניתן לנחש, מוכיחים את הטענה באינדוקציה. המקרה הפשוט ביותר שהוא היא רלוונטית הוא &lt;span&gt;\( n=1 \)&lt;/span&gt;. במקרה הזה, השבר המשולב שלנו הוא &lt;span&gt;\( \left[a_{0},a_{1},a_{2}\right] \)&lt;/span&gt; והפיתוחים החלקיים שלו הם&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \frac{p_{0}}{q_{0}}=\frac{a_{0}}{1} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \frac{p_{1}}{q_{1}}=a_{0}+\frac{1}{a_{1}}=\frac{a_{0}a_{1}+1}{a_{1}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;מאלו אנחנו יכולים להסיק:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( p_{0}=a_{0},q_{0}=1 \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( p_{1}=a_{0}a_{1}+1,q_{1}=a_{1} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עבור האיבר הבא החישוב קצת יותר מסובך אבל נעשה אותו במפורש:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \frac{p_{2}}{q_{2}}=a_{0}+\frac{1}{a_{1}+\frac{1}{a_{2}}}=a_{0}+\frac{a_{2}}{a_{2}a_{1}+1}=\frac{a_{2}a_{0}a_{1}+a_{0}+a_{2}}{a_{2}a_{1}+1}= \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( =\frac{a_{2}\left(a_{0}a_{1}+1\right)+a_{0}}{a_{2}a_{1}+1}=\frac{a_{2}p_{1}+p_{0}}{a_{2}q_{1}+q_{0}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;קיבלנו את הנוסחה במקרה הזה, ועכשיו רק נשאר לסיים באינדוקציה את המקרה הכללי. כאן פשוט &lt;strong&gt;חייב&lt;/strong&gt; לבוא איזה טיעון מתוחכם, כי הנוסחה הזו מפשטת לנו מאוד משהו שנראה מבעית בהתחלה. הנה ההתחכמות: במקרה הכללי, השבר המשולב שמתקבל מהאיברים הראשונים עד &lt;span&gt;\( a_{n} \)&lt;/span&gt; הוא&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left[a_{0},a_{1},\ldots,a_{n}\right] \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ועבורו יש לנו את נוסחת הנסיגה&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left[a_{0},a_{1},\ldots,a_{n}\right]=\frac{a_{n}p_{n-1}+p_{n-2}}{a_{n}q_{n-1}+q_{n-2}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו הטיעון המתוחכם: &lt;span&gt;\( p_{n-1},q_{n-1},p_{n-2},q_{n-2} \)&lt;/span&gt; מתקבלים מ-&lt;span&gt;\( \left[a_{0},a_{1},\ldots,a_{n-1}\right] \)&lt;/span&gt; ומ-&lt;span&gt;\( \left[a_{0},a_{1},\ldots,a_{n-2}\right] \)&lt;/span&gt;; השברים המשולבים הללו לא תלויים באיבר האחרון, ולכן המספרים הללו יישארו זהים גם אם נשתול בתור האיבר האחרון משהו אחר, למשל את &lt;span&gt;\( a_{n}+\frac{1}{a_{n+1}} \)&lt;/span&gt;. אבל מה זה &lt;span&gt;\( \left[a_{0},a_{1},\ldots,a_{n-1},a_{n}+\frac{1}{a_{n+1}}\right] \)&lt;/span&gt;? אם נפתח את ההגדרה, נראה שזה&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( a_{0}+\frac{1}{a_{1}+\frac{1}{a_{2}+\frac{1}{\cdots+\frac{1}{a_{n}+\frac{1}{a_{n+1}}}}}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כלומר, זה פשוט המספר &lt;span&gt;\( \left[a_{0},a_{1},\ldots,a_{n-1},a_{n},a_{n+1}\right]=\frac{p_{n+1}}{q_{n+1}} \)&lt;/span&gt;, רק שעבור הצורה הקודמת אפשר להשתמש בנוסחת הנסיגה:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left[a_{0},a_{1},\ldots,a_{n-1},a_{n}+\frac{1}{a_{n+1}}\right]=\frac{\left(a_{n}+\frac{1}{a_{n+1}}\right)p_{n-1}+p_{n-2}}{\left(a_{n}+\frac{1}{a_{n+1}}\right)q_{n-1}+q_{n-2}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;זה קצת מזוויע אבל נכפול מונה ומכנה ב-&lt;span&gt;\( a_{n+1} \)&lt;/span&gt; ונקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \frac{\left(a_{n+1}a_{n}+1\right)p_{n-1}+a_{n+1}p_{n-2}}{\left(a_{n+1}a_{n}+1\right)q_{n-1}+a_{n+1}q_{n-2}}=\frac{a_{n+1}\left(a_{n}p_{n-1}+p_{n-2}\right)+p_{n-1}}{a_{n+1}\left(a_{n}q_{n-1}+q_{n-2}\right)+q_{n-1}}=\frac{a_{n+1}p_{n}+p_{n-1}}{a_{n+1}q_{n}+q_{n-1}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;וזה בדיוק הביטוי שקיווינו לקבל! זה מסיים את ההוכחה הזו.&lt;/p&gt;

&lt;p&gt;בעזרת הנוסחה הזו אפשר לקבל נוסחה מקסימה נוספת, שמקשרת בין &lt;span&gt;\( \frac{p_{n}}{q_{n}} \)&lt;/span&gt; ובין האיבר הקודם לו, &lt;span&gt;\( \frac{p_{n-1}}{q_{n-1}} \)&lt;/span&gt;:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( q_{n}p_{n-1}-p_{n}q_{n-1}=\left(-1\right)^{n} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ההוכחה של זה היא באינדוקציה פשוטה למדי: במקרה הבסיס &lt;span&gt;\( n=1 \)&lt;/span&gt; אנו מתבססים על כך שבפיתוח של &lt;span&gt;\( \left[a_{0},a_{1},\ldots,a_{k}\right] \)&lt;/span&gt; מקבלים, כמו שכבר ראינו, &lt;span&gt;\( \frac{p_{0}}{q_{0}}=\frac{a_{0}}{1} \)&lt;/span&gt; ולכן &lt;span&gt;\( p_{0}=a_{0},q_{0}=1 \)&lt;/span&gt; וש-&lt;span&gt;\( \frac{p_{1}}{q_{1}}=a_{0}+\frac{1}{a_{1}}=\frac{a_{0}a_{1}+1}{a_{1}} \)&lt;/span&gt;, כלומר &lt;span&gt;\( p_{1}=a_{0}a_{1}+1 \)&lt;/span&gt; ו-&lt;span&gt;\( q_{1}=a_{1} \)&lt;/span&gt;. אנו מציבים את זה בנוסחה ומקבלים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( q_{1}p_{0}-p_{1}q_{0}=a_{1}a_{0}-\left(a_{0}a_{1}+1\right)=1 \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;זה מסיים את המקרה הזה. ובאופן כללי? אם נניח שהקשר מתקיים עבור &lt;span&gt;\( n,n-1 \)&lt;/span&gt;, בואו נוכיח אותו עבור &lt;span&gt;\( n+1,n \)&lt;/span&gt; תוך ניצול נוסחת הנסיגה שכבר מצאנו, שהיא כזכור&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( p_{n+1}=a_{n+1}p_{n}+p_{n-1} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( q_{n+1}=a_{n+1}q_{n}+q_{n-1} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;נציב את אלו בנוסחה שאנחנו רוצים להוכיח עבורה את הטענה:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( q_{n+1}p_{n}-p_{n+1}q_{n}=\left(a_{n+1}q_{n}+q_{n-1}\right)p_{n}-\left(a_{n+1}p_{n}+p_{n-1}\right)q_{n}= \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( =\left(a_{n+1}q_{n}p_{n}-a_{n+1}p_{n}q_{n}\right)+\left(q_{n-1}p_{n}-p_{n-1}q_{n}\right)= \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( =-\left(p_{n-1}q_{n}-q_{n-1}p_{n}\right)=-\left(-1\right)^{n}=\left(-1\right)^{n+1} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;מה שמסיים גם את זה! עכשיו סוף סוף יש לנו את הכלים שאנחנו צריכים כדי להוכיח את הטענה המקורית שלנו: שעבור &lt;span&gt;\( x \)&lt;/span&gt; רציונלי, אם ניקח &lt;span&gt;\( \frac{c}{d} \)&lt;/span&gt; חיובי שמקיים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|x-\frac{c}{d}\right|&amp;lt;\frac{1}{2d^{2}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אז &lt;span&gt;\( \frac{c}{d} \)&lt;/span&gt; יופיע בפיתוח לשבר משולב של &lt;span&gt;\( x \)&lt;/span&gt;. נקודה אחת שצריך לשים לב אליה ולא אוכיח פורמלית היא שהפיתוח לשבר משולב שבו כל האיברים הם שלמים הוא &lt;strong&gt;יחיד&lt;/strong&gt; למעט אפשרות להתחכם קצת בשלב האחרון: אפשר להחליף את &lt;span&gt;\( \left[a_{0},a_{1},\ldots,a_{n}\right] \)&lt;/span&gt; ב-&lt;span&gt;\( \left[a_{0},a_{1},\ldots,a_{n}-1,1\right] \)&lt;/span&gt;, כי &lt;span&gt;\( a_{n}-1+\frac{1}{1}=a_{n} \)&lt;/span&gt;. אם כן, אם אני אראה שיש ל-&lt;span&gt;\( x \)&lt;/span&gt; פיתוח &lt;strong&gt;כלשהו &lt;/strong&gt;לשבר משולב שבו &lt;span&gt;\( \frac{c}{d} \)&lt;/span&gt; מופיע לפני הסוף, סיימנו. מצד שני, בזכות ההתחכמות שהראיתי, אפשר תמיד להניח שכשאנחנו לוקחים פיתוח של משהו לשבר משולב, אנחנו יכולים לשלוט על האם הפיתוח הוא מאורך &lt;strong&gt;זוגי&lt;/strong&gt; או &lt;strong&gt;אי זוגי&lt;/strong&gt;, כלומר האם &lt;span&gt;\( q_{n}p_{n-1}-p_{n}q_{n-1} \)&lt;/span&gt; הוא 1 או דווקא &lt;span&gt;\( -1 \)&lt;/span&gt;; אני הולך להשתמש בזה בקרוב.&lt;/p&gt;

&lt;p&gt;עכשיו אפשר לגשת סוף סוף לעניינים. מכיוון ש-&lt;span&gt;\( \frac{c}{d} \)&lt;/span&gt; הוא עצמו מספר רציונלי, קיים לו פיתוח לשבר משולב שהאיבר האחרון שלו יסומן ב-&lt;span&gt;\( \frac{p_{n}}{q_{n}} \)&lt;/span&gt;:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \frac{c}{d}=\frac{p_{n}}{q_{n}}=\left[a_{0},a_{1},\ldots,a_{n}\right] \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כאשר כאמור בהמשך אני אגיד אם &lt;span&gt;\( n \)&lt;/span&gt; זוגי או לא, בהתאם למה שיתאים לי. הרעיון עכשיו הוא למצוא &lt;span&gt;\( \lambda \)&lt;/span&gt; רציונלי כלשהו כך שמתקיים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( x=\left[a_{0},a_{1},\ldots,a_{n},\lambda\right] \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;שימו לב: זה לא הפיתוח המלא של &lt;span&gt;\( x \)&lt;/span&gt; לשברים משולבים! אבל אם &lt;span&gt;\( \lambda\ge1 \)&lt;/span&gt; אפשר להמשיך את הפיתוח - לפתח גם את &lt;span&gt;\( \lambda \)&lt;/span&gt; לשבר משולב ולהוסיף את זה להמשך הפיתוח. זה נשמע מבלבל, אבל זה בדיוק מה שעשינו בדוגמה של פאי שכל כך התעקשתי עליה משום מה. הגעתי לביטוי כמו&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left[3,7,15,1,\frac{854}{33}\right] \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ואז פשוט המשכתי עם &lt;span&gt;\( \frac{854}{33} \)&lt;/span&gt;, בעזרת אותה טכניקה שבה מצאתי את האיברים הקודמים בסדרה. אם כן, ה-&lt;span&gt;\( \lambda \)&lt;/span&gt; הוא ה-&lt;span&gt;\( \frac{854}{33} \)&lt;/span&gt; שלנו כאן - אבל קודם צריך להשתכנע בכך שהוא קיים ושהוא גדול או שווה ל-1.&lt;/p&gt;

&lt;p&gt;החלק היפה הוא שאם &lt;span&gt;\( \lambda \)&lt;/span&gt; קיים, אנחנו יודעים בדיוק איזו נוסחה שמערבת את &lt;span&gt;\( x \)&lt;/span&gt; הוא אמור לקיים, כי זה מה שטרחתי להוכיח קודם:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( x=\left[a_{0},a_{1},\ldots,a_{n},\lambda\right]=\frac{\lambda p_{n}+p_{n-1}}{\lambda q_{n}+q_{n-1}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אנחנו רוצים לחלץ את &lt;span&gt;\( \lambda \)&lt;/span&gt; מפה, אז נכפול את שני האגפים ב-&lt;span&gt;\( \lambda q_{n}+q_{n-1} \)&lt;/span&gt; ונקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \lambda q_{n}x+q_{n-1}x=\lambda p_{n}+p_{n-1} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;נעביר אגפים ונוציא את &lt;span&gt;\( \lambda \)&lt;/span&gt; החוצה:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \lambda\left(q_{n}x-p_{n}\right)=p_{n-1}-q_{n-1}x \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ולסיום נחלק ב-&lt;span&gt;\( q_{n}x-p_{n} \)&lt;/span&gt; ונקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \lambda=\frac{p_{n-1}-q_{n-1}x}{q_{n}x-p_{n}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;הביטוי הזה מוגדר תמיד, למעט במקרה שבו &lt;span&gt;\( x=\frac{p_{n}}{q_{n}} \)&lt;/span&gt; ואז נקבל במכנה 0; אבל המקרה הזה הוא טריוויאלי, כי &lt;span&gt;\( \frac{p_{n}}{q_{n}} \)&lt;/span&gt; הוא כזכור מה שרצינו לטעון שמופיע בפיתוח של &lt;span&gt;\( x \)&lt;/span&gt;, ולכן אם הוא עצמו &lt;span&gt;\( x \)&lt;/span&gt; בוודאי שהוא מופיע!&lt;/p&gt;

&lt;p&gt;אז נניח ש-&lt;span&gt;\( x\ne\frac{p_{n}}{q_{n}} \)&lt;/span&gt;. אנחנו יודעים (זו הייתה ההנחה שלנו) ש-&lt;span&gt;\( \left|x-\frac{p_{n}}{q_{n}}\right|&amp;lt;\frac{1}{2q_{n}^{2}} \)&lt;/span&gt; ולכן אפשר לסמן את זה&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( x-\frac{p_{n}}{q_{n}}=\frac{\delta}{2q_{n}^{2}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כאשר &lt;span&gt;\( 0&amp;lt;\left|\delta\right|&amp;lt;1 \)&lt;/span&gt;. נעביר אגף ונקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( x=\frac{p_{n}}{q_{n}}+\frac{\delta}{2q_{n}^{2}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו אני רוצה לקחת את זה ולהציב בתוך &lt;span&gt;\( \lambda=\frac{p_{n-1}-q_{n-1}x}{q_{n}x-p_{n}} \)&lt;/span&gt;. מכיוון שנקבל ביטוי פשוט אבל עם שלב ביניים מסובך, בואו נטפל במונה ובמכנה בנפרד. קודם כל המכנה:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( q_{n}x-p_{n}=q_{n}\left(\frac{p_{n}}{q_{n}}+\frac{\delta}{2q_{n}^{2}}\right)-p_{n}=p_{n}+\frac{\delta}{2q_{n}}-p_{n}=\frac{\delta}{2q_{n}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אוקיי, זה לא היה כל כך נורא! עכשיו המונה:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( p_{n-1}-q_{n-1}x=p_{n-1}-\frac{p_{n}q_{n-1}}{q_{n}}-\frac{q_{n-1}\delta}{2q_{n}^{2}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;זה נראה מזוויע, אבל זוכרים את הנוסחה &lt;span&gt;\( q_{n}p_{n-1}-p_{n}q_{n-1}=1 \)&lt;/span&gt;? היא מתחבאת כאן, רק צריך להעלות את ה-&lt;span&gt;\( p_{n-1} \)&lt;/span&gt; הזה למעלה:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( p_{n-1}-\frac{p_{n}q_{n-1}}{q_{n}}-\frac{q_{n-1}\delta}{2q_{n}^{2}}=\frac{p_{n-1}q_{n}-p_{n}q_{n-1}}{q_{n}}-\frac{q_{n-1}\delta}{2q_{n}^{2}}=\frac{\left(-1\right)^{n}}{q_{n}}-\frac{q_{n-1}\delta}{2q_{n}^{2}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו, לחלק את זה ב-&lt;span&gt;\( \frac{\delta}{2q_{n}} \)&lt;/span&gt; זה כמו לכפול את זה ב-&lt;span&gt;\( \frac{2q_{n}}{\delta} \)&lt;/span&gt; (מותר לנו כי &lt;span&gt;\( \delta\ne0 \)&lt;/span&gt; כי &lt;span&gt;\( x\ne\frac{p_{n}}{q_{n}} \)&lt;/span&gt;). נקבל:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \lambda=\frac{2q_{n}}{\delta}\left(\frac{\left(-1\right)^{n}}{q_{n}}-\frac{q_{n-1}\delta}{2q_{n}^{2}}\right)=\left(-1\right)^{n}\frac{2}{\delta}-\frac{q_{n-1}}{q_{n}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;וזה יצא… ממש פשוט! עכשיו, כזכור אנחנו רוצים לקבל &lt;span&gt;\( \lambda&amp;gt;1 \)&lt;/span&gt;; בשביל זה אנחנו חייבים להבטיח שהביטוי &lt;span&gt;\( \left(-1\right)^{n}\frac{2}{\delta} \)&lt;/span&gt; ייצא חיובי ולא שלילי, זה מחזיר אותנו לבחירה של &lt;span&gt;\( n \)&lt;/span&gt; בהתחלה; אם &lt;span&gt;\( \delta&amp;gt;0 \)&lt;/span&gt; אז בוחרים את &lt;span&gt;\( n \)&lt;/span&gt; להיות זוגי ומקבלים &lt;span&gt;\( \left(-1\right)^{n}=1 \)&lt;/span&gt;, ואם &lt;span&gt;\( \delta&amp;lt;0 \)&lt;/span&gt; בוחרים &lt;span&gt;\( n \)&lt;/span&gt; אי זוגי ומקבלים &lt;span&gt;\( \left(-1\right)^{n}=-1 \)&lt;/span&gt;. בכל מקרה אנחנו לבסוף מקבלים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \lambda=\frac{2}{\left|\delta\right|}-\frac{q_{n-1}}{q_{n}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;יותר מזה, בגלל שסדרת המכנים בפיתוח לשבר משולב היא עולה, &lt;span&gt;\( q_{n-1}&amp;lt;q_{n} \)&lt;/span&gt; ולכן &lt;span&gt;\( \frac{q_{n-1}}{q_{n}}&amp;lt;1 \)&lt;/span&gt; ומצד שני בגלל ש-&lt;span&gt;\( \left|\delta\right|&amp;lt;1 \)&lt;/span&gt; אז &lt;span&gt;\( \frac{2}{\left|\delta\right|}&amp;gt;2 \)&lt;/span&gt;, ואנחנו מקבלים &lt;span&gt;\( \lambda&amp;gt;1 \)&lt;/span&gt;, כפי שרצינו. אנחנו מפתחים אותו לשבר משולב, מקבלים &lt;span&gt;\( \lambda=\left[b_{1},\ldots,b_{m}\right] \)&lt;/span&gt; ולבסוף מקבלים &lt;span&gt;\( x=\left[a_{1},\ldots,a_{n},b_{1},\ldots,b_{m}\right] \)&lt;/span&gt; - פיתוח מלא של &lt;span&gt;\( x \)&lt;/span&gt; לשבר משולב שבמהלכו מופיע &lt;span&gt;\( \frac{a}{b}=\frac{p_{n}}{q_{n}} \)&lt;/span&gt;, כפי שרצינו. זה מסיים את ההוכחה!&lt;/p&gt;

&lt;h2&gt;דברי סיכום ופרידה&lt;/h2&gt;

&lt;p&gt;ובכן, מה היה לנו הפעם? איך זה היה שונה מהפוסט הקודם שלי על האלגוריתם של שור? האלגוריתם מחולק קונספטואלית לשלושה חלקים; החלק הראשון, של הרדוקציה מבעיית הפירוק לגורמים אל בעיית הפרת הסדר, הוא חלק שהרחבתי עליו מאוד בפוסט ההוא והפעם לא נגעתי בו כי אין לי משהו נוסף לומר, אבל בשני החלקים האחרים הרחבתי לא מעט. ראשית, הצגתי באופן מפורש את שור בתור מקרה פרטי של אלגוריתם הערכת פאזה, שזה משהו שבכלל לא ניסיתי לעשות בפוסט הקודם (בואו לא נדבר על השאלה המביכה עד כמה הבנתי את זה בעצמי). שנית, הפעם התעמקתי קצת יותר במשפט הספציפי שקשור לשברים משולבים שמבטיח לנו שעם קצת מזל, ה-&lt;span&gt;\( \frac{s}{r} \)&lt;/span&gt; שאנחנו מחפשים יצוץ מתוך תוצאת אלגוריתם הערכת הפאזה. זה דרש גלישה נוספת לתורת המספרים במקום לחישוב קוונטי, אבל הנושא של שברים משולבים הוא כל כך כיפי שלא יכלתי להתאפק.&lt;/p&gt;

&lt;p&gt;לאן הולכים מכאן? בסדרת הפוסטים הקודמת שלי, שור היה המטרה הסופית; אבל בסדרה הנוכחית, אני מקווה שעכשיו משהוצאנו את זה מהדרך, אפשר להראות כל מני דברים לא קשורים בעליל אבל מגניבים לא פחות.&lt;/p&gt;</content><author><name></name></author><category term="חישוב קוונטי" /><category term="האלגוריתם של שור" /><category term="שברים משולבים" /><summary type="html">מבוא</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://gadial.net/2022/shor_algorithm.png" /></entry><entry><title type="html">חישוב קוונטי: אלגוריתם הערכת פאזה</title><link href="http://gadial.net/2022/09/06/phase_estimation_algorithm/" rel="alternate" type="text/html" title="חישוב קוונטי: אלגוריתם הערכת פאזה" /><published>2022-09-06T00:00:00+00:00</published><updated>2022-09-06T00:00:00+00:00</updated><id>http://gadial.net/2022/09/06/phase_estimation_algorithm</id><content type="html" xml:base="http://gadial.net/2022/09/06/phase_estimation_algorithm/">&lt;h2&gt;מה זה בכלל ובשביל מה זה טוב?&lt;/h2&gt;

&lt;p&gt;האלגוריתם הקוונטי שאני רוצה להציג בפוסט הזה, &lt;strong&gt;אלגוריתם הערכת פאזה&lt;/strong&gt;, הוא פשוט קסם. מה שהוא עושה הוא קסם. האופן שבו הוא עושה את זה הוא קסם. האופן שבו זה משתלב עם התמרת פורייה הקוונטית שעליה &lt;a href=&quot;https://gadial.net/2022/09/01/quantum_fourier_transform/&quot;&gt;דיברתי בפוסט הקודם&lt;/a&gt; הוא קסם. הדבר היחיד שאינו קסם, חוץ מההוכחה הפורמלית שהכל עובד והיא טכנית למדי, הוא להבין בשביל מה זה טוב. אז אני אשתמש באותו תירוץ שהשתמשתי בו בפוסט על התמרת פורייה הקוונטית - זה הכלי המרכזי שבו משתמש האלגוריתם של שור לפירוק לגורמים. למעשה, אפשר לחשוב על כל החלק הקוונטי באלגוריתם של שור בתור מקרה פרטי של אלגוריתם הערכת פאזה. אבל בשביל זה באמת צריך להסביר מה זה האלגוריתם הזה ומה הוא עושה.&lt;/p&gt;

&lt;p&gt;הרעיון בהערכת פאזה הוא זה: נניח שיש לנו מרחב על &lt;span&gt;\( m \)&lt;/span&gt; קיוביטים, כלומר &lt;span&gt;\( \mathbb{C}^{2^{m}} \)&lt;/span&gt;, ועל המרחב הזה מוגדר לנו אופרטור אוניטרי &lt;span&gt;\( U:\mathbb{C}^{2^{m}}\to\mathbb{C}^{2^{m}} \)&lt;/span&gt;, ואני מניח שלאופרטור הזה יש וקטור עצמי, &lt;span&gt;\( \left|u\right\rangle  \)&lt;/span&gt;. עכשיו, הערכים העצמיים של אופרטורים אוניטריים הם תמיד מנורמה 1, אז אפשר לכתוב את הערך העצמי שמתאים ל-&lt;span&gt;\( \left|u\right\rangle  \)&lt;/span&gt; בתור &lt;span&gt;\( e^{2i\pi\cdot\varphi} \)&lt;/span&gt;, כאשר המספר &lt;span&gt;\( \varphi \)&lt;/span&gt; נקרא &lt;strong&gt;הפאזה&lt;/strong&gt; של הערך העצמי. המטרה שלנו היא לחשב את &lt;span&gt;\( \varphi \)&lt;/span&gt;, עד רמת דיוק מסויימת שנוכל לשלוט עליה ולהגדיל אותה כרצוננו; אבל מכיוון שתמיד נקבל מספר רציונלי ו-&lt;span&gt;\( \varphi \)&lt;/span&gt; עשוי להיות אי רציונלי, גם ברמת דיוק גבוהה עדיין ייתכן שנקבל רק &lt;strong&gt;הערכה&lt;/strong&gt; של הערך של &lt;span&gt;\( \varphi \)&lt;/span&gt;, ומכאן שם האלגוריתם.&lt;/p&gt;

&lt;p&gt;זה אלגוריתם מעניין למדי כבר בשלב הזה, כי הוא עושה משהו שלא ראינו עד כה - מחשב ערך מספרי כלשהו ומחזיר אותו לנו. לא לגמרי ברור איך עושים את זה, או למה זה חשוב; עד סוף הפוסט אני מקווה שחלק מהערפל הזה קצת יתבהר, אבל לשימושים לא נגיע הפעם.&lt;/p&gt;

&lt;h2&gt;אלגוריתם הערכת פאזה, תיאור פורמלי וקסום&lt;/h2&gt;

&lt;p&gt;אבני הבניין שמהן אנו בונים את אלגוריתם הערכת הפאזה הן שלוש: קודם כל, אנו נעזרים ב-&lt;span&gt;\( n \)&lt;/span&gt; קיוביטים שמאותחלים ל-&lt;span&gt;\( \left|0^{n}\right\rangle  \)&lt;/span&gt;, כאשר &lt;span&gt;\( n \)&lt;/span&gt; מתאר את רמת הדיוק שלנו - אנחנו הולכים לקבל כפלט מספר בן &lt;span&gt;\( n \)&lt;/span&gt; ספרות בינאריות אחרי הנקודה שהוא קירוב של &lt;span&gt;\( \varphi \)&lt;/span&gt; (ואם &lt;span&gt;\( \varphi \)&lt;/span&gt; עצמו ניתן לתיאור מדויק באמצעות &lt;span&gt;\( n \)&lt;/span&gt; ספרות בינאריות אחרי הנקודה, נקבל אותו במדויק). שנית, אנו נעזרים ב-&lt;span&gt;\( t \)&lt;/span&gt; קיוביטים נוספים שהמצב שלהם בתחילת האלגוריתם הוא &lt;span&gt;\( \left|u\right\rangle  \)&lt;/span&gt;, הוקטור העצמי שאת הפאזה שלו מחפשים (בפוסט על האלגוריתם של שור נראה שלא באמת &lt;strong&gt;חייבים&lt;/strong&gt; לדעת את &lt;span&gt;\( \left|u\right\rangle  \)&lt;/span&gt;). לבסוף, אנחנו מניחים שיש לנו יכולת לבנות מעגל שמחשב את &lt;span&gt;\( U \)&lt;/span&gt;, אבל יותר מזה - גם את &lt;span&gt;\( U^{2},U^{4},U^{8},\ldots \)&lt;/span&gt; וכדומה, עבור חזקות &lt;span&gt;\( U^{2^{t}} \)&lt;/span&gt; עם &lt;span&gt;\( t\ge0 \)&lt;/span&gt;. למה רק חזקות של 2? כי נראה שהן יספיקו לנו כדי לחשב את כל החזקות של &lt;span&gt;\( U \)&lt;/span&gt; שנזדקק להן.&lt;/p&gt;

&lt;p&gt;בהינתן שיש לנו את כל אלו (וזו לא הנחה טריוויאלית), אלגוריתם הערכת הפאזה די קל לתיאור קונספטואלי. אני אקרא לקיוביטים שאותחלו ל-&lt;span&gt;\( \left|0^{n}\right\rangle  \)&lt;/span&gt; בשם “הרגיסטר הראשון” ולקיוביטים שמהווים את &lt;span&gt;\( \left|u\right\rangle  \)&lt;/span&gt; בשם “הרגיסטר השני”, וכעת מה שעושים הוא:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;מפעילים &lt;span&gt;\( H \)&lt;/span&gt; על כל אברי הרגיסטר הראשון.&lt;/li&gt;


&lt;li&gt;מפעילים את הטרנספורמציה &lt;span&gt;\( \left|k\right\rangle \left|u\right\rangle \mapsto\left|k\right\rangle U^{k}\left|u\right\rangle  \)&lt;/span&gt; על שני הרגיסטרים.&lt;/li&gt;


&lt;li&gt;מפעילים את &lt;span&gt;\( \text{QFT}_{N}^{\dagger} \)&lt;/span&gt; על הרגיסטר הראשון.&lt;/li&gt;


&lt;li&gt;מודדים את הרגיסטר הראשון. תוצאת המדידה תהיה הקירוב המבוקש.&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;בתור מין מעגל סכמטי, זה נראה כך:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/2022/phase_estimation_overview.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;אבל כרגע רב הנסתר על המרובה. להפעיל &lt;span&gt;\( H \)&lt;/span&gt; על אברי הרגיסטר הראשון - את זה אנחנו כבר מבינים, וגם יודעים שזה מייצר לנו את המצב &lt;span&gt;\( \left|+^{n}\right\rangle  \)&lt;/span&gt;. אבל איך מבצעים את הטרנספורמציה &lt;span&gt;\( \left|k\right\rangle \left|u\right\rangle \mapsto\left|k\right\rangle U^{k}\left|u\right\rangle  \)&lt;/span&gt; ומה זה &lt;span&gt;\( \text{QFT}_{N}^{\dagger} \)&lt;/span&gt;? נתחיל מהשני. בפוסט הקודם על התמרת פורייה תיארנו מעגל שמחשב את &lt;span&gt;\( \text{QFT}_{N} \)&lt;/span&gt;. הסימון &lt;span&gt;\( \text{QFT}_{N}^{\dagger} \)&lt;/span&gt; פשוט מייצג את הטרנספורמציה &lt;strong&gt;ההופכית&lt;/strong&gt;. קל לחשב אותה, כי חישוב קוונטי שלא מערב מדידות הוא &lt;strong&gt;הפיך&lt;/strong&gt; - פשוט לוקחים את המעגל של &lt;span&gt;\( \text{QFT}_{N} \)&lt;/span&gt; ושמים את כל השערים שלו בסדר הפוך. פורמלית, מה שמשתמשים בו בהערכת פאזה הוא לא “התמרת פורייה הקוונטית” אלא “התמרת פורייה הקוונטית ההפוכה”, ועוד מעט ייפול לנו גם האסימון למה.&lt;/p&gt;

&lt;p&gt;השאלה השניה היא איך מחשבים את &lt;span&gt;\( \left|k\right\rangle \left|u\right\rangle \mapsto\left|k\right\rangle U^{k}\left|u\right\rangle  \)&lt;/span&gt;, וכאן זה הולך להיות דומה &lt;strong&gt;מאוד&lt;/strong&gt; למה שקרה בהתמרת פורייה הקוונטית. כל כך דומה, שאני ממליץ בחום לחזור ולקרוא את הפוסט ההוא למי שדילגו עליו (מצד שני, אולי זה פשוט יותר כאן, ויקל על מי שנתקעו בפוסט ההוא?)&lt;/p&gt;

&lt;p&gt;כזכור, אנחנו אוהבים ייצוג &lt;strong&gt;בינארי&lt;/strong&gt; של מספרים. הייצוג הבינארי של מספר &lt;span&gt;\( k \)&lt;/span&gt; הוא ייצוג בתור &lt;span&gt;\( k=\sum_{t=1}^{n}2^{n-t}k_{t} \)&lt;/span&gt; כך ש-&lt;span&gt;\( k_{t}\in\left\{ 0,1\right\}  \)&lt;/span&gt;. עכשיו, אפשר לפרק העלאה כללית בחזקת &lt;span&gt;\( k \)&lt;/span&gt; למכפלה של העלאות בחזקות של 2:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( U^{k}=U^{\sum_{t=1}^{n}2^{n-t}k_{t}}=\prod_{t=1}^{n}U^{2^{n-t}k_{t}}=\prod_{k_{t}=1}U^{2^{n-t}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אז האפקט שאנחנו רוצים הוא בעצם:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|k_{1}k_{2}\ldots k_{n}\right\rangle \left|u\right\rangle \mapsto\left|k_{1}k_{2}\ldots k_{n}\right\rangle \prod_{k_{t}=1}U^{2^{n-t}}\left|u\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ראינו משהו דומה לזה בפוסט על פורייה, ושם הטריק שלנו היה שאפשר לעבור מסכום של &lt;span&gt;\( 2^{n} \)&lt;/span&gt; איברים שכל אחד מהם הוא מכפלה של &lt;span&gt;\( n \)&lt;/span&gt; קיוביטים (כלומר, הסכום הוא על כל המכפלות האפשריות) אל מכפלה טנזורית של &lt;span&gt;\( n \)&lt;/span&gt; הקיוביטים שכל אחד מהם הוא בסופרפוזיציה של בדיוק שני מצבים. אני ארצה לעשות את זה גם כאן, אבל בגלל שמעורבים פה שני רגיסטרים קוונטיים שונים, אחד עם &lt;span&gt;\( \left|k_{1}k_{2}\ldots k_{n}\right\rangle  \)&lt;/span&gt; ואחד עם &lt;span&gt;\( \left|u\right\rangle  \)&lt;/span&gt;, זה יותר מסובך - אני צריך להוציא החוצה את &lt;span&gt;\( \left|u\right\rangle  \)&lt;/span&gt; איכשהו, וקל לי לעשות את זה כי &lt;span&gt;\( \left|u\right\rangle  \)&lt;/span&gt; הוא &lt;strong&gt;וקטור עצמי&lt;/strong&gt; של &lt;span&gt;\( U \)&lt;/span&gt; ולכן הפעולה של &lt;span&gt;\( U \)&lt;/span&gt; עליו מתורגמת לכפל בסקלר, ואת הסקלר אני יכול להעביר אל &lt;span&gt;\( \left|k_{1}k_{2}\ldots k_{n}\right\rangle  \)&lt;/span&gt;:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|k_{1}k_{2}\ldots k_{n}\right\rangle \prod_{k_{t}=1}U^{2^{n-t}}\left|u\right\rangle =\left|k_{1}k_{2}\ldots k_{n}\right\rangle \prod_{k_{t}=1}e^{2\pi i\varphi\cdot2^{n-t}}\left|u\right\rangle = \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \prod_{k_{t}=1}e^{2\pi i\varphi\cdot2^{n-t}}\left|k_{1}k_{2}\ldots k_{n}\right\rangle \left|u\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו בואו נעשה טריק כמו בפורייה: ראשית ניקח סכום של כל &lt;span&gt;\( 2^{n} \)&lt;/span&gt; מצבי הבסיס &lt;span&gt;\( \left|k_{1}k_{2}\ldots k_{n}\right\rangle  \)&lt;/span&gt;. הוא יצטרך להיות משוקלל, כלומר נחלק אותו ב-&lt;span&gt;\( \frac{1}{2^{n/2}} \)&lt;/span&gt;. נקבל שצריך להגיע אל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \frac{1}{2^{n/2}}\sum_{k=0}^{2^{n}-1}\prod_{k_{t}=1}e^{2\pi i\varphi\cdot2^{n-t}}\left|k_{1}k_{2}\ldots k_{n}\right\rangle \left|u\right\rangle = \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( =\frac{1}{2^{n/2}}\bigotimes_{t=1}^{n}\left(\left|0\right\rangle +e^{2\pi i\varphi\cdot2^{n-t}}\left|1\right\rangle \right)\left|u\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( =\bigotimes_{t=1}^{n}\left(\frac{\left|0\right\rangle +e^{2\pi i\varphi\cdot2^{n-t}}\left|1\right\rangle }{\sqrt{2}}\right)\left|u\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;מה שאנחנו רואים פה הוא שאפשר לחשוב על היעד שלנו בתור משהו שבו &lt;span&gt;\( \left|u\right\rangle  \)&lt;/span&gt; המקורי לא השתנה, אבל ברגיסטר הראשון הקיוביט ה-&lt;span&gt;\( t \)&lt;/span&gt; התחלף מ-&lt;span&gt;\( \left|0\right\rangle  \)&lt;/span&gt; תמים אל &lt;span&gt;\( \frac{\left|0\right\rangle +e^{2\pi i\varphi\cdot2^{n-t}}\left|1\right\rangle }{\sqrt{2}} \)&lt;/span&gt;. איך משיגים אפקט כזה? ראשית, כמו שאמרתי כבר, מפעילים &lt;span&gt;\( H \)&lt;/span&gt; בהתחלה על כל הקיוביטים ברגיסטר הזה - זה מעביר כל אחד מהם אל &lt;span&gt;\( \frac{\left|0\right\rangle +\left|1\right\rangle }{\sqrt{2}} \)&lt;/span&gt;. עכשיו רק צריך להכניס את הפאזה &lt;span&gt;\( e^{2\pi i\varphi\cdot2^{n-t}} \)&lt;/span&gt; לתוך המקדם של &lt;span&gt;\( \left|1\right\rangle  \)&lt;/span&gt; מבלי לגעת ב-&lt;span&gt;\( \left|0\right\rangle  \)&lt;/span&gt;. את זה אפשר לעשות עם שער &lt;strong&gt;מותנה&lt;/strong&gt;. מה שאני רוצה שיקרה הוא&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;&lt;span&gt;\( \left|0\right\rangle \left|u\right\rangle \mapsto\left|0\right\rangle \left|u\right\rangle  \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( \left|1\right\rangle \left|u\right\rangle \mapsto\left|1\right\rangle U^{2^{n-t}}\left|u\right\rangle =e^{2\pi i\varphi\cdot2^{n-t}}\left|1\right\rangle \left|u\right\rangle  \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;אז אני הולך להפעיל שער &lt;span&gt;\( U^{2^{n-t}} \)&lt;/span&gt; שמותנה בקיוביט ה-&lt;span&gt;\( t \)&lt;/span&gt;-י. ככה זה הולך להיראות:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/2022/phase_estimation.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;אפשר כמובן לשאול איך בונים שערי &lt;span&gt;\( U^{2^{t}} \)&lt;/span&gt; מותנים בפועל - זו שאלה שאלגוריתם הערכת הפאזה עצמו לא מתעסק בה; הוא אומר “אם &lt;span&gt;\( U \)&lt;/span&gt; הוא נחמד ואתם יכולים לבנות את השערים הללו עבורו, אז אפשר להפעיל הערכת פאזה” אבל בשימוש ספציפי, כמו אלגוריתם שור, אכן נצטרך להסביר איך לעשות את זה.&lt;/p&gt;

&lt;p&gt;שימו לב שעל פניו, קורה כאן משהו מוזר &lt;strong&gt;מאוד&lt;/strong&gt;: אחרי שערי ה-&lt;span&gt;\( H \)&lt;/span&gt; בהתחלה, לכאורה על שערי הרגיסטר הראשון לא מופעל שום דבר שמשנה אותם - רק שערים שמותנים בהם. והרגיסטר השני? מופעלים עליו &lt;span&gt;\( U^{j} \)&lt;/span&gt;-ים, אבל בגלל ש-&lt;span&gt;\( \left|u\right\rangle  \)&lt;/span&gt; הוא וקטור עצמי של &lt;span&gt;\( U \)&lt;/span&gt; זה לא משנה את &lt;span&gt;\( \left|u\right\rangle  \)&lt;/span&gt; - רק מכפיל אותו בסקלר כלשהו, ואחר כך אנחנו בכל מקרה לא מודדים את &lt;span&gt;\( \left|u\right\rangle  \)&lt;/span&gt; אז לכאורה הסקלר אמור “להיעלם”. מה הולך כאן? זה נראה כמו קסם - מעגל שלא עושה כלום ומחשב בדיוק את מה שהוא אמור.&lt;/p&gt;

&lt;p&gt;כמובן שאין פה קסם - הסקלר של &lt;span&gt;\( \left|u\right\rangle  \)&lt;/span&gt; לא הולך להיעלם אלא להצטבר בצורה חכמה בתוך הסופרפוזיציה שמהווים אברי הרגיסטר הראשון. איך זה ייתכן, אם אנחנו לא פועלים עליהם? ובכן, אין דבר כזה בחישוב קוונטי, לומר בנחרצות כזו שאנחנו לא פועלים על משהו; שערים מותנים הם לא משהו שפועל על כל קיוביט בנפרד אלא על זוג קיוביטים ביחד, וצריך לחשוב על ההשפעה שלהם בתור משהו שמשפיע על שני הקיוביטים הללו יחד. כבר ראינו איך זה בא לידי ביטוי פורמלי.&lt;/p&gt;

&lt;p&gt;עכשיו אנחנו קרובים בצורה מפתיעה לסיום ההבנה של “למה זה עובד”. נשאר רק דבר אחד, בעצם. בואו נסתכל על מצב הרגיסטר הראשון אחרי סיום ריצת המעגל:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \bigotimes_{t=1}^{n}\frac{1}{\sqrt{2}}\left(\left|0\right\rangle +e^{2\pi i\varphi\cdot2^{n-t}}\left|1\right\rangle \right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ובוא נזכיר לעצמנו מה עשתה התמרת פורייה הקוונטית, בפוסט הקודם:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \text{QFT}_{N}\left(\left|j\right\rangle \right)=\bigotimes_{t=1}^{n}\frac{1}{\sqrt{2}}\left(\left|0\right\rangle +e^{2\pi i0.j_{n-t+1}\ldots j_{n}}\left|1\right\rangle \right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;הדמיון בין שני הביטויים עצום, והוא יגדל עוד יותר אם נזכיר לעצמנו מה בעצם הולך בביטוי &lt;span&gt;\( \varphi\cdot2^{n-t} \)&lt;/span&gt;. הפאזה &lt;span&gt;\( \varphi \)&lt;/span&gt; עצמה היא מספר בין 0 ל-1, כלומר אפשר לכתוב &lt;span&gt;\( \varphi=0.\varphi_{1}\varphi_{2}\ldots \)&lt;/span&gt; בייצוג בינארי. עכשיו, לכפול את זה ב-&lt;span&gt;\( 2^{n-t} \)&lt;/span&gt; פירושו “להזיז שמאלה” את הספרות &lt;span&gt;\( n-t \)&lt;/span&gt; צעדים, ומכיוון שכל זה קורה במעריך של &lt;span&gt;\( e^{2\pi i} \)&lt;/span&gt;, הספרות שמשמאל לנקודה הבינארית פשוט ייעלמו (זה היה הטריק המרכזי שלנו בהתמרת פורייה הקוונטית). אז מה שבעצם הגענו אליו הוא&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \bigotimes_{t=1}^{n}\frac{1}{\sqrt{2}}\left(\left|0\right\rangle +e^{2\pi i0.\varphi_{n-t+1}\ldots\varphi_{n}\ldots}\left|1\right\rangle \right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו, אם &lt;span&gt;\( \varphi=0.\varphi_{1}\varphi_{2}\ldots\varphi_{n} \)&lt;/span&gt; הוא ייצוג &lt;strong&gt;מדויק&lt;/strong&gt; של &lt;span&gt;\( \varphi \)&lt;/span&gt; באמצעות &lt;span&gt;\( n \)&lt;/span&gt; ספרות בינאריות, אז מה שקיבלנו הוא &lt;strong&gt;בדיוק&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \bigotimes_{t=1}^{n}\frac{1}{\sqrt{2}}\left(\left|0\right\rangle +e^{2\pi i0.\varphi_{n-t+1}\ldots\varphi_{n}}\left|1\right\rangle \right)=\text{QFT}_{N}\left(\left|\varphi_{1}\varphi_{2}\ldots\varphi_{n}\right\rangle \right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ולכן, אם אחרי המעגל שכבר הראינו אנחנו מוסיפים &lt;span&gt;\( \text{QFT}_{N}^{\dagger} \)&lt;/span&gt;, נסיים במצב הקוונטי הבודד &lt;span&gt;\( \left|\varphi_{1}\varphi_{2}\ldots\varphi_{n}\right\rangle  \)&lt;/span&gt;, וכשנמדוד אותו נקבל את סדרת הספרות &lt;span&gt;\( \varphi_{1}\varphi_{2}\ldots\varphi_{n} \)&lt;/span&gt; בהסתברות 1.&lt;/p&gt;

&lt;p&gt;זה ממש קסם.&lt;/p&gt;

&lt;h2&gt;ועכשיו לחלק הפחות קסום&lt;/h2&gt;

&lt;p&gt;אם אפשר לייצג את הפאזה &lt;span&gt;\( \varphi \)&lt;/span&gt; בעזרת &lt;span&gt;\( n \)&lt;/span&gt; ספרות בינאריות, האלגוריתם עובד מושלם. אבל אם אי אפשר לייצג כך את הפאזה, הכל הופך ליותר מסובך וטכני. במקרה הזה בודאות לא נוכל לקבל את &lt;span&gt;\( \varphi \)&lt;/span&gt; במדויק ולכן בכל מקרה נקבל &lt;strong&gt;קירוב&lt;/strong&gt; שלו; אנחנו רוצים להשתכנע שגם במקרה הזה, בהסתברות טובה נקבל קירוב &lt;strong&gt;טוב&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;אני הולך להיכנס לפרטים הטכניים של הניתוח עד הסוף, אבל מי שמתייאשים באמצע לא חייבים לסבול; אפשר לקפוץ לתחילת החלק הבא שבו אסכם את כל מה שצריך לדעת.&lt;/p&gt;

&lt;p&gt;בשביל הניתוח במקרה הזה, יהיה לנו יותר נוח לחשוב על ייצוג המצב בתור סכום של &lt;span&gt;\( N=2^{n} \)&lt;/span&gt; מחוברים. אז בואו ניזכר מה קורה בשני השלבים הראשונים:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|0^{n}\right\rangle \left|u\right\rangle \mapsto\frac{1}{2^{n/2}}\sum_{k=0}^{2^{n}-1}\left|k\right\rangle \left|u\right\rangle \mapsto\frac{1}{2^{n/2}}\sum_{k=0}^{2^{n}-1}\left|k\right\rangle U^{k}\left|u\right\rangle = \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( =\frac{1}{\sqrt{N}}\sum_{k=0}^{N-1}e^{2\pi i\varphi\cdot k}\left|k\right\rangle \left|u\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו, מה הפעלת &lt;span&gt;\( \text{QFT}_{N}^{\dagger} \)&lt;/span&gt; עושה? כזכור&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \text{QFT}_{N}\left(\left|j\right\rangle \right)\frac{1}{\sqrt{N}}\sum_{j=0}^{N-1}e^{\frac{2\pi i}{N}jk}\left|k\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כדי לקבל את &lt;span&gt;\( \text{QFT}_{N}^{\dagger} \)&lt;/span&gt; אפשר פשוט להפעיל צמוד מרוכב על אגף ימין; הדבר היחיד שהוא עושה הוא להחליף את &lt;span&gt;\( i \)&lt;/span&gt; (המספר המרוכב &lt;span&gt;\( i \)&lt;/span&gt;; זה לא אינדקס) ב-&lt;span&gt;\( -i \)&lt;/span&gt;. אז בואו נכתוב את זה - ואני גם אחליף את הסימונים של מצבי הקלט והפלט, כך שהקלט יהיה דווקא &lt;span&gt;\( k \)&lt;/span&gt; והפלט דווקא &lt;span&gt;\( j \)&lt;/span&gt;, כי עדיין קונספטואלית אני הופך את הסדר, וזה גם מתאים לשימוש שתכף אבצע בזה:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \text{QFT}_{N}^{\dagger}\left(\left|k\right\rangle \right)\frac{1}{\sqrt{N}}\sum_{j=0}^{N-1}e^{-\frac{2\pi i}{N}jk}\left|j\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ולכן הפעלת &lt;span&gt;\( \text{QFT}_{N}^{\dagger} \)&lt;/span&gt; על המצב שהגענו אליו ברגיסטר הראשון תניב&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \text{QFT}_{N}^{\dagger}\left(\frac{1}{\sqrt{N}}\sum_{k=0}^{N-1}e^{2\pi i\varphi\cdot k}\left|k\right\rangle \right)= \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \frac{1}{\sqrt{N}}\sum_{k=0}^{N-1}e^{2\pi i\varphi\cdot k}\text{QFT}_{N}^{\dagger}\left(\left|k\right\rangle \right)= \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( =\frac{1}{N}\sum_{k=0}^{N-1}\sum_{j=0}^{N-1}e^{2\pi i\varphi\cdot k}e^{-2\pi i\cdot\frac{jk}{N}}\left|j\right\rangle = \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( =\frac{1}{N}\sum_{j=0}^{N-1}\sum_{k=0}^{N-1}e^{2\pi i\left(\varphi-\frac{j}{N}\right)k}\left|j\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;קיבלנו פה סופרפוזיציה של הרבה מצבים; כדי להבין מה ההסתברות שמדידה תעלה בגורל מצב &lt;span&gt;\( \left|j\right\rangle  \)&lt;/span&gt; נסתכל על המקדם שלו, מה שאני מכנה &lt;strong&gt;האמפליטודה&lt;/strong&gt; שלו ומסמן &lt;span&gt;\( \alpha_{j} \)&lt;/span&gt;; ההעלאה בריבוע של הערך המוחלט של האמפליטודה תיתן לנו את ההסתברות ש-&lt;span&gt;\( \left|j\right\rangle  \)&lt;/span&gt; יעלה בגורל. באופן כללי האמפליטודה הזו תהיה&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \alpha_{j}=\frac{1}{N}\sum_{k=0}^{N-1}e^{2\pi i\left(\varphi-\frac{j}{N}\right)k} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;האם אפשר לפשט את זה קצת? בהחלט, יש לנו פה טור הנדסי! אם נזכור את חוקי החזקות: &lt;span&gt;\( e^{ab}=\left(e^{a}\right)^{b} \)&lt;/span&gt; אפשר לראות שבעצם קיבלנו פה את הסכום&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \alpha_{j}=\frac{1}{N}\sum_{k=0}^{N-1}\left[e^{2\pi i\left(\varphi-\frac{j}{N}\right)}\right]^{k} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;וזה טור הנדסי, כלומר ביטוי מהצורה &lt;span&gt;\( \sum_{k=0}^{N-1}q^{k} \)&lt;/span&gt; כאשר במקרה שלנו &lt;span&gt;\( q=e^{2\pi i\left(\varphi-\frac{j}{N}\right)} \)&lt;/span&gt;. עכשיות למרות שמדגדג לי, לא אחזור על האופן שבו מוצאים את הסכום של טור הנדסי - &lt;a href=&quot;https://gadial.net/2019/05/30/arithmetic_and_geometric_series/&quot;&gt;יש לי פוסט&lt;/a&gt; על זה. פשוט צריך לזכור ש-&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \sum_{k=0}^{N-1}q^{k}=\frac{q^{N}-1}{q-1}=\frac{1-q^{N}}{1-q} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;(עברתי לצורה השניה כי היא קצת יותר אינטואיטיבית במקרה כמו שלנו שבו &lt;span&gt;\( \left|q\right|&amp;lt;1 \)&lt;/span&gt;)&lt;/p&gt;

&lt;p&gt;ולכן במקרה שלנו נקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \alpha_{j}=\frac{1}{N}\left(\frac{1-e^{2\pi i\left(\varphi-\frac{j}{N}\right)\cdot N}}{1-e^{2\pi i\left(\varphi-\frac{j}{N}\right)}}\right)=\frac{1}{N}\left(\frac{1-e^{2\pi i\left(N\varphi-j\right)}}{1-e^{2\pi i\left(\varphi-j/N\right)}}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;זו האמפליטודה עבור מצב &lt;span&gt;\( j \)&lt;/span&gt; כללי. בואו ניקח אחד ספציפי שטוב לנו במיוחד: ניקח מספר &lt;span&gt;\( b \)&lt;/span&gt; שנותן לנו את הקירוב הטוב ביותר ל-&lt;span&gt;\( \varphi \)&lt;/span&gt; מלמלטה שכולל &lt;span&gt;\( n \)&lt;/span&gt; ספרות בינאריות. כלומר, ניקח &lt;span&gt;\( 0\le b&amp;lt;N \)&lt;/span&gt; שמקיים ש-&lt;span&gt;\( \frac{b}{N}=0.b_{1}b_{2}\ldots b_{n} \)&lt;/span&gt;, &lt;span&gt;\( \frac{b}{N}\le\varphi \)&lt;/span&gt; ו-&lt;span&gt;\( \delta=\left|\varphi-\frac{b}{N}\right|=\varphi-\frac{b}{N} \)&lt;/span&gt; הוא מינימלי ביחס לדרישות הללו.&lt;/p&gt;

&lt;p&gt;אנחנו לא יודעים, כמובן, מהו &lt;span&gt;\( \delta \)&lt;/span&gt; אבל ברור ש-&lt;span&gt;\( 0\le\delta\le\frac{1}{N} \)&lt;/span&gt; (כי אם &lt;span&gt;\( \frac{1}{N}&amp;lt;\delta \)&lt;/span&gt; אפשר להגדיל את &lt;span&gt;\( b \)&lt;/span&gt; ב-&lt;span&gt;\( \frac{1}{N}=\frac{1}{2^{n}} \)&lt;/span&gt; על ידי חיבור 1 לספרה הכי פחות משמעותית בו ולקבל קירוב טוב יותר מ-&lt;span&gt;\( b \)&lt;/span&gt;).&lt;/p&gt;

&lt;p&gt;לא כל כך קל לחסום מלמטה את ההסתברות לקבל את &lt;span&gt;\( b \)&lt;/span&gt; או דברים שקרובים אליו, אז נעשה את ההפך - נחסום מלמעלה את ההסתברות לקבל דברים שרחוקים מ-&lt;span&gt;\( b \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;לשם כך בואו נכניס לתמונה עוד סימון. נזכור ש-&lt;span&gt;\( 0\le b&amp;lt;N \)&lt;/span&gt;, ולכן אפשר לתאר אברים אחרים בתחום הזה בתור &lt;span&gt;\( b+d\text{ mod }N \)&lt;/span&gt; כאשר &lt;span&gt;\( d\in\mathbb{Z} \)&lt;/span&gt; הוא מספר שלם כלשהו. למשל, אם &lt;span&gt;\( N=8 \)&lt;/span&gt; ו-&lt;span&gt;\( b=5 \)&lt;/span&gt; אז &lt;span&gt;\( b+4=1 \)&lt;/span&gt; ו-&lt;span&gt;\( b+\left(-7\right)=6 \)&lt;/span&gt; וכדומה. אני אשתמש ב-&lt;span&gt;\( \beta_{d} \)&lt;/span&gt; כדי לסמן את האמפליטודה של איבר שמיוצג כך, כלומר&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \beta_{d}=\alpha_{b+d\left(\text{mod }N\right)} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו השאלה היא כזו: נניח ש-&lt;span&gt;\( e \)&lt;/span&gt; הוא מספר חיובי כלשהו שבא לציין את “סף הרגישות לשגיאה” שלנו - ככל שהוא קטן יותר כך גודל השגיאות שאנחנו מוכנים לסבול הוא קטן יותר. פורמלית, אם &lt;span&gt;\( m \)&lt;/span&gt; הוא התוצאה שהאלגוריתם החזיר לנו, אנחנו מתחילים לכעוס אם &lt;span&gt;\( \left|m-b\right|&amp;gt;e \)&lt;/span&gt; (שימו לב ש-&lt;span&gt;\( \left|m-b\right| \)&lt;/span&gt; הוא &lt;strong&gt;לא&lt;/strong&gt; כמה שאנחנו רחוקים מ-&lt;span&gt;\( \varphi \)&lt;/span&gt;; לניתוח של זה נגיע בהמשך).&lt;/p&gt;

&lt;p&gt;אם כן, מה ההסתברות שלנו לקבל במדידה &lt;span&gt;\( m \)&lt;/span&gt; בעייתי שכזה? בשביל זה אפשר להסתכל על כל ה-&lt;span&gt;\( \beta_{d} \)&lt;/span&gt;-ים כך ש-&lt;span&gt;\( d\notin\left[-e,e\right] \)&lt;/span&gt;, כל עוד אני לא לוקח &lt;span&gt;\( d \)&lt;/span&gt; גדול או קטן מדי עד שהוא כבר עושה סיבוב מסביב ל-&lt;span&gt;\( N \)&lt;/span&gt; וחוזר שוב לתחום &lt;span&gt;\( \left[-e,e\right] \)&lt;/span&gt;. לצורך זה אני אקח את כל ה-&lt;span&gt;\( d \)&lt;/span&gt;-ים שמקיימים או &lt;span&gt;\( e+1\le d\le\frac{N}{2} \)&lt;/span&gt; או &lt;span&gt;\( -\frac{N}{2}&amp;lt;d\le-\left(e+1\right) \)&lt;/span&gt;. זה יבטיח שאני תופס את כל האיברים ה”בעייתיים” ולא לוקח איברים לא בעייתים, אלא אולי במקרי קיצון מוזרים וגם בהם הטעות הזו יכולה רק להיות לרעתנו (כי היא תנפח את ההסתברות לקבל משהו לא טוב) אבל הניתוח שלנו יצליח בכל מקרה.&lt;/p&gt;

&lt;p&gt;אם כן, פורמלית:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( p\left(\left|m-b\right|&amp;gt;e\right)\le\sum_{-N/2&amp;lt;d&amp;lt;-e}\left|\beta_{d}\right|^{2}+\sum_{e&amp;lt;d\le N/2}\left|\beta_{d}\right|^{2} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כדי לעשות משהו מועיל עם הביטוי הזה אני צריך למצוא חסם מלמעלה על &lt;span&gt;\( \left|\beta_{d}\right|^{2} \)&lt;/span&gt;, כלומר חסם מלמעלה על &lt;span&gt;\( \left|\beta_{d}\right| \)&lt;/span&gt;, כלומר חסם מלמעלה על&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|\beta_{d}\right|=\frac{1}{N}\frac{\left|1-e^{2\pi i\left(N\varphi-\left(b+d\right)\right)}\right|}{\left|1-e^{2\pi i\left(\varphi-\left(b+d\right)/N\right)}\right|} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ההחלפה של &lt;span&gt;\( j \)&lt;/span&gt; ב-&lt;span&gt;\( b+d \)&lt;/span&gt; כאן בלי להכניס איזה &lt;span&gt;\( \text{mod}N \)&lt;/span&gt; היא לא טריוויאלית לגמרי; היא מוצדקת בכך שכפולה של &lt;span&gt;\( N \)&lt;/span&gt; במעריך של האקספוננט פשוט מובילה לתוספת כמות שלמה של &lt;span&gt;\( 2\pi i \)&lt;/span&gt;, שמתורגם ל-1; בשלב הזה כבר השתמשנו בזה כמה פעמים ואני מקווה שזה ברור.&lt;/p&gt;

&lt;p&gt;עכשיו, את המונה קל לחסום מלמעלה:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|1-e^{2\pi i\left(N\varphi-b+d\right)}\right|\le2 \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;למה? כי האקספוננט הזה, מפחיד ככל שיהיה, מתורגם בסו, למספר מרוכב מנורמה 1. אז אי שוויון המשולש נותן לנו &lt;span&gt;\( \left|1-z\right|\le\left|1\right|+\left|z\right|=1+1=2 \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;אז המונה קל, אבל את המכנה:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|1-e^{2\pi i\left(\varphi-\left(b+d\right)/N\right)}\right| \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;צריך לחסום מלמטה. זה דורש קצת יותר. ראשית, בואו נחזיר לתמונה את&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \delta=\varphi-\frac{b}{N} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;והביטוי שצריך לחסום יהפוך אל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|1-e^{2\pi i\left(\delta-d/N\right)}\right| \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו, &lt;span&gt;\( \varphi-\frac{b+d}{N}=\delta-\frac{d}{N} \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;מכיוון ש-&lt;span&gt;\( -\frac{N}{2}&amp;lt;d \)&lt;/span&gt; אז &lt;span&gt;\( -\frac{N}{2}+1\le d \)&lt;/span&gt;, כלומר &lt;span&gt;\( -\frac{1}{2}+\frac{1}{N}\le\frac{d}{N} \)&lt;/span&gt;. בנוסף לכך &lt;span&gt;\( \delta\le\frac{1}{N} \)&lt;/span&gt; ולכן נקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \delta-\frac{d}{N}\le\frac{1}{N}+\frac{1}{2}-\frac{1}{N}=\frac{1}{2} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ובאופן קצת יותר קל גם&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \delta+\frac{d}{N}\ge0-\frac{1}{2}=-\frac{1}{2} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;מה שנותן לנו&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( -\pi\le2\pi\left(\delta-d/N\right)\le\pi \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;בשביל מה זה טוב? כי בואו נסתכל שניה על הביטוי &lt;span&gt;\( 1-e^{i\theta}=1-\cos\theta-i\sin\theta \)&lt;/span&gt; כאשר &lt;span&gt;\( -\pi\le\theta\le\pi \)&lt;/span&gt;. אני אצטרך קצת נוסחאות טריגונומטריות כדי לפשט אותו:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;&lt;span&gt;\( 1-\cos\theta=2\sin^{2}\frac{\theta}{2} \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( \sin\theta=2\sin\frac{\theta}{2}\cos\frac{\theta}{2} \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;לשמחתי אני סוף סוף יכול לומר &lt;a href=&quot;https://gadial.net/2021/06/25/trigonometry_intro_3/&quot;&gt;שיש לי פוסט&lt;/a&gt; שמוכיח את הנוסחאות הללות ולכן לא אסביר אותן כאן שוב, אבל הן מפשטות יפה את הביטוי שלנו:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( 1-\cos\theta-i\sin\theta=2\sin^{2}\frac{\theta}{2}-2i\sin\frac{\theta}{2}\cos\frac{\theta}{2}=2\sin\frac{\theta}{2}\left(\sin\frac{\theta}{2}-i\cos\frac{\theta}{2}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;לכאורה זה יותר מסובך, אבל ערך מוחלט יפשט לנו את העניינים. בכללי, &lt;span&gt;\( \left|a+bi\right|=\sqrt{a^{2}+b^{2}} \)&lt;/span&gt;, ותוך ניצול העובדה ש-&lt;span&gt;\( \sin^{2}\alpha+\cos^{2}\alpha=1 \)&lt;/span&gt;, נקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|2\sin\frac{\theta}{2}\left(\sin\frac{\theta}{2}-i\cos\frac{\theta}{2}\right)\right|=2\left|\sin\frac{\theta}{2}\right|\left|\sin\frac{\theta}{2}-i\cos\frac{\theta}{2}\right|=2\left|\sin\frac{\theta}{2}\right| \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו, בתחום &lt;span&gt;\( 0\le x\le\frac{\pi}{2} \)&lt;/span&gt; סינוס מקיימת תכונה נחמדה מאוד: היא &lt;strong&gt;קעורה&lt;/strong&gt;, כלומר הערכים שלה בין שתי נקודות גדולים יותר מהקו הישר שמחבר את שתי הנקודות הללו. נקודות הקצה של התחום הן &lt;span&gt;\( \left(0,0\right) \)&lt;/span&gt; (ראשית הצירים) ו-&lt;span&gt;\( \left(\frac{\pi}{2},1\right) \)&lt;/span&gt; (הקצה הימני של תחום העלייה של סינוס, כשהיא מגיעה ל-1 ומתחילה ליפול) ולכן הקו הישר המחבר את שתי הנקודות הללו הוא &lt;span&gt;\( y=\frac{2}{\pi}x \)&lt;/span&gt;, ואנו מקבלים ש-&lt;span&gt;\( \sin x\ge\frac{2}{\pi}x \)&lt;/span&gt;, כלומר בתחום הזה שבו הכל חיובי, &lt;span&gt;\( \left|\sin x\right|\ge\frac{2}{\pi}\left|x\right| \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;עבור &lt;span&gt;\( -\frac{\pi}{2}\le x\le0 \)&lt;/span&gt; זה טיפה יותר מסובך כי &lt;span&gt;\( \left|x\right|=-x \)&lt;/span&gt; במקרה הזה. עכשיו, &lt;span&gt;\( \sin x \)&lt;/span&gt; היא פונקציה אנטי-סימטרית, כלומר &lt;span&gt;\( \sin\left(-x\right)=-\sin x \)&lt;/span&gt;, ולכן עבור &lt;span&gt;\( -\frac{\pi}{2}\le x\le0 \)&lt;/span&gt; נקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|\sin x\right|=-\sin x=\sin\left(-x\right)\ge\frac{2}{\pi}\left(-x\right)=\frac{2}{\pi}\left|x\right| \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ולכן קיבלנו את אי-השוויון &lt;span&gt;\( \left|\sin x\right|\ge\frac{2}{\pi}\left|x\right| \)&lt;/span&gt; עבור כל &lt;span&gt;\( -\frac{\pi}{2}\le x\le0 \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;עכשיו, אם &lt;span&gt;\( -\pi\le\theta\le\pi \)&lt;/span&gt; אז &lt;span&gt;\( -\frac{\pi}{2}\le\frac{\theta}{2}\le\frac{\pi}{2} \)&lt;/span&gt; ולכן אנו מקבלים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|1-e^{i\theta}\right|=2\left|\sin\frac{\theta}{2}\right|\ge2\cdot\frac{2}{\pi}\left|\frac{\theta}{2}\right|=\frac{2}{\pi}\left|\theta\right| \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ואפשר להתקדם הלאה. כזכור, אנחנו באמצע חסימה מלמטה של הביטוי&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|1-e^{2\pi i\left(\delta-d/N\right)}\right| \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;תוך שאנחנו יודעים ש-&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( -\pi\le2\pi\left(\delta-d/N\right)\le\pi \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כלומר, במקרה הזה &lt;span&gt;\( \theta=2\pi\left(\delta-d/N\right) \)&lt;/span&gt;, ולכן נקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|1-e^{2\pi i\left(\delta-d/N\right)}\right|\ge4\left|\left(\delta-d/N\right)\right| \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו נחזור אל הדבר שממנו התחלנו - אנחנו מנסים לחסום מלמטה את הערך המוחלט של &lt;span&gt;\( \beta_{d} \)&lt;/span&gt;, שהיא האמפליטודה של תוצאה “לא טובה” בערכי ה-&lt;span&gt;\( d \)&lt;/span&gt; שאנו מסתכלים עליהם. תוך שימוש באי השוויון שהוכחנו זה עתה, נקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|\beta_{d}\right|\le\frac{1}{N}\frac{2}{\left|1-e^{2\pi i\left(\delta-d/N\right)}\right|}\le\frac{1}{N}\frac{2}{4\left|\left(\delta-d/N\right)\right|}=\frac{1}{4}\frac{1}{\left|\left(N\delta-d\right)\right|} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;וקיבלנו חסם על ההסתברות הכוללת לתוצאה “רעה”:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( p\left(\left|m-b\right|&amp;gt;e\right)\le\sum_{-N/2\le d&amp;lt;e}\left|\beta_{d}\right|^{2}+\sum_{e&amp;lt;d\le N/2}\left|\beta_{d}\right|^{2} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \le\frac{1}{4}\left[\sum_{-N/2&amp;lt;d&amp;lt;-e}\frac{1}{\left(N\delta-d\right)^{2}}+\sum_{e&amp;lt;d\le N/2}\frac{1}{\left(N\delta-d\right)^{2}}\right] \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כן, כן, זה עדיין נראה מחריד ונצטרך לעבוד עוד כדי לפשט את זה. זו דרך החדו”א - כל הזמן מוצאים מה לפשט במחיר של &lt;span&gt;\( \le \)&lt;/span&gt; נוסף בדרך. עכשיו אפשר להתעסק עם ה-&lt;span&gt;\( \delta \)&lt;/span&gt; הזה שלמטה שהמהות שלו היא להיות קטן. כמה קטן? &lt;span&gt;\( 0\le\delta\le\frac{1}{N} \)&lt;/span&gt;, כלומר &lt;span&gt;\( 0\le N\delta\le1 \)&lt;/span&gt;. זה אומר שאפשר להעלים את &lt;span&gt;\( N\delta \)&lt;/span&gt; מתוך &lt;span&gt;\( \left(N\delta-d\right)^{2} \)&lt;/span&gt; בצורה יחסית פשוטה - אבל כרגיל, נצטרך להיזהר. קודם כל נפתח סוגריים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left(N\delta-d\right)^{2}=\left(N\delta\right)^{2}-2\left(N\delta\right)d+d^{2}=\left(N\delta\right)\left[N\delta-2d\right]+d^{2} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אם &lt;span&gt;\( d&amp;lt;0 \)&lt;/span&gt; אז גם &lt;span&gt;\( N\delta+2d&amp;gt;0 \)&lt;/span&gt; ולכן &lt;span&gt;\( \left(N\delta-d\right)^{2}&amp;gt;d^{2} \)&lt;/span&gt;, כלומר &lt;span&gt;\( \frac{1}{\left(N\delta-d\right)^{2}}&amp;lt;\frac{1}{d^{2}} \)&lt;/span&gt;. זה מטפל באיברים של הסכום השמאלי.&lt;/p&gt;

&lt;p&gt;אם &lt;span&gt;\( d&amp;gt;0 \)&lt;/span&gt;, כלומר &lt;span&gt;\( d\ge1 \)&lt;/span&gt; נעשה משהו אחר: נשתמש בכך ש-&lt;span&gt;\( N\delta\le1 \)&lt;/span&gt; ולכן &lt;span&gt;\( N\delta-d\le1-d \)&lt;/span&gt;. עכשיו, שני האגפים בביטוי הזה הם שליליים (כי &lt;span&gt;\( d\ge1 \)&lt;/span&gt;) ולכן כשנעלה אותם בריבוע כיוון האי שוויון יתהפך ונקבל &lt;span&gt;\( \left(N\delta-d\right)^{2}\ge\left(1-d\right)^{2} \)&lt;/span&gt;, ולכן &lt;span&gt;\( \frac{1}{\left(N\delta-d\right)^{2}}\le\frac{1}{\left(1-d\right)^{2}} \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;לסיכום, קיבלנו את הצעד הבא בחסימה של הביטוי שלנו:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( p\left(\left|m-b\right|&amp;gt;e\right)\le\frac{1}{4}\left[\sum_{-N/2&amp;lt;d&amp;lt;-e}\frac{1}{d^{2}}+\sum_{e&amp;lt;d\le N/2}\frac{1}{\left(d-1\right)^{2}}\right] \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אנחנו כבר לקראת הסוף! התעלול הבא הוא לאחד את שני הסכומים לסכום אחד כי בעצם מופיעים בהם כמעט אותם איברים בדיוק: בשמאלי מופיע &lt;span&gt;\( \frac{1}{d^{2}} \)&lt;/span&gt; לכל &lt;span&gt;\( -\frac{N}{2}&amp;lt;d&amp;lt;-e \)&lt;/span&gt; ובשני מופיע &lt;span&gt;\( \frac{1}{\left(d-1\right)^{2}} \)&lt;/span&gt; לכל &lt;span&gt;\( e&amp;lt;d\le\frac{N}{2} \)&lt;/span&gt;. כלומר, בשניהם מופיעים כל האיברים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \frac{1}{\left(e+1\right)^{2}},\frac{1}{\left(e+2\right)^{2}},\ldots,\frac{1}{\left(N/2-1\right)^{2}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ובנוסף בימני מופיע גם &lt;span&gt;\( \frac{1}{e^{2}} \)&lt;/span&gt;. אז בואו ניקח 2 כפול סכום כל האיברים הללו:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( p\left(\left|m-b\right|&amp;gt;e\right)\le\frac{1}{2}\sum_{d=e}^{N/2-1}\frac{1}{d^{2}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;זה כבר סכום ממש פשוט. טריק סטנדרטי כדי לחסום סכומים כאלו הוא לעבור מסכום לאינטגרל, ב”מחיר” של הגדלה קטנה של התחום התחתון:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \sum_{d=e}^{N/2-1}\frac{1}{d^{2}}\le\int_{e-1}^{N/2-1}\frac{1}{x^{2}}dx \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;זה עובד כי מאחר ו-&lt;span&gt;\( \frac{1}{x^{2}} \)&lt;/span&gt; היא פונקציה יורדת, המינימום שלה מתקבל בסוף כל קטע, והאינטגרל של פונקציה על קטע כלשהו גדול או שווה למינימום שלה כפול אורך הקטע. במילים אחרות, &lt;span&gt;\( \int_{d-1}^{d}\frac{1}{x^{2}}dx\ge\frac{1}{d^{2}}\cdot1 \)&lt;/span&gt;, ובצורה הזו אנחנו יכולים לחסום את כל אברי הסכום &lt;span&gt;\( \sum_{d=e}^{N/2-1}\frac{1}{d^{2}} \)&lt;/span&gt; על ידי חתיכות אינטגרלים מתאימות.&lt;/p&gt;

&lt;p&gt;למה לעבור לאינטגרל עזר לנו? כי אינטגרלים יותר קל לנו לחשב במדויק:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \int_{e-1}^{N/2-1}\frac{1}{x^{2}}dx=\left[-\frac{1}{x}\right]_{e-1}^{N/2-1}=\frac{1}{e-1}-\frac{1}{N/2-1}\le\frac{1}{e-1} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ולכן קיבלנו סוף כל סוף&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( p\left(\left|m-b\right|&amp;gt;e\right)\le\frac{1}{2\left(e-1\right)} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;וזה… ביטוי די פשוט!&lt;/p&gt;

&lt;h2&gt;סיכום רגוע יותר של כל העניין&lt;/h2&gt;

&lt;p&gt;עשיתי הרבה חישובים טכניים בחלק הקודם, אבל אפשר לסכם אותם בצורה די פשוטה: הראינו שההסתברות לקבל באלגוריתם הערכת הפאזה תוצאה לא טובה חסומה על ידי &lt;span&gt;\( \frac{1}{2\left(e-1\right)} \)&lt;/span&gt;, כש-&lt;span&gt;\( e \)&lt;/span&gt; הוא פרמטר שמשמש אותנו להערכת רמת הדיוק שלנו. רמת הדיוק תלויה לא רק בערך המספרי של &lt;span&gt;\( e \)&lt;/span&gt; אלא גם במספר הקיוביטים שאנחנו משתמשים בו ברגיסטר הראשון, &lt;span&gt;\( n \)&lt;/span&gt;. בואו ניכנס עכשיו להסבר יותר מפורט של מה שזה אומר.&lt;/p&gt;

&lt;p&gt;המושג שאנחנו מדברים עליו הוא “רמת דיוק של &lt;span&gt;\( k \)&lt;/span&gt; ספרות אחרי הנקודה”. בואו ניתן דוגמא פשוטה עם מספרים בייצוג עשרוני. אם &lt;span&gt;\( a=0.2513 \)&lt;/span&gt; הוא מספר, ואנחנו מסתכלים על קירוב שלו ברמת דיוק של שתי ספרות אחרי הנקודה, הכוונה היא לכל מספר &lt;span&gt;\( b \)&lt;/span&gt; כך ש-&lt;span&gt;\( \left|a-b\right|\le0.01 \)&lt;/span&gt;. אז למשל, &lt;span&gt;\( a=0.25 \)&lt;/span&gt; הוא מספר כזה, אבל גם &lt;span&gt;\( 0.2433 \)&lt;/span&gt;, למרות שהוא לא מדויק בספרה השניה אחרי הנקודה, גם אם נעגל את המספר לשתי ספרות ונקבל &lt;span&gt;\( 0.24 \)&lt;/span&gt;. באופן כללי, דיוק ב-&lt;span&gt;\( k \)&lt;/span&gt; ספרות אחרי הנקודה פירושו &lt;span&gt;\( \left|a-b\right|\le\frac{1}{10^{k}} \)&lt;/span&gt;, אבל בהקשר שלנו, שבו המספרים מיוצגים בבסיס בינארי, הכוונה היא ל-&lt;span&gt;\( \left|a-b\right|\le\frac{1}{2^{k}} \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;נניח שאנחנו רוצים לקבל רמת דיוק של &lt;span&gt;\( k \)&lt;/span&gt; ספרות אחרי הנקודה בהסתברות טובה יחסית. ברור שאנחנו חייבים להקצות לפחות &lt;span&gt;\( n \)&lt;/span&gt; קיוביטים לרגיסטר הראשון, אחרת אין לנו מספיק ספרות בשביל דיוק של &lt;span&gt;\( k \)&lt;/span&gt; ספרות. כל קיוביט נוסף מעבר לכך שנקצה לרגיסטר הראשון יעזור לנו לשפר את ההסתברות לקבלת תוצאה טובה, אז בואו נכתוב &lt;span&gt;\( n=k+p \)&lt;/span&gt;, כאשר &lt;span&gt;\( p \)&lt;/span&gt; הם “הקיוביטים הנוספים לצורך שיפור ההסתברות” ובסוף נראה מה יוצאת ההסתברות כתלות ב-&lt;span&gt;\( p \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;מה שכבר ראינו הוא שיש מספר טבעי &lt;span&gt;\( b \)&lt;/span&gt; כלשהו כך ש-&lt;span&gt;\( \frac{b}{2^{n}} \)&lt;/span&gt; קירוב טוב של &lt;span&gt;\( \varphi \)&lt;/span&gt;, במובן זה ש-&lt;span&gt;\( \left|\frac{b}{2^{n}}-\varphi\right|\le\frac{1}{2^{n}} \)&lt;/span&gt;, והיתרון של ה-&lt;span&gt;\( b \)&lt;/span&gt; הזה היה שיכלנו לחסום את המרחק של תוצת אלגוריתם הערכת הפאזה ממנו: האלגוריתם מחזיר מספר טבעי &lt;span&gt;\( m \)&lt;/span&gt; (שאנחנו חושבים עליו בתור דרך אחרת לכתוב את המספר &lt;span&gt;\( \frac{m}{2^{n}} \)&lt;/span&gt; שהוא הקירוב של &lt;span&gt;\( \varphi \)&lt;/span&gt; שאנו מחפשים) שההסתברות שיקיים &lt;span&gt;\( \left|m-b\right|&amp;gt;e \)&lt;/span&gt; קטנה או שווה ל-&lt;span&gt;\( \frac{1}{2\left(e-1\right)} \)&lt;/span&gt; שהזכרתי קודם. היופי הוא שה-&lt;span&gt;\( e \)&lt;/span&gt; נתון לבחירתנו בהתאם למה שנוח לנו.&lt;/p&gt;

&lt;p&gt;אם אנחנו רוצים דיוק של &lt;span&gt;\( k \)&lt;/span&gt; ספרות, מה שנעשה הוא להגדיר &lt;span&gt;\( e=2^{n-k}-1 \)&lt;/span&gt;. אם &lt;span&gt;\( \left|m-b\right|\le e \)&lt;/span&gt; אז&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|\frac{m}{2^{n}}-\varphi\right|\le\left|\frac{m}{2^{n}}-\frac{b}{2^{n}}\right|+\left|\frac{b}{2^{n}}-\varphi\right|=\frac{1}{2^{n}}\left|m-b\right|+\left|\frac{b}{2^{n}}-\varphi\right|\le \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \le\frac{1}{2^{n}}\left(2^{n-k}-1\right)+\frac{1}{2^{n}}=\frac{2^{n-k}}{2^{n}}=\frac{1}{2^{k}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;וזה בדיוק מה שרצינו. כעת, מה הסתברות &lt;strong&gt;הכישלון&lt;/strong&gt;, כלומר ההסתברות שלא ניפול על &lt;span&gt;\( m \)&lt;/span&gt; טוב שכזה, בהינתן ה-&lt;span&gt;\( e \)&lt;/span&gt; שבחרנו? ראשית, ההסתברות היא לכל היותר &lt;span&gt;\( \frac{1}{2\left(e-1\right)} \)&lt;/span&gt;. כעת, נציב &lt;span&gt;\( e=2^{n-k}-1 \)&lt;/span&gt; ונקבל את הסתברות הכישלון&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \frac{1}{2\left(2^{n-k}-2\right)}=\frac{1}{2\left(2^{p}-2\right)} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עבור &lt;span&gt;\( p=0,1 \)&lt;/span&gt; מקבלים תוצאה שהיא שלילית או אינסוף - זה מפני שהחישוב עבור &lt;span&gt;\( e \)&lt;/span&gt; הניח במובלע שהוא לא מספר 0 או 1 בעצמו. אבל עבור &lt;span&gt;\( p=2 \)&lt;/span&gt; מקבלים כבר תוצאה הגיונית - &lt;span&gt;\( \frac{1}{4} \)&lt;/span&gt;. עבור &lt;span&gt;\( p=3 \)&lt;/span&gt; מקבלים &lt;span&gt;\( \frac{1}{12} \)&lt;/span&gt;, עבור &lt;span&gt;\( p=4 \)&lt;/span&gt; מקבלים &lt;span&gt;\( \frac{1}{28} \)&lt;/span&gt; וכן הלאה - ככל שמוסיפים יותר קיוביטים, ההסתברות לקבל הערכה לא טובה שואפת אקספוננציאלית לאפס. אנחנו כמובן רוצים לדעת &lt;strong&gt;עד כמה&lt;/strong&gt; זה שואף לאפס - מה צריך להיות &lt;span&gt;\( p \)&lt;/span&gt; אם אנחנו רוצים להקטין את הסתברות הכשלון כרצוננו? אז יהא &lt;span&gt;\( \varepsilon&amp;gt;0 \)&lt;/span&gt; מספר כלשהו. כדי שהסתברות הכישלון תהיה קטנה מ-&lt;span&gt;\( \varepsilon \)&lt;/span&gt; צריך להתקיים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \frac{1}{2\left(2^{p}-2\right)}\le\varepsilon \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;נכפול את שני האגפים ב-&lt;span&gt;\( 2^{p}-2 \)&lt;/span&gt; ונחלק ב-&lt;span&gt;\( \varepsilon \)&lt;/span&gt; ונקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( 2^{p}-2\ge\frac{1}{2\varepsilon} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;נעביר את &lt;span&gt;\( 2 \)&lt;/span&gt; אגף:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( 2^{p}\ge2+\frac{1}{2\varepsilon} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ניקח &lt;span&gt;\( \lg \)&lt;/span&gt; (לוגריתם על בסיס 2) לשני האגפים ונקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( p\ge\lg\left(2+\frac{1}{2\varepsilon}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;וזו הנוסחה שרצינו: אם אנחנו רוצים להבטיח הסתברות כישלון קטנה מ-&lt;span&gt;\( \varepsilon \)&lt;/span&gt;, נזדקק ל-&lt;span&gt;\( \left\lceil \lg\left(2+\frac{1}{2\varepsilon}\right)\right\rceil  \)&lt;/span&gt; קיוביטים (זה הסימן לערך מוחלט &lt;strong&gt;עליון&lt;/strong&gt;, לעגל כלפי מעלה) וזאת בנוסף ל-&lt;span&gt;\( k \)&lt;/span&gt; הקיוביטים שאמרנו ש”חייבים”.&lt;/p&gt;

&lt;p&gt;אז לסיכום הכולל: כדי לקבל באלגוריתם הערכת הפאזה קירוב עם דיוק של &lt;span&gt;\( k \)&lt;/span&gt; ספרות בינאריות אחרי הנקודה בהסתברות של לפחות &lt;span&gt;\( 1-\varepsilon \)&lt;/span&gt; צריך להשתמש ב-&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( n=k+\left\lceil \lg\left(2+\frac{1}{2\varepsilon}\right)\right\rceil  \)&lt;/span&gt; קיוביטים.&lt;/p&gt;

&lt;p&gt;זה סוגר את האלגוריתם, אבל עדיין נותרה השאלה הפתוחה - בשביל מה זה טוב? והאלגוריתם של שור נותן לזה תשובה מוחצת וחד משמעית, ועוד מעז לעשות את זה עם שימוש יפהפה ולא טריוויאלי בכלל בהערכת פאזה, כך שנחכה עם זה לפוסט הבא.&lt;/p&gt;</content><author><name></name></author><category term="חישוב קוונטי" /><summary type="html">מה זה בכלל ובשביל מה זה טוב?</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://gadial.net/2022/phase_estimation.png" /></entry><entry><title type="html">התמרת פורייה הקוונטית</title><link href="http://gadial.net/2022/09/01/quantum_fourier_transform/" rel="alternate" type="text/html" title="התמרת פורייה הקוונטית" /><published>2022-09-01T00:00:00+00:00</published><updated>2022-09-01T00:00:00+00:00</updated><id>http://gadial.net/2022/09/01/quantum_fourier_transform</id><content type="html" xml:base="http://gadial.net/2022/09/01/quantum_fourier_transform/">&lt;h2&gt;מה זה בכלל ובשביל מה זה טוב?&lt;/h2&gt;

&lt;p&gt;בסדרת הפוסטים הקודמת שלי על חישוב קוונטי, מטרת העל שלי הייתה הגעה אל &lt;strong&gt;האלגוריתם של שור&lt;/strong&gt;, לפירוק מהיר של מספרים לגורמים. בגלל ההשלכות המהותיות שיהיו לאלגוריתם הזה אם ימומש בפועל בצורה אמינה, הוא הפך להיות “הגביע הקדוש” של הצגה פופולרית של חישוב קוונטי - הפואנטה שמנסים להגיע אליה. וזה גרם לי קצת לרוץ על מה שקורה בדרך אליו, ובפרט דחסתי ב&lt;a href=&quot;https://gadial.net/2014/08/24/shor_algorithm/&quot;&gt;התחלה של הפוסט עליו&lt;/a&gt; את הכלי המרכזי שעליו הוא מסתמך - &lt;strong&gt;התמרת פורייה המהירה&lt;/strong&gt;. לכלי הזה מגיע פוסט משל עצמו, ועכשיו סוף סוף אתקן את המעוות.&lt;/p&gt;

&lt;p&gt;“התמרת פורייה” היא קסם שמופיע בשלל מקומות ברחבי המתמטיקה. בגדול, הרעיון בה הוא לקחת פריט מידע כלשהו ולפרק אותו לגורמים שמאפשרים לראות דברים שחבויים לרוב מתחת לפני השטח. הדוגמא הקלאסית היא &lt;strong&gt;גל קול&lt;/strong&gt;. התיאור הכללי של גל קול נותן את העוצמה שלו (“אמפליטודה”) לאורך זמן. אם ניקח את גל הקול הזה ונבצע עליו התמרת פורייה, נקבל מעין פירוק שלו לאינספור גלים פשוטים, כאלו שאפשר לתאר בעזרת סינוסים וקוסינוסים, שמתאימים לתדירויות שונות ש”מתחבאות” בתוך גל הקול. אם גל הקול הוא של להקה, אז תדירויות שונות בפירוק הפורייה יתאימו לכלי נגינה שונים - יש תדירויות שמתאימות לסולנית, וכאלו שמתאימות לגיטרה בס, וכאלו שמתאימות לקלידים; ואם נחזק או נחליש תדירויות מסויימות, אז בגל הקול המקורי נשמע טוב יותר או פחות את כלי הנגינה המתאים. זה סוג של ניתוח שאפשר לבצע באמצעות התמרת פורייה שנותן אינטואיציה גם להפעלה שלה על תחומים שונים בעליל.&lt;/p&gt;

&lt;p&gt;בפוסט הזה אני לא אכנס לשימושים - בפוסט הבא יופיע שימוש חזק מאוד, שנקרא &lt;strong&gt;הערכת פאזה&lt;/strong&gt; והוא מה שמוביל גם לאלגוריתם של שור. אני אסתפק בלהציג את ההגדרות הפורמליות ואיך עושים את זה קוונטית.&lt;/p&gt;

&lt;h2&gt;מה זו התמרת פורייה?&lt;/h2&gt;

&lt;p&gt;יש לי סדרה של פוסטים על &lt;a href=&quot;https://gadial.net/2014/04/28/fourier_series_intro/&quot;&gt;התמרות פורייה&lt;/a&gt; למיניהן, אז לא אכנס כאן לתיאור רחב של כל הסוגים שלהן והקשרים ביניהם (אבל יש הרבה סוגים ויש קשרים ביניהם וזה מגניב). מה שמעניין אותנו ספציפית בפוסט הזה הוא מה שנקרא &lt;strong&gt;התמרת פורייה הבדידה&lt;/strong&gt; ומוגדר כך:&lt;/p&gt;

&lt;p&gt;אם &lt;span&gt;\( N \)&lt;/span&gt; הוא מספר טבעי כלשהו ו-&lt;span&gt;\( \left(a_{0},a_{1},\ldots,a_{N-1}\right)\in\mathbb{C}^{N} \)&lt;/span&gt; היא סדרה של &lt;span&gt;\( N \)&lt;/span&gt; מספרים מרוכבים, אז התמרת פורייה הבדידה שלה היא סדרה אחרת של &lt;span&gt;\( N \)&lt;/span&gt; מספרים מרוכבים, &lt;span&gt;\( \left(b_{0},\ldots,b_{N-1}\right) \)&lt;/span&gt; שמקיימת&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( b_{j}=\frac{1}{\sqrt{N}}\sum_{k=0}^{N-1}a_{k}e^{\frac{2\pi i}{N}jk} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;זו נוסחה טיפה מפחידה במבט ראשון ויהיה קריטי לנו להתרגל אליה, אז בואו נדבר שניה על מה זה &lt;span&gt;\( e^{\frac{2\pi i}{N}jk} \)&lt;/span&gt;. זו בסך הכל שיטת סימון למספר מרוכב מסוים, ולא סתם מספר מרוכב אלא &lt;strong&gt;שורש יחידה&lt;/strong&gt; מסדר &lt;span&gt;\( N \)&lt;/span&gt;, כלומר מספר מרוכב &lt;span&gt;\( z \)&lt;/span&gt; שמקיים &lt;span&gt;\( z^{N}=1 \)&lt;/span&gt;. למשל, שורשי היחידה מסדר 4 הם &lt;span&gt;\( \left\{ 1,-1,i,-i\right\}  \)&lt;/span&gt;. אז התמרת פורייה הבדידה היא בסך הכל “כדי לקבל את האיבר ה-&lt;span&gt;\( k \)&lt;/span&gt; של ההתמרה, בואו נחבר את כל ה-&lt;span&gt;\( a \)&lt;/span&gt;-ים של הסדרה המקורית כשהם מוכפלים בשורשי יחידה מסויימים ש-&lt;span&gt;\( k \)&lt;/span&gt; מגדיר לנו”. זה הכל, וזה לא כזה נורא מבחינה קונספטואלית.&lt;/p&gt;

&lt;p&gt;איך כל זה קשור למספר &lt;span&gt;\( e \)&lt;/span&gt;? ובכן, אחת הנוסחאות הבסיסיות באנליזה מרוכבת היא &lt;strong&gt;נוסחת אוילר&lt;/strong&gt;:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( e^{i\theta}=\cos\theta+i\sin\theta \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;על המספר המרוכב &lt;span&gt;\( \cos\theta+i\sin\theta \)&lt;/span&gt; אפשר לחשוב בתור נקודה במישור, עם קואורדינטות &lt;span&gt;\( \left(\cos\theta,\sin\theta\right) \)&lt;/span&gt;; אם זוכרים ש-&lt;span&gt;\( \cos^{2}\theta+\sin^{2}\theta=1 \)&lt;/span&gt; אז רואים שהמרחק של הנקודה הזו מראשית הצירים הוא 1, כך שאפשר לחשוב על כל הנקודות מהצורה הזו בתור &lt;strong&gt;מעגל&lt;/strong&gt; - מעגל היחידה. הזווית &lt;span&gt;\( \theta \)&lt;/span&gt; היא הזווית שיוצר קו מראשית הצירים אל הנקודה הזו ביחס לכיוון החיובי של ציר &lt;span&gt;\( x \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/2022/euler_formula.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;לא כזה קריטי להבין מדוע הנוסחה הזו נכונה עכשיו - מבחינתנו אפשר לחשוב עליה בתור דרך קומפקטית לכתוב מספרים מרוכבים. מה שרלוונטי לנו הוא להבין מה קורה אם מציבים &lt;span&gt;\( \theta=2\pi \)&lt;/span&gt;. במקרה הזה, אפשר לחשוב על המספר בתור מה שמקבלים כשמתחילים על הנקודה &lt;span&gt;\( \left(1,0\right) \)&lt;/span&gt; במישור ואז מבצעים סיבוב של &lt;span&gt;\( 2\pi \)&lt;/span&gt; מעלות סביב ראשית הצירים. כזכור, &lt;span&gt;\( 2\pi \)&lt;/span&gt; זו הדרך להגיד ברדיאנים את מה שנקרא “360 מעלות” בשפת בני אנוש - סיבוב שלם, שמחזיר אותנו אל &lt;span&gt;\( \left(1,0\right) \)&lt;/span&gt;. שורשי היחידה הם מה שמקבלים כשלוקחים את הסיבוב השלם הזה וחותכים אותו לחתיכות מאורך שווה - למשל, שורשי היחידה מסדר 4 מתקבלים כשמחלקים את ה-360 מעלות הללו ל-4, ומקבלים סיבובים של 90 מעלות, או &lt;span&gt;\( \frac{\pi}{2} \)&lt;/span&gt; בשפת הרדיאנים. כך למשל &lt;span&gt;\( i=e^{i\frac{\pi}{2}} \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;את הביטוי המפחיד &lt;span&gt;\( e^{\frac{2\pi i}{N}jk} \)&lt;/span&gt; אפשר להציג, אם כן, בתור דבר קצת יותר רגוע:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( e^{\frac{2\pi i}{N}jk}=\left(e^{i\cdot\frac{2\pi}{N}k}\right)^{j} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כלומר, כדי לחשב את &lt;span&gt;\( b_{j} \)&lt;/span&gt;, אנחנו קודם כל לוקחים את שורשי היחידה מסדר &lt;span&gt;\( N \)&lt;/span&gt;, שהם איברים מהצורה &lt;span&gt;\( e^{i\cdot\frac{2\pi}{N}\cdot k} \)&lt;/span&gt; עבור &lt;span&gt;\( k=0,1,\ldots,N-1 \)&lt;/span&gt;, ואז אנחנו מעלים את כולם בחזקת &lt;span&gt;\( j \)&lt;/span&gt;, כופלים ב-&lt;span&gt;\( a_{n} \)&lt;/span&gt;-ים המתאימים ומחברים. למשל, עבור &lt;span&gt;\( N=4 \)&lt;/span&gt;:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( b_{j}=a_{0}\cdot1^{j}+a_{1}\cdot i^{j}+a_{2}\cdot\left(-1\right)^{j}+a_{3}\cdot\left(-i\right)^{j} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;זה יניב כל מני סכומים מורכבים יותר ופחות, כתלות בערך של &lt;span&gt;\( k \)&lt;/span&gt;. למשל עבור &lt;span&gt;\( j=0 \)&lt;/span&gt; נקבל פשוט&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( b_{0}=\frac{1}{2}\left(a_{0}+a_{1}+a_{2}+a_{3}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עבור &lt;span&gt;\( j=1 \)&lt;/span&gt; כל שורשי היחידה השונים יככבו בסכום:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( b_{1}=\frac{1}{2}\left(a_{0}+ia_{1}-a_{2}-ia_{3}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עבור &lt;span&gt;\( j=2 \)&lt;/span&gt; דברים הולכים להתבטל כי &lt;span&gt;\( \left(-1\right)^{2}=1 \)&lt;/span&gt; ו-&lt;span&gt;\( \left(\pm i\right)^{2}=-1 \)&lt;/span&gt;:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( b_{2}=\frac{1}{2}\left(a_{0}-a_{1}+a_{2}-a_{3}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;וכן הלאה - אני מקווה שהעיקרון ברור.&lt;/p&gt;

&lt;p&gt;החישוב של ההתמרה לא נראה פה כמו עניין קשה במיוחד, והוא באמת לא קשה במיוחד אם &lt;span&gt;\( N \)&lt;/span&gt; לא גדול. אבל אנחנו רוצים כן לטפל במקרה שבו &lt;span&gt;\( N \)&lt;/span&gt; גדול. חישוב נאיבי של ההתמרה לוקח בערך &lt;span&gt;\( O\left(N^{2}\right) \)&lt;/span&gt; פעולות, אבל היופי בכל הסיפור הזה הוא שקיימות שיטות מחוכמות לביצוע &lt;strong&gt;מהיר&lt;/strong&gt; של התמרת פורייה הזו, שלוקחות זמן של &lt;span&gt;\( O\left(N\log N\right) \)&lt;/span&gt;. &lt;a href=&quot;https://gadial.net/2014/05/27/fast_fourier_transform/&quot;&gt;יש לי תיאור&lt;/a&gt; של אחת מהשיטות הללו בבלוג וזה אכן יופי של דבר. כל הדברים הללו קשורים לחישוב &lt;strong&gt;קלאסי&lt;/strong&gt;, בלי מחשב קוונטי.&lt;/p&gt;

&lt;p&gt;בחישוב קוונטי אפשר לבצע את התמרת פורייה הזו בזמן &lt;span&gt;\( O\left(\log^{2}N\right) \)&lt;/span&gt;. שימו לב להבדל: בהתמרה קלאסית, הזמן הוא &lt;span&gt;\( O\left(N\log N\right) \)&lt;/span&gt;. בקוונטית הוא &lt;span&gt;\( O\left(\log^{2}N\right) \)&lt;/span&gt;. זה שינוי עצום. אנחנו נעבוד עם המקרה שבו &lt;span&gt;\( N=2^{n} \)&lt;/span&gt; עבור &lt;span&gt;\( n \)&lt;/span&gt; כלשהו; במקרה הזה, &lt;span&gt;\( O\left(\log^{2}N\right)=O\left(n^{2}\right) \)&lt;/span&gt; בזמן ש-&lt;span&gt;\( O\left(N\log N\right)=O\left(n\cdot2^{n}\right) \)&lt;/span&gt; - אקספוננציאלי ב-&lt;span&gt;\( n \)&lt;/span&gt; מול פולינומי ב-&lt;span&gt;\( n \)&lt;/span&gt;. זו הדגמה יפה מאוד של הכוח של חישוב קוונטי ביחס לחישוב רגיל.&lt;/p&gt;

&lt;p&gt;אבל מה? התמרת פורייה הקוונטית היא גם המחשה מצויינת ל&lt;strong&gt;חולשה&lt;/strong&gt; של חישוב קוונטי אל מול חישוב רגיל. בחישוב רגיל, אנחנו מתחילים עם הסדרה &lt;span&gt;\( a_{0},a_{1},\ldots,a_{N-1} \)&lt;/span&gt; ביד ומסיימים עם הסדרה &lt;span&gt;\( b_{0},b_{1},\ldots,b_{N-1} \)&lt;/span&gt; ביד; לעומת זאת בחישוב קוונטי מה שיהיה לנו בסוף הוא &lt;strong&gt;סופרפוזיציה&lt;/strong&gt; כלשהי של אברי הסדרה &lt;span&gt;\( b_{0},b_{1},\ldots,b_{N-1} \)&lt;/span&gt; (ההגדרה המדויקת תכף תגיע). אנחנו לא יודעים לקרוא את ה-&lt;span&gt;\( b \)&lt;/span&gt;-ים מתוך הסופרפוזיציה הזו; רק למדוד אותה ולקוות לטוב, או לעשות איתה עוד דברים בהמשך החישוב, ואז למדוד אותה ולקוות לטוב. ה”מידע” של התמרת הפורייה לא נגיש לנו ישירות, אלא רק דרך אפקט עקיף. כפי שנראה בהמשך, גם האפקט העקיף הזה יכול להיות חזק מאוד, בשימושים המתאימים.&lt;/p&gt;

&lt;h2&gt;איך נראית התמרת פורייה הקוונטית?&lt;/h2&gt;

&lt;p&gt;כאשר &lt;span&gt;\( N=2^{n} \)&lt;/span&gt;, התמרת פורייה הקוונטית היא אופרטור שפועל על &lt;span&gt;\( n \)&lt;/span&gt; קיוביטים. כזכור, המצב הכללי של &lt;span&gt;\( n \)&lt;/span&gt; קיוביטים הוא סופרפוזיציה מהצורה &lt;span&gt;\( \sum_{x\in\left\{ 0,1\right\} ^{n}}\alpha_{x}\left|x\right\rangle  \)&lt;/span&gt;, כאשר ה-&lt;span&gt;\( \left|x\right\rangle  \)&lt;/span&gt;-ים הללו הם אברי הבסיס של המצב הקוונטי. בשביל התמרת פורייה אנקוט בשיטת סימון טיפ-טיפה שונה: הרי על כל &lt;span&gt;\( x\in\left\{ 0,1\right\} ^{n} \)&lt;/span&gt; כזה אפשר לחשוב בתור &lt;strong&gt;ייצוג בינארי&lt;/strong&gt; של מספר, למשל &lt;span&gt;\( 110 \)&lt;/span&gt; הוא הייצוג הבינארי של &lt;span&gt;\( 1\cdot2^{2}+1\cdot2^{1}+0\cdot2^{0}=6 \)&lt;/span&gt;. אז במקום לדבר על המצב &lt;span&gt;\( \left|110\right\rangle  \)&lt;/span&gt; אני אדבר על המצב &lt;span&gt;\( \left|6\right\rangle  \)&lt;/span&gt;. ובאופן כללי - המצבים שלי יהיו מהצורה &lt;span&gt;\( \left|j\right\rangle  \)&lt;/span&gt; כאשר &lt;span&gt;\( 0\le j\le N-1 \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;שימו לב כי בשיטת הייצוג הזו, הערך של הקיוביט הראשון הוא &lt;strong&gt;הספרה המשמעותית ביותר&lt;/strong&gt; ב-&lt;span&gt;\( j \)&lt;/span&gt; והערך של הקיוביט האחרון הוא הספרה הכי פחות משמעותית; זו בחירה שרירותית, כמובן, אבל היא תשפיע על הסימונים שלנו מכאן ואילך.&lt;/p&gt;

&lt;p&gt;כעת, כדי להגדיר אופרטור אוניטרי על &lt;span&gt;\( n \)&lt;/span&gt; קיוביטים, מספיק להגדיר אותו על אברי הבסיס. אז הבה ונגדיר את האופרטור &lt;span&gt;\( \text{QFT}_{N} \)&lt;/span&gt; (ראשי תיבות של Quantum Fourier Transform):&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \text{QFT}_{N}\left(\left|j\right\rangle \right)=\frac{1}{\sqrt{N}}\sum_{k=0}^{N-1}e^{\frac{2\pi i}{N}jk}\left|k\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כלומר, אם אנחנו מפעילים את &lt;span&gt;\( \text{QFT}_{N} \)&lt;/span&gt; על סופרפוזיציה &lt;span&gt;\( \sum_{j=0}^{N-1}a_{j}\left|j\right\rangle  \)&lt;/span&gt;, הפלט יהיה&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \sum_{j=0}^{N-1}a_{j}\frac{1}{\sqrt{N}}\sum_{k=0}^{N-1}e^{\frac{2\pi i}{N}jk}\left|k\right\rangle =\sum_{k=0}^{N-1}\left(\frac{1}{\sqrt{N}}\sum_{j=0}^{N-1}a_{j}e^{\frac{2\pi i}{N}jk}\right)\left|k\right\rangle = \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( =\sum_{k=0}^{N-1}b_{k}\left|k\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כלומר, כשמפעילים את &lt;span&gt;\( \text{QFT}_{N} \)&lt;/span&gt; על סופרפוזיציה שמקדמיה הם הסדרה &lt;span&gt;\( \left(a_{0},a_{1},\ldots,a_{N-1}\right) \)&lt;/span&gt; מקבלים כפלט סופרפוזיציה שמקדמיה הם הסדרה &lt;span&gt;\( \left(b_{0},\ldots,b_{N-1}\right) \)&lt;/span&gt;. כלומר, במקרה הזה גם סדרת הקלט וגם סדרת הפלט נתונות בצורה מובלעת; לא בתור קלט מפורש אלא בתור מקדמים של סופרפוזיציה.&lt;/p&gt;

&lt;p&gt;ההגדרה &lt;span&gt;\( \text{QFT}_{N}\left(\left|j\right\rangle \right)=\frac{1}{\sqrt{N}}\sum_{k=0}^{N-1}e^{\frac{2\pi i}{N}jk}\left|k\right\rangle  \)&lt;/span&gt; מתאימה להגדרה ה”קלאסית”, ותהיה מוכרת ונעימה למי שרגילים להתמרת פורייה הבדידה. אבל יש עוד דרך לתאר את אגף ימין פה - לא בתור סכום של &lt;span&gt;\( 2^{n} \)&lt;/span&gt; מצבים על &lt;span&gt;\( n \)&lt;/span&gt; קיוביטים, אלא בתור &lt;strong&gt;מכפלה טנזורית&lt;/strong&gt; של &lt;span&gt;\( n \)&lt;/span&gt; מצבים, אחד לכל קיוביט. שיטת הייצוג הנוספת הזו תהיה חדשה גם למי שמכירים את התמרת פורייה, ובמבט ראשון היא תהיה &lt;strong&gt;מפחידה ביותר&lt;/strong&gt;. כל כך מפחידה, עד שגם אני, כשכתבתי בעבר דברים על התמרת פורייה הקוונטית, ניסיתי בכוח להתחמק ממנה - עד שהגעתי לשימושים בפועל בה וזה התפוצץ לי בפרצוף. האמת היא ששיטת הייצוג הזו היא גם נוחה מאוד לשימוש וגם לא כזו נוראית, אחרי שמתרגלים אליה. ומכיוון שאני לא מאמין בלשמור אתכם במתח אני אציג אותה מייד, וננסה להבין מה הולך שם ולמה זה מתאים להגדרה ה”רגילה”:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \text{QFT}_{N}\left(\left|j\right\rangle \right)\frac{1}{\sqrt{N}}\bigotimes_{t=1}^{n}\left(\left|0\right\rangle +e^{2\pi i0.j_{n-t+1}\ldots j_{n}}\left|1\right\rangle \right)= \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( =\frac{\left(\left|0\right\rangle +e^{2\pi i0.j_{n}}\left|1\right\rangle \right)\otimes\left(\left|0\right\rangle +e^{2\pi i0.j_{n-1}j_{n}}\left|1\right\rangle \right)\otimes\cdots\otimes\left(\left|0\right\rangle +e^{2\pi i0.j_{1}\ldots j_{n}}\left|1\right\rangle \right)}{\sqrt{N}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ככל הנראה הדבר הכי קשה לעיכול בנוסחה הזו הוא מה שקורה בחזקה של &lt;span&gt;\( e \)&lt;/span&gt;, אז אני אתחיל עם זה. בואו ננסה להבין איך נראה האיבר &lt;span&gt;\( e^{\frac{2\pi i}{N}jk} \)&lt;/span&gt; עבור &lt;span&gt;\( j \)&lt;/span&gt; כלשהו. נתחיל עם המקרה שבו &lt;span&gt;\( k=1 \)&lt;/span&gt;. ראשית, אפשר לכתוב &lt;span&gt;\( e^{\frac{2\pi i}{N}jk}=e^{2\pi i\cdot\frac{j}{N}} \)&lt;/span&gt;, כלומר החלק שאנחנו צריכים להבין הוא את &lt;span&gt;\( \frac{j}{N} \)&lt;/span&gt;. שנית, אנחנו יודעים ש-&lt;span&gt;\( 0\le j\le N-1 \)&lt;/span&gt;, ולכן &lt;span&gt;\( \frac{j}{N} \)&lt;/span&gt; הולך להיות &lt;strong&gt;שבר&lt;/strong&gt;: מספר בין 0 ל-1. מספרים כאלו אנחנו מייצגים בדרך כלל בייצוג עשרוני, נאמר &lt;span&gt;\( 0.125 \)&lt;/span&gt; בא לתאר את הסכום&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( 1\cdot\frac{1}{10}+2\cdot\frac{1}{100}+5\cdot\frac{1}{1000}=\frac{125}{1000}=\frac{1}{8} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כמו שאפשר לראות מהדוגמא, קל להבין איך ייראו הספרות של שבר כלשהו אם יש לנו הצגה שלו חלקי חזקה כלשהי של 10: מכיוון שהשבר שלנו היה מהצורה &lt;span&gt;\( \frac{125}{1000} \)&lt;/span&gt;, ידענו שהוא ייכתב בתור &lt;span&gt;\( 0.125 \)&lt;/span&gt;. אם אני מסתכל על השבר &lt;span&gt;\( \frac{523}{1000} \)&lt;/span&gt; אני כבר יודע שהוא ייכתב בתור &lt;span&gt;\( 0.523 \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;ומה קורה אם אני רוצה להציג את המספר לא בשיטה העשרונית, אלא בשיטה &lt;strong&gt;הבינארית&lt;/strong&gt;? בשיטה הזו אני עדיין יכול לכתוב ספרות שהן או 0 או 1 מימין לנקודה, ולקבל סכום של חזקות שליליות של 2. אם נסתכל על מספר עם שלוש ספרות מימין לנקודה, &lt;span&gt;\( 0.j_{1}j_{2}j_{3} \)&lt;/span&gt;, הוא מייצג את&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( j_{1}\cdot\frac{1}{2^{-1}}+j_{2}+\frac{1}{2^{-2}}+j_{3}\cdot\frac{1}{2^{-3}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ובאופן כללי, &lt;span&gt;\( 0.j_{1}j_{2}\ldots j_{n} \)&lt;/span&gt; הולך לייצג את &lt;span&gt;\( \sum_{r=1}^{n}j_{r}\frac{1}{2^{r}} \)&lt;/span&gt;. וכמו במקרה העשרוני, אם יש לי מספר שברי שמראש נתון בתור “משהו חלקי חזקה של 2”, ברור לי איך ייראה הייצוג שלו: אם החזקה שבמכנה היא &lt;span&gt;\( 2^{n} \)&lt;/span&gt;, אז אני אקח ייצוג בינארי שלו בעזרת &lt;span&gt;\( n \)&lt;/span&gt; ספרות, והן מה שיופיע מימין לנקודה. במילים אחרות, אם נתון לי &lt;span&gt;\( \frac{j}{2^{n}} \)&lt;/span&gt;, אז אני אכתוב את &lt;span&gt;\( j \)&lt;/span&gt; בתור &lt;span&gt;\( j=\sum_{r=1}^{n}j_{r}2^{n-r} \)&lt;/span&gt; (כלומר, כאן &lt;span&gt;\( j_{1} \)&lt;/span&gt; היא הספרה המשמעותית ביותר, &lt;span&gt;\( j_{2} \)&lt;/span&gt; הבאה בתור אחריה וכן הלאה; לרוב אנחנו עושים ההפך ולכן זו עשויה להיות נקודה מבלבלת). ואז אני אקבל את הייצוג הבינארי השברי&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \frac{j}{2^{n}}=0.j_{1}j_{2}\ldots j_{n} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אם הנקודה הזו (שלא קשורה לקוונטים או לאלגברה לינארית, סתם לייצוג של מספרים בבסיסי ספירה שונים) ברורה לכם - ברכותי! אני מקווה שהרע ביותר כבר מאחורינו.&lt;/p&gt;

&lt;p&gt;עכשיו, מה קורה אם אני לוקח את המספר &lt;span&gt;\( \frac{j}{2^{n}}=0.j_{1}j_{2}\ldots j_{n} \)&lt;/span&gt; ומכפיל אותו פי 2? כמו שהכפלת ייצוג עשרוני רגיל ב-10 מזיזה את כל הספרות צעד אחד שמאלה, למשל &lt;span&gt;\( 10\cdot0.125=1.25 \)&lt;/span&gt;, אז גם בייצוג בינארי כל הספרות יזוזו צעד אחד שמאלה:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( 2\cdot\frac{j}{2^{n}}=j_{1}.j_{2}j_{3}\ldots j_{n} \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;ובאופן כללי, אם אנחנו כופלים בחזקה כלשהי של 2, נאמר &lt;span&gt;\( 2^{t} \)&lt;/span&gt; כאשר &lt;span&gt;\( t\le n \)&lt;/span&gt;, האפקט יהיה הזזת הספרות &lt;span&gt;\( t \)&lt;/span&gt; צעדים שמאלה:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( 2^{t}\cdot\frac{j}{2^{n}}=j_{1}j_{2}\ldots j_{t}.j_{t+1}\ldots j_{n} \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;אוקיי, התרגלנו קצת לצורת הכתיב הזו. עכשיו מגיע הפאנץ’. בואו נחזור שניה אל הביטוי &lt;span&gt;\( e^{\frac{2\pi i}{N}jk} \)&lt;/span&gt; שכבר ראינו לא מעט כאן. אני יכול לכתוב אותו שוב פעם באופן קצת שונה: &lt;span&gt;\( e^{2\pi i\cdot\left(k\cdot\frac{j}{N}\right)} \)&lt;/span&gt;. כעת, מכיוון שאצלנו &lt;span&gt;\( N=2^{n} \)&lt;/span&gt; אפשר לכתוב אותו בתור&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( e^{2\pi i\cdot\left(k\cdot\frac{j}{2^{n}}\right)} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ואם נניח ש-&lt;span&gt;\( k \)&lt;/span&gt; הוא חזקה כלשהי של 2, נאמר &lt;span&gt;\( k=2^{n-t} \)&lt;/span&gt; (למה לא &lt;span&gt;\( k=2^{t} \)&lt;/span&gt;? כי דווקא בראשון נשתמש בהמשך), אז אפשר לכתוב&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( k\cdot\frac{j}{2^{n}}=j_{1}j_{2}\ldots j_{n-t}.j_{n-t+1}\ldots j_{n} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ועכשיו הפאנץ’: את כל החלק שמשמאל לנקודה הבינארית &lt;strong&gt;אנחנו יכולים להעלים&lt;/strong&gt;. למה? בגלל שיש לנו אקספוננט בחזקת &lt;span&gt;\( 2\pi i \)&lt;/span&gt; כפול משהו. בואו נראה את זה: אם יש לי מספר מהצורה &lt;span&gt;\( a+b \)&lt;/span&gt; כך ש-&lt;span&gt;\( a \)&lt;/span&gt; הוא מספר שלם, אז מתקיים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( e^{2i\pi\left(a+b\right)}=e^{2i\pi a}\cdot e^{2i\pi b}=\left(e^{2i\pi}\right)^{a}\cdot e^{2i\pi b}=1\cdot e^{2i\pi b}=e^{2i\pi b} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כלומר, כל החלק של &lt;span&gt;\( a \)&lt;/span&gt; נעלם, כי הוא מייצג כמות שלמה של סיבובים מלאים סביב ראשית הצירים, שלא משפיעה על התוצאה הסופית. איפה היה חשוב ש-&lt;span&gt;\( a \)&lt;/span&gt; הוא שלם? במעבר &lt;span&gt;\( e^{2i\pi a}=\left(e^{2i\pi}\right)^{a} \)&lt;/span&gt; שאינו נכון באופן כללי אבל כן נכון עבור שלמים.&lt;/p&gt;

&lt;p&gt;חזרה אל המקרה שלנו, שבו יש לנו מספר בייצוג בינארי שאפשר להפריד לסכום של “מה שמשמאל לנקודה” ו”מה שמימין לנקודה”:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( k\cdot\frac{j}{2^{n}}=j_{1}j_{2}\ldots j_{n-t}.j_{n-t+1}\ldots j_{n}=j_{1}j_{2}\ldots j_{n-t}+0.j_{n-t+1}\ldots j_{n} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ולכן נקבל, עבור &lt;span&gt;\( k=2^{n-t} \)&lt;/span&gt;, שמתקיים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( e^{2\pi i\cdot\left(k\cdot\frac{j}{2^{n}}\right)}=e^{2\pi i0.j_{n-t+1}\ldots j_{n}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;וזה בדיוק מה שהופיע בנוסחה המוזרה של &lt;span&gt;\( \text{QFT} \)&lt;/span&gt; שנתתי:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \text{QFT}_{N}\left(\left|j\right\rangle \right)\frac{1}{\sqrt{N}}\bigotimes_{t=1}^{n}\left(\left|0\right\rangle +e^{2\pi i0.j_{n-t+1}\ldots j_{n}}\left|1\right\rangle \right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כלומר, הבנו את המשמעות של הרכיב הכי בעייתי בנוסחה; עכשיו בואו נבין למה היא נכונה ושקולה אל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \text{QFT}_{N}\left(\left|j\right\rangle \right)=\frac{1}{\sqrt{N}}\sum_{k=0}^{N-1}e^{\frac{2\pi i}{N}jk}\left|k\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אין כאן יותר מאשר חישוב טכני. אני לא אוהב דברים שאין בהם יותר מאשר חישוב טכני. קשה לפתח ככה אינטואיציה, והרבה ספרים פשוט נותנים את החישוב הטכני וזהו. אז לפני שנעשה את החישוב הטכני, בואו נראה דוגמא קצת יותר פשוטה: הפולינום &lt;span&gt;\( \left(1+x\right)\left(1+x^{2}\right)\left(1+x^{3}\right) \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;נניח שנותנים לנו את הפולינום הזה ומבקשים מאיתנו לפתוח סוגריים. זה יהיה טכני, אין ספק, אבל מה בעצם נעשה? אנחנו בעצם יוצרים 8 שלשות: כל שלשה נבנית על ידי כך שאני בוחר איבר מהסוגריים הראשונים, איבר מהשניים ואיבר מהשלישיים, וכופל את כולם. את כל 8 התוצאות שאקבל אני מחבר. עכשיו, בגלל שבכל אחד מהסוגריים אחד האיברים הוא 1, הכפלה בו לא עושה כלום, מה שדי מפשט את מה שאני מקבל:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( 1+x+x^{2}+x^{3}+x\cdot x^{2}+x\cdot x^{3}+x^{2}\cdot x^{3}+x\cdot x^{2}+x^{3}= \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( =1+x+x^{2}+x^{3}+x^{3}+x^{4}+x^{5}+x^{6} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו אפשר לעשות את אותו דבר עם המכפלה הטנזורית שלנו:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \bigotimes_{t=1}^{n}\left(\left|0\right\rangle +e^{2\pi i0.j_{n-t+1}\ldots j_{n}}\left|1\right\rangle \right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כזכור, מה שיפה במכפלות טנזוריות הוא שהן משחקות יפה עם חוקי הכפל והחיבור הרגילים. אם למשל יש לי את המכפלה הפשוטה יחסית&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left(\left|0\right\rangle +a\left|1\right\rangle \right)\otimes\left(\left|0\right\rangle +b\left|1\right\rangle \right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ואני פותח את המכפלה על פי חוקי הדיסטריביוטיביות, &lt;a href=&quot;https://gadial.net/2022/07/31/quantum_computing_math_2/&quot;&gt;כמו שכבר ראינו&lt;/a&gt; שאפשר לעשות במהלך סדרת הפוסטים הזו, אז אני אקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|00\right\rangle +b\left|01\right\rangle +a\left|10\right\rangle +ab\left|11\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כלומר, על ידי התבוננות בספרות של &lt;span&gt;\( \left|x\right\rangle  \)&lt;/span&gt; אני יודע אילו איברים יופיעו במקדם של האיבר הזה: אם הספרה השמאלית, המשמעותית יותר, היא 1 אז יופיע &lt;span&gt;\( a \)&lt;/span&gt;, ואם הספרה הימנית היא 1 אז יופיע &lt;span&gt;\( b \)&lt;/span&gt;, ואם שתיהן 1 אז שניהם יופיעו. אותו הדבר יקרה גם עבור הביטוי&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \bigotimes_{t=1}^{n}\left(\left|0\right\rangle +e^{2\pi i0.j_{n-t+1}\ldots j_{n}}\left|1\right\rangle \right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כשאני אפתח אותו, אני אקבל סכום של כל האיברים מהצורה &lt;span&gt;\( \left|x\right\rangle  \)&lt;/span&gt; כך של-&lt;span&gt;\( x \)&lt;/span&gt; יש &lt;span&gt;\( n \)&lt;/span&gt; ספרות, והמקדמים של ה-&lt;span&gt;\( \left|x\right\rangle  \)&lt;/span&gt; הזה יהיו מכפלות של כל ה-&lt;span&gt;\( e \)&lt;/span&gt;-ים המפלצתיים שמתאימים לכניסות של &lt;span&gt;\( x \)&lt;/span&gt; שהן 1.&lt;/p&gt;

&lt;p&gt;עכשיו, כשאני מרגיש שהבנו קצת יותר טוב מה הולך ב”ביטוי המפלצתי”, אני דווקא רוצה לחזור אל ההגדרה ה”רגילה” של ההתמרה:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \text{QFT}_{N}\left(\left|j\right\rangle \right)=\frac{1}{\sqrt{N}}\sum_{k=0}^{N-1}e^{\frac{2\pi i}{N}jk}\left|k\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ובואו ננסה להגיע ממנה אל “הביטוי המפלצתי”. הדבר היחיד בהגדרה הרגילה שעדיין לא מסתדר לנו טוב הוא ה-&lt;span&gt;\( k \)&lt;/span&gt; הזה. כזכור, הפישוט המאוד נחמד של &lt;span&gt;\( e^{2\pi i\cdot\left(k\cdot\frac{j}{2^{n}}\right)} \)&lt;/span&gt; שעשיתי קודם שבו נפטרתי מכל הספרות משמאל לנקודה הניח ש-&lt;span&gt;\( k \)&lt;/span&gt; הוא &lt;strong&gt;חזקה של &lt;/strong&gt;&lt;strong&gt;2&lt;/strong&gt; וזה בוודאי לא מה שקורה כשמריצים את &lt;span&gt;\( k \)&lt;/span&gt; על כל המספרים מ-0 עד &lt;span&gt;\( N-1 \)&lt;/span&gt;. כדי להתמודד עם הבעיה הזו, אנחנו עוברים להתבונן על &lt;strong&gt;הייצוג הבינארי&lt;/strong&gt; של &lt;span&gt;\( k \)&lt;/span&gt;. מכיוון ש-&lt;span&gt;\( 0\le k\le N-1=2^{n}-1 \)&lt;/span&gt; אפשר לייצג את &lt;span&gt;\( k \)&lt;/span&gt; בעזרת &lt;span&gt;\( n \)&lt;/span&gt; ספרות בינאריות. נכתוב &lt;span&gt;\( k=k_{1}k_{2}\ldots k_{n} \)&lt;/span&gt;, כלומר שוב ה-&lt;span&gt;\( k_{1} \)&lt;/span&gt; יהיה הספרה המשמעותית ביותר, מה שאומר שבייצוג בתור סכום נקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( k=\sum_{t=1}^{n}2^{n-t}k_{t} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;זוכרות שקודם מתישהו כפלתי ב-&lt;span&gt;\( 2^{n-t} \)&lt;/span&gt; במקום ב-&lt;span&gt;\( 2^{t} \)&lt;/span&gt; שנראה יותר טבעי? אז הנה איך &lt;span&gt;\( 2^{n-t} \)&lt;/span&gt; צץ לו.&lt;/p&gt;

&lt;p&gt;עכשיו אפשר להתחיל לעשות חשבון:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \text{QFT}_{N}\left(\left|j\right\rangle \right)=\frac{1}{\sqrt{N}}\sum_{k=0}^{N-1}e^{\frac{2\pi i}{N}jk}\left|k\right\rangle = \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( =\frac{1}{\sqrt{N}}\sum_{k_{1}k_{2}\ldots k_{n}=0}^{N-1}e^{\frac{2\pi i}{N}j\sum_{t=1}^{n}2^{n-t}k_{t}}\left|k_{1}\ldots k_{n}\right\rangle = \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \frac{1}{\sqrt{N}}\sum_{k_{1}k_{2}\ldots k_{n}=0}^{N-1}\prod_{t=1}^{n}e^{\frac{2\pi i}{N}j2^{n-t}k_{t}}\left|k_{1}\ldots k_{n}\right\rangle = \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כשהמעבר האחרון נובע מכך שחיבור במעריך של &lt;span&gt;\( e \)&lt;/span&gt; הופך למכפלה, כמו בנוסחה &lt;span&gt;\( e^{a+b}=e^{a}\cdot e^{b} \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;נעצור עכשיו לשניה ונסתכל על מה שהולך במעריך של ה-&lt;span&gt;\( e \)&lt;/span&gt; הזה: אם &lt;span&gt;\( k_{t}=0 \)&lt;/span&gt;, אז &lt;span&gt;\( e^{\frac{2\pi i}{N}j2^{n-t}k_{t}}=e^{0}=1 \)&lt;/span&gt; - המקדם נעלם כולו. אם לעומת זאת &lt;span&gt;\( k_{t}=1 \)&lt;/span&gt; אנחנו נשארים עם &lt;span&gt;\( e^{\frac{2\pi i}{N}j2^{n-t}}=e^{2\pi i\cdot0.0.j_{n-t+1}\ldots j_{n}} \)&lt;/span&gt; שכבר מוכרים לנו בשלב הזה. אם כן, הדבר העיקרי שאנחנו צריכים לעשות עכשיו הוא לעבור מסכום של &lt;span&gt;\( N \)&lt;/span&gt; מכפלות של &lt;span&gt;\( n \)&lt;/span&gt; איברים אל מכפלה הטנזורית של &lt;span&gt;\( n \)&lt;/span&gt; איברים שכל אחד מהם הוא סכום של שניים:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \frac{1}{\sqrt{N}}\sum_{k_{1}k_{2}\ldots k_{n}=0}^{N-1}\prod_{t=1}^{n}e^{\frac{2\pi i}{N}j2^{n-t}k_{t}}\left|k_{1}\ldots k_{n}\right\rangle = \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( =\frac{1}{\sqrt{N}}\bigotimes_{t=1}^{n}\left(e^{\frac{2\pi i}{N}j2^{n-t}\cdot0}\left|0\right\rangle +e^{\frac{2\pi i}{N}j2^{n-t}\cdot1}\left|1\right\rangle \right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ועל פי הפישוטים שהראיתי לפני רגע, אנחנו מקבלים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \frac{1}{\sqrt{N}}\bigotimes_{t=1}^{n}\left(e^{\frac{2\pi i}{N}j2^{n-t}\cdot0}\left|0\right\rangle +e^{\frac{2\pi i}{N}j2^{n-t}\cdot1}\left|1\right\rangle \right)= \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( =\frac{1}{\sqrt{N}}\bigotimes_{t=1}^{n}\left(\left|0\right\rangle +e^{2\pi i0.j_{n-t+1}\ldots j_{n}}\left|1\right\rangle \right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;וזו בדיוק הנוסחה שרצינו. זהו, החלק הגרוע ביותר הסתיים - עכשיו אנחנו יודעים איך התמרת הפורייה הקוונטית נראית בצורה שלה שתהיה לנו שימושית יותר, וגם יהיה לנו יחסית קל להבין למה המעגל הקוונטי שתכף אתאר מחשב אותה. יש רק עוד פישוט אחד אחרון שאולי כדאי לעשות: מכיוון ש-&lt;span&gt;\( N=2^{n} \)&lt;/span&gt; הרי שאפשר לכתוב &lt;span&gt;\( \sqrt{N}=2^{\frac{n}{2}} \)&lt;/span&gt; ולקבל את הנוסחה&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \frac{1}{2^{n/2}}\bigotimes_{t=1}^{n}\left(\left|0\right\rangle +e^{2\pi i0.j_{n-t+1}\ldots j_{n}}\left|1\right\rangle \right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ולפעמים אפילו כותבים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \bigotimes_{t=1}^{n}\frac{1}{\sqrt{2}}\left(\left|0\right\rangle +e^{2\pi i0.j_{n-t+1}\ldots j_{n}}\left|1\right\rangle \right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;בתור התמרת פורייה הקוונטית. אני אישית מאוד מחבב את הצורה האחרונה, כי אחרי שמתעסקים מספיק זמן עם חישוב קוונטי כבר מתרגלים לאהוב &lt;span&gt;\( \sqrt{2} \)&lt;/span&gt; מוזרים שנדחפים לכל מקום, וכפי שנראה עוד רגע - זו גם תהיה הצורה הכי מועילה עבורנו.&lt;/p&gt;

&lt;h2&gt;אז איך מחשבים את זה?&lt;/h2&gt;

&lt;p&gt;סיכום החלק הקודם הוא פשוט: אנחנו רוצים לממש אופרטור קוונטי בשם &lt;span&gt;\( \text{QFT}_{N} \)&lt;/span&gt; שמקיים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \text{QFT}_{N}\left(\left|j\right\rangle \right)=\bigotimes_{t=1}^{n}\frac{1}{\sqrt{2}}\left(\left|0\right\rangle +e^{2\pi i0.j_{n-t+1}\ldots j_{n}}\left|1\right\rangle \right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;הייצוג באגף ימין, שנראה אולי מפחיד בהתחלה, מועיל &lt;strong&gt;מאוד&lt;/strong&gt; להבין מה צריך לעשות, כי זה ייצוג של מצב קוונטי בצורה פשוטה מאוד, שבה המצב של כל קיוביט מתואר &lt;strong&gt;בנפרד&lt;/strong&gt;. זה לא מצב שזור; כדי להבין איך מגיעים אליו מספיק להסתכל על כל קיוביט בתורו.&lt;/p&gt;

&lt;p&gt;ראשית, בואו ניזכר בזהירות מה &lt;strong&gt;הקלט&lt;/strong&gt; שלנו פה. יש למעגל &lt;span&gt;\( n \)&lt;/span&gt; קיוביטים, והמצב שלהם הוא &lt;span&gt;\( \left|j\right\rangle  \)&lt;/span&gt;, שאותו אני מתאר בתור &lt;span&gt;\( \left|j_{1}j_{2}\ldots j_{n}\right\rangle  \)&lt;/span&gt; - כל &lt;span&gt;\( j_{t} \)&lt;/span&gt; כאן הוא או 0 או 1.&lt;/p&gt;

&lt;p&gt;עכשיו, בואו נתחיל מהערך שאמור להגיע אל הקיוביט &lt;strong&gt;הראשון&lt;/strong&gt;. כלומר, בנוסחה לעיל זה המקרה &lt;span&gt;\( t=1 \)&lt;/span&gt; - המצב הבא:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \frac{1}{\sqrt{2}}\left(\left|0\right\rangle +e^{2\pi i0.j_{n}}\left|1\right\rangle \right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;זה מצב פשוט מאוד, אבל הוא מסווה את זה היטב עם השימוש הזה ב-&lt;span&gt;\( e \)&lt;/span&gt;. בואו נראה את זה: ל-&lt;span&gt;\( j_{n} \)&lt;/span&gt; יש בדיוק שני ערכים אפשריים: או 0 או 1. אם &lt;span&gt;\( j_{n}=0 \)&lt;/span&gt; אז &lt;span&gt;\( e^{2\pi i0.j_{n}}=1 \)&lt;/span&gt; ולכן המצב הוא &lt;span&gt;\( \frac{\left|0\right\rangle +\left|1\right\rangle }{\sqrt{2}} \)&lt;/span&gt;. אם לעומת זאת &lt;span&gt;\( j_{n}=1 \)&lt;/span&gt; אז &lt;span&gt;\( 0.j_{n}=\frac{1}{2} \)&lt;/span&gt; (זכרו - &lt;span&gt;\( 0.j_{n} \)&lt;/span&gt; הוא לא ייצוג עשרוני אלא ייצוג בינארי) ולכן &lt;span&gt;\( e^{2\pi i0.j_{n}}=e^{\pi i}=-1 \)&lt;/span&gt; (סיבוב של 180 מעלות) ונקבל &lt;span&gt;\( \frac{\left|0\right\rangle -\left|1\right\rangle }{\sqrt{2}} \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;אז במילים אחרות, המצב שצריך לקבל תלוי בערך של &lt;span&gt;\( j_{n} \)&lt;/span&gt;, והוא&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \begin{cases} \frac{\left|0\right\rangle +\left|1\right\rangle }{\sqrt{2}} &amp;amp; j_{n}=0\\ \frac{\left|0\right\rangle -\left|1\right\rangle }{\sqrt{2}} &amp;amp; j_{n}=1 \end{cases} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;נראה מוכר? המצב הזה הוא &lt;strong&gt;בדיוק&lt;/strong&gt; התוצאה של &lt;span&gt;\( H\left(\left|j_{n}\right\rangle \right) \)&lt;/span&gt;. ככה &lt;span&gt;\( H \)&lt;/span&gt; מוגדר. אז ברור לנו מה לעשות - כדי לקבל את הערך שאמור להגיע אל הקיוביט &lt;strong&gt;הראשון&lt;/strong&gt; אנחנו רק צריכים להפעיל &lt;span&gt;\( H \)&lt;/span&gt; על הקיוביט &lt;span&gt;\( \left|j_{n}\right\rangle  \)&lt;/span&gt;, כלומר על הקיוביט &lt;strong&gt;האחרון&lt;/strong&gt;. רגע רגע רגע, משהו לא מסתדר פה.&lt;/p&gt;

&lt;p&gt;תזכרו - אם אנחנו מפעילים &lt;span&gt;\( H \)&lt;/span&gt; על הקיוביט &lt;strong&gt;האחרון&lt;/strong&gt; אנחנו משנים את הקיוביט &lt;strong&gt;האחרון&lt;/strong&gt;. זה מה ששערים עושים - משנים את הקיוביט שעליו הם מופעלים. אז מה נעשה? פשוט מאוד: נפעיל את &lt;span&gt;\( H \)&lt;/span&gt; על הקיוביט האחרון. למעשה, כל מה שיקרה מעתה ואילך הולך לייצר לנו את הפלטים &lt;strong&gt;בסדר הפוך&lt;/strong&gt; ממה שרצינו בהתחלה. זה לא נורא, כי אחרי שמסיימים לייצר את המצב שרצינו רק עם סדר קיוביטים הפוך, אפשר להפעיל שערי SWAP שמחליפים את הקיוביטים.&lt;/p&gt;

&lt;p&gt;פורמלית, שער SWAP על שני קיוביטים מוגדר כך:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \text{SWAP}\left(\left|00\right\rangle \right)=\left|00\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \text{SWAP}\left(\left|01\right\rangle \right)=\left|10\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \text{SWAP}\left(\left|10\right\rangle \right)=\left|01\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \text{SWAP}\left(\left|11\right\rangle \right)=\left|11\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אם נפעיל אותו על שני קיוביטים לא שזורים, שאחד במצב &lt;span&gt;\( \alpha\left|0\right\rangle +\beta\left|1\right\rangle  \)&lt;/span&gt; והשני במצב &lt;span&gt;\( \gamma\left|0\right\rangle +\delta\left|1\right\rangle  \)&lt;/span&gt;, כלומר הם במצב המשותף&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left(\alpha\left|0\right\rangle +\beta\left|1\right\rangle \right)\otimes\left(\gamma\left|0\right\rangle +\delta\left|1\right\rangle \right)=\alpha\gamma\left|00\right\rangle +\alpha\delta\left|01\right\rangle +\beta\gamma\left|10\right\rangle +\beta\delta\left|11\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;נגיע אל המצב&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \alpha\gamma\left|00\right\rangle +\beta\gamma\left|01\right\rangle +\alpha\delta\left|10\right\rangle +\beta\delta\left|11\right\rangle =\left(\gamma\left|0\right\rangle +\delta\left|1\right\rangle \right)\otimes\left(\alpha\left|0\right\rangle +\beta\left|1\right\rangle \right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כלומר, זה ישיג בדיוק את האפקט שרצינו, של החלפת הקיוביטים. איך אפשר לממש &lt;span&gt;\( \text{SWAP} \)&lt;/span&gt; שכזה? אפשר כמובן לעשות את זה כבר ברמת החומרה של המחשב הקונטי, אבל אפשר גם להשתמש בשלושה שערי &lt;span&gt;\( \text{CX} \)&lt;/span&gt; בזה אחר זה:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \text{SWAP}_{1,2}=\text{CX}_{1,2}\text{CX}_{2,1}\text{CX}_{1,2} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/2022/swap_gate.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;עשו את החישוב בעצמכם על ארבעת אברי הבסיס ותראו שהבניה הזו אכן עובדת. אז שערי SWAP הם לא בעיה משמעותית, ומעתה ואילך נמשיך לבנות את המעגל של התמרת הפורייה הקוונטית בלי לחשוש מכך שהוא מייצר לנו את הפלטים בסדר הפוך.&lt;/p&gt;

&lt;p&gt;נעבור עכשיו אל המצב השני שצריך לייצר: &lt;span&gt;\( \frac{1}{\sqrt{2}}\left(\left|0\right\rangle +e^{2\pi i0.j_{n-1}j_{n}}\left|1\right\rangle \right) \)&lt;/span&gt;. כאן הסיפור כבר מסתבך כי בחזקה של &lt;span&gt;\( e \)&lt;/span&gt; מעורבות &lt;strong&gt;שתי&lt;/strong&gt; ספרות של &lt;span&gt;\( j \)&lt;/span&gt;, גם &lt;span&gt;\( j_{n} \)&lt;/span&gt; וגם &lt;span&gt;\( j_{n-1} \)&lt;/span&gt;. אם קודם פעלנו על הקיוביט &lt;span&gt;\( \left|j_{n}\right\rangle  \)&lt;/span&gt;, עכשיו אנחנו רוצים לפעול על &lt;span&gt;\( \left|j_{n-1}\right\rangle  \)&lt;/span&gt;, אבל מכיוון שהמצב שאנחנו צריכים להגיע אליו מערב גם את &lt;span&gt;\( j_{n} \)&lt;/span&gt; ברור שהקיוביט &lt;span&gt;\( \left|j_{n}\right\rangle  \)&lt;/span&gt; צריך להשפיע איכשהו. ההשפעה שלו תבוא לידי ביטוי בכך שנפעיל על &lt;span&gt;\( \left|j_{n-1}\right\rangle  \)&lt;/span&gt; שער &lt;strong&gt;מותנה&lt;/strong&gt;, כלומר כזה שמופעל אם &lt;span&gt;\( j_{n}=1 \)&lt;/span&gt; ולא מופעל אם &lt;span&gt;\( j_{n}=0 \)&lt;/span&gt;. בשביל שזה יעבוד כמו שצריך, השער המותנה הזה צריך להיות מופעל &lt;strong&gt;לפני&lt;/strong&gt; שאנחנו עושים את ה-&lt;span&gt;\( H \)&lt;/span&gt; על &lt;span&gt;\( \left|j_{n}\right\rangle  \)&lt;/span&gt;, אחרת נקבל סמטוחה; זכרו שכדי לייצר מצב שזור (שזה &lt;strong&gt;לא&lt;/strong&gt; מה שאנחנו רוצים פה!) מפעילים &lt;span&gt;\( H \)&lt;/span&gt; על קיוביט כלשהו ואז &lt;span&gt;\( CX \)&lt;/span&gt; על קיוביט אחר, כך שה-&lt;span&gt;\( CX \)&lt;/span&gt; מותנה בקיוביט שהפעלנו עליו &lt;span&gt;\( H \)&lt;/span&gt;. כלומר, מה שאני מתאר עכשיו הולך לקרות &lt;strong&gt;לפני&lt;/strong&gt; הפעלת ה-&lt;span&gt;\( H \)&lt;/span&gt; על &lt;span&gt;\( \left|j_{n}\right\rangle  \)&lt;/span&gt; (לא לדאוג! עוד מעט אראה דוגמא של המעגל השלם עבור שלושה קיוביטים ואז הכל יהיה ברור).&lt;/p&gt;

&lt;p&gt;עכשיו, בואו ננסה להבין מה אנחנו רוצים לעשות לקיוביט &lt;span&gt;\( \left|j_{n-1}\right\rangle  \)&lt;/span&gt;. אנחנו רוצים לייצר ממנו את &lt;span&gt;\( \left|0\right\rangle +e^{2\pi i0.j_{n-1}j_{n}}\left|1\right\rangle  \)&lt;/span&gt;, כלומר ליצור סופרפוזיציה, כשבסופרפוזיציה הזו לא מתעסקים עם &lt;span&gt;\( \left|0\right\rangle  \)&lt;/span&gt; אבל כן מתעללים קשות במקדם של &lt;span&gt;\( \left|1\right\rangle  \)&lt;/span&gt;. ראינו ש-&lt;span&gt;\( H \)&lt;/span&gt; שמופעל על &lt;span&gt;\( \left|j_{n-1}\right\rangle  \)&lt;/span&gt; הוא בעל אפקט כזה: הוא עוזב את &lt;span&gt;\( \left|0\right\rangle  \)&lt;/span&gt; בשקט אבל כופל את המקדם של &lt;span&gt;\( \left|1\right\rangle  \)&lt;/span&gt; ב-&lt;span&gt;\( e^{2\pi i\cdot0.j_{n-1}} \)&lt;/span&gt;. עכשיו, מה עם &lt;span&gt;\( j_{n} \)&lt;/span&gt;? ובכן, יש לנו פה את הסיטואציה הרגילה שסכום במעריך הופך למכפלה:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( e^{2\pi i0.j_{n-1}j_{n}}=e^{2\pi i\left(0.j_{n-1}+0.0j_{n}\right)}=e^{2\pi i0.j_{n-1}}\cdot e^{2\pi i0.0j_{n}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כלומר, אנחנו רוצים להפעיל על המצב הקוונטי ש-&lt;span&gt;\( \left|j_{n-1}\right\rangle  \)&lt;/span&gt; הולך אליו שער שכופל ב-1 אם &lt;span&gt;\( j_{n}=0 \)&lt;/span&gt;, אז אם &lt;span&gt;\( j_{n}=1 \)&lt;/span&gt; אז הוא כופל ב-&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( e^{2\pi i\cdot0.01}=e^{\frac{2\pi i}{4}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;גם זה שער מוכר לנו: &lt;span&gt;\( e^{\frac{2\pi i}{4}}=e^{\frac{\pi i}{2}}=i \)&lt;/span&gt;, ולכן השער שרוצים לכפול בו הוא &lt;span&gt;\( S \)&lt;/span&gt;:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( S=\left(\begin{array}{cc} 1 &amp;amp; 0\\ 0 &amp;amp; i \end{array}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אבל ה-&lt;span&gt;\( S \)&lt;/span&gt; הזה, שמופעל על &lt;span&gt;\( \left|j_{n-1}\right\rangle  \)&lt;/span&gt;, צריך להיות מותנה ב-&lt;span&gt;\( \left|j_{n}\right\rangle  \)&lt;/span&gt;. איך מייצרים שער מותנה? &lt;a href=&quot;https://gadial.net/2022/08/03/quantum_computing_math_4/&quot;&gt;כבר תיארתי את זה&lt;/a&gt; בפוסט על שערים קוונטיים: אם רוצים ליצור גרסה מותנית של האופרטור &lt;span&gt;\( U \)&lt;/span&gt; מסתכלים על מטריצת הבלוקים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left(\begin{array}{cc} I &amp;amp; 0\\ 0 &amp;amp; U \end{array}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כלומר, במקרה הנוכחי מפעילים את האופרטור&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left(\begin{array}{cccc} 1 &amp;amp; 0 &amp;amp; 0 &amp;amp; 0\\ 0 &amp;amp; 1 &amp;amp; 0 &amp;amp; 0\\ 0 &amp;amp; 0 &amp;amp; 1 &amp;amp; 0\\ 0 &amp;amp; 0 &amp;amp; 0 &amp;amp; i \end{array}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;וזהו, זה משיג את האפקט שרצינו ואנו מקבלים &lt;span&gt;\( \left|0\right\rangle +e^{2\pi i0.j_{n-1}j_{n}}\left|1\right\rangle  \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;עוד צעד אחד וכבר נבין מה קורה באופן כללי: עכשיו אנחנו רוצים לייצר מ-&lt;span&gt;\( \left|j_{n-2}\right\rangle  \)&lt;/span&gt; את המצב &lt;span&gt;\( \left|0\right\rangle +e^{2\pi i0.j_{n-2}j_{n-1}j_{n}}\left|1\right\rangle  \)&lt;/span&gt;. הרעיון כבר ברור: נפעיל &lt;span&gt;\( H \)&lt;/span&gt; על &lt;span&gt;\( \left|j_{n-2}\right\rangle  \)&lt;/span&gt; עצמו, ונפעיל &lt;span&gt;\( S \)&lt;/span&gt; מותנה על &lt;span&gt;\( \left|j_{n-1}\right\rangle  \)&lt;/span&gt;, אבל עכשיו בשביל &lt;span&gt;\( \left|j_{n}\right\rangle  \)&lt;/span&gt; צריך שער חדש - שער שהאפקט שלו הוא להשאיר את &lt;span&gt;\( \left|0\right\rangle  \)&lt;/span&gt; ללא שינוי אבל לכפול את &lt;span&gt;\( \left|1\right\rangle  \)&lt;/span&gt; ב-&lt;span&gt;\( e^{2\pi i0.00j_{n}} \)&lt;/span&gt;, כלומר במקרה שבו &lt;span&gt;\( j_{n}=0 \)&lt;/span&gt; לא לעשות כלום (את זה משיגים בכך שהשער יהיה מותנה ב-&lt;span&gt;\( \left|j_{n}\right\rangle  \)&lt;/span&gt;) ואם &lt;span&gt;\( j_{n=1} \)&lt;/span&gt; אז לכפול ב-&lt;span&gt;\( e^{2\pi i0.001}=e^{\frac{2\pi i}{2^{3}}} \)&lt;/span&gt;. אמנם, גם השער הזה חשוב מספיק כדי שיהיה לו שם משל עצמו (שער T, ועוד אדבר עליו בהמשך) אבל אנחנו מנסים להבין את הרעיון הכללי ולכן לא רוצים להמשיך להשתמש בשמות פרטניים לשערים. בשלב הזה כבר ברור שאנחנו צריכים לתת סימן כללי לשערים מהצורה &lt;span&gt;\( e^{\frac{2\pi i}{2^{s}}} \)&lt;/span&gt; עבור &lt;span&gt;\( s\ge0 \)&lt;/span&gt;. הסימון המקובל הוא&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( R_{s}=\left(\begin{array}{cc} 1 &amp;amp; 0\\ 0 &amp;amp; e^{\frac{2\pi i}{2^{s}}} \end{array}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אם כן, &lt;span&gt;\( R_{1}=Z,R_{2}=S,R_{3}=T \)&lt;/span&gt; ומשם והלאה אנחנו לא טורחים לתת להם שמות. אפשר לחשוב על זה גם ככה: &lt;span&gt;\( R_{s+1}=\sqrt{R_{s}} \)&lt;/span&gt; (כשיש לנו מטריצה אלכסונית, השורש שלה הוא המטריצה שהאיברים על האלכסון שלה הם השורש של האיברים על האלכסון במטריצה המקורית; אבל “שורש” במספרים מרוכבים הוא עניין מסובך יותר מזה ולכן זו אינטואיציה בלבד).&lt;/p&gt;

&lt;p&gt;אם כן, מה שאנחנו עושים ל-&lt;span&gt;\( \left|j_{n-2}\right\rangle  \)&lt;/span&gt; הוא שלושה דברים:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;מפעילים שער &lt;span&gt;\( H \)&lt;/span&gt; על &lt;span&gt;\( \left|j_{n-2}\right\rangle  \)&lt;/span&gt; - זה מה שמייצר את הסופרפוזיציה הראשונית של &lt;span&gt;\( \left|0\right\rangle  \)&lt;/span&gt; ו-&lt;span&gt;\( \left|1\right\rangle  \)&lt;/span&gt; ועל הדרך גם כופל את &lt;span&gt;\( \left|1\right\rangle  \)&lt;/span&gt; ב-&lt;span&gt;\( -1 \)&lt;/span&gt; אם &lt;span&gt;\( j_{n-2}=1 \)&lt;/span&gt; (שימו לב שאנחנו &lt;strong&gt;לא&lt;/strong&gt; משתמשים פה ב-&lt;span&gt;\( R_{1}=Z \)&lt;/span&gt;).&lt;/li&gt;


&lt;li&gt;מפעילים על &lt;span&gt;\( \left|j_{n-2}\right\rangle  \)&lt;/span&gt; שער &lt;span&gt;\( R_{2} \)&lt;/span&gt; שמותנה ב-&lt;span&gt;\( \left|j_{n-1}\right\rangle  \)&lt;/span&gt;.&lt;/li&gt;


&lt;li&gt;מפעילים על &lt;span&gt;\( \left|j_{n-2}\right\rangle  \)&lt;/span&gt; שער &lt;span&gt;\( R_{3} \)&lt;/span&gt; שמותנה ב-&lt;span&gt;\( \left|j_{n}\right\rangle  \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;כל זה קורה &lt;strong&gt;לפני&lt;/strong&gt; שאנחנו מטפלים בקיוביטים &lt;span&gt;\( \left|j_{n-1}\right\rangle  \)&lt;/span&gt; ו-&lt;span&gt;\( \left|j_{n}\right\rangle  \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;אם &lt;span&gt;\( n=3 \)&lt;/span&gt;, אחרי הטיפול ב-&lt;span&gt;\( \left|j_{n-2}\right\rangle =\left|j_{1}\right\rangle  \)&lt;/span&gt; בעצם סיימנו את תיאור הפעולות שאנחנו מבצעים על כל הקיוביטים במעגל. רק צריך לזכור שבסוף המעגל עושים SWAP ל-&lt;span&gt;\( \left|j_{1}\right\rangle  \)&lt;/span&gt; ול-&lt;span&gt;\( \left|j_{3}\right\rangle  \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;כך נראה המעגל במקרה הזה (האיקסים שמחוברים בקו בסיום מייצגים את ה-SWAP):&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/2022/QFT_3_qubits.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;מכאן כבר די ברור מה צריך לקרות באופן כללי כשיש לנו &lt;span&gt;\( n \)&lt;/span&gt; קיוביטים. עבור הקיוביט ה-&lt;span&gt;\( t \)&lt;/span&gt;-י (&lt;span&gt;\( 1\le t\le n \)&lt;/span&gt;), ראשית נפעיל עליו שער &lt;span&gt;\( H \)&lt;/span&gt; ולאחר מכן נפעיל עליו באופן סדרתי את השערים &lt;span&gt;\( R_{2},R_{3},\ldots,R_{n+1-t} \)&lt;/span&gt;, כאשר השער &lt;span&gt;\( R_{k} \)&lt;/span&gt; בסדרה הזו נשלט על ידי הקיוביט ה-&lt;span&gt;\( k+t-1 \)&lt;/span&gt;. בסיום סדרת השערים הזו מתבצעים SWAP-ים: לכל &lt;span&gt;\( 1\le t\le n \)&lt;/span&gt;, הקיוביט &lt;span&gt;\( t \)&lt;/span&gt; מוחלף עם הקיוביט &lt;span&gt;\( n+1-t \)&lt;/span&gt; (כשיש מספר אי זוגי של קיוביטים מן הסתם הקיוביט האמצעי לא יוחלף עם עצמו אלא פשוט לא נעשה לו כלום.&lt;/p&gt;

&lt;p&gt;המעגל הזה פשוט עד להפתיע, ביחס לכל כאב הראש שעברנו עד אליו. הוא גם קטן: יש &lt;span&gt;\( n \)&lt;/span&gt; קיוביטים ועל כל אחד מהם מופעלים &lt;span&gt;\( O\left(n\right) \)&lt;/span&gt; שערים, כך שבסך הכל המעגל דורש &lt;span&gt;\( O\left(n^{2}\right)=O\left(\log^{2}N\right) \)&lt;/span&gt; שערים, כמו שהבטחתי בהתחלה.&lt;/p&gt;

&lt;p&gt;הנה איך שזה נראה באופן כללי, רק בלי שערי ה-SWAP בסוף שקצת בעייתי לצייר:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/2022/QFT_n_qubits.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;מה עדיין חסר לנו? שימוש כלשהו שיראה למה כל זה היה טוב. שימוש מרהיב כזה יהיה בפוסט הבא; לרוע המזל, השימוש אמנם משתמש בפורייה בצורה מרהיבה אבל אחרי הפוסט הבא כנראה נשאל את עצמנו בשביל מה משתמשים בשימוש הזה. ואז יגיע האלגוריתם של שור.&lt;/p&gt;</content><author><name></name></author><category term="חישוב קוונטי" /><summary type="html">מה זה בכלל ובשביל מה זה טוב?</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://gadial.net/2022/QFT_3_qubits.png" /></entry><entry><title type="html">חישוב קוונטי בגישה מתמטית, חלק ה’: אלגוריתם דויטש-ג’וזה</title><link href="http://gadial.net/2022/08/07/quantum_computing_math_5/" rel="alternate" type="text/html" title="חישוב קוונטי בגישה מתמטית, חלק ה': אלגוריתם דויטש-ג'וזה" /><published>2022-08-07T00:00:00+00:00</published><updated>2022-08-07T00:00:00+00:00</updated><id>http://gadial.net/2022/08/07/quantum_computing_math_5</id><content type="html" xml:base="http://gadial.net/2022/08/07/quantum_computing_math_5/">&lt;h2&gt;מה אנחנו רוצים לפתור?&lt;/h2&gt;

&lt;p&gt;עד עכשיו בסדרת הפוסטים על חישוב קוונטי ראינו את הבסיס המתמטית שאפשר לצמצם לכמה משפטי מחץ:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;בחישוב קוונטי האובייקט שמשתנה עם הזמן הוא &lt;strong&gt;המצב הקוונטי&lt;/strong&gt; של המערכת, שמיוצג בתור וקטור &lt;span&gt;\( \left|\psi\right\rangle \in\mathbb{C}^{2^{n}} \)&lt;/span&gt;.&lt;/li&gt;


&lt;li&gt;סוג אחד של שינוי הוא כפל המצב &lt;span&gt;\( v \)&lt;/span&gt; במטריצה אוניטרית &lt;span&gt;\( U\in\mathbb{C}^{2^{n}\times2^{n}} \)&lt;/span&gt;, כלומר מבצעים &lt;span&gt;\( \left|\psi\right\rangle \leftarrow U\left|\psi\right\rangle  \)&lt;/span&gt;.&lt;/li&gt;


&lt;li&gt;סוג נוסף של שינוי הוא &lt;strong&gt;מדידה&lt;/strong&gt;, שבגרסה הפשוטה שלנו מוגדרת לכל קיוביט עבור שני אופרטורים &lt;span&gt;\( M_{0},M_{1} \)&lt;/span&gt; (שתלויים בקיוביט), בחירת &lt;span&gt;\( M_{0} \)&lt;/span&gt; בהסתברות &lt;span&gt;\( \left\langle \psi\right|M_{0}\left|\psi\right\rangle  \)&lt;/span&gt; ובחירת &lt;span&gt;\( M_{1} \)&lt;/span&gt; בהסתברות &lt;span&gt;\( \left\langle \psi\right|M_{1}\left|\psi\right\rangle  \)&lt;/span&gt; ובהינתן ש-&lt;span&gt;\( M_{i} \)&lt;/span&gt; עלה בגורל, הפלט שחוזר מהמדידה הוא &lt;span&gt;\( i \)&lt;/span&gt; והיא מעבירה את המצב הקוונטי של המערכת למצב &lt;span&gt;\( \left|\psi\right\rangle \leftarrow\frac{M_{i}\left|\psi\right\rangle }{\sqrt{\left\langle \psi\right|M_{i}\left|\psi\right\rangle }} \)&lt;/span&gt;.&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;זה הכל. מה שמעניין פה הוא שאלו הם חישובים שלא מסובך במיוחד לתכנת גם במחשב סטנדרטי. אמנם אין לנו יכולת לשמור מספרים מרוכבים ברמת דיוק אינסופית, אבל אנחנו לא באמת צריכים את זה - הייצוגים הקיימים של מרוכבים במחשב עובדים מספיק טוב. למעשה, אין שום בעיה עקרונית לכתוב סימולטור של חישוב קוונטי שרץ במחשב רגיל, וזה אפילו תרגיל נחמד למי שרוצה ללמוד את התחום (מגלים מהר מאוד שהפעלת אופרטורים זה עסק קצת מעצבן ויש דרכי קיצור). זה גורם לאתגר הגדול של בניית מחשבים קוונטיים להיראות קצת מיותר - מה הטעם ליצור מכשיר הנדסי מסובך שהחישוב שהוא מבצע זה משהו שאפשר לעשות במחשב רגיל?&lt;/p&gt;

&lt;p&gt;לנקודה הזו כבר התייחסתי בעבר. מכיוון שהאובייקט הספציפי שאנחנו שומרים ופועלים עליו הוא וקטור ב-&lt;span&gt;\( \mathbb{C}^{2^{n}} \)&lt;/span&gt;, כמות המידע שצריך לשמור, והזמן שלוקח לפעול עליה, גדלה &lt;strong&gt;אקספוננציאלית&lt;/strong&gt; עם &lt;span&gt;\( n \)&lt;/span&gt;. עבור 50 קיוביטים, למחשבים רגילים מאוד מאתגר לסמלץ חישוב קוונטי; עבור 100 קיוביטים כבר אין על מה לדבר. נכון לכתיבת שורות אלו יש ליבמ מחשב קוונטי פעיל של 127 קיוביטים, למרות שהחישוב בו לא חף מבעיות (מתישהו אני מקווה בסדרת הפוסטים הזו להגיע לדבר על רעשים ותיקון שגיאות), וזו רק תחילת הדרך. כשיהיה חישוב קוונטי רציני, לא יהיה שום סיכוי לסמלץ אותו במחשב.&lt;/p&gt;

&lt;p&gt;אבל זה עדיין לא עונה על השאלה האמיתית - &lt;strong&gt;בשביל מה זה טוב&lt;/strong&gt;? אילו בעיות נוכל לפתור עם מחשבים קוונטיים שלא נוכל לפתור במחשב רגיל? הדוגמא הנפוצה שנזרקת לחלל באוויר בשלב הזה היא &lt;strong&gt;בעיית הפירוק לגורמים&lt;/strong&gt; שהאלגוריתם הקוונטי של שור פותר ביעילות. זו דוגמא מצויינת, אבל יש בה בעיה פשוטה - זה אלגוריתם מסובך יחסית וקשה להציג אותו ישר אחרי שמבינים איך עובד חישוב קוונטי. אז בפוסט הזה אני רוצה להציג בעיה פשוטה הרבה יותר, שנפתרת על ידי אלגוריתם פשוט בצורה קיצונית, אבל כבר היא מספיקה לתת תחושה טובה למה בחישוב קוונטי יש “יותר” מאשר בחישוב קלאסי. האלגוריתם שאציג נקרא &lt;strong&gt;אלגוריתם דויטש-ג'וזה&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;נתחיל עם להציג את הבעיה עצמה. אני מזהיר מראש שזו &lt;strong&gt;לא&lt;/strong&gt; בעיה “מעניינת”. לפתור אותה לא הולך לשבור מערכות הצפנה. היא אפילו נראית די מלאכותית. היופי בבעיה הוא שקל מאוד להבין למה נסיון לפתור אותה קלאסית יהיה קשה, ואז העובדה שהיא נפתרת בקלות קוונטית מחדדת מאוד את ההבדל.&lt;/p&gt;

&lt;p&gt;הקלט לבעיה הוא פונקציה &lt;span&gt;\( f:\left\{ 0,1\right\} ^{n}\to\left\{ 0,1\right\}  \)&lt;/span&gt;, כלומר פונקציה &lt;strong&gt;בינארית&lt;/strong&gt; שמקבלת קלט שהוא מחרוזת באורך &lt;span&gt;\( n \)&lt;/span&gt; של ביטים (אפשר לחשוב עליה בתור מספר טבעי בתחום &lt;span&gt;\( 0,1,\ldots,2^{n}-1 \)&lt;/span&gt;) ועל כל קלט כזה מחזירה 0 או 1. הפונקציה נתונה לנו בתור &lt;strong&gt;קופסה שחורה&lt;/strong&gt;, כלומר משהו שאנחנו לא יכולים לראות איך המימוש שלו עובד; הדבר היחיד שאנחנו יכולים לעשות הוא לחשב את &lt;span&gt;\( f \)&lt;/span&gt; על קלטים מסוימים. תחשבו על &lt;span&gt;\( f \)&lt;/span&gt; כאילו מה שמחשב אותו יושב על מחשב מרוחק, וכל מה שאנחנו יכולים לעשות הוא לשלוח לו מחרוזות של &lt;span&gt;\( n \)&lt;/span&gt; ביטים ולקבל חזרה פלט של ביט בודד.&lt;/p&gt;

&lt;p&gt;מה שידוע לנו על &lt;span&gt;\( f \)&lt;/span&gt; זה שהיא בדיוק אחד משני הבאים:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;&lt;span&gt;\( f \)&lt;/span&gt; &lt;strong&gt;קבועה&lt;/strong&gt;, כלומר לכל קלט &lt;span&gt;\( x \)&lt;/span&gt; מתקיים &lt;span&gt;\( f\left(x\right)=0 \)&lt;/span&gt;, או שלכל קלט &lt;span&gt;\( x \)&lt;/span&gt; מתקיים &lt;span&gt;\( f\left(x\right)=1 \)&lt;/span&gt;.&lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( f \)&lt;/span&gt; &lt;strong&gt;מאוזנת&lt;/strong&gt;, כלומר בדיוק על חצי מהקלטים מתקבל 0 ועל החצי השני מתקבל 1. אם נסמן &lt;span&gt;\( N=2^{n} \)&lt;/span&gt;, זה אומר ש-&lt;span&gt;\( \left|\left\{ x\in\left\{ 0,1\right\} ^{n}\ |\ f\left(x\right)=0\right\} \right|=\left|\left\{ x\in\left\{ 0,1\right\} ^{n}\ |\ f\left(x\right)=1\right\} \right|=\frac{N}{2} \)&lt;/span&gt;.&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;המשימה שלנו: לקבל מה משני המקרים הללו מתקיים.&lt;/p&gt;

&lt;p&gt;איך עושים את זה באופן קלאסי? ובכן, אם לא מערבים הסתברות בסיפור, די ברור שאנחנו חייבים &lt;span&gt;\( \frac{N}{2}+1 \)&lt;/span&gt; קריאות ל-&lt;span&gt;\( f \)&lt;/span&gt;. למה? כי אנחנו תמיד חושבים מה יקרה &lt;strong&gt;במקרה הגרוע ביותר&lt;/strong&gt;, והמקרה הגרוע ביותר הוא זה שבו אין לנו מזל - ש-&lt;span&gt;\( f \)&lt;/span&gt; היא מאוזנת, ואיכשהו כל &lt;span&gt;\( \frac{N}{2} \)&lt;/span&gt; ההפעלות הראשונות שלה שביצענו נפלו &lt;strong&gt;בדיוק&lt;/strong&gt; על כל הערכים שעליהם &lt;span&gt;\( f \)&lt;/span&gt; נותנת 0. בשלב הזה אנחנו עדיין לא יכולים להגיד בודאות האם &lt;span&gt;\( f \)&lt;/span&gt; תהיה 0 על הכל, או רק על חצי. רק כשנחשב את הערך שלה על האיבר ה-&lt;span&gt;\( \frac{N}{2}+1 \)&lt;/span&gt; נוכל להיות בטוחים: אם קיבלנו &lt;span&gt;\( 0 \)&lt;/span&gt; אז &lt;span&gt;\( f \)&lt;/span&gt; קבועה, ואם קיבלנו 1 אז &lt;span&gt;\( f \)&lt;/span&gt; מאוזנת.&lt;/p&gt;

&lt;p&gt;להראות שגם אם מערבים הסתברות עדיין נזדקק למספר גדול של שאילות זה חישוב מסובך יותר ולא אעשה אותו כרגע, כי אני לא צריך - אלגוריתם דויטש-ג’וזה הולך להשתמש בקריאה &lt;strong&gt;אחת בלבד&lt;/strong&gt; לפונקציה, ולהחזיר תשובה שהיא &lt;strong&gt;נכונה תמיד&lt;/strong&gt;, ב-100 אחוז מהמקרים, אפילו אם חישוב קוונטי הוא לכאורה עניין הסתברותי. איך זה יעבוד? ובכן, זה דורש מהקופסה השחורה שמחשבת את &lt;span&gt;\( f \)&lt;/span&gt; להיות קוונטית בעצמה: במקום לחשב את &lt;span&gt;\( f \)&lt;/span&gt; על ביט ספציפי &lt;span&gt;\( x \)&lt;/span&gt; שנותנים, לחשב את &lt;span&gt;\( f \)&lt;/span&gt; על &lt;strong&gt;סופרפוזיציה&lt;/strong&gt;, כלומר: הקלט ש-&lt;span&gt;\( f \)&lt;/span&gt; תקבל יהיה מצב על &lt;span&gt;\( n \)&lt;/span&gt; קיוביטים, &lt;span&gt;\( \left|\psi\right\rangle =\sum_{x\in\left\{ 0,1\right\} ^{n}}\alpha_{x}\left|x\right\rangle  \)&lt;/span&gt; ואינטואיטיבית, הפלט יהיה&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( f\left(\sum_{x\in\left\{ 0,1\right\} ^{n}}\alpha_{x}\left|x\right\rangle \right)=\sum_{x\in\left\{ 0,1\right\} ^{n}}\alpha_{x}f\left(\left|x\right\rangle \right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;האינטואיציה הזו לא מלאה; בדויטש-ג’וזה נשתמש בקופסה שחורה שמתנהגת קצת שונה, ואחר כך נסביר איך עוברים מהאינטואיציה שאני מציג כאן אל הקופסה השחורה של דויטש-ג’וזה.&lt;/p&gt;

&lt;p&gt;ייתכן מאוד שהצלחתי לאכזב אתכם עם ה”הקופסה השחורה תהיה קוונטית”. זה נשמע כאילו שיניתי פתאום את הגדרת הבעיה, ואין פלא שעם מחשב קוונטי אפשר להשיג יותר. אבל נניח שהייתי אומר מלכתחילה שהקופסה השחורה היא קוונטית, האם מחשב קלאסי היה מצליח יותר? הוא לא מסוגל לייצר סופרפוזיציה של מצבים קוונטיים, כל מה שהוא היה יכול לעשות הוא לשלוח מצבי בסיס &lt;span&gt;\( \left|x\right\rangle  \)&lt;/span&gt;. זה שהקופסה השחורה היא קוונטית לא עוזר לנו בלי שיהיה לנו מחשב קוונטי שמנצל את זה. עדיין, אני לגמרי מסכים שזו לא דוגמת מחץ כמו האלגוריתם של שור, שלא נזקק לקופסאות שחורות קוונטיות שכאלו; תזכרו שמה שאני עושה כרגע הוא לא לתת דוגמת מחץ לעליונות החישוב הקוונטי, אלא לתת תחושה ראשונית של הקסם הנחמד הזה.&lt;/p&gt;

&lt;h2&gt;איך דויטש-ג'וזה עובד?&lt;/h2&gt;

&lt;p&gt;דויטש-ג’וזה הוא אלגוריתם פשוט בצורה קיצונית:&lt;/p&gt;

&lt;ol&gt; &lt;li&gt;אתחלו מצב קוונטי אל &lt;span&gt;\( \left|0^{n}\right\rangle  \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;הפעילו &lt;span&gt;\( H \)&lt;/span&gt; על כל הקיוביטים.&lt;/li&gt;


&lt;li&gt;הפעילו את הקופסה השחורה על המצב שקיבלתם.&lt;/li&gt;


&lt;li&gt;הפעילו &lt;span&gt;\( H \)&lt;/span&gt; על המצב שקיבלתם.&lt;/li&gt;


&lt;li&gt;מדדו את כל הקיוביטים במצב שקיבלתם.&lt;/li&gt;


&lt;li&gt;אם קיבלתם &lt;span&gt;\( 0^{n} \)&lt;/span&gt;, אז &lt;span&gt;\( f \)&lt;/span&gt; קבועה; אם קיבלתם משהו אחר, אז &lt;span&gt;\( f \)&lt;/span&gt; מאוזנת.&lt;/li&gt;

&lt;/ol&gt;

&lt;p&gt;הדבר היחיד שלא הסברתי עדיין איך הוא בדיוק עובד הוא שלב “הפעלת הקופסה השחורה”. לצורך כך אני מניח שיש לי אופרטור אוניטרי &lt;span&gt;\( U_{f} \)&lt;/span&gt; שפועל בצורה הבאה על איבר בסיס &lt;span&gt;\( \left|x\right\rangle  \)&lt;/span&gt;:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;&lt;span&gt;\( U_{f}\left|x\right\rangle =\left(-1\right)^{f\left(x\right)}\left|x\right\rangle  \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;במילים אחרות: אם &lt;span&gt;\( f\left(x\right)=0 \)&lt;/span&gt; אז &lt;span&gt;\( U_{f} \)&lt;/span&gt; לא משנה את &lt;span&gt;\( \left|x\right\rangle  \)&lt;/span&gt; , ואם &lt;span&gt;\( f\left(x\right)=1 \)&lt;/span&gt; אז הוא מכפיל אותו ב-&lt;span&gt;\( -1 \)&lt;/span&gt;. זה מזכיר את האופרטור &lt;span&gt;\( Z \)&lt;/span&gt;, רק כזה שפועל בבת אחת על &lt;span&gt;\( n \)&lt;/span&gt; קיוביטים ותלוי בתכונות הספציפיות של &lt;span&gt;\( f \)&lt;/span&gt;. איך אפשר לממש אופרטור קוונטי כזה? נדבר על זה בהמשך.&lt;/p&gt;

&lt;p&gt;הנה איור סכמטי של האלגוריתם, במקרה של שלושה קיוביטים:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/2022/deutsch_jozsa_3_qubits.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;אפשר גם לצייר את זה באופן כללי ל-&lt;span&gt;\( n \)&lt;/span&gt; קיוביטים בצורה קומפקטית:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/2022/deutsch_jozsa_n_qubits.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;הסימן שנראה כמו מחוג של מכשיר מדידה בצד ימין הוא, ובכן, מדידה. ה-&lt;span&gt;\( H^{\otimes n} \)&lt;/span&gt; הוא הפעלת &lt;span&gt;\( H \)&lt;/span&gt; על כל השערים, שתכף אתאר; אני מניח שהרעיון ברור.&lt;/p&gt;

&lt;p&gt;כרגע אני רוצה לראות איך האלגוריתם פותר לנו את הבעיה. בסופו של דבר, להבין את האלגוריתם קם ונופל על להבין משהו כללי קצת יותר ושימושי מאוד: מה בעצם הפעלת &lt;span&gt;\( H \)&lt;/span&gt; על כל הקיוביטים עושה.&lt;/p&gt;

&lt;p&gt;כזכור, &lt;span&gt;\( H \)&lt;/span&gt; הוא האופרטור שיוצר לנו סופרפוזיציה אחידה:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( H\left|0\right\rangle =\frac{\left|0\right\rangle +\left|1\right\rangle }{\sqrt{2}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( H\left|1\right\rangle =\frac{\left|0\right\rangle -\left|1\right\rangle }{\sqrt{2}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אבל זה עבור קיוביט יחיד. מה קורה כשמפעילים &lt;span&gt;\( H \)&lt;/span&gt; על כל אחד מהקיוביטים? מקבלים את ההרכבה של &lt;span&gt;\( H\otimes I\otimes\ldots\otimes I \)&lt;/span&gt; ו-&lt;span&gt;\( I\otimes H\otimes\ldots\otimes I \)&lt;/span&gt; וכן הלאה - זה יוצא האופטור &lt;span&gt;\( H\otimes H\otimes\ldots\otimes H \)&lt;/span&gt;, או בסימון מקוצר, &lt;span&gt;\( H^{\otimes n} \)&lt;/span&gt;. עכשיו, אם נפעיל את האופרטור הזה על המצב ההתחלתי &lt;span&gt;\( \left|0^{n}\right\rangle  \)&lt;/span&gt; נקבל:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( H^{\otimes n}\left|0^{n}\right\rangle =\left(H\left|0\right\rangle \right)\otimes\ldots\otimes\left(H\left|0\right\rangle \right)=\left(\frac{\left|0\right\rangle +\left|1\right\rangle }{\sqrt{2}}\right)\otimes\ldots\otimes\left(\frac{\left|0\right\rangle +\left|1\right\rangle }{\sqrt{2}}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;מה שצריך לזכור על מכפלה טנזורית הוא האופן שבו היא מתנהגת בדומה למכפלה רגילה - אפשר להוציא החוצה סקלרים (את כל ה-&lt;span&gt;\( \frac{1}{\sqrt{n}} \)&lt;/span&gt;), ואפשר להשתמש בדיסטריביוטיביות. יש לנו כאן מכפלה של &lt;span&gt;\( n \)&lt;/span&gt; מחוברים מהצורה &lt;span&gt;\( \left(\left|0\right\rangle +\left|1\right\rangle \right) \)&lt;/span&gt;; זו סיטואציה שמזכירה, למשל, את הבינום של ניוטון. כשאנחנו פותחים סוגריים, אנחנו מקבלים סכום שכולל את כל המחוברים שהם מהצורה של מכפלה של &lt;span&gt;\( n \)&lt;/span&gt; איברים שכל אחד מהם הוא או &lt;span&gt;\( \left|0\right\rangle  \)&lt;/span&gt; או &lt;span&gt;\( \left|1\right\rangle  \)&lt;/span&gt; - במילים אחרות, הסכום &lt;span&gt;\( \sum_{y\in\left\{ 0,1\right\} ^{n}}\left|y\right\rangle  \)&lt;/span&gt;. לכן בסך הכל קיבלנו:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( H^{\otimes n}\left|0^{n}\right\rangle =\frac{1}{\sqrt{2^{n}}}\sum_{y\in\left\{ 0,1\right\} ^{n}}\left|y\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;זה מתאים יפה לאינטואיציה שלפיה &lt;span&gt;\( H \)&lt;/span&gt; יוצר סופרפוזיציה אחידה: כשהפעלנו אותו על כל הקיוביטים, קיבלנו סופרפוזיציה אחידה של כל &lt;span&gt;\( 2^{n} \)&lt;/span&gt; אברי הבסיס האפשריים. שימו לב, זה כבר קסם בפני עצמו - הפעלנו רק &lt;span&gt;\( n \)&lt;/span&gt; שערים (זה לוקח זמן קצר) וקיבלנו סופרפוזיציה של מספר אקספוננציאלי של איברים.&lt;/p&gt;

&lt;p&gt;מה שעשינו פה הוא להבין איך &lt;span&gt;\( H^{\otimes n} \)&lt;/span&gt; עובד על מצב בסיס אחד ספציפי: &lt;span&gt;\( \left|0^{n}\right\rangle  \)&lt;/span&gt;. אבל איך הוא עובד על מצבים אחרים, כאלו שיש בהם גם 1-ים? כאן אנחנו מגיעים לנקודה הכי טכנית בפוסט, אבל גם הכי יפה שלו. כמו שתמיד כדאי כדי להבין משהו מסובך, כדאי להסתכל על דוגמא פשוטה קודם.&lt;/p&gt;

&lt;p&gt;נניח שאני מפעיל את &lt;span&gt;\( H^{\otimes3} \)&lt;/span&gt; על המצב &lt;span&gt;\( \left|101\right\rangle  \)&lt;/span&gt;. מה אני אקבל? על פי מה שראינו קודם, נקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( H^{\otimes3}\left|101\right\rangle =\frac{1}{\sqrt{2^{3}}}\left(\left|0\right\rangle -\left|1\right\rangle \right)\left(\left|0\right\rangle +\left|1\right\rangle \right)\left(\left|0\right\rangle -\left|1\right\rangle \right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כשאני פותח סוגריים אני עדיין אקבל את כל האיברים מהצורה &lt;span&gt;\( \left|x\right\rangle  \)&lt;/span&gt;, אבל הפעם חלקם יהיו עם מקדם &lt;strong&gt;מינוס&lt;/strong&gt;. מתי? ובכן, בואו נתחיל לפתוח את הסוגריים. נניח שאני בוחר מכל אחד משלושת הסוגרים את האיבר &lt;strong&gt;הראשון&lt;/strong&gt;, אני אכפיל שלושה איברים מהצורה &lt;span&gt;\( \left|0\right\rangle  \)&lt;/span&gt; ואקבל &lt;span&gt;\( \left|000\right\rangle  \)&lt;/span&gt; - בלי סימן מינוס. ולמה שיהיה סימן מינוס? על ה-&lt;span&gt;\( \left|0\right\rangle  \)&lt;/span&gt;-ים אין מינוס בכלל. כדי שיהיה מינוס, חייב להשתתף &lt;span&gt;\( \left|1\right\rangle  \)&lt;/span&gt; בסיפור הזה. למשל, אם אני אקח את האיבר &lt;strong&gt;השני&lt;/strong&gt; מהסוגר הראשון, ומשני האחרים את האיבר &lt;strong&gt;הראשון&lt;/strong&gt;, אני אקבל &lt;span&gt;\( -\left|100\right\rangle  \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;לעומת זאת, אם אני אקח את האיבר &lt;strong&gt;השני&lt;/strong&gt; מהסוג &lt;strong&gt;השני&lt;/strong&gt; ומשני האחרים את הראשון, אני אקבל &lt;span&gt;\( \left|010\right\rangle  \)&lt;/span&gt;, בלי מינוס. למה? כי בסוגר השני, ה-&lt;span&gt;\( \left|1\right\rangle  \)&lt;/span&gt; מופיע בלי סימן מינוס. ולמה לא? כי במצב המקורי שעליו פעלנו, &lt;span&gt;\( \left|101\right\rangle  \)&lt;/span&gt;, הסוגר השני מתאים לאיבר השני במחרוזת, כלומר אל 0. מכאן המסקנה היא שכדי לקבל מינוס, אני חייב לקחת את &lt;span&gt;\( \left|1\right\rangle  \)&lt;/span&gt; מתוך סוגריים ששייכים לאיבר בקלט שהיה &lt;span&gt;\( \left|1\right\rangle  \)&lt;/span&gt; בעצמו.&lt;/p&gt;

&lt;p&gt;זה תנאי &lt;strong&gt;הכרחי&lt;/strong&gt; כדי לקבל מינוס, אבל הוא לא מספיק, כי בואו נראה למשל מה שקורה כשאני לוקח את ה-&lt;span&gt;\( \left|1\right\rangle  \)&lt;/span&gt; מכל שלושת זוגות הסוגריים. אני מקבל את המכפלה&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( -\left|1\right\rangle \otimes\left|1\right\rangle \otimes\left(-\left|1\right\rangle \right)=\left|111\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כלומר, הפעם קיבלתי איבר ללא מינוס כי בדיוק &lt;strong&gt;שני&lt;/strong&gt; איברים במכפלה היו עם סימן מינוס. הסימן באיבר שאקבל בסוף תלוי בשאלות הבאות:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;האם מופיעים 1-ים במצב שעליו פעלנו?&lt;/li&gt;


&lt;li&gt;האם מופיעים 1-ים במצב שאנחנו מסתכלים עליו כרגע בפלט?&lt;/li&gt;


&lt;li&gt;האם יש אינדקסים שבהם מופיע 1 גם בקלט &lt;strong&gt;וגם&lt;/strong&gt; בפלט?&lt;/li&gt;


&lt;li&gt;האם המספר של האינדקסים הללו הוא &lt;strong&gt;אי זוגי&lt;/strong&gt;?&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;זה מאוד מסורבל לדבר על זה ככה, אבל למרבה השמחה יש כלי מתמטי פשוט מאוד שמאפשר לתאר את זה בצורה שקל לעבוד איתה: &lt;strong&gt;מכפלה סקלרית מודולו &lt;/strong&gt;&lt;strong&gt;2&lt;/strong&gt;. בהינתן שני וקטורים מאותו אורך, &lt;span&gt;\( x=\left(x_{1},\ldots,x_{k}\right) \)&lt;/span&gt; ו-&lt;span&gt;\( y=\left(y_{1},\ldots,y_{k}\right) \)&lt;/span&gt;, המכפלה הסקלרית שלהם היא &lt;span&gt;\( x\cdot y=\sum_{i=1}^{k}x_{i}y_{i} \)&lt;/span&gt;. אם &lt;span&gt;\( x,y\in\left\{ 0,1\right\} ^{k} \)&lt;/span&gt; אז המכפלה הסקלרית שלהם תהיה מספר שלם, ואפשר לקחת אותו מודולו 2 (לחלק ב-2 ולהחזיר את השארית; 0 אם המספר זוגי ו-1 אם הוא אי זוגי).&lt;/p&gt;

&lt;p&gt;אולי אתן אומרות “היי, זו כמו מכפלה פנימית!” וזה נכון - אפשר לחשוב על מכפלות פנימיות כאילו הן מוגדרות בעזרת סכום כזה, אבל אין למכפלה פנימית משמעות מעל &lt;span&gt;\( \mathbb{Z}_{2} \)&lt;/span&gt; (השדה שמעליו אנחנו עובדים כרגע במובלע) אלא רק מעל &lt;span&gt;\( \mathbb{R},\mathbb{C} \)&lt;/span&gt;; כי למשל, אחת הדרישות ממכפלה פנימית היא שאם &lt;span&gt;\( x\ne0 \)&lt;/span&gt; אז &lt;span&gt;\( \left\langle x,x\right\rangle &amp;gt;0 \)&lt;/span&gt; וזה בוודאי לא מתקיים כאן (חשבו על הוקטור &lt;span&gt;\( x=11 \)&lt;/span&gt;). אבל גם בלי להיות מכפלה פנימית, למכפלה סקלרית כזו יש תכונות אלגבריות נחמדות, למשל &lt;span&gt;\( \left(x+y\right)\cdot z=x\cdot z+y\cdot z \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;בעזרת מכפלה סקלרית אפשר לנסח מאוד בקלות את המהומה שהלכה קודם:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( H^{\otimes n}\left|x\right\rangle =\frac{1}{\sqrt{2^{n}}}\sum_{y\in\left\{ 0,1\right\} ^{n}}\left(-1\right)^{x\cdot y}\left|y\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כי מה קורה כאן? המכפלה הסקלרית &lt;span&gt;\( x\cdot y=\sum_{i=1}^{k}x_{i}y_{i} \)&lt;/span&gt; בעצם סופרת את מספר האינדקסים &lt;span&gt;\( i \)&lt;/span&gt; שבהם &lt;strong&gt;גם&lt;/strong&gt; &lt;span&gt;\( x_{i}=1 \)&lt;/span&gt; &lt;strong&gt;וגם&lt;/strong&gt; &lt;span&gt;\( y_{i}=1 \)&lt;/span&gt;, ביחד - אלו שני הדברים שהיו חייבים להתקיים סימולטנית כדי שהאינדקס &lt;span&gt;\( i \)&lt;/span&gt; יתרום &lt;span&gt;\( -1 \)&lt;/span&gt; למקדם של &lt;span&gt;\( \left|y\right\rangle  \)&lt;/span&gt;. כשלוקחים את זה מודולו 2, מקבלים 0 אם מספר המוכפלים זוגי (ולכן המקדם הכולל יהיה 1) ו-&lt;span&gt;\( 1 \)&lt;/span&gt; אם הוא יהיה אי זוגי (ולכן המקדם הכולל יהיה &lt;span&gt;\( -1 \)&lt;/span&gt;). הטריק הזה של להעלות את &lt;span&gt;\( -1 \)&lt;/span&gt; בחזקה שהיא או זוגית או אי זוגית כדי לקבל אפקט של כפל ב-1 או ב-&lt;span&gt;\( -1 \)&lt;/span&gt; הוא נפוץ ביותר בכל חלקי המתמטיקה ומשרת אותנו גם כאן.&lt;/p&gt;

&lt;p&gt;במקרה הפרטי שראינו בהתחלה, זה שבו &lt;span&gt;\( x=0^{n} \)&lt;/span&gt;, פשוט מתקיים &lt;span&gt;\( x\cdot y=0 \)&lt;/span&gt; לכל &lt;span&gt;\( y \)&lt;/span&gt;, ולכן המקדם יוצא תמיד חיובי ואנחנו מקבלים את הסכום הנחמד שראינו קודם: &lt;span&gt;\( H^{\otimes n}\left|0^{n}\right\rangle =\frac{1}{\sqrt{2^{n}}}\sum_{x\in\left\{ 0,1\right\} ^{n}}\left|x\right\rangle  \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;עכשיו אפשר לחזור סוף סוף אל דויטש-ג’וזה ולהבין מה קורה בו: כל מה שנשאר לנו הוא חשבון פשוט ביותר.&lt;/p&gt;

&lt;p&gt;ההתחלה של דויטש-ג’וזה מאפסת מצב התחלתי &lt;span&gt;\( \left|0^{n}\right\rangle  \)&lt;/span&gt; ואז מפעילה עליו &lt;span&gt;\( H^{\otimes n} \)&lt;/span&gt;, כלומר אנחנו מגיעים אל &lt;span&gt;\( \frac{1}{\sqrt{2^{n}}}\sum_{x\in\left\{ 0,1\right\} ^{n}}\left|x\right\rangle  \)&lt;/span&gt;. בשלב הבא מפעילים את הקופסה השחורה על המצב הזה. נזכיר מה היא עושה:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( U_{f}\left|x\right\rangle =\left(-1\right)^{f\left(x\right)}\left|x\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ולכן נקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( U_{f}\left(\frac{1}{\sqrt{2^{n}}}\sum_{x\in\left\{ 0,1\right\} ^{n}}\left|x\right\rangle \right)=\frac{1}{\sqrt{2^{n}}}\sum_{x\in\left\{ 0,1\right\} ^{n}}U_{f}\left(\left|x\right\rangle \right)= \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( =\frac{1}{\sqrt{2^{n}}}\sum_{x\in\left\{ 0,1\right\} ^{n}}\left(-1\right)^{f\left(x\right)}\left|x\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו על כל זה אני מפעיל שוב &lt;span&gt;\( H^{\otimes n} \)&lt;/span&gt; ומקבל סכום כפול:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( H^{\otimes n}\left(\frac{1}{\sqrt{2^{n}}}\sum_{x\in\left\{ 0,1\right\} ^{n}}\left(-1\right)^{f\left(x\right)}\left|x\right\rangle \right)=\frac{1}{\sqrt{2^{n}}}\sum_{x\in\left\{ 0,1\right\} ^{n}}\left(-1\right)^{f\left(x\right)}H^{\otimes n}\left(\left|x\right\rangle \right)= \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( =\frac{1}{\sqrt{2^{n}}}\sum_{x\in\left\{ 0,1\right\} ^{n}}\left(-1\right)^{f\left(x\right)}\frac{1}{\sqrt{2^{n}}}\sum_{y\in\left\{ 0,1\right\} ^{n}}\left(-1\right)^{x\cdot y}\left|y\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;זה סכום סופי, אז קל להפוך בו את סדר הסכימה: לכל &lt;span&gt;\( y\in\left\{ 0,1\right\} ^{n} \)&lt;/span&gt;, לקבץ את האיברים שמתאימים למקדם &lt;span&gt;\( \left|y\right\rangle  \)&lt;/span&gt;:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( =\frac{1}{2^{n}}\sum_{y\in\left\{ 0,1\right\} ^{n}}\left(\sum_{x\in\left\{ 0,1\right\} ^{n}}\left(-1\right)^{f\left(x\right)+x\cdot y}\right)\left|y\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ה-&lt;span&gt;\( \left|y\right\rangle  \)&lt;/span&gt; השונים הם תוצאות המדידה השונות האפשריות, והמקדם שאני מחשב ילמד אותי מה ההסתברות להעלות את &lt;span&gt;\( \left|y\right\rangle  \)&lt;/span&gt; בגורל. האלגוריתם, כזכור, מכריע את ההכרעה שלו על פי השאלה האם &lt;span&gt;\( \left|0^{n}\right\rangle  \)&lt;/span&gt; עלה בגורל, אז בואו נבדוק ספציפית את המקדם של &lt;span&gt;\( y=0^{n} \)&lt;/span&gt;:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \frac{1}{2^{n}}\sum_{x\in\left\{ 0,1\right\} ^{n}}\left(-1\right)^{f\left(x\right)+x\cdot y}=\frac{1}{2^{n}}\sum_{x\in\left\{ 0,1\right\} ^{n}}\left(-1\right)^{f\left(x\right)} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו, אם &lt;span&gt;\( f \)&lt;/span&gt; היא פונקציה קבועה, כל האיברים בסכום יהיו &lt;strong&gt;אותו הדבר&lt;/strong&gt; ולכן נקבל &lt;span&gt;\( \frac{1}{2^{n}}\cdot\left(\pm2^{n}\right)=\pm1 \)&lt;/span&gt;. זה לא משנה אם המקדם חיובי או שלילי, כי כזכור - כדי לקבל את ההסתברות אנחנו לוקחים ערך מוחלט של המקדם ומעלים אותו בריבוע, ולכן בכל אחד מהמקרים הללו נקבל 1: בהסתברות של 1 בדיוק מובטח לנו שנקבל את המצב &lt;span&gt;\( 0^{n} \)&lt;/span&gt;, כמו שאמור לקרות.&lt;/p&gt;

&lt;p&gt;אם &lt;span&gt;\( f \)&lt;/span&gt; היא פונקציה מאוזנת, אז &lt;span&gt;\( \sum_{x\in\left\{ 0,1\right\} ^{n}}\left(-1\right)^{f\left(x\right)} \)&lt;/span&gt; הולך לכלול את אותו מספר של &lt;span&gt;\( +1 \)&lt;/span&gt; ושל &lt;span&gt;\( -1 \)&lt;/span&gt;, וכולם יבטלו זה את זה, כך שאני אקבל 0. עזבו אתכם ממה שקורה עם שאר המקדמים של שאר האיברים במצב שהגעתי אליו - המקדם של &lt;span&gt;\( 0^{n} \)&lt;/span&gt; הוא 0, ולכן אין לי סיכוי לקבל אותו. אני בודאות אקבל תוצאה אחרת ולכן האלגוריתם יענה נכון גם במקרה הזה. זה מסיים את ההוכחה שהוא עובד, וגם נותן לנו תחושה טובה מאיפה הגיעו ה”פונקציה קבועה או מאוזנת” הללו; נראה כאילו היה לנו כאן אלגוריתם שחיפש בעיה לפתור, אבל זה לא משנה את זה שהפתרון מרהיב ממש באלגנטיות המתמטית שלו.&lt;/p&gt;

&lt;h2&gt;אלגוריתם ברנשטיין-וזירני&lt;/h2&gt;

&lt;p&gt;אמרתי שדויטש-ג’וזה נשמע כמו אלגוריתם שמחפש בעיה לפתור, והיופי פה הוא שבעצם יש &lt;strong&gt;עוד&lt;/strong&gt; בעיה שאפשר לפתור, בצורה כזו שלא זורקת הצידה את תוצאת המדידה אם היא שונה מ-&lt;span&gt;\( 0^{n} \)&lt;/span&gt;. גם הבעיה הנוספת הזו עדיין מרגישה קצת מלאכותית, אבל אולי פחות? בהקשר של הבעיה הזו, אלגוריתם דויטש-ג’וזה נקרא גם &lt;strong&gt;אלגוריתם ברנשטיין-וזירני&lt;/strong&gt; למרות שזה אותו אלגוריתם בדיוק; המאמר המקורי של ברנשטיין ווזריני הוא גדול ומורכב ועוסק בהגדרות של מחלקות סיבוכיות קוונטיות והפרדה שלהן ממחלקות סיבוכיות הסתברותיות ובהקשר הזה מופיע השימוש שאני מתאר כאן; זה לא שברנשטיין-וזירני ישבו ואמרו “היי, תראו, יש עוד משמעות לדויטש-ג’וזה” וישבו לכתוב על זה מאמר.&lt;/p&gt;

&lt;p&gt;דויטש-ג’וזה עוסק בנסיון להבין פונקציה &lt;span&gt;\( f:\left\{ 0,1\right\} ^{n}\to\left\{ 0,1\right\}  \)&lt;/span&gt; כלשהי שהיא או קבועה, או מאוזנת. ברנשטיין-וזירני עוסק בנסיון להבין פונקציה &lt;span&gt;\( f:\left\{ 0,1\right\} ^{n}\to\left\{ 0,1\right\}  \)&lt;/span&gt; שהיא לאו דווקא קבועה או מאוזנת, אבל היא &lt;strong&gt;לינארית&lt;/strong&gt;, כלומר &lt;span&gt;\( f\left(x+y\right)=f\left(x\right)+f\left(y\right) \)&lt;/span&gt; וגם &lt;span&gt;\( f\left(\lambda x\right)=\lambda f\left(x\right) \)&lt;/span&gt; (לא כזה מרשים כי &lt;span&gt;\( \lambda\in\left\{ 0,1\right\}  \)&lt;/span&gt;), כשהחיבור והכפל בסקלר הם מעל &lt;span&gt;\( \mathbb{Z}_{2}^{n} \)&lt;/span&gt;. בואו נראה שאפשר לחשוב על הפונקציה הזו בתור מכפלה סקלרית, כלומר שקיים &lt;span&gt;\( w\in\left\{ 0,1\right\} ^{n} \)&lt;/span&gt; כך ש-&lt;span&gt;\( f\left(x\right)=w\cdot x \)&lt;/span&gt;:&lt;/p&gt;

&lt;p&gt;אם נגדיר &lt;span&gt;\( e_{i}=\left(0,\ldots,1,\ldots,0\right) \)&lt;/span&gt;, כלומר ה-&lt;span&gt;\( 1 \)&lt;/span&gt; נמצא רק במקום ה-&lt;span&gt;\( i \)&lt;/span&gt; של &lt;span&gt;\( e_{i} \)&lt;/span&gt;, אז נקבל בסיס של &lt;span&gt;\( \mathbb{Z}_{2}^{n} \)&lt;/span&gt;: אפשר להציג כל &lt;span&gt;\( x\in\mathbb{Z}_{2}^{n} \)&lt;/span&gt; בתור &lt;span&gt;\( x=\sum_{i=1}^{n}x_{i}e_{i} \)&lt;/span&gt;. מתכונת הלינאריות של &lt;span&gt;\( f \)&lt;/span&gt; נקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( f\left(x\right)=f\left(\sum_{i=1}^{n}x_{i}e_{i}\right)=\sum_{i=1}^{n}x_{i}f\left(e_{i}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אז פשוט נגדיר &lt;span&gt;\( w_{i}=f\left(e_{i}\right) \)&lt;/span&gt; ונקבל שאכן, &lt;span&gt;\( f\left(x\right)=w\cdot x \)&lt;/span&gt; לכל &lt;span&gt;\( x\in\mathbb{Z}_{2}^{n} \)&lt;/span&gt;. שימו לב שרוב הפונקציות אינן לינאריות; יש &lt;span&gt;\( 2^{2^{n}} \)&lt;/span&gt; פונקציות מ-&lt;span&gt;\( \left\{ 0,1\right\} ^{n} \)&lt;/span&gt; אל &lt;span&gt;\( \left\{ 0,1\right\}  \)&lt;/span&gt;, אבל מכיוון שיש רק &lt;span&gt;\( 2^{n} \)&lt;/span&gt; איברים &lt;span&gt;\( w\in\left\{ 0,1\right\} ^{n} \)&lt;/span&gt; יש רק &lt;span&gt;\( 2^{n} \)&lt;/span&gt; פונקציות לינאריות. מכאן שברנשטיין-וזירני מראש מטפל רק במחלקה קטנה יחסית של פונקציות, בדומה לדויטש-ג’וזה.&lt;/p&gt;

&lt;p&gt;המשימה של ברנשטיין-וזירני היא זו: בהינתן &lt;span&gt;\( f \)&lt;/span&gt; לינארית שכזו, למצוא את ה-&lt;span&gt;\( w \)&lt;/span&gt; שמגדיר אותה. שימו לב: בניגוד לדויטש-ג’וזה, כאן אנחנו לא רוצים להכריע בין שתי סיטואציות אלא ממש למצוא משהו. אבל אותו אלגוריתם יעבוד:&lt;/p&gt;

&lt;ol&gt; &lt;li&gt;אתחלו מצב קוונטי אל &lt;span&gt;\( \left|0^{n}\right\rangle  \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;הפעילו &lt;span&gt;\( H \)&lt;/span&gt; על כל הקיוביטים.&lt;/li&gt;


&lt;li&gt;הפעילו את הקופסה השחורה על המצב שקיבלתם.&lt;/li&gt;


&lt;li&gt;הפעילו &lt;span&gt;\( H \)&lt;/span&gt; על המצב שקיבלתם.&lt;/li&gt;


&lt;li&gt;מדדו את כל הקיוביטים במצב שקיבלתם.&lt;/li&gt;


&lt;li&gt;תוצאת המדידות &lt;span&gt;\( w \)&lt;/span&gt; היא הערך המבוקש.&lt;/li&gt;

&lt;/ol&gt;

&lt;p&gt;לי זה נראה כמו קסם, שפתאום נקבל את ה-&lt;span&gt;\( w \)&lt;/span&gt; הזה, אבל האמת היא שזה די פשוט. בואו ניזכר מה מקבלים אחרי שלב 4, כי כבר ביצענו את החישוב קודם:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \frac{1}{2^{n}}\sum_{y\in\left\{ 0,1\right\} ^{n}}\left(\sum_{x\in\left\{ 0,1\right\} ^{n}}\left(-1\right)^{f\left(x\right)+x\cdot y}\right)\left|y\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו, ה-&lt;span&gt;\( f\left(x\right)+x\cdot y \)&lt;/span&gt; הזה שלמעלה נהיה פשוט יותר במקרה שלנו, כי &lt;span&gt;\( f\left(x\right)=w\cdot x=x\cdot w \)&lt;/span&gt; ולכן נקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( f\left(x\right)+x\cdot y=x\cdot w+x\cdot y=x\cdot\left(w+y\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו, במקרה שבו &lt;span&gt;\( w=y \)&lt;/span&gt; אנחנו מקבלים &lt;span&gt;\( w+y=2y=0 \)&lt;/span&gt; (כי זכרו, אנחנו מעל &lt;span&gt;\( \mathbb{Z}_{2} \)&lt;/span&gt;) ולכן המקדם של &lt;span&gt;\( \left|y\right\rangle =\left|w\right\rangle  \)&lt;/span&gt; יהיה&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \frac{1}{2^{n}}\sum_{x\in\left\{ 0,1\right\} ^{n}}\left(-1\right)^{f\left(x\right)+x\cdot y}=\frac{1}{2^{n}}\sum_{x\in\left\{ 0,1\right\} ^{n}}\left(-1\right)^{0}=\frac{1}{2^{n}}\sum_{x\in\left\{ 0,1\right\} ^{n}}1=1 \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;קסם!&lt;/p&gt;

&lt;p&gt;בשלב הזה אני כבר ממש מוטרד. זה מרגיש כמו “קסם” במובן של אחיזת עיניים של קוסם, שגורם לנו כל הזמן להתמקד במקום אחד - במקרה זה, במקדם של ה-&lt;span&gt;\( \left|y\right\rangle  \)&lt;/span&gt; הספציפי שמעניין אותנו, ובגלל שהוא יוצא 1 אנחנו אמורים איכשהו להיות מרוצים ולהניח שכל שאר המקדמים יוצאים 0. אבל למה? ובכן, זה די קל: בואו ניקח &lt;span&gt;\( y\ne w \)&lt;/span&gt;, אז זה אומר ש-&lt;span&gt;\( y+w\ne0 \)&lt;/span&gt; לפחות באינדקס אחד. נניח בלי הגבלת הכלליות שזה האינדקס הראשון, אז אפשר לכתוב &lt;span&gt;\( y+w=1z^{\prime} \)&lt;/span&gt; כאשר &lt;span&gt;\( z^{\prime}\in\left\{ 0,1\right\} ^{n-1} \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;עכשיו, אנחנו מסתכלים על הסכום &lt;span&gt;\( \sum_{x\in\left\{ 0,1\right\} ^{n}}\left(-1\right)^{f\left(x\right)+x\cdot y} \)&lt;/span&gt;, שאחרי הפישוטים שלנו יוצא &lt;span&gt;\( \sum_{x\in\left\{ 0,1\right\} ^{n}}\left(-1\right)^{x\cdot1z^{\prime}} \)&lt;/span&gt;. אני הולך לחלק את ה-&lt;span&gt;\( x \)&lt;/span&gt;-ים לשתי קבוצות: אלו שמתחילים ב-0 ואלו שמתחילים ב-1. מן הסתם שתי הקבוצות הללו מאותו גודל, אבל שימו לב לכך שאם &lt;span&gt;\( x=0x^{\prime} \)&lt;/span&gt; אז &lt;span&gt;\( x\cdot1z^{\prime}=x^{\prime}\cdot z^{\prime} \)&lt;/span&gt; ואילו אם &lt;span&gt;\( x=1x^{\prime} \)&lt;/span&gt; אז &lt;span&gt;\( x\cdot1z^{\prime}=1+x^{\prime}\cdot z^{\prime} \)&lt;/span&gt;. במילים אחרות, הזוג &lt;span&gt;\( 0x^{\prime},1x^{\prime} \)&lt;/span&gt; יניב תוצאות שונות כשמעלים את &lt;span&gt;\( -1 \)&lt;/span&gt; בחזקת &lt;span&gt;\( x\cdot1z^{\prime} \)&lt;/span&gt;, ולכן הסכום של שניהם יצא 0. בצורה הזו חילקנו את &lt;strong&gt;כל&lt;/strong&gt; ה-&lt;span&gt;\( x \)&lt;/span&gt;-ים שלנו לזוגות שמבטלים זה את זה, ולכן באמת נקבל 0. אני מקווה שזה משכנע גם את מי שכמוני קשה לו לקבל את זה שאם המקדם של איבר אחד יצא 1 זה אומר ששאר המקדמים הם בהכרח 0.&lt;/p&gt;

&lt;h2&gt;מה למדנו מכל זה?&lt;/h2&gt;

&lt;p&gt;כאמור, אני לא מביא את האלגוריתמים הללו בשביל להוכיח את עליונות החישוב הקוונטי על החישוב הרגיל, והטיעון המתמטי המדויק שרלוונטי לנסח בהקשר הזה הוא ארוך ומסובך למדי ואין לי כוח אליו. אני מביא אותם כדי שנרגיש מה הולך באלגוריתמים קוונטיים. באופן מאוד גס אוהבים לומר שהכוח של אלגוריתם קוונטי נובע משלושה היבטים של חישוב קוונטי:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;סופרפוזיציה&lt;/li&gt;


&lt;li&gt;שזירה&lt;/li&gt;


&lt;li&gt;התאבכות&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;בדויטש-ג’וזה-ברנשטיין-וזירני אין ממש שזירה (ה-&lt;span&gt;\( H \)&lt;/span&gt;-ים בהתחלה ובסוף לא יוצרים שזירה, וגם ה-&lt;span&gt;\( U \)&lt;/span&gt; באמצע לא חייבת ליצור שזירה). בהחלט יש סופרפוזיציה - זה מה שה-&lt;span&gt;\( H \)&lt;/span&gt; בהתחלה עושה לנו מייד. אבל האספקט המעניין שטרם ראינו הוא שיש כאן &lt;strong&gt;התאבכות&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;בפיזיקה, במשמעות המקורית של המילהת “התאבכות” באה לתאר סיטואציה שבה גלים שונים ש”מתנגשים” יכולים לחזק או להחליש זה את זה בנקודות ההתנגשות, בהתאם למצב הנוכחי שלהם. אפשר לחשוב על גל בתור משהו שכל הזמן עולה ויורד. אם בנקודת ההתנגשות של שני גלים, שנים בנקודה הגבוהה ביותר שלהם, הם יחזקו זה את זה ונקבל גל עוד יותר גבוה (“התאבכות בונה”) ואם הם ייפגשו בנקודה הנמוכה ביותר שלהם התוצאה תהיה עוד יותר נמוכה וגם זו תהיה התאבכות בונה. אבל אם גל אחד יהיה גבוה והשני נמוך, הם יבטלו זה את זה ונקבל איזור שבו לא רואים שום דבר (“התאבכות הורסת”). מה שיפה בדויטש-ג’וזה הוא שזה בדיוק מה שקורה גם כאן.&lt;/p&gt;

&lt;p&gt;כשביצענו את הסופרפוזיציה הראשונית עם &lt;span&gt;\( H^{\otimes n} \)&lt;/span&gt;, אפשר לחשוב על כך כאילו לקחנו את המצב &lt;span&gt;\( \left|0^{n}\right\rangle  \)&lt;/span&gt; ופירקנו אותו לסכום של &lt;span&gt;\( 2^{n} \)&lt;/span&gt; גלים שונים: &lt;span&gt;\( \frac{1}{\sqrt{2^{n}}}\sum_{x\in\left\{ 0,1\right\} ^{n}}\left|x\right\rangle  \)&lt;/span&gt;. ברגע הזה, כל הגלים נמצאים באיזור ה”גבוה” שלהם, שבא לידי ביטוי בפאזה החיובית שלהם (הפאזה בהקשר הנוכחי היא הסימן של המקדם של &lt;span&gt;\( \left|x\right\rangle  \)&lt;/span&gt;).&lt;/p&gt;

&lt;p&gt;אחר כך אנחנו מפעילים את &lt;span&gt;\( U_{f} \)&lt;/span&gt;, וההשפעה שלו היא פשוטה: הוא משנה את הפאזה של &lt;span&gt;\( \left|x\right\rangle  \)&lt;/span&gt;-ים מסויימים, מחיובית לשלילית. במקום שכל הגלים יהיו מסונכרנים, &lt;span&gt;\( U_{f} \)&lt;/span&gt; פיצל את הגלים לשתי קבוצות, כל אחת עם הסינכרון שלה. לבסוף מגיע ה-&lt;span&gt;\( H^{\otimes n} \)&lt;/span&gt; השני, ומה שהוא עושה הוא לגרום לכל הגלים להתנגש ולהסתכל מה קרה. כשהגלים “מתנגשים”, לכל &lt;span&gt;\( \left|y\right\rangle  \)&lt;/span&gt; אנחנו מקבלים בנקודת ההתנגשות את&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \frac{1}{\sqrt{2^{n}}}\left(\sum_{x\in\left\{ 0,1\right\} ^{n}}\left(-1\right)^{f\left(x\right)+x\cdot y}\right)\left|y\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;בברנשטיין-וזירני, עבור רוב ערכי ה-&lt;span&gt;\( \left|y\right\rangle  \)&lt;/span&gt;, ההתאבכות תהיה הורסת והם ייעלמו לגמרי. המקום היחיד שבו תהיה התאבכות בונה הוא ה-&lt;span&gt;\( \left|y\right\rangle  \)&lt;/span&gt; שאנו חפצים ביקרו. בדויטש-ג’וזה תהיה התאבכות בונה ב-&lt;span&gt;\( \left|0^{n}\right\rangle  \)&lt;/span&gt; רק אם הפונקציה קבועה, ואחרת תהיה שם התאבכות הורסת.&lt;/p&gt;

&lt;p&gt;זו בעצם המהות של רבים מהאלגוריתמים הקוונטיים: לגרום איכשהו לחלקים השונים של הסופרפוזיציה “להתנגש” אלו באלו, כך שהחלקים הלא מועילים מתבטלים, והחלקים המועילים נשארים. בדויטש-ג’וזה, בגלל הפשטות הגדולה שלו, אנחנו יכולים לראות בדיוק מה גורם להתאבכויות הללו לעבוד - העובדה שהמקדמים של ה-&lt;span&gt;\( \left|x\right\rangle  \)&lt;/span&gt;-ים יכולים להיות &lt;strong&gt;שליליים&lt;/strong&gt;. וכאן אנחנו מגיעים אל מה שהוא אולי לב-לבו של ההבדל המרכזי בין חישוב קוונטי וחישוב הסתברותי “רגיל”. ריצ’ארד פיינמן, בהרצאה מפורסמת שלו, Simulating Physics with Computers, אמר (כחלק מתיאור יותר מפורט, כמובן)&lt;/p&gt;

&lt;blockquote dir=&quot;ltr&quot; style=&quot;text-align:left&quot;&gt;
  &lt;p&gt;The only difference between a probabilistic classical world and the equations of the quantum world is that somehow or other it appears as if the probabilities would have to go negative.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;וזה בדיוק מה שקורה פה. אם אני מבצע חישוב הסתברותי “רגיל” שבו אני מגריל מחרוזת &lt;span&gt;\( x\in\left\{ 0,1\right\} ^{n} \)&lt;/span&gt; בהתפלגות אחידה, אפשר יהיה לחשוב על מצב החישוב שלי אחרי השלב הראשון הזה כאילו הוא ב”סופרפוזיציה” שבו ההסתברות של כל &lt;span&gt;\( x \)&lt;/span&gt; היא בדיוק &lt;span&gt;\( \frac{1}{2^{n}} \)&lt;/span&gt;. אחר כך אני יכול לבצע חישובים שעבור &lt;span&gt;\( x \)&lt;/span&gt;-ים שונים יובילו לאותה תוצאה, ובכך “לחזק” את ההסתברות של אותה תוצאה להתקבל. אבל האופן שבו ה”חיזוק” הזה מתבצע הוא על ידי חיבור הסתברויות, אין לי חיסור. אם לחדד: אפשר לתאר חישוב הסתברותי רגיל בתור כפל של וקטור &lt;strong&gt;סטוכסטי&lt;/strong&gt; (וקטור שבו כל הכניסות בין 0 ל-1 ומסתכמות ל-1) במטריצה &lt;strong&gt;סטוכסטית&lt;/strong&gt; (מטריצה שבה כל הכניסות בין 0 ל-1 וכל שורה מסתכמת ל-1). זה נותן הרבה, אבל זה פשוט לא מאפשר לנו לבצע את אותה אלגברה שאנחנו עושים בחישוב קוונטי, עם מטריצות שיש בהן גם מספרים שליליים.&lt;/p&gt;

&lt;p&gt;עוד דרך לחשוב על זה: בחישוב הסתברותי, מה שיש לנו ביד בכל רגע נתון הוא ההסתברויות של התוצאות האפשריות. בחישוב קוונטי, מה שיש לנו ביד בכל רגע נתון הוא &lt;strong&gt;האמפליטודות&lt;/strong&gt; של החישוב - אותן &lt;span&gt;\( \alpha_{x} \)&lt;/span&gt;-ים. ה-&lt;span&gt;\( \alpha_{x} \)&lt;/span&gt;-ים הן &lt;strong&gt;לא&lt;/strong&gt; הסתברויות; הן מספרים שיכולים להיות גם שליליים וגם מרוכבים, ואת ההסתברויות אנחנו מחשבים מתוכן בעזרת שלב הביניים &lt;span&gt;\( \left|\alpha_{x}\right|^{2} \)&lt;/span&gt;. כלומר, אנחנו מסוגלים לבצע אלגברה יותר מתוחכמת, ש”מוסתרת” בסופו של דבר בידי המעבר מ-&lt;span&gt;\( \alpha_{x} \)&lt;/span&gt; אל &lt;span&gt;\( \left|\alpha_{x}\right|^{2} \)&lt;/span&gt;. אבל כל עוד לא מדדנו, אנחנו עדיין בעולם של האלגברה המתוחכמת יותר, והיא זו שמאפשרת לנו להשיג את האפקט של ההתאבכות. חישוב קוונטי מאפשר לנו לרתום את הטבע עצמו כדי לבצע אלגברה שהיא יותר מתוחכמת מאלגברה בוליאנית.&lt;/p&gt;

&lt;p&gt;זהו, זו הדרך הכי טובה שיש לי לתת את האינטואיציה האישית שלי לסיבה שבגללה חישוב קוונטי הוא “יותר” מחישוב רגיל. עכשיו רק נשאר לי לסגור את החוב מתחילת הפוסט לגבי הקופסאות השחורות.&lt;/p&gt;

&lt;h2&gt;אז איך מממשים קופסא שחורה קוונטית?&lt;/h2&gt;

&lt;p&gt;בתחילת הפוסט מלמלתי משהו על חישוב של &lt;span&gt;\( f \)&lt;/span&gt; בעזרת קופסא שחורה ואז קפצתי לכך שיש לנו אופרטור &lt;span&gt;\( U_{f} \)&lt;/span&gt; שעושה את הקסם &lt;span&gt;\( U_{f}\left|x\right\rangle =\left(-1\right)^{f\left(x\right)}\left|x\right\rangle  \)&lt;/span&gt;. אני עדיין צריך להסביר איך כזה דבר עובד.&lt;/p&gt;

&lt;p&gt;אם תחשבו על זה רגע, עדיין בסדרת הפוסטים לא הסברתי איך מבצעים חישוב &lt;strong&gt;רגיל&lt;/strong&gt; בעזרת מחשב קוונטי. אמנם, אמרתי ש-&lt;span&gt;\( X \)&lt;/span&gt; זה כמו NOT, אבל אין לי שום פעולה שהיא כמו AND, למשל: פעולה שמחזירה 1 רק אם שני הקלטים היו 1, ואחרת מחזירה 0. ויש סיבה טובה שבגללה אין לי כזו: כי AND היא פעולה &lt;strong&gt;לא הפיכה&lt;/strong&gt; אבל בחישוב קוונטי כל פעולה צריכה להיות אופרטור אוניטרי, כלומר הפיכה. אם ב-AND קיבלתי 0, אני לא יודע אם זה בגלל ששני הקלטים היו 0, או בגלל שאחד מהם היה 0 והשני 1, ואיזה מהם. אינפורמציה הלכה לאיבוד.&lt;/p&gt;

&lt;p&gt;האם זה אומר שלא ניתן לממש פעולת AND בחישוב קוונטי? לא בדיוק. אפשר, אבל צריך יהיה לשלם מחיר כלשהו. המחיר הוא שימוש בקיוביט “זבל” שישתתף בחישוב בתור מעין משתתף זמני ואחר כך נוכל לשכוח מערכו. אני לא אכנס לפרטים הללו עכשיו אלא אציג פוסט יותר מפורט עליהם בהמשך. למה לא הראיתי את זה קודם? כי זו אחת מהבעיות הללו שכל עוד לא מרגישים שחסר לה פתרון, קצת טרחני להציג אותו.&lt;/p&gt;

&lt;p&gt;אז נניח שיש לנו מעגל קוונטי שיודע גם לבצע חישוב רגיל. יש לו &lt;span&gt;\( n \)&lt;/span&gt; קיוביטי קלט, וקיוביט נוסף שאנו מניחים שמאותחל ל-&lt;span&gt;\( \left|0\right\rangle  \)&lt;/span&gt; ובסוף החישוב יהיה בו הפלט, ואולי גם קיוביט עזר שלא נטרח לכתוב. כלומר, מה שיש לנו הוא מעגל שמחשב&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( O_{f}\left(\left|x\right\rangle \otimes\left|0\right\rangle \right)=\left|x\right\rangle \otimes\left|f\left(x\right)\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;שימו לב: כאן במכפלה הטנזורית, הרכיב השמאלי, &lt;span&gt;\( \left|x\right\rangle  \)&lt;/span&gt;, הוא בעצמו מכפלה טנזורית של &lt;span&gt;\( n \)&lt;/span&gt; קיוביטים, בעוד שהרכיב הימני הוא קיוביט בודד.&lt;/p&gt;

&lt;p&gt;הבעיה עם ההגדרה שנתתי כרגע היא שזו עדיין לא הגדרה שלמה. הגדרתי את &lt;span&gt;\( O_{f} \)&lt;/span&gt; &lt;strong&gt;לחלק &lt;/strong&gt;מהקלטים שהם אברי בסיס, אבל לא לכולם. מה עם הקלטים מהצורה &lt;span&gt;\( \left|x\right\rangle \otimes\left|1\right\rangle  \)&lt;/span&gt;? כדי לטפל בכל המקרים, אני אגדיר&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( O_{f}\left(\left|x\right\rangle \otimes\left|b\right\rangle \right)=\left|x\right\rangle \otimes\left|f\left(x\right)\oplus b\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כאן &lt;span&gt;\( \oplus \)&lt;/span&gt; מציין חיבור מודולו 2, ולכן מה ש-&lt;span&gt;\( O_{f} \)&lt;/span&gt; עושה הוא או להחזיר את &lt;span&gt;\( f\left(x\right) \)&lt;/span&gt; (אם הקלט הנוסף הוא 0) או את &lt;span&gt;\( \neg f\left(x\right) \)&lt;/span&gt; (אם הקלט הנוסף הוא 1). מה שאני רוצה להסביר עכשיו הוא איך לבנות את &lt;span&gt;\( U_{f} \)&lt;/span&gt; שבו השתמשתי קודם מתוך &lt;span&gt;\( O_{f} \)&lt;/span&gt; הזה. הטריק הוא חמוד ממש: במקום להפעיל את &lt;span&gt;\( O_{f} \)&lt;/span&gt; על &lt;span&gt;\( \left|x\right\rangle \otimes\left|0\right\rangle  \)&lt;/span&gt; או על &lt;span&gt;\( \left|x\right\rangle \otimes\left|1\right\rangle  \)&lt;/span&gt;, אני אפעיל אותו על &lt;span&gt;\( \left|x\right\rangle \otimes\left|-\right\rangle  \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;כזכור, &lt;span&gt;\( \left|-\right\rangle  \)&lt;/span&gt; הוא המצב הקוונטי שמתקבל מ-&lt;span&gt;\( H\left|1\right\rangle  \)&lt;/span&gt;, כלומר &lt;span&gt;\( \frac{\left|0\right\rangle -\left|1\right\rangle }{\sqrt{2}} \)&lt;/span&gt;. בואו נראה מה &lt;span&gt;\( O_{f} \)&lt;/span&gt; עושה כשהוא מקבל קלט כזה, תוך התבססות על הלינאריות שלו:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( O_{f}\left(\left|x\right\rangle \otimes\left|-\right\rangle \right)=\frac{1}{\sqrt{2}}\left[O_{f}\left(\left|x\right\rangle \otimes\left|0\right\rangle \right)-O_{f}\left(\left|x\right\rangle \otimes\left|1\right\rangle \right)\right]= \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( =\frac{1}{\sqrt{2}}\left[\left|x\right\rangle \left|f\left(x\right)\right\rangle -\left|x\right\rangle \left|f\left(x\right)\oplus1\right\rangle \right]= \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( =\left|x\right\rangle \frac{\left|f\left(x\right)\right\rangle -\left|f\left(x\right)\oplus1\right\rangle }{\sqrt{2}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו, בואו נבדיל בין שני המקרים האפשריים:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;אם &lt;span&gt;\( f\left(x\right)=0 \)&lt;/span&gt; אז מה שקיבלנו מימין ל-&lt;span&gt;\( \left|x\right\rangle  \)&lt;/span&gt; הוא את &lt;span&gt;\( \frac{\left|0\right\rangle -\left|1\right\rangle }{\sqrt{2}}=\left|-\right\rangle  \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;אם &lt;span&gt;\( f\left(x\right)=1 \)&lt;/span&gt; אז מה שקיבלנו מימין ל-&lt;span&gt;\( \left|x\right\rangle  \)&lt;/span&gt; הוא את &lt;span&gt;\( \frac{\left|1\right\rangle -\left|0\right\rangle }{\sqrt{2}}=-\left|-\right\rangle  \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;ובמילים אחרות, קיבלנו ש-&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( O_{f}\left(\left|x\right\rangle \left|-\right\rangle \right)=\left(-1\right)^{f\left(x\right)}\left|x\right\rangle \left|-\right\rangle  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;קיבלנו שהפעלה של &lt;span&gt;\( O_{f} \)&lt;/span&gt; לא משנה את המצב הקוונטי כלל, חוץ מאשר על ידי כפל שלו ב-&lt;span&gt;\( \left(-1\right)^{f\left(x\right)} \)&lt;/span&gt;. לכן, אם נסתכל על האפקט רק ל-&lt;span&gt;\( n \)&lt;/span&gt; הקיוביטים הראשונים, נקבל בדיוק את &lt;span&gt;\( U_{f} \)&lt;/span&gt; שרצינו. זה מסיים גם את ההסבר שלי לגבי הופעת הקופסה השחורה המסתורת &lt;span&gt;\( U_{f} \)&lt;/span&gt;, אבל עדיין נשאר לי חוב של להסביר איך בכלל מבצעים חישובים רגילים בעזרת חישוב קוונטי. אל זה נגיע בעתיד. אסיים עם האיור שנותן לנו את כל דויטש-ג’וזה בעזרת &lt;span&gt;\( O_{f} \)&lt;/span&gt; הזה, שכן גם באיור הזה אפשר להיתקל לפעמים ושווה לראות אותו, עכשיו כשאנחנו מבינים שזה אותו הדבר:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/2022/deutsch_jozsa_full.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;</content><author><name></name></author><category term="חישוב קוונטי" /><summary type="html">מה אנחנו רוצים לפתור?</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://gadial.net/2022/deutsch_jozsa_3_qubits.png" /></entry></feed>