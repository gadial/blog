<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.9.0">Jekyll</generator><link href="http://gadial.net/feed.xml" rel="self" type="application/atom+xml" /><link href="http://gadial.net/" rel="alternate" type="text/html" /><updated>2025-02-07T04:28:20+00:00</updated><id>http://gadial.net/feed.xml</id><title type="html">לא מדויק</title><subtitle>בלוג על מתמטיקה ומדעי המחשב</subtitle><entry><title type="html">מה הקטע עם התפלגות נורמלית? (חלק ד’ ואחרון: משפט הגבול המרכזי)</title><link href="http://gadial.net/2025/02/07/normal_distribution_4/" rel="alternate" type="text/html" title="מה הקטע עם התפלגות נורמלית? (חלק ד&apos; ואחרון: משפט הגבול המרכזי)" /><published>2025-02-07T00:00:00+00:00</published><updated>2025-02-07T00:00:00+00:00</updated><id>http://gadial.net/2025/02/07/normal_distribution_4</id><content type="html" xml:base="http://gadial.net/2025/02/07/normal_distribution_4/">&lt;h2&gt;אז מה משפט הגבול המרכזי אומר?&lt;/h2&gt;

&lt;p&gt;סדרת הפוסטים הזו מנסה להבין למה התפלגות נורמלית נראית כמו שהיא נראית. מן הסתם השאלה הראשונה שצריך לענות עליה בשביל זה היא “מה זו בכלל התפלגות נורמלית?” ולזה יש שתי תשובות: אחת יבשה, של לתת את ההגדרה הפורמלית, וזה מה שעשינו בפוסטים הקודמים; והשניה, המהותית יותר, היא להסביר למה בכלל מתעניינים בהתפלגות הזו - והתשובה היא &lt;strong&gt;משפט הגבול המרכזי&lt;/strong&gt;. תיארתי אותו בנפנופי ידיים קודם, אז עכשיו הגיע הזמן לתת את הניסוח הפורמלי.&lt;/p&gt;

&lt;p&gt;משפט הגבול המרכזי מסתכל על סדרה אינסופית &lt;span&gt;\( X_{1},X_{2},X_{3},\ldots \)&lt;/span&gt; של משתנים מקריים שהם בלתי תלויים ובעלי אותה התפלגות (בדומה לתנאים של &lt;strong&gt;חוק המספרים הגדולים&lt;/strong&gt; שהזכרתי בפוסט הקודם). אנחנו מסמנים ב-&lt;span&gt;\( \mu \)&lt;/span&gt; את התוחלת וב-&lt;span&gt;\( \sigma^{2} \)&lt;/span&gt; את השונות שלהם (בפרט, אנחנו מניחים שהמספרים הללו מוגדרים, סופיים וש-&lt;span&gt;\( \sigma\ne0 \)&lt;/span&gt;). עכשיו, לכל &lt;span&gt;\( n \)&lt;/span&gt; אנחנו מגדירים משתנה מקרי &lt;span&gt;\( Z_{n} \)&lt;/span&gt; שהוא בערך הסכום של ה-&lt;span&gt;\( X_{i} \)&lt;/span&gt;-ים עד האיבר ה-&lt;span&gt;\( n \)&lt;/span&gt;-י, אבל עם שקלול נוסף שאמור לנרמל את הסכום:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( Z_{n}=\frac{X_{1}+\ldots+X_{n}-n\mu}{\sigma\sqrt{n}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אז הסדרה &lt;span&gt;\( Z_{n} \)&lt;/span&gt; שואפת להתפלגות הנורמלית &lt;span&gt;\( N\left(0,1\right) \)&lt;/span&gt; כאשר &lt;span&gt;\( n \)&lt;/span&gt; שואף לאינסוף. פורמלית, לכל &lt;span&gt;\( -\infty&amp;lt;a&amp;lt;\infty \)&lt;/span&gt;:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \lim_{n\to\infty}P\left(Z_{n}\le a\right)=\frac{1}{\sqrt{2\pi}}\int_{-\infty}^{a}e^{-x^{2}/2}dx \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;זה הניסוח הפורמלי, אבל הוא די שונה ממה שהצגתי עד כה בפוסטים שלי. מה שאני תמיד אמרתי הוא “בואו ניקח משתנה מקרי &lt;span&gt;\( X \)&lt;/span&gt; כלשהו. עכשיו בואו נחזור על ההגרלה שלו המון פעמים ונחבר את התוצאות” - כלומר, הסתכלתי על הסכום &lt;span&gt;\( X_{1}+\ldots+X_{n} \)&lt;/span&gt;. מכאן אמרתי “היי תראו עכשיו אם מציירים היסטוגרמה של הסכום אז פתאום יש עקומה של התפלגות נורמלית שמתארת אותה די במדויק”. כדי לקבל את העקומה, חישבתי את &lt;span&gt;\( \text{E}\left[X\right]=\mu \)&lt;/span&gt; ואת &lt;span&gt;\( \text{Var}\left(X\right)=\sigma^{2} \)&lt;/span&gt; ואז בניתי את העקומה &lt;span&gt;\( N\left(n\mu,\sqrt{n}\sigma\right) \)&lt;/span&gt;. בואו נראה שזה באמת אמור לעבוד, על פי משפט הגבול המרכזי.&lt;/p&gt;

&lt;p&gt;ראשית, תזכורת: טענתי בפוסט הקודם שאם &lt;span&gt;\( N\left(\mu,\sigma\right) \)&lt;/span&gt; היא התפלגות נורמלית עם תוחלת &lt;span&gt;\( \mu \)&lt;/span&gt; וסטיית תקן &lt;span&gt;\( \sigma \)&lt;/span&gt; אז &lt;span&gt;\( N\left(0,1\right)=\frac{N\left(\mu,\sigma\right)-\mu}{\sigma} \)&lt;/span&gt;, או בניסוח אחר - &lt;span&gt;\( N\left(\mu,\sigma\right)=\sigma N\left(0,1\right)+\mu \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;עכשיו, אם אני אסמן &lt;span&gt;\( Y_{n}=X_{1}+\ldots+X_{n} \)&lt;/span&gt; אז משפט הגבול המרכזי אומר ש-&lt;span&gt;\( N\left(0,1\right) \)&lt;/span&gt; היא קירוב טוב של &lt;span&gt;\( Z_{n}=\frac{Y_{n}-n\mu}{\sigma\sqrt{n}} \)&lt;/span&gt;. השוויון הזה מלמד אותי ש-&lt;span&gt;\( Y_{n}=\sigma\sqrt{n}Z_{n}+n\mu \)&lt;/span&gt;, כך שאני מצפה שקירוב טוב אל &lt;span&gt;\( Y_{n} \)&lt;/span&gt; (שהוא המשתנה המקרי שהופיע בהיסטוגרמות שלי) יהיה &lt;span&gt;\( \sigma\sqrt{n}N\left(0,1\right)+n\mu=N\left(n\mu,\sigma\sqrt{n}\right) \)&lt;/span&gt;, וזו העקומה שציירתי בפועל. זה מסביר מאיפה האיורים שלי הגיעו אבל עדיין לא ברור למה משפט הגבול המרכזי נראה כמו שהוא נראה; לי למשל מפריע שהחלוקה היא ב-&lt;span&gt;\( \sqrt{n} \)&lt;/span&gt; ולא ב-&lt;span&gt;\( n \)&lt;/span&gt; כמו שעושים בחוק המספרים הגדולים. בהוכחה של משפט הגבול המרכזי אנחנו נראה למה הדברים הללו הם כמות שהם.&lt;/p&gt;

&lt;h2&gt;פונקציות יוצרות מומנטים&lt;/h2&gt;

&lt;p&gt;הכלי הטכני המרכזי שבו משתמשים בהוכחה הוא מושג שטרם הזכרתי בסדרת הפוסטים הזו: &lt;strong&gt;פונקציה יוצרת מומנטים&lt;/strong&gt;. מה זה מומנטים כן הזכרתי, בחטף: עבור משתנה מקרי &lt;span&gt;\( X \)&lt;/span&gt;, &lt;strong&gt;המומנטים&lt;/strong&gt; שלו הם הערכים המספריים &lt;span&gt;\( \text{E}\left[X^{n}\right] \)&lt;/span&gt; עבור &lt;span&gt;\( n=1,2,\ldots \)&lt;/span&gt;. עבור &lt;span&gt;\( n=1 \)&lt;/span&gt; המומנט הוא פשוט התוחלת, וראינו שעבור &lt;span&gt;\( n=2 \)&lt;/span&gt; המומנט הוא פשוט השונות ועוד התוחלת בריבוע (כי &lt;span&gt;\( \text{Var}\left(X\right)=\text{E}\left[X^{2}\right]-\text{E}\left[X\right]^{2} \)&lt;/span&gt;), אבל לא דיברתי על המומנטים עבור חזקות גבוהות יותר. הרעיון הוא שסדרת המומנטים של משתנה מקרי היא כמו ה-DNA שלו: מכילה כמות גדולה כל כך של מידע עליו שאפשר להסיק ממנה דברים מאוד לא טריוויאליים, גם אם היא לבדה לא כל הסיפור.&lt;/p&gt;

&lt;p&gt;עוד מושג מאוד מועיל במתמטיקה, &lt;a href=&quot;https://gadial.net/2011/08/07/generating_functions_hardcore_1/&quot;&gt;שכבר הזכרתי&lt;/a&gt; בבלוג כמה פעמים, הוא &lt;strong&gt;פונקציה יוצרת&lt;/strong&gt;. הרעיון בפונקציה יוצרת הוא זה: אם יש לנו סדרה מעניינת של מספרים, &lt;span&gt;\( a_{0},a_{1},a_{2},\ldots \)&lt;/span&gt;, אחד מהקסמים שאנחנו יכולים לעשות הוא “לשתול” את המספרים הללו בתור מקדמים של טור חזקות, &lt;span&gt;\( \sum_{n=0}^{\infty}a_{n}x^{n} \)&lt;/span&gt; ואז פתאום אנחנו מסוגלים לעשות עם הטור הזה מניפולציות מעניינות שמתורגמות לפעולות לא טריוויאליות על כל סדרת המספרים בבת אחת. זה כלי חזק ומרהיב.&lt;/p&gt;

&lt;p&gt;על הרעיון הבסיסי הזה יש כמה וריאציות מועילות, ואחת מהן היא מה שנקרא &lt;strong&gt;הפונקציה היוצרת האקספוננציאלית&lt;/strong&gt; של סדרת המספרים. כאן הרעיון הוא לשתול את המספרים בתוך הטור &lt;span&gt;\( \sum_{n=0}^{\infty}a_{n}\frac{x^{n}}{n!} \)&lt;/span&gt; שמזכיר קצת את הטור של פונקציית האקספוננט (עבור הסדרה &lt;span&gt;\( a_{n}=1 \)&lt;/span&gt; מקבלים בדיוק את הטור של &lt;span&gt;\( e^{x} \)&lt;/span&gt;). איכשהו יצא לגמרי במקרה שדיברתי על הפונקציה הזו &lt;a href=&quot;https://gadial.net/2024/12/18/bernoulli_numbers/&quot;&gt;באחד מהפוסטים האחרונים&lt;/a&gt; בבלוג; זה לא יצא ככה בכוונה, פשוט היא כל כך מועילה שהיא מתעקשת לצוץ בשני הקשרים שונים כמעט בו זמנית (אחרי שמעולם לא כתבתי עליה קודם בבלוג לדעתי אבל נעזוב את זה).&lt;/p&gt;

&lt;p&gt;מה שנקרא בתורת ההסתברות &lt;strong&gt;פונקציה יוצרת מומנטים&lt;/strong&gt; הוא בדיוק זה - הפונקציה היוצרת האקספוננציאלית של סדרת המומנטים, אם כי נוח להגדיר אותה בצורה קצת שונה. ראשית, אני אשתמש במשתנה &lt;span&gt;\( t \)&lt;/span&gt; כדי לא לבלבל עם המשתנה המקרי &lt;span&gt;\( X \)&lt;/span&gt; שהוא מרכז הדיון שלנו. עכשיו, עם משתנה מקרי אפשר כזכור להשתגע בשלל צורות, כי בסופו של דבר מדובר במשהו שמחזיר מספרים ממשיים אז אפשר לעשות איתו דברים שאנחנו עושים עם מספרים ממשיים - למשל להסתכל על &lt;span&gt;\( e^{X} \)&lt;/span&gt;, שזה פשוט משתנה מקרי שאומר “תגריל תוצאה כלשהי, תבדוק מה הערך ש-&lt;span&gt;\( X \)&lt;/span&gt; נותן על התוצאה הזו, תעלה את &lt;span&gt;\( e \)&lt;/span&gt; בחזקת הערך הזה”. כדי לעשות את זה מעניין אני יכול גם לדחוף פנימה ערך מספרי &lt;span&gt;\( t \)&lt;/span&gt; כלשהו שאני מתייחס אליו כפרמטר ומכפיל אותו ב-&lt;span&gt;\( X \)&lt;/span&gt;, כלומר אני מסתכל על המשתנה המקרי &lt;span&gt;\( e^{tX} \)&lt;/span&gt;. אם זה משתנה מקרי, אפשר לחשב את התוחלת שלו, והיא תהיה תלויה בפרמטר &lt;span&gt;\( t \)&lt;/span&gt;, כלומר קיבלנו &lt;strong&gt;פונקציה&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( M\left(t\right)=\text{E}\left[e^{tX}\right] \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;זו הפונקציה יוצרת המומנטים, ואנחנו ליטרלי יכולים להשתמש בה כדי &lt;strong&gt;ליצור&lt;/strong&gt; את המומנטים על ידי “חילוץ” המקדמים מתוך הטור של &lt;span&gt;\( e^{tX} \)&lt;/span&gt; על ידי גזירה, כמו שקורה בחדו”א עם מה שנקרא &lt;strong&gt;טור טיילור&lt;/strong&gt;. הנה איך שזה עובד:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( M^{\prime}\left(t\right)=\left(\text{E}\left[e^{tX}\right]\right)^{\prime}=\text{E}\left[\left(e^{tX}\right)^{\prime}\right]=\text{E}\left[Xe^{tX}\right] \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אוקיי, קצת מיהרתי פה. אני מבצע &lt;strong&gt;החלפה&lt;/strong&gt; בין אופרטור התוחלת ואופרטור הגזירה במעבר האמצעי - למה זה מעבר לגיטימי? אם פותחים את ההגדרה של התוחלת במקרה הסופי מקבלים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \text{E}\left[e^{tX}\right]=\sum_{i=1}^{k}P\left(X=a_{i}\right)e^{ta_{i}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ואפשר להשתמש בכך שנגזרת היא לינארית, כלומר &lt;span&gt;\( \left(f+g\right)^{\prime}=f^{\prime}+g^{\prime} \)&lt;/span&gt;, מה שניתן להכללה באינדוקציה לכל סכום סופי, ולכן&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left[\sum_{i=1}^{k}P\left(X=a_{i}\right)e^{ta_{i}}\right]^{\prime}=\sum_{i=1}^{k}P\left(X=a_{i}\right)\left(e^{ta_{i}}\right)^{\prime}=\sum_{i=1}^{k}P\left(X=a_{i}\right)a_{i}e^{ta_{i}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;וקיבלנו בדיוק את הביטוי של &lt;span&gt;\( \text{E}\left[Xe^{tX}\right] \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;העניין הוא שמה שעובד עבור סכום &lt;strong&gt;סופי&lt;/strong&gt; לא בהכרח עובד במקרה של סכום אינסופי, או במקרה הרציף שבו התוחלת היא אינטגרל. כלומר, את הקסם הזה אי אפשר לעשות &lt;strong&gt;לכל&lt;/strong&gt; משתנה מקרי אלא רק לכאלו שהם “נחמדים מספיק”, אבל בואו לא ניכנס לתנאים המדויקים הפעם. במקום זה, בואו נראה איך אפשר להשתמש בזה: אם &lt;span&gt;\( M^{\prime}\left(t\right)=\text{E}\left[Xe^{tX}\right] \)&lt;/span&gt; אז &lt;span&gt;\( M^{\prime}\left(0\right)=\text{E}\left[X\right] \)&lt;/span&gt; וקיבלנו את המומנט הראשון.&lt;/p&gt;

&lt;p&gt;עכשיו, אפשר להמשיך לגזור את &lt;span&gt;\( Xe^{tX} \)&lt;/span&gt;. מכיוון שהנגזרת היא על פי &lt;span&gt;\( t \)&lt;/span&gt;, ה-&lt;span&gt;\( X \)&lt;/span&gt; שבו מוכפל &lt;span&gt;\( e^{tX} \)&lt;/span&gt; הוא בסך הכל קבוע, ולכן מקבלים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( M^{\prime\prime}\left(t\right)=\text{E}\left[X^{2}e^{tX}\right] \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כלומר&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( M^{\prime\prime}\left(0\right)=\text{E}\left[X^{2}\right] \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ובאופן כללי נקבל &lt;span&gt;\( M^{\left(i\right)}=\text{E}\left[X^{i}\right] \)&lt;/span&gt;. זה בדיוק מה שקורה גם כשגוזרים את הטור &lt;span&gt;\( \sum_{n=0}^{\infty}a_{n}\frac{x^{n}}{n!} \)&lt;/span&gt; בדיוק &lt;span&gt;\( i \)&lt;/span&gt; פעמים ומציבים &lt;span&gt;\( x=0 \)&lt;/span&gt;; מקבלים את &lt;span&gt;\( a_{i} \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;איך כל זה מתקשר למשפט הגבול המרכזי? עם הטענה הבאה: אם יש לנו סדרה &lt;span&gt;\( Z_{1},Z_{2},\ldots \)&lt;/span&gt; של משתנים מקריים עם פונקציות צפיפות &lt;span&gt;\( F_{Z_{n}} \)&lt;/span&gt; ופונקציות יוצרות הסתברות &lt;span&gt;\( M_{Z_{n}} \)&lt;/span&gt;, ואם &lt;span&gt;\( Z \)&lt;/span&gt; הוא משתנה מקרי עם פונקציית צפיפות &lt;span&gt;\( F_{Z} \)&lt;/span&gt; ופונקציה יוצרת הסתברות &lt;span&gt;\( M_{Z} \)&lt;/span&gt;, אז אם מתקיים &lt;span&gt;\( \lim_{n\to\infty}M_{Z_{n}}\left(t\right)=M_{Z}\left(t\right) \)&lt;/span&gt; עבור כל &lt;span&gt;\( t \)&lt;/span&gt;, אז &lt;span&gt;\( F_{Z_{n}}\left(t\right)\to F_{Z}\left(t\right) \)&lt;/span&gt; עבור כל &lt;span&gt;\( t \)&lt;/span&gt; שעבורו &lt;span&gt;\( F_{Z}\left(t\right) \)&lt;/span&gt; רציפה. במילים אחרות - מספיק לנו להראות שאיפה של סדרת הפונקציות יוצרות המומנטים כדי להראות שאיפה של פונקציות הצפיפות, שהן לכאורה האובייקט המורכב יותר.&lt;/p&gt;

&lt;p&gt;הטענה הזו היא טענה &lt;strong&gt;כבדה&lt;/strong&gt;. כדי להוכיח אותה אני אצטרך כנראה פוסט שלם (או אפילו יותר) ולהיכנס למתמטיקה טכנית יותר מאשר אני רוצה כרגע. המטרה שלי בפוסטים הללו היא לראות איך זה שהתפלגות נורמלית היא מה שהיא גורר את משפט הגבול המרכזי; אז בואו נראה איך טענת העזר הזו מוכיחה לנו את משפט הגבול המרכזי.&lt;/p&gt;

&lt;h2&gt;הוכחת משפט הגבול המרכזי&lt;/h2&gt;

&lt;p&gt;בואו נזכיר שוב מה אנחנו רוצים להוכיח. אנחנו לוקחים סדרה &lt;span&gt;\( X_{1},X_{2},\ldots \)&lt;/span&gt; של משתנים מקריים בלתי תלויים שמתפלגים באותו אופן, עם תוחלת &lt;span&gt;\( \mu \)&lt;/span&gt; וסטיית תקן &lt;span&gt;\( \sigma \)&lt;/span&gt;, מגדירים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( Z_{n}=\frac{X_{1}+\ldots+X_{n}-n\mu}{\sigma\sqrt{n}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ומקבלים שהסדרה &lt;span&gt;\( Z_{n} \)&lt;/span&gt; שואפת להתפלגות הנורמלית &lt;span&gt;\( N\left(0,1\right) \)&lt;/span&gt; כאשר &lt;span&gt;\( n \)&lt;/span&gt; שואף לאינסוף. מה שנוכיח הוא את המשפט למקרה שבו &lt;span&gt;\( \mu=0,\sigma=1 \)&lt;/span&gt;, כי אפשר לבצע רדוקציה מהמקרה הכללי למקרה הזה: אם נגדיר &lt;span&gt;\( Y_{i}=\frac{X_{i}-\mu}{\sigma} \)&lt;/span&gt; אז נקבל שהתוחלת של &lt;span&gt;\( Y_{i} \)&lt;/span&gt; היא 0 וסטיית התקן היא 1, ולכן &lt;span&gt;\( \frac{Y_{i}+\ldots+Y_{n}}{\sqrt{n}} \)&lt;/span&gt; שואפת אל &lt;span&gt;\( N\left(0,1\right) \)&lt;/span&gt;. עכשיו נציב את &lt;span&gt;\( Y_{i}=\frac{X_{i}-\mu}{\sigma} \)&lt;/span&gt; בביטוי &lt;span&gt;\( \frac{Y_{i}+\ldots+Y_{n}}{\sqrt{n}} \)&lt;/span&gt; ששואף ל-&lt;span&gt;\( N\left(0,1\right) \)&lt;/span&gt; ונקבל את הביטוי &lt;span&gt;\( \frac{X_{1}+\ldots+X_{n}-n\mu}{\sigma\sqrt{n}} \)&lt;/span&gt; שגם שואף ל-&lt;span&gt;\( N\left(0,1\right) \)&lt;/span&gt; כי זה אותו ביטוי.&lt;/p&gt;

&lt;p&gt;אם כן, מעתה והלאה נניח &lt;span&gt;\( \mu=0 \)&lt;/span&gt; ו-&lt;span&gt;\( \sigma=1 \)&lt;/span&gt; ולכן &lt;span&gt;\( Z_{n}=\frac{X_{1}+\ldots+X_{n}}{\sqrt{n}}=\frac{X_{1}}{\sqrt{n}}+\ldots+\frac{X_{n}}{\sqrt{n}} \)&lt;/span&gt;. המטרה שלי היא למצוא את &lt;span&gt;\( M_{Z_{n}}\left(t\right) \)&lt;/span&gt; - הפונקציה יוצרת המומנטים של &lt;span&gt;\( Z_{n} \)&lt;/span&gt;, ולראות לאן היא שואפת (כשאני אראה לאן היא שואפת זה מה ש&lt;strong&gt;יכתיב&lt;/strong&gt; לי את האופן שבו התפלגות נורמלית אמורה להיראות). מכיוון שהצגתי את &lt;span&gt;\( Z_{n} \)&lt;/span&gt; בתור סכום סופי, בואו קודם נראה איך הפונקציה יוצרת המומנטים של כל איבר בסכום נראית.&lt;/p&gt;

&lt;p&gt;ראשית, עבור &lt;span&gt;\( X_{i} \)&lt;/span&gt;, הפונקציה יוצרת המומנטים שלו היא &lt;span&gt;\( M\left(t\right)=\text{E}\left[e^{tX_{i}}\right] \)&lt;/span&gt;. שנית, עבור האיבר המנורמל &lt;span&gt;\( \frac{X_{i}}{\sqrt{n}} \)&lt;/span&gt; הפונקציה יוצרת המומנטים היא &lt;span&gt;\( \text{E}\left[e^{t\frac{X_{i}}{\sqrt{n}}}\right]=\text{E}\left[e^{\frac{t}{\sqrt{n}}X_{i}}\right]=M\left(\frac{t}{\sqrt{n}}\right) \)&lt;/span&gt;. ולכן עכשיו נקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( M_{Z_{n}}\left(t\right)=\text{E}\left[e^{tZ_{n}}\right]=\text{E}\left[e^{t\sum_{i=1}^{n}\frac{X_{i}}{\sqrt{n}}}\right]=\text{E}\left[\prod_{i=1}^{n}e^{t\frac{X_{i}}{\sqrt{n}}}\right] \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כי זה הקסם של אקספוננט - סכום במעריך הופך למכפלת אקספוננטים (על פי כללי החזקות: &lt;span&gt;\( e^{a+b}=e^{a}\cdot e^{b} \)&lt;/span&gt;).&lt;/p&gt;

&lt;p&gt;עכשיו, זה &lt;strong&gt;בהחלט לא נכון&lt;/strong&gt; באופן כללי שתוחלת של מכפלה היא מכפלת התוחלות, כלומר &lt;span&gt;\( \text{E}\left[XY\right]\ne\text{E}\left[X\right]\text{E}\left[Y\right] \)&lt;/span&gt; באופן כללי, וזה די ברור - אם זה היה נכון, היינו מקבלים ש-&lt;span&gt;\( \text{E}\left[X^{2}\right]=\text{E}\left[X\right]^{2} \)&lt;/span&gt; וכל מושג סטיית התקן היה נעלם. אבל השוויון &lt;span&gt;\( \text{E}\left[XY\right]=\text{E}\left[X\right]\text{E}\left[Y\right] \)&lt;/span&gt; דווקא &lt;strong&gt;כן נכון&lt;/strong&gt; אם &lt;span&gt;\( X,Y \)&lt;/span&gt; הם משתנים מקריים בלתי תלויים, וזה בדיוק מה שאני מניח כאן - שכל אברי הסדרה &lt;span&gt;\( X_{1},X_{2},\ldots,X_{n} \)&lt;/span&gt; הם בלתי תלויים, ולכן גם המשתנים &lt;span&gt;\( e^{t\frac{X_{i}}{\sqrt{n}}} \)&lt;/span&gt; שנבנים מתוכם. כך שאני מקבל:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \text{E}\left[\prod_{i=1}^{n}e^{t\frac{X_{i}}{\sqrt{n}}}\right]=\prod_{i=1}^{n}\text{E}\left[e^{t\frac{X_{i}}{\sqrt{n}}}\right]=\prod_{i=1}^{n}M\left(\frac{t}{\sqrt{n}}\right)=\left[M\left(\frac{t}{\sqrt{n}}\right)\right]^{n} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אז מה שאנחנו רוצים להבין הוא את הגבול &lt;span&gt;\( \lim_{n\to\infty}\left[M\left(\frac{t}{\sqrt{n}}\right)\right]^{n} \)&lt;/span&gt;. זה בעצם המקום הראשון שבו קופץ לעיניים למה “צריך” ש-&lt;span&gt;\( e \)&lt;/span&gt; יופיע בהתפלגות נורמלית. כזכור, אחת מהדרכים השקולות לתאר את &lt;span&gt;\( e^{x} \)&lt;/span&gt; היא באמצעות גבול: &lt;span&gt;\( e^{x}=\lim_{n\to\infty}\left(1+\frac{x}{n}\right)^{n} \)&lt;/span&gt;, אז העובדה שיש לנו בביטוי &lt;span&gt;\( \lim_{n\to\infty}\left[M\left(\frac{t}{\sqrt{n}}\right)\right]^{n} \)&lt;/span&gt; גבול שתלוי ב-&lt;span&gt;\( n \)&lt;/span&gt;, חזקה שהיא &lt;span&gt;\( n \)&lt;/span&gt; ואיבר פנימי שהוא &lt;span&gt;\( \frac{t}{\sqrt{n}} \)&lt;/span&gt; זה… מעורר חשד.&lt;/p&gt;

&lt;p&gt;עכשיו, איך מטפלים בביטוי &lt;span&gt;\( \left[M\left(\frac{t}{\sqrt{n}}\right)\right]^{n} \)&lt;/span&gt;? ה-&lt;span&gt;\( n \)&lt;/span&gt; במעריך הוא מעצבן, והדרך הסטנדרטית להיפטר ממנו היא לקחת לוגריתם להכל, כי &lt;span&gt;\( \left(a^{n}\right)=n\log a \)&lt;/span&gt;&lt;span&gt;\( \log \)&lt;/span&gt;. אז בואו נשאל את עצמנו מהו הגבול&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \lim_{n\to\infty}n\log M\left(\frac{t}{\sqrt{n}}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אם הגבול הזה יהיה &lt;span&gt;\( A \)&lt;/span&gt; והלוגריתם שלי הוא על בסיס &lt;span&gt;\( a \)&lt;/span&gt;, אז הגבול של &lt;span&gt;\( \lim_{n\to\infty}\left[M\left(\frac{t}{\sqrt{n}}\right)\right]^{n} \)&lt;/span&gt; יהיה &lt;span&gt;\( a^{A} \)&lt;/span&gt;. איזה בסיס של לוגריתם &lt;strong&gt;כדאי לי&lt;/strong&gt; לבחור? אני לא רוצה שיהיו לי החלטות שרירותיות, אז בואו נתקדם עם ההוכחה ונראה איזה בסיס יצוץ מאליו (ספוילר: &lt;span&gt;\( e \)&lt;/span&gt;. זה תמיד &lt;span&gt;\( e \)&lt;/span&gt;).&lt;/p&gt;

&lt;p&gt;אם כן, הביטוי שאנחנו צריכים להבין עכשיו הוא הפונקציה &lt;span&gt;\( \log M\left(\frac{t}{\sqrt{n}}\right) \)&lt;/span&gt;. הכל נהיה פשוט יותר אחרי שיש לנו סימונים, אז נסמן: &lt;span&gt;\( L\left(t\right)=\log M\left(t\right) \)&lt;/span&gt;, ועכשיו אנחנו רוצים להבין את הגבול &lt;span&gt;\( \lim_{n\to\infty}nL\left(\frac{t}{\sqrt{n}}\right) \)&lt;/span&gt;. איך עושים את זה? אין לי מושג, אבל לגשש בצורה עיוורת אפשר, ואחד מהכלים המועילים שיש לנו בחישוב גבולות הוא &lt;strong&gt;כלל לופיטל&lt;/strong&gt;. הרעיון בו פשוט: אם &lt;span&gt;\( f\left(x\right),g\left(x\right) \)&lt;/span&gt; הן שתי פונקציות כך ש-&lt;span&gt;\( \lim_{x\to\infty}f\left(x\right)=\lim_{x\to\infty}g\left(x\right)=0 \)&lt;/span&gt; אז &lt;span&gt;\( \lim_{x\to\infty}\frac{f\left(x\right)}{g\left(x\right)}=\lim_{x\to\infty}\frac{f^{\prime}\left(x\right)}{g^{\prime}\left(x\right)} \)&lt;/span&gt;. כלומר, בדומה לאינטגרציה בחלקים שבה השתמשתי בפוסט הקודם, גם כאן אפשר לחשב דברים על ידי גזירה של הפונקציות הרלוונטיות עד שיהיו פשוטות מספיק.&lt;/p&gt;

&lt;p&gt;אצלנו הגבול הוא לא של פונקציות אלא של סדרה, אבל כל עוד הפונקציות המעורבות הן רציפות מקבלים אותו דבר. אבל בשביל להשתמש בלופיטל אנחנו צריכים &lt;strong&gt;מנה &lt;/strong&gt;של שתי פונקציות ששואפות לאפס: אצלנו יש &lt;strong&gt;מכפלה&lt;/strong&gt; של שתי פונקציות, &lt;span&gt;\( nL\left(\frac{t}{\sqrt{n}}\right) \)&lt;/span&gt;, שאחת מהן (&lt;span&gt;\( n \)&lt;/span&gt;) בכלל שואפת לאינסוף… אה, הטריק פה הוא פשוט מאוד: &lt;span&gt;\( nL\left(\frac{t}{\sqrt{n}}\right)=\frac{L\left(\frac{t}{\sqrt{n}}\right)}{n^{-1}} \)&lt;/span&gt;, ועכשיו הפונקציה במכנה היא &lt;span&gt;\( \frac{1}{n} \)&lt;/span&gt; ששואפת לאפס כש-&lt;span&gt;\( n\to\infty \)&lt;/span&gt;. ומה קורה במונה? הרציפות של &lt;span&gt;\( L \)&lt;/span&gt; אומרת ש-&lt;span&gt;\( L\left(\frac{t}{\sqrt{n}}\right)\to L\left(0\right) \)&lt;/span&gt;, אבל מהו &lt;span&gt;\( L\left(0\right) \)&lt;/span&gt;? ומה נקבל אחרי שנגזור?&lt;/p&gt;

&lt;p&gt;ובכן, כזכור &lt;span&gt;\( L\left(t\right)=\log M\left(t\right) \)&lt;/span&gt;. מכיוון ש-&lt;span&gt;\( M\left(t\right)=\text{E}\left[e^{tX_{i}}\right] \)&lt;/span&gt; הרי ש-&lt;span&gt;\( M\left(0\right)=\text{E}\left[e^{0\cdot X_{i}}\right]=\text{E}\left[1\right]=1 \)&lt;/span&gt; כך ש-&lt;span&gt;\( L\left(0\right)=\log1=0 \)&lt;/span&gt;. זה טוב, זה בדיוק מה שאנחנו רוצים. עכשיו, מה עם הנגזרת? יש לנו כאן עסק עם הרכבה של פונקציות: &lt;span&gt;\( \log \)&lt;/span&gt; שמורכבת על &lt;span&gt;\( M \)&lt;/span&gt;. זה מצריך מאיתנו שני דברים: את הכלל של נגזרת של לוגריתם, ואת כלל השרשרת. והכלל לנגזרת של לוגריתם הוא&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left(\log_{a}t\right)^{\prime}=\frac{1}{t\ln a} \)&lt;/span&gt;, כאשר &lt;span&gt;\( \ln \)&lt;/span&gt; הוא לוגריתם על בסיס &lt;span&gt;\( e \)&lt;/span&gt;. הביטוי הזה הופך לפשוט יותר אם מלכתחילה הלוגריתם שלנו הוא על בסיס &lt;span&gt;\( e \)&lt;/span&gt;; אז מקבלים &lt;span&gt;\( \left(\log t\right)^{\prime}=\frac{1}{t} \)&lt;/span&gt;. אז יש לנו סיבה טובה לבחור שהלוגריתם שלנו יהיה על בסיס &lt;span&gt;\( e \)&lt;/span&gt;, מה שאומר שאחרי שנצליח לחשב את &lt;span&gt;\( \lim_{n\to\infty}n\log M\left(\frac{t}{\sqrt{n}}\right)=A \)&lt;/span&gt;, נקבל ש-&lt;span&gt;\( \lim_{n\to\infty}\left[M\left(\frac{t}{\sqrt{n}}\right)\right]^{n}=e^{A} \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;עכשיו, על פי כלל השרשרת &lt;span&gt;\( \left[f\left(g\left(x\right)\right)\right]^{\prime}=f^{\prime}\left(g\left(x\right)\right)g^{\prime}\left(x\right) \)&lt;/span&gt; אנחנו מקבלים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( L^{\prime}=\left(\log M\right)^{\prime}=\frac{M^{\prime}}{M} \)&lt;/span&gt; (יש לדבר כזה שם - “הנגזרת הלוגריתמית” של &lt;span&gt;\( M \)&lt;/span&gt;)&lt;/p&gt;

&lt;p&gt;ראינו כבר ש-&lt;span&gt;\( M\left(0\right)=1 \)&lt;/span&gt;. כמו כן, &lt;span&gt;\( M^{\prime}\left(0\right)=\text{E}\left[X\right]=\mu=0 \)&lt;/span&gt; (זוכרים? ראינו שככה פונקציה יוצרת מומנטים עובדת). אז קיבלנו ש-&lt;span&gt;\( L^{\prime}\left(0\right)=0 \)&lt;/span&gt;, מה שאומר שכלל לופיטל צפוי להיתקל בקשיים כי גם אחרי הגזירה המונה ישאף ל-0. אבל אפשר לגזור שוב! הפעם נשתמש בכלל לגזירה של מנה, &lt;span&gt;\( \left(\frac{f}{g}\right)^{\prime}=\frac{f^{\prime}g-fg^{\prime}}{g^{2}} \)&lt;/span&gt; ונקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( L^{\prime\prime}=\left(\frac{M^{\prime}}{M}\right)^{\prime}=\frac{M^{\prime\prime}M-\left(M^{\prime}\right)^{2}}{M^{2}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ולכן כשנציב &lt;span&gt;\( 0 \)&lt;/span&gt; ונשתמש בכך ש-&lt;span&gt;\( M\left(0\right)=1,M^{\prime}\left(0\right)=0,M^{\prime\prime}\left(0\right)=\text{E}\left[X^{2}\right]=\sigma^{2}+\mu^{2}=1 \)&lt;/span&gt;, נקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( L^{\prime\prime}\left(0\right)=\frac{1-0^{2}}{1}=1 \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;וזה כבר משהו לעבוד איתו! כל מה שנשאר לנו הוא לקחת את הביטוי &lt;span&gt;\( \frac{L\left(\frac{t}{\sqrt{n}}\right)}{n^{-1}} \)&lt;/span&gt; ולגזור בו (בנפרד!) את המונה והמכנה פעמיים. זה לא יהיה כזה נורא, נכון? נקודה אחת שצריך לשים לב אליה היא שהגזירה שלנו היא ביחס למשתנה &lt;span&gt;\( n \)&lt;/span&gt;, ואילו דווקא אל &lt;span&gt;\( t \)&lt;/span&gt; אנחנו מתייחסים בתור קבוע, כי הגבול שלנו הוא כש-&lt;span&gt;\( n \)&lt;/span&gt; רץ לאינסוף. זה הופך את הכל לטיפה יותר מסובך.&lt;/p&gt;

&lt;p&gt;כלל הגזירה הבסיסי ביותר הוא &lt;span&gt;\( \left(x^{a}\right)^{\prime}=ax^{a-1} \)&lt;/span&gt;. מכאן נקבל ש-&lt;span&gt;\( \left(n^{-1}\right)^{\prime}=-n^{-2} \)&lt;/span&gt; וש-&lt;span&gt;\( \left(\frac{1}{\sqrt{n}}\right)^{\prime}=\left(n^{-\frac{1}{2}}\right)^{\prime}=-\frac{1}{2}n^{-\frac{3}{2}} \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;הנגזרת של &lt;span&gt;\( L\left(\frac{t}{\sqrt{n}}\right) \)&lt;/span&gt; על פי כלל השרשרת היא &lt;span&gt;\( \left(\frac{t}{\sqrt{n}}\right)^{\prime}L^{\prime}\left(\frac{t}{\sqrt{n}}\right)=-\frac{t}{2}n^{-\frac{3}{2}}L^{\prime}\left(\frac{t}{\sqrt{n}}\right) \)&lt;/span&gt; , ולכן מכלל לופיטל אנחנו מקבלים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \lim_{n\to\infty}\frac{L\left(\frac{t}{\sqrt{n}}\right)}{n^{-1}}=\lim_{n\to\infty}\frac{-\frac{t}{2}n^{-\frac{3}{2}}L^{\prime}\left(\frac{t}{\sqrt{n}}\right)}{-n^{-2}}=\lim_{n\to\infty}\frac{tL^{\prime}\left(\frac{t}{\sqrt{n}}\right)}{2n^{-1/2}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;המונה עדיין שואף לאפס כש-&lt;span&gt;\( n\to\infty \)&lt;/span&gt; (כי ראינו &lt;span&gt;\( L^{\prime}\left(0\right)=0 \)&lt;/span&gt;) והמכנה, שהוא עכשיו &lt;span&gt;\( -\frac{2}{\sqrt{n}} \)&lt;/span&gt;, גם כן שואף לאפס, אז אפשר להשתמש שוב בכלל לופיטל. הנגזרת של המכנה תהיה &lt;span&gt;\( \left(2n^{-\frac{1}{2}}\right)^{\prime}=-n^{-\frac{3}{2}} \)&lt;/span&gt;. המונה יהיה כמו קודם (אל ה-&lt;span&gt;\( t \)&lt;/span&gt; שמופיע שם אנחנו כאמור מתייחסים בתור קבוע והוא לא משפיע על הגזירה). לכן נקבל מכלל לופיטל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \lim_{n\to\infty}\frac{tL^{\prime}\left(\frac{t}{\sqrt{n}}\right)}{2n^{-1/2}}=\lim_{n\to\infty}\frac{-\frac{t^{2}}{2}n^{-\frac{3}{2}}L^{\prime\prime}\left(\frac{t}{\sqrt{n}}\right)}{-n^{-3/2}}=\lim_{n\to\infty}\frac{t^{2}}{2}L^{\prime\prime}\left(\frac{t}{\sqrt{n}}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;הופה! העלמנו לגמרי את מה שהופיע במכנה! ועכשיו, בגלל ש-&lt;span&gt;\( L^{\prime\prime}\left(0\right)=1 \)&lt;/span&gt;, אנחנו מקבלים גבול פשוט במיוחד: &lt;span&gt;\( \lim_{n\to\infty}\frac{t^{2}}{2}L^{\prime\prime}\left(\frac{t}{\sqrt{n}}\right)=\frac{t^{2}}{2} \)&lt;/span&gt;. זה אומר שמצאנו את מה שהפונקציה יוצרת המומנטים של &lt;span&gt;\( Z_{n} \)&lt;/span&gt; שואפת אליו: &lt;span&gt;\( \lim_{n\to\infty}M_{Z_{n}}\left(t\right)=e^{\frac{t^{2}}{2}} \)&lt;/span&gt;. זה, סוף כל סוף, מסביר מאיפה מגיע &lt;span&gt;\( e^{\frac{t^{2}}{2}} \)&lt;/span&gt; להתפלגות הנורמלית - לפחות מבחינה טכנית - אם כי יש עוד שלב לא טריוויאלי אחד שצריך להתגבר עליו.&lt;/p&gt;

&lt;h2&gt;הפונקציה יוצרת המומנטים של התפלגות נורמלית&lt;/h2&gt;

&lt;p&gt;ההוכחה עדיין לא בדיוק הסתיימה. מה שהראיתי הוא שאם &lt;span&gt;\( Z \)&lt;/span&gt; הוא משתנה מקרי עם פונקציה יוצרת מומנטים &lt;span&gt;\( M_{Z}\left(t\right)=e^{\frac{t^{2}}{2}} \)&lt;/span&gt; אז הפונקציה יוצרת המומנטים של אברי הסדרה &lt;span&gt;\( Z_{n} \)&lt;/span&gt; תתכנס לפונקציה יוצרת המומנטים של &lt;span&gt;\( Z \)&lt;/span&gt;. המסקנה, מטענת העזר שציטטתי בלי הוכחה, היא ש-&lt;span&gt;\( F_{Z_{n}}\left(t\right) \)&lt;/span&gt; מתכנסת אל &lt;span&gt;\( F_{Z}\left(t\right) \)&lt;/span&gt;. אבל מהי פונקציית הצפיפות &lt;span&gt;\( F_{Z}\left(t\right) \)&lt;/span&gt;? זה השלב שבו צריך לקחת את ההתפלגות הנורמלית, לחשב את הפונקציה יוצרת המומנטים שלה ולקבל &lt;span&gt;\( e^{\frac{t^{2}}{2}} \)&lt;/span&gt;. זה חישוב די פשוט בהינתן כל החישובים שכבר עברנו, אבל יש כאן גם שאלה מעניינת - האם אפשר ללכת “בכיוון השני”? להתחיל מהשוויון שצריך להתקיים ולהסיק איך ההתפלגות הנורמלית אמורה להיראות?&lt;/p&gt;

&lt;p&gt;באופן כללי אני יכול לסמן &lt;span&gt;\( F_{Z}\left(z\right)=f\left(z\right) \)&lt;/span&gt; ואז להשתמש בשוויון &lt;span&gt;\( e^{t^{2}/2}=\text{E}\left[e^{tZ}\right] \)&lt;/span&gt; כש-&lt;span&gt;\( \text{E}\left[e^{tZ}\right] \)&lt;/span&gt; הוא מה ש&lt;strong&gt;מגדיר&lt;/strong&gt; את הפונקציה יוצרת המומנטים, ולקבל שאני צריך שיתקיים השוויון&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( e^{t^{2}/2}=\int_{-\infty}^{\infty}e^{tz}f\left(z\right)dz \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;הדבר הזה נקרא &lt;strong&gt;משוואה אינטגרלית&lt;/strong&gt;: בדומה למשוואה דיפרנציאלית, זו משוואה שבה הנעלם הוא לא סתם ערך מספרי אלא &lt;strong&gt;פונקציה&lt;/strong&gt;, והמידע שיש לנו על הפונקציה הזו מערב אינטגרל שלה. כמו עם משוואות דיפרנציאליות, פתרון משוואות אינטגרליות זה עניין מסובך והרבה פעמים לומר “אוקיי, בואו ננחש שהפתרון הוא מהצורה כך וכך…” הוא לגיטימי, אבל עבור המשוואה שלעיל דווקא יש שיטת פתרון כללית, פחות או יותר, בעזרת מה שנקרא &lt;strong&gt;התמרת לפלס&lt;/strong&gt;. להיכנס לזה לוקח אותי רחוק מדי ממה שאפשר לדבר עליו במרוכז כאן, אז בואו ננקוט בגישה השניה: נתחיל עם ההגדרה הידועה של &lt;span&gt;\( f\left(z\right) \)&lt;/span&gt; עבור התפלגות נורמלית ונראה שאנחנו מקבלים את השוויון למעלה. החישובים הספציפיים שנצטרך לבצע הם דומים למדי לחישובים שצריך לעשות אם פותרים את המשוואה האינטגרלית.&lt;/p&gt;

&lt;p&gt;אם כן, &lt;span&gt;\( f\left(z\right)=\frac{1}{\sqrt{2\pi}}e^{-z^{2}/2} \)&lt;/span&gt;, ולכן אנחנו מחשבים את האינטגרל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \frac{1}{\sqrt{2\pi}}\int_{-\infty}^{\infty}e^{tz}e^{-z^{2}/2}dz \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;לב העניין הוא מה שהולך בחזקה של &lt;span&gt;\( e \)&lt;/span&gt;. בהתחלה כתוב שם&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( tz-\frac{z^{2}}{2} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;לב הרעיון הטכני (גם פה וגם בגישת המשוואה האינטגרלית) הוא &lt;strong&gt;להשלים לריבוע&lt;/strong&gt; את הביטוי הזה; להכניס את ה-&lt;span&gt;\( z \)&lt;/span&gt;-ים בצורה יפה לסוגריים שאותם מעלים בריבוע, ואולי להוציא החוצה איזה קבוע שקשור ל-&lt;span&gt;\( t \)&lt;/span&gt;. זו בדיוק אותה השלמה לריבוע שאיתה גם פותרים משוואה ריבועית, &lt;a href=&quot;https://gadial.net/2023/12/16/quadratic_equations/&quot;&gt;כמו שהראיתי&lt;/a&gt; פעם בבלוג.&lt;/p&gt;

&lt;p&gt;אז ראשית, בואו נעשה חישובון:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( tz-\frac{z^{2}}{2}=-\frac{1}{2}\left(z^{2}-2tz\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;מה שבתוך הסוגריים כבר די קרוב למשהו ריבועי! רק צריך להוסיף ולחסר &lt;span&gt;\( t^{2} \)&lt;/span&gt;:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( -\frac{1}{2}\left(z^{2}-2tz\right)=-\frac{1}{2}\left(z^{2}-2tz+t^{2}-t^{2}\right)=\frac{t^{2}}{2}-\frac{1}{2}\left(z-t\right)^{2} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;בום! ה-&lt;span&gt;\( \frac{t^{2}}{2} \)&lt;/span&gt; שקיבלנו יהיה בדיוק אותו &lt;span&gt;\( \frac{t^{2}}{2} \)&lt;/span&gt; ב-&lt;span&gt;\( e^{t^{2}/2} \)&lt;/span&gt; שאנחנו מצפים לקבל בסוף הדרך. בואו נחזור אל האינטגרל:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \frac{1}{\sqrt{2\pi}}\int_{-\infty}^{\infty}e^{tz}e^{-z^{2}/2}dz=\frac{1}{\sqrt{2\pi}}\int_{-\infty}^{\infty}e^{t^{2}/2-\left(z-t\right)^{2}/2}dz \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו אפשר להוציא את הקבוע החוצה, תוך שימוש בכך ש-&lt;span&gt;\( e^{a-b}=e^{a}e^{-b} \)&lt;/span&gt;:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \frac{1}{\sqrt{2\pi}}\int_{-\infty}^{\infty}e^{t^{2}/2-\left(z-t\right)^{2}/2}dz=e^{t^{2}/2}\frac{1}{\sqrt{2\pi}}\int_{-\infty}^{\infty}e^{-\left(z-t\right)^{2}/2}dz \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;את האינטגרל &lt;span&gt;\( \frac{1}{\sqrt{2\pi}}\int_{-\infty}^{\infty}e^{-\left(z-t\right)^{2}/2}dz \)&lt;/span&gt; אנחנו כבר יודעים לחשב; שברנו עליו את הראש כשרצינו להוכיח שפונקציית הצפיפות של ההתפלגות הנורמלית מסתכמת ל-1. העובדה שאנחנו צריכים לעבור דרכו היא “חוק שימור הקושי” - גם אם הייתי מנסה ללכת דרך משוואות אינטגרליות הייתי צריך לצלול בים טכני של טענות כלליות על הלהטוטים שאנחנו יכולים לעשות במסגרת חדו”א; למזלי בגישה הנוכחית אני יכול פשוט לומר שכבר עשינו את זה. מה שראינו היה &lt;span&gt;\( \frac{1}{\sqrt{2\pi}}\int_{-\infty}^{\infty}e^{-\frac{x^{2}}{2}}dx=1 \)&lt;/span&gt;, וזה בדיוק אותו הדבר כמו אצלנו עד כדי החלפת המשתנה &lt;span&gt;\( x=z-t \)&lt;/span&gt; שלא משפיעה על האינטגרל כי גבולות האינטגרציה הם ממילא מ-&lt;span&gt;\( -\infty \)&lt;/span&gt; עד &lt;span&gt;\( \infty \)&lt;/span&gt; והיעקוביאן של ההחלפה (שהוא במקרה הזה פשוט נגזרת) יוצא 1.&lt;/p&gt;

&lt;h2&gt;ולסיום - אז למה הדברים הם כמו שהם?&lt;/h2&gt;

&lt;p&gt;לסיום סדרת הפוסטים הזו, בואו נחזור אל הפונקציה שאותה רצינו להבין: &lt;span&gt;\( f\left(x\right)=\frac{1}{\sqrt{2\pi}\sigma}e^{-\left(x-\mu\right)^{2}/2\sigma^{2}} \)&lt;/span&gt;, פונקציית הצפיפות של התפלגות נורמלית. בשלב הזה אנחנו כבר יודעים ש-&lt;span&gt;\( \pi \)&lt;/span&gt; כאן כדי להבטיח שהכל יסתכם ל-1, שה-&lt;span&gt;\( \mu \)&lt;/span&gt; וה-&lt;span&gt;\( \sigma \)&lt;/span&gt; מייצגים את התוחלת וסטיית התקן ואפשר לנרמל אותם החוצה ושהאקספוננט מגיע, בגדול, מזה שהפונקציה שמתארת התנהלות של סכום משתנים מקריים בלתי תלויים ומפולגים אחיד נראית כמו&lt;span&gt;\( \lim_{n\to\infty}\left[M\left(\frac{t}{\sqrt{n}}\right)\right]^{n} \)&lt;/span&gt;. וזה בעצם מגיע אל מה שהטריד &lt;strong&gt;אותי&lt;/strong&gt; עם משפט הגבול המרכזי: מה זה ה-&lt;span&gt;\( \frac{1}{\sqrt{n}} \)&lt;/span&gt; הזה? למה כדי לנרמל מחלקים דווקא בו? מה קרה ל-&lt;span&gt;\( \frac{1}{n} \)&lt;/span&gt; הישן והטוב? ולמה לחלק בכלל? בתחילת הפוסט הזכרתי את השימוש שעשיתי במשפט הגבול המרכזי - פשוט חיברתי את ה-&lt;span&gt;\( X_{i} \)&lt;/span&gt;-ים שלי וקירבתי את התוצאה הזו עם עקומה נורמלית; בשביל לעשות את זה לא הספיק לדעת רק את &lt;span&gt;\( \mu,\sigma \)&lt;/span&gt; אלא הייתי צריך להכניס גם את &lt;span&gt;\( n \)&lt;/span&gt; למשוואה: כפלתי ב-&lt;span&gt;\( n \)&lt;/span&gt; גם את &lt;span&gt;\( \mu \)&lt;/span&gt; וגם את &lt;span&gt;\( \sigma^{2} \)&lt;/span&gt; (כלומר, בפועל כפלתי את &lt;span&gt;\( \sigma \)&lt;/span&gt; ב-&lt;span&gt;\( \sqrt{n} \)&lt;/span&gt; והנה השורש צץ שוב).&lt;/p&gt;

&lt;p&gt;אבל מה היה קורה אם מלכתחילה הייתי מנרמל על ידי חלוקה ב-&lt;span&gt;\( n \)&lt;/span&gt; ולכן מגיע אל חישוב של &lt;span&gt;\( \lim_{n\to\infty}\left[M\left(\frac{t}{n}\right)\right]^{n} \)&lt;/span&gt;? התשובה, כמובן, היא ששום דבר לא היה עובד. כזכור, כדי להתמודד עם הגבול הזה הגדרתי &lt;span&gt;\( L\left(t\right)=\log M\left(t\right) \)&lt;/span&gt; ואז חישבתי את הגבול &lt;span&gt;\( \lim_{n\to\infty}nL\left(\frac{t}{\sqrt{n}}\right) \)&lt;/span&gt; באמצעות כלל לופיטל. עוד לפני שאומרים לופיטל, כבר ברור שהגבול &lt;span&gt;\( \lim_{n\to\infty}nL\left(\frac{t}{\sqrt{n}}\right) \)&lt;/span&gt; קיים בכלל רק בזכות זה שיש פה שני כוחות שונים וסותרים שמאזנים אחד את השני. ה-&lt;span&gt;\( n \)&lt;/span&gt; שבו כופלים שואף לאינסוף, בעוד שה-&lt;span&gt;\( L\left(\frac{t}{\sqrt{n}}\right) \)&lt;/span&gt; שואף לאפס. בגבולות מהצורה “משהו ששואף לאינסוף כפול משהו ששואף לאפס” פחות או יותר הכל יכול לקרות, והסיכוי שנקבל תוצאה סופית תלוי ביחסים העדינים בין שתי הפונקציות שאותם כופלים. כלל לופיטל הוא בדיוק דרך “לקלף” מעל שתי הפונקציות המעורבות שכבה אחר שכבה של סיבוכיות עד שמגיעים אל הגרעין העדין שלהן שאנחנו יודעים להשוות. ועכשיו חדל פילוסופיה ובואו נדבר תכל’ס. מה היה קורה אם היינו מחלקים ב-&lt;span&gt;\( n \)&lt;/span&gt; ולא ב-&lt;span&gt;\( \sqrt{n} \)&lt;/span&gt;? (אם לא היינו מחלקים &lt;strong&gt;בכלל&lt;/strong&gt; ב-&lt;span&gt;\( n \)&lt;/span&gt; אז היינו מקבלים &lt;span&gt;\( \lim_{n\to\infty}L\left(t\right)=L\left(t\right) \)&lt;/span&gt; וקבוע כפול אינסוף הוא אינסוף).&lt;/p&gt;

&lt;p&gt;בואו נעשה קופי-פייסט מההוכחה שכתבתי קודם ונחליף כל מופע של -&lt;span&gt;\( \sqrt{n} \)&lt;/span&gt; ב-&lt;span&gt;\( n \)&lt;/span&gt;, עם ההשלכות המתאימות:&lt;/p&gt;

&lt;p&gt;הנגזרת של &lt;span&gt;\( L\left(\frac{t}{n}\right) \)&lt;/span&gt; על פי כלל השרשרת היא &lt;span&gt;\( \left(\frac{t}{n}\right)^{\prime}L^{\prime}\left(\frac{t}{n}\right)=-tn^{-2}L^{\prime}\left(\frac{t}{n}\right) \)&lt;/span&gt; , ולכן מכלל לופיטל אנחנו מקבלים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \lim_{n\to\infty}\frac{L\left(\frac{t}{n}\right)}{n^{-1}}=\lim_{n\to\infty}\frac{-tn^{-2}L^{\prime}\left(\frac{t}{n}\right)}{-n^{-2}}=\lim_{n\to\infty}tL^{\prime}\left(\frac{t}{n}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;וזה… טוב? נפטרנו לגמרי מהגורם שבמכנה! אבל ראינו קודם ש-&lt;span&gt;\( L^{\prime}\left(0\right)=0 \)&lt;/span&gt;, כלומר &lt;span&gt;\( \lim_{n\to\infty}tL^{\prime}\left(\frac{t}{n}\right)=0 \)&lt;/span&gt;, וזה ממש לא טוב לנו. זה אומר שעבור המשתנה המקרי &lt;span&gt;\( Z_{n}=\frac{X_{1}+\ldots+X_{n}}{n} \)&lt;/span&gt; מתקיים &lt;span&gt;\( M_{Z}=e^{0}=1 \)&lt;/span&gt;, ובמילים אחרות - קיבלנו משתנה מקרי שכל המומנטים שלו הם 0. או, בניסוח שקצת יותר קל להבין - קיבלנו אפס. וזה לא אמור להיות מפתיע שקיבלנו אפס כי זה בדיוק מה שאומר &lt;strong&gt;אי-שוויון צ&apos;בישב&lt;/strong&gt; עבור התפלגויות שסטיית התקן שלהן היא אפס. כזכור, הוא אומר באופן כללי ש-&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( P\left(\left|X-\mu\right|\ge k\right)\le\frac{\sigma^{2}}{k^{2}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ואם סטיית התקן &lt;span&gt;\( \sigma=0 \)&lt;/span&gt; זה אומר שלכל &lt;span&gt;\( k&amp;gt;0 \)&lt;/span&gt;, ההסתברות ש-&lt;span&gt;\( X \)&lt;/span&gt; יקבל ערך שסוטה מהתוחלת ולו ב-&lt;span&gt;\( k \)&lt;/span&gt; היא פשוט 0. עגול. לא קירוב ולא כלום. עכשיו שוב, צריך להזכיר שזה &lt;strong&gt;לא&lt;/strong&gt; אומר שהמשתנה המקרי הוא זהותית אפס; כשאנחנו עוסקים במשתנים מקריים רציפים כל מה שזה יכול לומר הוא שמידת ההסתברות של קבוצת כל התוצאות ששונות מ-&lt;span&gt;\( \mu \)&lt;/span&gt; היא אפס.&lt;/p&gt;

&lt;p&gt;את מה שראינו עכשיו אפשר לקחת טיפה יותר רחוק. בפוסט הקודם הגדרתי &lt;span&gt;\( \overline{X}_{n}=\frac{X_{1}+X_{2}\ldots+X_{n}}{n} \)&lt;/span&gt; (שזה בדיוק מה שקראתי לו כאן &lt;span&gt;\( Z_{n} \)&lt;/span&gt;) ואז הוכחתי שבהסתברות 1 מתקיים &lt;span&gt;\( \overline{X}_{n}\to\mu \)&lt;/span&gt;. התוצאה הזו, שנקראה &lt;strong&gt;החוק החזק של המספרים הגדולים&lt;/strong&gt;, דיברה על ההתנהגות של כל הסדרה &lt;span&gt;\( \overline{X}_{n} \)&lt;/span&gt; “בבת אחת”. אפשר לדבר על זה גם מזווית טיפה שונה. הרי אנחנו יודעים ש-&lt;span&gt;\( \overline{X}_{n} \)&lt;/span&gt; לא בהכרח יהיה &lt;strong&gt;שווה&lt;/strong&gt; לתוחלת - אנחנו צריכים לקחת עוד ועוד איברים ולהגדיל את &lt;span&gt;\( n \)&lt;/span&gt; כדי שהממוצע יתקרב לתוחלת וגם אז הסיכוי שהוא יהיה שווה לה הוא לא בהכרח גדול. אבל אפשר להעריך בצורה גסה מה יהיה גודל הטעות, בעזרת צ’בישב.&lt;/p&gt;

&lt;p&gt;אז נניח שיש לי משתנה &lt;span&gt;\( X \)&lt;/span&gt; כך ש-&lt;span&gt;\( \text{E}\left[X\right]=\mu \)&lt;/span&gt; ו-&lt;span&gt;\( \text{Var}\left(X\right)=\sigma^{2} \)&lt;/span&gt;. עכשיו בניתי משתנה חדש, &lt;span&gt;\( \overline{X}_{n}=\frac{X_{1}+\ldots+X_{n}}{n} \)&lt;/span&gt;. מה התוחלת שלו? לינאריות התוחלת נותנת לנו&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \text{E}\left[\overline{X}_{n}\right]=\text{E}\left[\frac{X_{1}+\ldots+X_{n}}{n}\right]=\frac{\text{E}\left[X_{1}\right]+\ldots+\text{E}\left[X_{n}\right]}{n}=\frac{\mu+\ldots+\mu}{n}=\mu \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו, שונות של משתנים מקריים לא מקיימת לינאריות באופן כללי, אבל היא &lt;strong&gt;כן&lt;/strong&gt; משמרת חיבור של משתנים מקריים &lt;strong&gt;בלתי תלויים&lt;/strong&gt; (די בדומה לאיך שתוחלת של מכפלה של משתנים בלתי תלויים מתפרקת למכפלת תוחלות). בפוסט הקודם גם הזכרתי ש-&lt;span&gt;\( \text{Var}\left(\alpha X\right)=\alpha^{2}X \)&lt;/span&gt;. לכן אפשר לחשב:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \text{Var}\left(\overline{X}_{n}\right)=\text{Var}\left(\frac{X_{1}+\ldots+X_{n}}{n}\right)=\frac{\text{Var}\left(X_{1}\right)+\ldots+\text{Var}\left(X_{n}\right)}{n^{2}}=\frac{\sigma^{2}+\ldots\sigma^{2}}{n^{2}}=\frac{\sigma^{2}}{n} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ולכן מאי-שוויון צ’בישב:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( P\left(\left|\overline{X}_{n}-\mu\right|\ge\varepsilon\right)\le\frac{\sigma^{2}}{n\varepsilon^{2}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;המספר המעניין פה הוא ה-&lt;span&gt;\( n \)&lt;/span&gt; שנשאר במכנה. בזכותו, אם משאיפים את &lt;span&gt;\( n \)&lt;/span&gt; לאינסוף, מקבלים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \lim_{n\to\infty}P\left(\left|\overline{X}_{n}-\mu\right|\ge\varepsilon\right)=0 \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;זה מה שנקרא &lt;strong&gt;החוק החלש של המספרים הגדולים&lt;/strong&gt; (כי החוק החזק של המספרים הגדולים גורר אותו - ה”התכנסות” שלו היא חזקה יותר מההתכנסות שיש בחוק החלש) וזו דרך קצת יותר פשוטה לראות את “חוסר הטעם” שבהסתכלות על הממוצעים &lt;span&gt;\( \overline{X}_{n} \)&lt;/span&gt; אם אנחנו רוצים לקבל משתנה מקרי שמדמה את ההתפלגות של &lt;span&gt;\( X_{1}+\ldots+X_{n} \)&lt;/span&gt; כש-&lt;span&gt;\( n \)&lt;/span&gt; גדול. המיצוע שאנחנו עושים הוא “טוב מדי” - הוא משמר את המידע על ההתפלגות שבא לידי ביטוי בתוחלת &lt;span&gt;\( \mu \)&lt;/span&gt; אבל מוחק את המידע על ההתפלגות שבא לידי ביטוי בסטיית התקן &lt;span&gt;\( \sigma \)&lt;/span&gt;. המיצוע שבו מחלקים ב-&lt;span&gt;\( \sqrt{n} \)&lt;/span&gt; הוא “עדין” יותר ומשמר גם את המידע הזה, והוכחת החוק החלש של המספרים הגדולים נותנת עוד דרך לראות את זה - אם היינו מחלקים ב-&lt;span&gt;\( \sqrt{n} \)&lt;/span&gt; ומנסים להשתמש בצ’בישב, היינו מקבלים רק &lt;span&gt;\( P\left(\left|\frac{X_{1}+\ldots+X_{n}}{\sqrt{n}}-\mu\right|\ge\varepsilon\right)\le\frac{\sigma^{2}}{\varepsilon^{2}} \)&lt;/span&gt; שזו תוצאה מעניינת טיפה בפני עצמה אבל אין בה שאיפה לאפס של ההסתברות אלא רק חסם אחיד לכל הממוצעים, לא משנה כמה רחוק ניקח אותם.&lt;/p&gt;

&lt;p&gt;הקסם הגדול של משפט הגבול המרכזי בעיני, כמו שאמרתי כבר לפני כמה פוסטים, הוא שלא משנה כמה המשתנה &lt;span&gt;\( X \)&lt;/span&gt; שאנחנו מתחילים איתו הוא מורכב ומתוסבך - ההתנהגות של &lt;span&gt;\( X_{1}+\ldots+X_{n} \)&lt;/span&gt; תהיה ניתנת לקירוב מצוין רק עם שני הפרמטרים המספריים &lt;span&gt;\( \mu,\sigma \)&lt;/span&gt;. ראינו את זה בתוך ההוכחה של משפט הגבול המרכזי עצמו (היינו צריכים רק לדעת את &lt;span&gt;\( L^{\prime}\left(0\right) \)&lt;/span&gt; ואת &lt;span&gt;\( L^{\prime\prime}\left(0\right) \)&lt;/span&gt; כדי לקבל אותו ולא משהו שתלוי במומנטים מתקדמים יותר) וראינו את זה גם עם החוק החלש של המספרים הגדולים עכשיו (אם המומנט השני הוא אפס גורלה של ההתפלגות נחרץ להיות קבועה בהסתברות 1), אבל למרות שראינו את זה אני עדיין מתקשה להאמין לזה. אולי כי זו לא סתם תוצאה מספרית - זה משהו שבאמת בא לידי ביטוי אמפירית, במציאות, בעולם שלנו, ומשפיע עלינו בשלל דרכים שונות. גם זה אחד מהקסמים של המתמטיקה.&lt;/p&gt;</content><author><name></name></author><category term="התפלגות נורמלית" /><summary type="html">אז מה משפט הגבול המרכזי אומר?</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://gadial.net/assets/img/2025/histogram_10.png" /><media:content medium="image" url="http://gadial.net/assets/img/2025/histogram_10.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">מה הקטע עם התפלגות נורמלית? (חלק ג’: על תוחלת וסטיית תקן)</title><link href="http://gadial.net/2025/02/05/normal_distribution_3/" rel="alternate" type="text/html" title="מה הקטע עם התפלגות נורמלית? (חלק ג&apos;: על תוחלת וסטיית תקן)" /><published>2025-02-05T00:00:00+00:00</published><updated>2025-02-05T00:00:00+00:00</updated><id>http://gadial.net/2025/02/05/normal_distribution_3</id><content type="html" xml:base="http://gadial.net/2025/02/05/normal_distribution_3/">&lt;h2&gt;מבוא&lt;/h2&gt;

&lt;p&gt;בסדרת הפוסטים הנוכחית אנחנו מנסים להבין למה ההתפלגות הנורמלית &lt;span&gt;\( f\left(x\right)=\frac{1}{\sqrt{2\pi}\sigma}e^{-\left(x-\mu\right)^{2}/2\sigma^{2}} \)&lt;/span&gt; נראית כמו שהיא נראית. &lt;a href=&quot;https://gadial.net/2025/02/03/normal_distribution_2/&quot;&gt;בפוסט הקודם&lt;/a&gt; הבנו מה הפונקציה הזו בכלל אומרת - זו &lt;strong&gt;פונקציית צפיפות ההסתברות&lt;/strong&gt; של ההתפלגות הנורמלית, כלומר אם &lt;span&gt;\( X \)&lt;/span&gt; הוא המשתנה המקרי שמתואר על ידי הפונקציה הזו, אז &lt;span&gt;\( P\left(a\le X\le b\right)=\int_{a}^{b}\frac{1}{\sqrt{2\pi}\sigma}e^{-\left(x-\mu\right)^{2}/2\sigma^{2}}dx \)&lt;/span&gt;. בפוסט הקודם גם ראינו מאיפה ה-&lt;span&gt;\( \pi \)&lt;/span&gt; הגיע - זה קבוע נרמול שנדרש כדי שיתקיים &lt;span&gt;\( \int_{-\infty}^{\infty}\frac{1}{\sqrt{2\pi}\sigma}e^{-\frac{x^{2}}{2}}=1 \)&lt;/span&gt;. אבל מה הם ה-&lt;span&gt;\( \mu \)&lt;/span&gt; וה-&lt;span&gt;\( \sigma \)&lt;/span&gt; שמופיעים בנוסחה? אלו שני פרמטרים שמאפיינים לא רק את ההתפלגות הזו, אלא כל התפלגות שהיא: &lt;strong&gt;התוחלת&lt;/strong&gt; &lt;span&gt;\( \mu \)&lt;/span&gt; של ההתפלגות, &lt;strong&gt;וסטיית התקן&lt;/strong&gt; &lt;span&gt;\( \sigma \)&lt;/span&gt; שלה. באופן לא פורמלי, תוחלת של התפלגות היא הממוצע שלה, וסטיית התקן מלמדת אותנו כמה גדול הפיזור של ההתפלגות סביב הממוצע הזה. מה שמפליא הוא כמה מידע על ההתפלגות נמצא כבר בשני הערכים המספריים הללו - וההמחשה לזה היא בדיוק &lt;strong&gt;משפט הגבול המרכזי&lt;/strong&gt;, שאומר שאם אנחנו יודעים את התוחלת וסטיית התקן של התפלגות, אז נדע בדיוק איך נראה מה שמתקבל מסכומים גדולים של משתנים מקריים בלתי תלויים בעלי ההתפלגות הזו.&lt;/p&gt;

&lt;p&gt;בואו נעבור להגדרות פורמליות, ונראה איך זה בא לידי ביטוי בהתפלגות נורמלית ובהתפלגויות אחרות שראינו.&lt;/p&gt;

&lt;h2&gt;תוחלת&lt;/h2&gt;

&lt;p&gt;מה זה “ממוצע”? אם למשל יש לנו את סדרת המספרים &lt;span&gt;\( 10,30,50,60,90 \)&lt;/span&gt; הממוצע שלה היא הסכום של כל המספרים חלקי כמה מספרים יש: &lt;span&gt;\( \frac{10+30+50+60+90}{5}=\frac{240}{5}=48 \)&lt;/span&gt;. מה המשמעות של המספר הזה, 48? אפשר לחשוב על זה כך: אם נחליף כל איבר בסדרה ב-48, נקבל סדרה &lt;span&gt;\( 48,48,48,48,48 \)&lt;/span&gt; שסכום האיברים שלה שווה לסכום אברי הסדרה המקורית.&lt;/p&gt;

&lt;p&gt;את הרעיון הזה אפשר להכליל קצת: אם למשל הסדרה שלנו היא &lt;span&gt;\( 30,60,60 \)&lt;/span&gt; אז הממוצע שלה הוא &lt;span&gt;\( 50 \)&lt;/span&gt;, אבל אפשר גם “לאחד” את שני ה-60-ים ולהגיד שיש בסדרה שלנו שני איברים: האיבר &lt;span&gt;\( 30 \)&lt;/span&gt; עם &lt;strong&gt;המשקל&lt;/strong&gt; 1, והאיבר &lt;span&gt;\( 60 \)&lt;/span&gt; עם &lt;strong&gt;המשקל&lt;/strong&gt; 2. מה שאנחנו עושים הוא לסכום את האיברים כשכל אחד מוכפל במשקל שלו, ולחלק בסכום הכולל של המשקלים. אולי קל יותר להבין את זה עם נוסחה: אם יש לנו את הסדרה &lt;span&gt;\( a_{1},a_{2},\ldots,a_{n} \)&lt;/span&gt; ואת המשקלים &lt;span&gt;\( w_{1},\ldots,w_{n} \)&lt;/span&gt; אז &lt;strong&gt;הממוצע המשוקלל&lt;/strong&gt; הוא &lt;span&gt;\( \frac{\sum_{i=1}^{n}w_{i}a_{i}}{\sum_{i=1}^{n}w_{i}} \)&lt;/span&gt;. כאשר כל המשקלים הם 1 אנחנו מקבלים את הגדרת הממוצע הקודמת.&lt;/p&gt;

&lt;p&gt;ההגדרה של ממוצע משוקלל לא דורשת שום דבר מהמשקלים, חוץ מכך שהסכום שלהם יהיה שונה מאפס (אחרת יקרה משהו מוזר כשמנסים לחלק) אבל כמובן, ההגדרה הזו יוצאת פשוטה במיוחד אם &lt;span&gt;\( 0\le w_{i}\le1 \)&lt;/span&gt; ובנוסף &lt;span&gt;\( \sum_{i=1}^{n}w_{i} \)&lt;/span&gt;; אנחנו מקבלים שהממוצע המשוקלל הוא פשוט &lt;span&gt;\( \sum_{i=1}^{n}w_{i}a_{i} \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;איך כל זה קשור להסתברות? ובכן, הסתברות היא בדיוק המקרה שבו יש לנו איברים &lt;span&gt;\( 0\le w_{i}\le1 \)&lt;/span&gt; שמסתכמים ל-1: אם יש לנו מרחב הסתברות ו-&lt;span&gt;\( X \)&lt;/span&gt; הוא משתנה מקרי שמקבל מספר &lt;strong&gt;סופי&lt;/strong&gt; של ערכים, נאמר הערכים &lt;span&gt;\( a_{1},a_{2},\ldots,a_{n} \)&lt;/span&gt;, אז אפשר להסתכל על הממוצע המשוקלל &lt;span&gt;\( \sum_{i=1}^{n}P\left(X=a_{i}\right)\cdot a_{i} \)&lt;/span&gt;. כלומר, אנחנו לוקחים את הממוצע המשוקלל של ה-&lt;span&gt;\( a_{i} \)&lt;/span&gt;-ים כשהמשקולות הן בדיוק ההסתברויות ש-&lt;span&gt;\( a_{i} \)&lt;/span&gt; יעלה בגורל. סכום כזה נקרא &lt;strong&gt;תוחלת&lt;/strong&gt; ומסומן ב-&lt;span&gt;\( E\left[X\right] \)&lt;/span&gt;. אם מרחב המדגם הוא אינסופי העניינים מן הסתם מסתבכים קצת מתמטית אבל הרעיון זהה: &lt;span&gt;\( \text{E}\left[X\right]=\sum_{i=1}^{\infty}P\left(X=a_{i}\right)\cdot a_{i} \)&lt;/span&gt; עבור מרחב מדגם אינסופי בדיד, ו-&lt;span&gt;\( \text{E}\left[X\right]=\int_{-\infty}^{\infty}p\left(x\right)xdx \)&lt;/span&gt; עבור מרחב מדגם אינסופי רציף.&lt;/p&gt;

&lt;p&gt;למה ממוצע משוקלל כזה הוא מעניין? אנחנו הרי מצפים שהוא ילמד אותנו משהו על המשתנה המקרי &lt;span&gt;\( X \)&lt;/span&gt; ולא סתם יהיה הגדרה לשם הגדרה. כאן זו אחת מהסיטואציות הנדירות שבהן המתמטיקה הייתה מדע &lt;strong&gt;אמפירי&lt;/strong&gt;: קודם כל התגלתה תופעה, ואחר כך הוכיחו אותה מתמטית. התופעה הייתה האבחנה שאם אנחנו חוזרים על אותו ניסוי הסתברותי מספרי שוב ושוב, &lt;strong&gt;הממוצע&lt;/strong&gt; של התוצאות שלנו נוטה להיות יציב יחסית ככל שמספר הניסויים שאנחנו מבצעים גדל. בואו נראה דוגמא קונקרטית לזה עם הטלת קוביה. בימינו, למרבה השמחה, אפשר לרתום את המחשב לניסויים כאלו, אז הנה קוד פייתון קצרצר:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;random&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;N&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;100000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1000000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]:&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;f&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;N&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;: &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;randint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;N&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;N&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;מה שהקוד הזה עושה הוא להטיל קוביה מספר כלשהו של פעמים שמסומן ב-&lt;span&gt;\( N \)&lt;/span&gt;, ואז לחשב את ממוצע ההטלות. אנחנו עושים את הניסוי הזה בנפרד עבור ערכי &lt;span&gt;\( N \)&lt;/span&gt; מ-&lt;span&gt;\( 10 \)&lt;/span&gt; עד &lt;span&gt;\( 10^{6} \)&lt;/span&gt;, ולכל אחד מהם אנחנו מדפיסים את הממוצע. כשאני עשיתי את זה, קיבלתי:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;3.1&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;3.56&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;3.372&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;10000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;3.4951&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;100000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;3.50129&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;1000000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;3.499845&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;די בבירור, הממוצע מתקרב אל &lt;span&gt;\( 3.5 \)&lt;/span&gt;. זו אבחנה אמפירית; אבל אם אנחנו רוצים לדעת לאן הממוצע ישאף אנחנו &lt;strong&gt;לא צריכים&lt;/strong&gt; לבצע ניסויים בפועל - אנחנו יכולים פשוט &lt;strong&gt;לחשב&lt;/strong&gt; את זה, ואיכשהו מובטח שהמציאות תסתדר בהתאם לחישוב שלנו. הערך שאנחנו מחשבים הוא - הפתעה הפתעה - התוחלת של המשתנה המקרי שמתאר את הניסוי.&lt;/p&gt;

&lt;p&gt;במקרה שלנו, &lt;span&gt;\( X \)&lt;/span&gt; מקבל כל ערך בין 1 ל-6 בהסתברות &lt;span&gt;\( \frac{1}{6} \)&lt;/span&gt; לכל איבר, אז על פי הגדרה &lt;span&gt;\( E\left[X\right]=\frac{1+2+3+4+5+6}{6}=\frac{21}{6}=3.5 \)&lt;/span&gt;. אין פה הפתעה, אבל מה שכן יש פה הוא חישוב פשוט למדי, שלא מצריך הטלת מיליון קוביות. והיופי פה הוא שזה עובד &lt;strong&gt;תמיד&lt;/strong&gt;, לכל משתנה מקרי &lt;span&gt;\( X \)&lt;/span&gt; שאנחנו משכפלים &lt;span&gt;\( n \)&lt;/span&gt; עותקים זהים שלו שהם בלתי תלויים אחד בשני ומסתכלים על הממוצע של כולם (טוב, &lt;a href=&quot;https://gadial.net/2008/07/25/envelope_paradox/&quot;&gt;כמעט תמיד&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;לתופעה הזו קוראים &lt;strong&gt;חוק המספרים הגדולים&lt;/strong&gt;. יש כמה ניסוחים למשפט שאומר “מה הולך פה” והניסוח הנפוץ הוא בדרך כלל של מה שנקרא &lt;strong&gt;החוק החזק של המספרים הגדולים&lt;/strong&gt; שלא אוכיח כרגע אבל כן אסביר מה הוא אומר. אנחנו מתחילים עם סדרה אינסופית של משתנים מקריים &lt;span&gt;\( X_{1},X_{2},X_{3},\ldots \)&lt;/span&gt; שכולם מתפלגים באותו האופן (כלומר, בעלי אותה פונקצית צפיפות הסתברות) והם בלתי תלויים, במובן הבא: &lt;span&gt;\( X,Y \)&lt;/span&gt; הם בלתי תלויים אם לכל שתי קבוצות אפשריות של תוצאות &lt;span&gt;\( A,B \)&lt;/span&gt; מתקיים &lt;span&gt;\( P\left(X\in A\wedge Y\in B\right)=P\left(X\in A\right)P\left(Y\in B\right) \)&lt;/span&gt;; ראינו את זה טיפה בפוסט הקודם ולא אתעכב על זה הפעם.&lt;/p&gt;

&lt;p&gt;עכשיו, מכיוון שכל המשתנים מתפלגים אותו דבר, יש להם אותה תוחלת. באופן כללי תוחלת עשויה להיות אינסופית או לא מוגדרת, אבל נניח שכאן היא מספר סופי, &lt;span&gt;\( E\left[X_{i}\right]=\mu \)&lt;/span&gt;. במקרה הזה אנחנו יכולים להסתכל על המשתנה המקרי &lt;span&gt;\( \overline{X}_{n}=\frac{X_{1}+X_{2}\ldots+X_{n}}{n} \)&lt;/span&gt;, שהוא המשתנה שמתאר את הממוצע (הרגיל, הלא משוקלל) של &lt;span&gt;\( n \)&lt;/span&gt; התוצאות הראשונות בסדרת המשתנים המקריים. החוק החזק של המספרים הגדולים אומר שמתקיים &lt;span&gt;\( \overline{X}_{n}\to\mu \)&lt;/span&gt; בהסתברות 1. בואו נבין טיפה יותר מה זה אומר בעצם.&lt;/p&gt;

&lt;p&gt;ה-&lt;span&gt;\( \overline{X}_{n} \)&lt;/span&gt;-ים שהגדרנו מתארים &lt;strong&gt;סדרה&lt;/strong&gt; של משתנים שמתארת את הממוצעים ההולכים-ומשתפרים: &lt;span&gt;\( \overline{X}_{1},\overline{X}_{2},\overline{X}_{3},\ldots \)&lt;/span&gt;. אם אנחנו דוגמים איבר &lt;span&gt;\( a \)&lt;/span&gt; כלשהו במרחב המדגם שלנו, הוא ייתן למשתנים &lt;span&gt;\( X_{1},X_{2},\dots \)&lt;/span&gt; ערכים קונקרטיים שהם מספרים ממשיים: &lt;span&gt;\( X_{1}\left(a\right),X_{2}\left(a\right),\ldots \)&lt;/span&gt;, ולכן גם בסדרת הממוצעים נקבל ערכים קונקרטיים &lt;span&gt;\( \overline{X}_{1}\left(a\right),\overline{X}_{2}\left(a\right),\ldots \)&lt;/span&gt;; כלומר, בהינתן שאנחנו מסתכלים על איבר קונקרטי של מרחב המדגם, קיבלנו סדרה “רגילה” של מספרים ממשיים. על סדרה “רגילה” של ממשיים אפשר לשאול האם היא מקיימת את התכונה &lt;span&gt;\( \lim_{n\to\infty}\overline{X}_{n}\left(a\right)=\mu \)&lt;/span&gt;, כלומר האם לכל &lt;span&gt;\( \varepsilon&amp;gt;0 \)&lt;/span&gt; קיים &lt;span&gt;\( N \)&lt;/span&gt; כך שלכל &lt;span&gt;\( n&amp;gt;N \)&lt;/span&gt; מתקיים &lt;span&gt;\( \left|\overline{X}_{n}\left(a\right)-\mu\right|&amp;lt;\varepsilon \)&lt;/span&gt;. לכל &lt;span&gt;\( a \)&lt;/span&gt; במרחב המדגם שלנו התשובה לשאלה הזו היא או “כן” או “לא”. החוק החזק של המספרים הגדולים אומר שקבוצת כל ה-&lt;span&gt;\( a \)&lt;/span&gt;-ים שעבורה התשובה היא “לא” היא ממידה אפס (זה לא אומר שזה לא יכול לקרות; זה אומר שזה זניח).&lt;/p&gt;

&lt;p&gt;אני לא אוכיח כאן את חוק המספרים הגדולים; אני בעיקר משתמש בו כדי לתת מוטיבציה לסיבה שבגללה מושג התוחלת קופץ לנו לפרצוף ודורש שנגדיר אותו. יש עוד שימושים דומים לתוחלת, כשהפשוט שבהם הוא כנראה &lt;strong&gt;אי שוויון מרקוב&lt;/strong&gt;: אם &lt;span&gt;\( X \)&lt;/span&gt; הוא משתנה מקרי שמקבל רק ערכים אי-שליליים ו-&lt;span&gt;\( a&amp;gt;0 \)&lt;/span&gt; כלשהו, אז&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( P\left(X\ge a\right)\le\frac{\text{E}\left[X\right]}{a} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;בניסוח שקול שקצת יותר מאפשר להבין מה הקטע אפשר להכניס את התוחלת לתוך אי השוויון:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( P\left(X\ge a\cdot\text{E}\left[X\right]\right)\le\frac{1}{a} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כלומר, זה נותן הערכה גסה לשאלה מה הסיכוי ש-&lt;span&gt;\( X \)&lt;/span&gt; יהיה גדול מפי 2 התוחלת שלו (פחות מחצי), מפי 3 התוחלת שלו (פחות משליש) וכו’. זו באמת הערכה גסה, אבל לעתים קרובות היא מספיקה כדי להוכיח את מה שרוצים לעשות באותו רגע ולכן, בנוסף לפשטות שלו, אי השוויון הזה הוא כלי שימושי מאוד.&lt;/p&gt;

&lt;p&gt;ההוכחה של אי שוויון מרקוב מצחיקה בכמה שהיא פשוטה. אני מגדיר משתנה מקרי &lt;span&gt;\( I \)&lt;/span&gt; שהוא מה שנקרא &lt;strong&gt;אינדיקטור&lt;/strong&gt;: משתנה מקרי שמקבל או 0 או 1, ולכן בעצם נותן “אינדיקציה” לכך שאירוע מסוים קרה או לא. במקרה שלנו:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( I=\begin{cases} 1 &amp;amp; X\ge a\\ 0 &amp;amp; X&amp;lt;a \end{cases} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;התוחלת של אינדיקטור, ממש על פי ההגדרה, היא ההסתברות שהאירוע שנותן 1 קרה, כלומר &lt;span&gt;\( E\left[I\right]=P\left(X\ge a\right) \)&lt;/span&gt;. עכשיו, שימו לב ש-&lt;span&gt;\( I\le\frac{X}{a} \)&lt;/span&gt; ותאמינו לי שאפשר פשוט לקחת תוחלת לשני האגפים ולהוציא את הקבוע החוצה, ונקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( P\left(X\ge a\right)=E\left[I\right]=\frac{E\left[X\right]}{a} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אתם כמובן לא אמורים להאמין לי שפשוט אפשר לעשות את זה, אבל אני לא אוכיח את זה הפעם. את הקטע עם “להוציא את הקבוע החוצה” אפשר להכליל - התוחלת מקיימת תכונה מועילה מאוד שנקראת &lt;strong&gt;לינאריות&lt;/strong&gt;: אם &lt;span&gt;\( X,Y \)&lt;/span&gt; הם משתנים מקריים כלשהם (שיכולים להיות גם תלויים) ו-&lt;span&gt;\( \alpha,\beta \)&lt;/span&gt; הם קבועים מספריים, אז &lt;span&gt;\( \text{E}\left[\alpha X+\beta Y\right]=\alpha\text{E}\left[X\right]+\beta\text{E}\left[Y\right] \)&lt;/span&gt; (ואפשר להכליל את זה לסכום סופי כלשהו של משתנים מקריים).&lt;/p&gt;

&lt;p&gt;הראיתי את המושג האבסטרקטי של תוחלת ואיזו דוגמא מסכנה עם הטלת קוביה, אבל זה לא מספיק, בואו נראה דוגמא קונקרטית - מה שנקרא &lt;strong&gt;התפלגות בינומית&lt;/strong&gt;. בהתפלגות בינומית יש לנו ניסוי בסיסי שחוזר על עצמו עם הסתברות &lt;span&gt;\( p \)&lt;/span&gt; להצליח ו-&lt;span&gt;\( q=1-p \)&lt;/span&gt; להיכשל בכל פעם; כבר ראינו שאם חוזרים על הניסוי &lt;span&gt;\( n \)&lt;/span&gt; פעמים אז ההסתברות לקבל בדיוק &lt;span&gt;\( k \)&lt;/span&gt; הצלחות היא &lt;span&gt;\( p\left(X=k\right)={n \choose k}p^{k}q^{n-k} \)&lt;/span&gt;. לכן, התוחלת של המשתנה המקרי הזה היא&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \text{E}\left[X\right]=\sum_{k=0}^{n}k{n \choose k}p^{k}q^{n-k} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;יש טריק מתמטי לא מסובך שמאפשר לחשב את הסכום הזה, אבל למרבה השמחה הוא עובד באופן קצת יותר כללי ויאפשר לחשב לא רק את &lt;span&gt;\( \text{E}\left[X\right] \)&lt;/span&gt; אלא גם את &lt;span&gt;\( \text{E}\left[X^{t}\right] \)&lt;/span&gt; לכל חזקה טבעית &lt;span&gt;\( t \)&lt;/span&gt;, וזה הולך לעזור לנו בקרוב (הערכים &lt;span&gt;\( \text{E}\left[X^{t}\right] \)&lt;/span&gt; נקראים &lt;strong&gt;המומנטים&lt;/strong&gt; של המשתנה המקרי &lt;span&gt;\( X \)&lt;/span&gt; ויש להם חשיבות באופן כללי). הסכום במקרה הכללי יותר הזה הוא&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \text{E}\left[X^{t}\right]=\sum_{k=0}^{n}k^{t}{n \choose k}p^{k}q^{n-k} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כי הדרך היחידה שבה הערך &lt;span&gt;\( k^{t} \)&lt;/span&gt; יכול להתקבל על ידי המשתנה &lt;span&gt;\( X^{t} \)&lt;/span&gt; היא אם הערך &lt;span&gt;\( k \)&lt;/span&gt; יתקבל על ידי המשתנה &lt;span&gt;\( X \)&lt;/span&gt;, כלומר &lt;strong&gt;ההסתברות&lt;/strong&gt; היא אותו דבר וכל מה שהשתנה הוא שמופיע בתחילת הסכום &lt;span&gt;\( k^{t} \)&lt;/span&gt; במקום סתם &lt;span&gt;\( k \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;עכשיו, קודם כל שימו לב שאם &lt;span&gt;\( k=0 \)&lt;/span&gt; האיבר שמתאים למקרה הזה הוא פשוט אפס, כלומר אפשר לכתוב&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \text{E}\left[X^{t}\right]=\sum_{k=1}^{n}k^{t}{n \choose k}p^{k}q^{n-k} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;הטריק הוא עכשיו לפתוח את ההגדרה של &lt;span&gt;\( {n \choose k}=\frac{n!}{k!\left(n-k\right)!} \)&lt;/span&gt; ולקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( k{n \choose k}=k\cdot\frac{n!}{k!\left(n-k\right)!}=n\frac{k}{k!}\cdot\frac{\left(n-1\right)!}{\left(n-k\right)!}=n\frac{\left(n-1\right)!}{\left(k-1\right)!\left(n-k\right)!}=n{n-1 \choose k-1} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;נציב את זה אצלנו ועל הדרך נוציא &lt;span&gt;\( p \)&lt;/span&gt; אחד החוצה כדי להקטין את החזקה של &lt;span&gt;\( p \)&lt;/span&gt; באחד:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \sum_{k=1}^{n}k^{t}{n \choose k}p^{k}q^{n-k}=np\sum_{k=1}^{n}k^{t-1}{n-1 \choose k-1}p^{k-1}q^{n-k} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו נבצע החלפת משתנה &lt;span&gt;\( i=k-1 \)&lt;/span&gt;. כלומר כש-&lt;span&gt;\( k=1 \)&lt;/span&gt; אז &lt;span&gt;\( i=0 \)&lt;/span&gt; ואילו כש-&lt;span&gt;\( k=n \)&lt;/span&gt; אז &lt;span&gt;\( i=n-1 \)&lt;/span&gt;, ולכן&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( np\sum_{k=1}^{n}k^{t-1}{n-1 \choose k-1}p^{k-1}q^{n-k}=np\sum_{i=0}^{n-1}\left(i+1\right)^{t-1}{n-1 \choose i}p^{i}q^{n-i-1} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו בואו נסתכל על הביטוי שקיבלנו בסכום:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \sum_{i=0}^{n-1}\left(i+1\right)^{t-1}{n-1 \choose i}p^{i}q^{n-i-1} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;חוץ מה-&lt;span&gt;\( \left(i+1\right)^{t-1} \)&lt;/span&gt; בהתחלה זה נראה בדיוק כמו סכום על ההסתברויות של משתנה בינומי אחר שאסמן &lt;span&gt;\( Y \)&lt;/span&gt;, עם &lt;span&gt;\( n-1 \)&lt;/span&gt; נסיונות ואותן הסתברויות הצלחה וכישלון &lt;span&gt;\( p,q \)&lt;/span&gt;. ה-&lt;span&gt;\( \left(i+1\right)^{t-1} \)&lt;/span&gt; בתחילת הסכום נראה קצת מוזר אבל אם חושבים על זה, רואים שהסכום פשוט שווה אל &lt;span&gt;\( \text{E}\left[\left(Y+1\right)^{t-1}\right] \)&lt;/span&gt;. כלומר קיבלנו&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \text{E}\left[X^{t}\right]=np\text{E}\left[\left(Y+1\right)^{t-1}\right] \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;במקרה הבסיס שבו &lt;span&gt;\( t=1 \)&lt;/span&gt; אז &lt;span&gt;\( \left(Y+1\right)^{t-1} \)&lt;/span&gt; הוא פשוט הקבוע 1 ולכן התוחלת שלו היא 1 ולכן קיבלנו&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \text{E}\left[X\right]=np \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אבל עם הנוסחה נוכל לחשב בקלות גם את &lt;span&gt;\( \text{E}\left[X^{2}\right] \)&lt;/span&gt;, למשל. כי:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \text{E}\left[X^{2}\right]=np\text{E}\left[Y+1\right]=np\left(\text{E}\left[Y\right]+1\right)=np\left(\left(n-1\right)p+1\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כאן למשל השתמשתי בלינאריות של התוחלת. אבל למה בעצם &lt;span&gt;\( \text{E}\left[X^{2}\right] \)&lt;/span&gt; מעניין אותי? או, אנחנו בדיוק מגיעים אל זה.&lt;/p&gt;

&lt;h2&gt;שונות וסטיית תקן&lt;/h2&gt;

&lt;p&gt;ראינו זה עתה שאם &lt;span&gt;\( X \)&lt;/span&gt; הוא משתנה בינומי שמתאר ספירה של הצלחות בניסוי שחוזר על עצמו &lt;span&gt;\( n \)&lt;/span&gt; פעמים עם הסתברות הצלחה &lt;span&gt;\( p \)&lt;/span&gt; בכל פעם, אז התוחלת שלו היא &lt;span&gt;\( np \)&lt;/span&gt;. ראינו גם שהתוחלת של התוצאה בהטלת קובייה הוגנת היא &lt;span&gt;\( 3.5 \)&lt;/span&gt;. אז אם נבחר את הפרמטרים של &lt;span&gt;\( X \)&lt;/span&gt; להיות &lt;span&gt;\( n=7,p=\frac{1}{2} \)&lt;/span&gt; נקבל שהתוחלת של &lt;span&gt;\( X \)&lt;/span&gt; היא גם &lt;span&gt;\( 3.5 \)&lt;/span&gt;: התוחלת של “הטל מטבע הוגן 7 פעמים וספור כמה פעמים התקבל עץ” היא אותה תוחלת כמו של “הטל קוביה הוגנת ובדוק מה יצא”. אבל אלו בבירור ניסויים שונים למדי זה מזה - בהטלת קוביה לכל תוצאה יש אותו סיכוי, ובניסוי הבינומי אין סימטריה כזו ויש גם ערכים כמו 0 ו-7 שלא יכולים לצוץ בהטלת קוביה. עוד משחק שאני יכול לעשות הוא לשחק “הטלת מטבע” עם מטבע שהערך של צד אחד שלו הוא 0 והערך של הצד השני שלו הוא 7: גם במקרה הזה נקבל תוחלת &lt;span&gt;\( 3.5 \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;אם אני לוקח את שלושת הניסויים השונים הללו ועושה עליהם את מה שעשיתי בפוסט הראשון בסדרה, כלומר מצייר את העקומה של ההתפלגות הנורמלית שמקרבת את מה שמקבלים אם חוזרים על הניסוי 100 פעמים וסוכמים את התוצאות - זה מה שאני אקבל:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/2025/histogram_12.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;יש כאן שלוש עקומות נורמליות, שניסיתי לצבוע בצבעים שונים כדי להבדיל ביניהן (אבל אני לא בטוח אם הצבעים ייראו שונים לכל הקוראים). העקומה שמגיעה הכי גבוהה, שצבועה באדום, מתאימה למשתנה הבינומי; האמצעית, שצבועה בכחול, מתאימה למשתנה של הקוביה; והתחתונה, הירוקה, מתאימה למשתנה של המטבע עם הערכים 0 ו-7.&lt;/p&gt;

&lt;p&gt;מה הסיבה להבדל? ככל שעקומה נורמלית היא יותר גבוהה, כך זה אומר שרוב ההסתברות שהיא מייצגת מתארת טווח קטן יחסית. המקרה הקיצוני ביותר הוא המשתנה המקרי שפשוט מחזיר &lt;span&gt;\( 3.5 \)&lt;/span&gt; תמיד, שיתואר על ידי קו אנכי בודד בדיוק ב-&lt;span&gt;\( 350 \)&lt;/span&gt;. הסיבה שהעקומה הירוקה, הנמוכה, היא כל כך “רחבה” היא שהניסוי שהיא מתארת הוא בעל רק שני ערכים, ששניהם במרחק לא זניח מהתוחלת עצמה ולכן כל אי-אחידות בתוצאות של ההגרלה (נניח, יתרון של 9 הטלות שנתנו 7 במקום 0) “מושך” את הסכום הכולל רחוק מהממוצע הצפוי. זו האינטואיציה, אבל אנחנו רוצים את המתמטיקה הקונקרטית - מדד מספרי שיאפשר לנו לתאר עד כמה סטייה מהתוחלת היא משהו נפוץ או נדיר.&lt;/p&gt;

&lt;p&gt;אם &lt;span&gt;\( X \)&lt;/span&gt; הוא משתנה מקרי ו-&lt;span&gt;\( \mu=\text{E}\left[X\right] \)&lt;/span&gt; היא התוחלת שלו, אפשר להסתכל על משתנה מקרי חדש, &lt;span&gt;\( Y=X-\mu \)&lt;/span&gt;. זה המשתנה המקרי המקורי, רק שעכשיו הוא מנורמל כך שהתוחלת שלו תהיה 0. מכיוון שמה שמעניין אותנו הוא גודל ה”סטייה מהממוצע”, והגודל הזה הוא פשוט &lt;span&gt;\( \left|Y\right| \)&lt;/span&gt;, אפשר לשאול את עצמנו &lt;strong&gt;מה הסטייה הממוצע מהממוצע&lt;/strong&gt;, כלומר &lt;span&gt;\( \text{E}\left[\left|Y\right|\right] \)&lt;/span&gt;. זה אמנם מדד מתבקש למדי, אבל הוא פחות מועיל מאשר אפשר היה לקוות. פונקציית הערך המוחלט היא לא “נחמדה” מבחינה מתמטית - בפרט, היא לא גזירה ב-0. עניין אחר הוא שהיא מאותו סדר גודל כמו &lt;span&gt;\( Y \)&lt;/span&gt; ודווקא יש עניין בכך שנעבור אל “סדר הגודל הבא”. זה מוביל אותנו להגדרה שאולי נראית פחות טבעית ממבט ראשון אבל היא שימושית בצורה בלתי נתפסת: &lt;span&gt;\( \text{Var}\left(X\right)=\text{E}\left[Y^{2}\right]=\text{E}\left[\left(X-\mu\right)^{2}\right] \)&lt;/span&gt; כאשר Var כאן הוא קיצור של Variance, &lt;strong&gt;שונות&lt;/strong&gt;. העלאה בריבוע נותנת לנו את היתרונות שרצינו: היא משמשת בתור סוג של ערך מוחלט כי &lt;span&gt;\( a^{2} \)&lt;/span&gt; זה אותו דבר כמו &lt;span&gt;\( \left|a\right|^{2} \)&lt;/span&gt;; זה עובר לסדר הגודל השני (חשבו על העלאה בריבוע בתור העלאה של סדר הגודל; איך זה באמת חשוב, נראה אחר כך). וזו פונקציה נחמדה לעבודה מבחינה מתמטית.&lt;/p&gt;

&lt;p&gt;דבר אחד שקל לראות הוא נוסחה אלטרנטיבית לתוחלת שמתקבלת מכך שפותחים במפורש את הביטוי, מה שאני אדגים במקרה של הסתברות בדידה:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \text{Var}\left(X\right)=\text{E}\left[\left(X-\mu\right)^{2}\right]=\sum_{a}p\left(X=a\right)\left(a-\mu\right)^{2}= \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( =\sum_{a}P\left(X=a\right)a^{2}-2\mu\sum_{a}P\left(X=a\right)a+\mu^{2}\sum_{a}P\left(X=a\right)= \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( =\text{E}\left[X^{2}\right]-2\mu\text{E}\left[X\right]+\mu^{2}=\text{E}\left[X^{2}\right]-2\mu^{2}+\mu^{2}=\text{E}\left[X^{2}\right]-\mu^{2}=\text{E}\left[X^{2}\right]-\text{E}\left[X\right]^{2} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;בואו נוודא שהבנו מה הולך פה. את הביטוי המקורי פיצלתי לשלושה סכומים על פי הפתיחה של הסוגריים &lt;span&gt;\( \left(a-\mu\right)^{2}=a^{2}-2a\mu+\mu^{2} \)&lt;/span&gt;. הסכום הראשון היה &lt;span&gt;\( \sum_{a}P\left(X=a\right)a^{2} \)&lt;/span&gt; שזו ממש ההגדרה הפורמלית של &lt;span&gt;\( \text{E}\left[X^{2}\right] \)&lt;/span&gt;. הסכום השני היה קבוע כפול &lt;span&gt;\( \sum_{a}P\left(X=a\right)a \)&lt;/span&gt; שזו ההגדרה הפורמלית של &lt;span&gt;\( \text{E}\left[X\right] \)&lt;/span&gt;, ואחרי שהשתמשתי בכך ש-&lt;span&gt;\( \text{E}\left[X\right]=\mu \)&lt;/span&gt; קיבלתי את הערך שרציתי.&lt;/p&gt;

&lt;p&gt;הנוסחה &lt;span&gt;\( \text{Var}\left(X\right)=\text{E}\left[X^{2}\right]-\text{E}\left[X\right]^{2} \)&lt;/span&gt; בהחלט נראית לי יפה ושימושית יותר מאשר &lt;span&gt;\( \text{E}\left[\left(X-\mu\right)^{2}\right] \)&lt;/span&gt;; היא מציגה את השונות בעזרת שני המומנטים הראשונים של &lt;span&gt;\( X \)&lt;/span&gt;, שיותר קל לחשב ישירות. עשיתי את זה קודם, בדוגמה למעלה, עבור התפלגות בינומית: קיבלנו ש-&lt;span&gt;\( \text{E}\left[X\right]=np \)&lt;/span&gt; ואילו &lt;span&gt;\( \text{E}\left[X^{2}\right]=np\left(\left(n-1\right)p+1\right) \)&lt;/span&gt;, ולכן עכשיו אני אוכל לחשב בקלות את השונות של התפלגות בינומית:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \text{Var}\left(X\right)=np\left(\left(n-1\right)p+1\right)-\left(np\right)^{2}=np\left[\left(n-1\right)p+1-np\right]= \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( =np\left(np-p+1-np\right)=np\left(1-p\right)=npq \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ובסופו של דבר קיבלנו ביטוי פשוט ואלגנטי מאוד עבור השונות. עבור המשתנה הבינומי הקונקרטי שתיארתי למעלה, של ספירת העצים ב-7 הטלות של מטבע הוגן, הפרמטרים היו &lt;span&gt;\( n=7,p=q=0.5 \)&lt;/span&gt; ולכן התוחלת היא &lt;span&gt;\( \frac{7}{2}=3.5 \)&lt;/span&gt; כפי שכבר ראינו, והשונות היא &lt;span&gt;\( \frac{7}{4}=1.75 \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;עבור תוחלת ראיתי שמתקיימת תכונת &lt;strong&gt;לינאריות&lt;/strong&gt; מועילה מאוד: &lt;span&gt;\( \text{E}\left[\alpha X+\beta Y\right]=\alpha\text{E}\left[X\right]+\beta\text{E}\left[Y\right] \)&lt;/span&gt;. עבור שונות אין לנו משהו עד כדי כך נוח, אבל עדיין יש לנו נוסחה מועילה: &lt;span&gt;\( \text{Var}\left(\alpha X+\beta\right)=\alpha^{2}\text{Var}\left(X\right) \)&lt;/span&gt;. כלומר - חיבור של &lt;strong&gt;קבוע&lt;/strong&gt; לא משפיע (חיבור של משתנה מקרי אחר מסבך את הכל), והכפלה בקבוע מכילה את השונות באותו קבוע בריבוע.&lt;/p&gt;

&lt;p&gt;עכשיו, העובדה שהשונות כוללת העלאה בריבוע היא מצד אחד חיובית מהסיבות שציינתי, ומצד שני אנחנו עדיין רוצים לקבל מדד דומה שהוא “מסדר גודל אחד פחות” ובכל זאת מתנהג נחמד. דרך פשוטה לקבל את זה היא להגדיר &lt;span&gt;\( \sigma=\sqrt{\text{Var}\left(X\right)} \)&lt;/span&gt; - גם פונקציית השורש היא נחמדה יחסית, ומורידה את סדר הגודל. ה-&lt;span&gt;\( \sigma \)&lt;/span&gt; הזה חשוב מספיק כדי שיקבל שם בפני עצמו: &lt;strong&gt;סטיית התקן&lt;/strong&gt; של &lt;span&gt;\( X \)&lt;/span&gt;, ולעתים קרובות יותר נוח פשוט לכתוב &lt;span&gt;\( \sigma^{2} \)&lt;/span&gt; בתור השונות של &lt;span&gt;\( X \)&lt;/span&gt; במקום &lt;span&gt;\( \text{Var}\left(X\right) \)&lt;/span&gt;. את התוצאה שראינו לפני רגע אפשר לתאר גם בתור “אם כופלים את &lt;span&gt;\( X \)&lt;/span&gt; ב-&lt;span&gt;\( \alpha \)&lt;/span&gt; כופלים את סטיית התקן של &lt;span&gt;\( X \)&lt;/span&gt; ב-&lt;span&gt;\( \alpha \)&lt;/span&gt;”.&lt;/p&gt;

&lt;p&gt;בואו נראה עכשיו שימוש בשונות כדי לשפר את היכולת שלנו להבין את &lt;span&gt;\( X \)&lt;/span&gt; בעזרת מעין שדרוג של אי-שוויון מרקוב שלוקח גם את השונות בחשבון ונקרא &lt;strong&gt;אי-שוויון צ&apos;בישב&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;הרעיון הוא כזה. כזכור, אי-שוויון מרקוב מדבר על משתנה מקרי &lt;strong&gt;אי-שלילי&lt;/strong&gt; &lt;span&gt;\( X \)&lt;/span&gt; ועבורו, לכל &lt;span&gt;\( a&amp;gt;0 \)&lt;/span&gt; , הוא נותן&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( P\left(X\ge a\right)=\frac{E\left[X\right]}{a} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו, אם &lt;span&gt;\( X \)&lt;/span&gt; הוא משתנה מקרי &lt;strong&gt;כלשהו&lt;/strong&gt;, לאו דווקא אי שלילי, אז בואו ניזכר ש-&lt;span&gt;\( \text{Var}\left(X\right) \)&lt;/span&gt; הוגדרה בתור התוחלת של משתנה מקרי שהוא &lt;strong&gt;כן&lt;/strong&gt; אי-שלילי: &lt;span&gt;\( \sigma^{2}=\text{Var}\left(X\right)=\text{E}\left[Z\right] \)&lt;/span&gt; כאשר &lt;span&gt;\( Z=\left(X-\mu\right)^{2} \)&lt;/span&gt;. על ה-&lt;span&gt;\( Z \)&lt;/span&gt; הזה אני כן יכול להשתמש באי שוויון מרקוב; בואו נראה מה קורה אם אנחנו לוקחים &lt;span&gt;\( k&amp;gt;0 \)&lt;/span&gt; כלשהו ומשתמשים במרקוב עם &lt;span&gt;\( a=k^{2} \)&lt;/span&gt;:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( P\left(Z\ge a\right)\le\frac{\text{E}\left[Z\right]}{a} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כלומר&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( P\left(\left(X-\mu\right)^{2}\ge k^{2}\right)\le\frac{\text{E}\left[\left(X-\mu\right)^{2}\right]}{k^{2}}=\frac{\sigma^{2}}{k^{2}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו, בואו נביט על &lt;span&gt;\( \left(X-\mu\right)^{2}\ge k^{2} \)&lt;/span&gt;. הדבר הזה קורה אם ורק אם &lt;span&gt;\( \left|X-\mu\right|\ge k \)&lt;/span&gt;, ולכן ההסתברות של שני אי השוויונים זהה, כלומר אני יכול לכתוב&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( P\left(\left|X-\mu\right|\ge k\right)\le\frac{\sigma^{2}}{k^{2}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;זה אי-שוויון צ’בישב. כמו עם אי-שוויון מרקוב, לפעמים קל יותר להבין מה הוא אומר אם “מכניסים את סטיית התקן אל אי השוויון”, כלומר אם אני מנסח אותו על ידי&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( P\left(\left|X-\mu\right|\ge k\sigma\right)\le\frac{1}{k^{2}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אם למשל נציב &lt;span&gt;\( k=2 \)&lt;/span&gt; נקבל את הטענה הבאה: לכל משתנה מקרי &lt;span&gt;\( X \)&lt;/span&gt;, הסיכוי שהוא יקבל ערך שהמרחק שלו מהתוחלת של &lt;span&gt;\( X \)&lt;/span&gt; הוא יותר משתי סטיות תקן הוא &lt;span&gt;\( \frac{1}{4}=25\% \)&lt;/span&gt;. לי זה מרגיש כמו טענה כללית להפתיע, כי לא משנה בכלל כמה &lt;span&gt;\( X \)&lt;/span&gt; מורכב ומתוחכם - מרגע שחישבנו את התוחלת ואת סטיית התקן שלו, אנחנו יודעים בדיוק מה האיזור שבו 75\% מהערכים ש-&lt;span&gt;\( X \)&lt;/span&gt; נותן הולכים ליפול. יותר מכך - בגלל שבמכנה יש &lt;span&gt;\( k^{2} \)&lt;/span&gt; ולא &lt;span&gt;\( k \)&lt;/span&gt;, זה אומר לנו שהסיכוי של מישהו להיות במרחק של הרבה סטיות תקן צונח מהר - צונח באופן &lt;strong&gt;ריבוע&lt;/strong&gt;. אם הסיכוי להיות במרחק 2 סטיות תקן היה 25\%, עבור 3 סטיות תקן הוא נופל אל &lt;span&gt;\( \frac{1}{9}=11.111\ldots\% \)&lt;/span&gt;, ועבור 4 סטיות תקן הוא כבר &lt;span&gt;\( \frac{1}{16}=6.25\% \)&lt;/span&gt; וכשנרצה להיות במרחק 10 סטיות תקן הסיכוי כבר יהיה &lt;span&gt;\( \frac{1}{100}=1\% \)&lt;/span&gt;, וכן הלאה. ככל שסטיית התקן של &lt;span&gt;\( X \)&lt;/span&gt; גדולה יותר כך האיזור שבו רוב הערכים שלו יכולים ליפול הוא רחב יותר, אבל אם נחלק את המרחב לאיזורים שהרוחב של כל אחד מהם הוא &lt;span&gt;\( \sigma \)&lt;/span&gt;, נדע בדיוק מה ההסתברות של איבר ליפול בכל אחד מהאיזורים הללו. זו המחשה חזקה מאוד לכוח שיש לשני מספרים בודדים &lt;span&gt;\( \mu,\sigma \)&lt;/span&gt; לתאר את &lt;span&gt;\( X \)&lt;/span&gt;.&lt;/p&gt;

&lt;h2&gt;חזרה אל ההתפלגות הנורמלית&lt;/h2&gt;

&lt;p&gt;עכשיו כשהכרנו את המושגים של תוחלת ושונות/סטיית תקן אפשר לחזור סוף סוף אל ההתפלגות הנורמלית. הגדרתי אותה בעזרת פונקציית צפיפות ההסתברות &lt;span&gt;\( f\left(x\right)=\frac{1}{\sqrt{2\pi}\sigma}e^{-\left(x-\mu\right)^{2}/2\sigma^{2}} \)&lt;/span&gt;, ועכשיו אפשר לחזור למה שאמרתי בתחילת הפוסט אבל כשיש לנו את ההגדרות הרלוונטיות: ה-&lt;span&gt;\( \mu \)&lt;/span&gt; וה-&lt;span&gt;\( \sigma \)&lt;/span&gt; הללו הם בדיוק התוחלת וסטיית התקן של ההתפלגות הנורמלית ש-&lt;span&gt;\( \mu,\sigma \)&lt;/span&gt; הם הפרמטרים שלה. כלומר, אנחנו מגדירים משתנה מקרי &lt;span&gt;\( N\left(\mu,\sigma\right) \)&lt;/span&gt; על ידי פונקציית הצפיפות &lt;span&gt;\( f\left(x\right)=\frac{1}{\sqrt{2\pi}\sigma}e^{-\left(x-\mu\right)^{2}/2\sigma^{2}} \)&lt;/span&gt;, וכשנחשב את התוחלת וסטיית התקן שלו הנוסחאות יתנו לנו בדיוק &lt;span&gt;\( \mu,\sigma \)&lt;/span&gt;, וזה בדיוק מה שאני רוצה להראות עכשיו. דבר אחד שכדאי לשים אליו לב לפני כן הוא שאפשר להגדיר את ההתפלגות הנורמלית גם בלי להגדיר בכלל סטיית תקן: הרי &lt;span&gt;\( \frac{1}{\sqrt{2\pi}\sigma}e^{-\left(x-\mu\right)^{2}/2\sigma^{2}}=\frac{1}{\sqrt{2\pi\sigma^{2}}}e^{-\left(x-\mu\right)^{2}/2\sigma^{2}} \)&lt;/span&gt; ולכן אם היינו למשל בוחרים לסמן את השונות שאנחנו רוצים ב-&lt;span&gt;\( \tau \)&lt;/span&gt; אז היינו מקבלים שהתפלגות נורמלית עם תוחלת &lt;span&gt;\( \mu \)&lt;/span&gt; ושונות &lt;span&gt;\( \tau \)&lt;/span&gt; מתוארת על ידי &lt;span&gt;\( f\left(x\right)=\frac{1}{\sqrt{2\pi\tau}}e^{-\left(x-\mu\right)^{2}/2\tau} \)&lt;/span&gt;. הבחירה להשתמש ב-&lt;span&gt;\( \sigma \)&lt;/span&gt; היא עניין של קונבנציה (ומן העבר השני, אנשים גם כותבים לפעמים &lt;span&gt;\( \frac{1}{\sqrt{2\pi}\sigma}e^{-\left(\frac{x-\mu}{\sigma}\right)^{2}/2} \)&lt;/span&gt; כדי שהנוסחה תכלול רק את &lt;span&gt;\( \sigma \)&lt;/span&gt; ולא את &lt;span&gt;\( \sigma^{2} \)&lt;/span&gt;).&lt;/p&gt;

&lt;p&gt;ראשית, הנה טריק מועיל כדי למצוא תוחלת ושונות של דברים. כזכור, ראינו&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \text{E}\left[\alpha X+\beta Y\right]=\alpha\text{E}\left[X\right]+\beta\text{E}\left[Y\right] \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \text{Var}\left(\alpha X+\beta\right)=\alpha^{2}\text{Var}\left(X\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אז באופן כללי, אם אנחנו רוצים למצוא תוחלת ושונות של משתנה &lt;span&gt;\( X \)&lt;/span&gt; אבל זה קשה לנו, אפשר לנסות להגדיר משתנה “מנורמל” &lt;span&gt;\( Z=\frac{X-\mu}{\sigma} \)&lt;/span&gt; ולקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \text{E}\left[X\right]=\sigma\text{E}\left[Z\right]+\mu \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \text{Var}\left(X\right)=\sigma^{2}\text{Var}\left(Z\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אני אשתמש בזה במקרה שלנו. נניח ש-&lt;span&gt;\( X \)&lt;/span&gt; הוא משתנה מקרי שמתפלג נורמלית עם פרמטרים &lt;span&gt;\( \mu,\sigma \)&lt;/span&gt;, כלומר &lt;span&gt;\( f\left(x\right)=\frac{1}{\sqrt{2\pi}\sigma}e^{-\left(\frac{x-\mu}{\sigma}\right)^{2}/2} \)&lt;/span&gt;. אם אני מגדיר את המשתנה החדש &lt;span&gt;\( Z=\frac{X-\mu}{\sigma} \)&lt;/span&gt; אני אקבל פונקציית צפיפות הסתברות &lt;span&gt;\( f\left(z\right)=\frac{1}{\sqrt{2\pi}}e^{-z^{2}/2} \)&lt;/span&gt;. כדי לראות את זה נשים לב לכך ש:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( P\left(a\le Z\le b\right)=P\left(\sigma a+\mu\le X\le\sigma b+\mu\right)=\int_{\sigma a+\mu}^{\sigma b+\mu}\frac{1}{\sqrt{2\pi}\sigma}e^{-\left(\frac{x-\mu}{\sigma}\right)^{2}/2}dx \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ועל האינטגרל הזה אפשר לבצע את החלפת המשתנים &lt;span&gt;\( z=\frac{x-\mu}{\sigma} \)&lt;/span&gt; שנותנת לנו &lt;span&gt;\( dz=\frac{dx}{\sigma} \)&lt;/span&gt;, כלומר מקבלים &lt;span&gt;\( P\left(a\le Z\le b\right)=\frac{1}{\sqrt{2\pi}}e^{-z^{2}/2} \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;המסקנה? אם &lt;span&gt;\( X \)&lt;/span&gt; התפלג נורמלית עם פרמטרים &lt;span&gt;\( \mu,\sigma \)&lt;/span&gt; אז &lt;span&gt;\( Z=\frac{X-\mu}{\sigma} \)&lt;/span&gt; מתפלג נורמלית עם פרמטרים &lt;span&gt;\( 0,1 \)&lt;/span&gt;. עכשיו אני אוכיח ש-&lt;span&gt;\( \text{E}\left[Z\right]=0 \)&lt;/span&gt; וש-&lt;span&gt;\( \text{Var}\left(Z\right)=1 \)&lt;/span&gt; ואז אסיק ש-&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \text{E}\left[X\right]=\sigma\text{E}\left[Z\right]+\mu=\mu \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \text{Var}\left(X\right)=\sigma^{2}\text{Var}\left(Z\right)=\sigma^{2} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;וזו הטענה הכללית שאני רוצה.&lt;/p&gt;

&lt;p&gt;עכשיו, &lt;span&gt;\( \text{E}\left[Z\right] \)&lt;/span&gt; זה קל - זה יוצא 0 בגלל שפונקציית הצפיפות &lt;span&gt;\( \frac{1}{\sqrt{2\pi}}e^{-z^{2}/2} \)&lt;/span&gt; היא סימטרית ביחס ל-0 כי &lt;span&gt;\( z^{2} \)&lt;/span&gt; היא פונקציה סימטרית ביחס ל-0. זה הופך את האינטגרל שמחשבים עבור התוחלת לאינטגרל של פונקציה &lt;strong&gt;אנטיסימטרית&lt;/strong&gt; בגלל ההכפלה ב-&lt;span&gt;\( z \)&lt;/span&gt;. הנה משהו פורמלי קצת יותר:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \text{E}\left[Z\right]=\int_{-\infty}^{\infty}z\frac{1}{\sqrt{2\pi}}e^{-z^{2}/2}=\lim_{a\to\infty}\int_{-a}^{a}z\frac{1}{\sqrt{2\pi}}e^{-z^{2}/2}= \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( =\frac{1}{\sqrt{2\pi}}\lim_{a\to\infty}\left.e^{-z^{2}/2}\right|_{-a}^{a}=\frac{1}{\sqrt{2\pi}}\lim_{a\to\infty}\left(e^{-a^{2}/2}-e^{-a^{2}/2}\right)= \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \frac{1}{\sqrt{2\pi}}\lim_{a\to\infty}0=0 \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;המעבר מאינטגרל אינסופי בשני הכיוונים לגבול כש-&lt;span&gt;\( a \)&lt;/span&gt; שואף לאינסוף של אינטגרל מ-&lt;span&gt;\( -a \)&lt;/span&gt; אל &lt;span&gt;\( a \)&lt;/span&gt; הוא &lt;strong&gt;לא תקין&lt;/strong&gt; באופן כללי אבל בפוסט הקודם כבר אמרנו שבמקרה הנוכחי זה תקין (אבל אפשר להסתדר גם אם עושים שני אינטגרלים, זה פשוט יוצא מסורבל יותר). אז זה מסיים עם התוחלת ומראה שכדי לחשב את השונות צריך פשוט לחשב את &lt;span&gt;\( \text{E}\left[Z^{2}\right] \)&lt;/span&gt;. זה יהיה טיפה יותר מסובך ויצריך טריק אינטגרציה סטנדרטי: &lt;strong&gt;אינטגרציה בחלקים&lt;/strong&gt;. בואו ניזכר את הטריק הזה הולך.&lt;/p&gt;

&lt;p&gt;עבור נגזרות, אחת מהנוסחאות החשובות ביותר היא מה יוצאת הגזירה של מכפלה של פונקציות: &lt;span&gt;\( \left(uv\right)^{\prime}=u^{\prime}v+uv^{\prime} \)&lt;/span&gt;. זו אחת מהנוסחאות הבודדות שצרובות בי עוד מהתיכון. עכשיו, אם מעבירים אגפים, מקבלים מן הסתם &lt;span&gt;\( u^{\prime}v=\left(uv\right)^{\prime}-uv^{\prime} \)&lt;/span&gt; ואם (ועכשיו אני עובר לקצת נפנוף ידיים) לוקחים אינטגרל לשני האגפים מקבלים &lt;span&gt;\( \int u^{\prime}v=uv-\int uv^{\prime} \)&lt;/span&gt;. לכן אם קשה לנו לבצע אינטגרציה לפונקציה שלנו, אנחנו בודקים אם יש דרך נוחה לפרק אותה למכפלה של שתי פונקציות שלאחת מהן (שאנחנו קוראים לה &lt;span&gt;\( u^{\prime} \)&lt;/span&gt;) כן קל לנו להוציא אינטגרל, את השניה (שאנחנו קוראים לה &lt;span&gt;\( v \)&lt;/span&gt;) קל לנו לגזור, ואז אנחנו מקווים שאחרי שנוציא אינטגרל לאחת ונגזרת לשניה, המכפלה של &lt;strong&gt;זה&lt;/strong&gt; תהיה משהו שקל לנו למצוא לו אינטגרל. לפעמים זה נכשל קטסטרופלית ולפעמים, כמו עכשיו, זה עובד יופי. הרי&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \text{E}\left[Z^{2}\right]=\int_{-\infty}^{\infty}z^{2}\frac{1}{\sqrt{2\pi}}e^{-z^{2}/2} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ולפני רגע, בחישוב התוחלת, ראינו שקל לנו להוציא את האינטגרל של &lt;span&gt;\( u^{\prime}=z\frac{1}{\sqrt{2\pi}}e^{-z^{2}/2} \)&lt;/span&gt; והאינטגרל יוצא &lt;span&gt;\( u=\frac{1}{\sqrt{2\pi}}e^{-z^{2}/2} \)&lt;/span&gt;, וכמובן שאת &lt;span&gt;\( v=z \)&lt;/span&gt; קל לגזור ולקבל &lt;span&gt;\( v^{\prime}=1 \)&lt;/span&gt;. כמו כן &lt;span&gt;\( uv \)&lt;/span&gt; הולך לצאת בדיוק הביטוי לתוחלת שראינו לפני רגע שהאינטגרל שלו הוא 0, ו-&lt;span&gt;\( uv^{\prime} \)&lt;/span&gt; הולך לצאת בדיוק פונקציית הצפיפות המקורית שראינו כבר (בפוסט הקודם, ולא בקלות) שהאינטגרל שלה יוצא 1. זה מסיים (בנפנוף ידיים) את ההוכחה.&lt;/p&gt;

&lt;p&gt;אז אם לסכם עוד סיכום ביניים: אנחנו מנסים להבין למה פונקציית הצפיפות של ההתפלגות הנורמלית נראית ככה: &lt;span&gt;\( f\left(x\right)=\frac{1}{\sqrt{2\pi}\sigma}e^{-\left(x-\mu\right)^{2}/2\sigma^{2}} \)&lt;/span&gt;. בינתיים הבנו ש-&lt;span&gt;\( \pi \)&lt;/span&gt; שם בתור קבוע נרמול שמגיע בבסיסו מכך ש-&lt;span&gt;\( 2\pi \)&lt;/span&gt; הוא היקף מעגל היחידה; ואנחנו רואים עכשיו ש-&lt;span&gt;\( \mu,\sigma \)&lt;/span&gt; שמופיעים פה מבטיחים שהתוחלת וסטיית התקן של ההתפלגות יהיו &lt;span&gt;\( \mu,\sigma \)&lt;/span&gt;; אבל עדיין לא ברור לנו הדבר העיקרי - מה הקטע עם ה-&lt;span&gt;\( e \)&lt;/span&gt; הזה? למה הצורה של העקומה היא (עד כדי קבועים) &lt;span&gt;\( e^{-x^{2}} \)&lt;/span&gt;? אני לא רואה איך לענות לשאלה הזו בלי להגיע אל היעד שלנו: &lt;strong&gt;משפט הגבול המרכזי&lt;/strong&gt;. את זה נעשה בפוסט הבא.&lt;/p&gt;</content><author><name></name></author><category term="התפלגות נורמלית" /><summary type="html">מבוא</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://gadial.net/assets/img/2025/histogram_12.png" /><media:content medium="image" url="http://gadial.net/assets/img/2025/histogram_12.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">מה הקטע עם התפלגות נורמלית? (חלק ב’: על שתי הסתברויות)</title><link href="http://gadial.net/2025/02/03/normal_distribution_2/" rel="alternate" type="text/html" title="מה הקטע עם התפלגות נורמלית? (חלק ב&apos;: על שתי הסתברויות)" /><published>2025-02-03T00:00:00+00:00</published><updated>2025-02-03T00:00:00+00:00</updated><id>http://gadial.net/2025/02/03/normal_distribution_2</id><content type="html" xml:base="http://gadial.net/2025/02/03/normal_distribution_2/">&lt;h2&gt;מבוא&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://gadial.net/2025/01/31/normal_distribution_1/&quot;&gt;בפוסט הקודם&lt;/a&gt; התחלתי לדבר על מה שנקרא &lt;strong&gt;התפלגות נורמלית&lt;/strong&gt; ופורמלית מוגדר בתור &lt;span&gt;\( f\left(x\right)=\frac{1}{\sqrt{2\pi}\sigma}e^{-\left(x-\mu\right)^{2}/2\sigma^{2}} \)&lt;/span&gt; אבל בגלל שאלו הרבה סימנים מפחידים שלא אומרים הרבה כרגע, העדפתי להסתכל על הדבר הזה:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/2025/histogram_8.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;התמונה הזו מציגה את הקשר בין שתי התפלגויות שונות. אחת נקראת &lt;strong&gt;התפלגות בינומית&lt;/strong&gt; ומתוארת על ידי הפסים, והשניה שמתוארת על ידי קו רציף היא ההתפלגות הנורמלית, ומה שאנחנו רואים הוא שבמובן מסוים ההתפלגות הנורמלית היא &lt;strong&gt;קירוב טוב&lt;/strong&gt; של ההתפלגות הבינומית. בפוסט הזה אני רוצה שנבהיר בצורה מתמטית איך בעצם מגדירים את הנפשות הפועלות - איך מגדירים התפלגויות ומה הולך בהגדרה של התפלגות נורמלית. העניין הוא שההגדרות בתורת ההסתברות הן &lt;strong&gt;לא דבר פשוט&lt;/strong&gt; ולכן הפוסט הזה כבר ייכנס למתמטיקה לא לגמרי טריוויאלית. למעשה, תמונת הפסים-מול-עקומה ממחישה את זה יפה - יש שתי דרכים &lt;strong&gt;שונות&lt;/strong&gt; להגדיר התפלגויות, דרך אחת שנקראת &lt;strong&gt;התפלגות בדידה&lt;/strong&gt; וכאן מתאימה לפסים, והדרך השניה שנקראת &lt;strong&gt;התפלגות רציפה&lt;/strong&gt; ומתאימה לעקומה. יש המון דמיון בין שתי הגישות אבל גם הבדלים מהותיים; ויש דרך “מאחדת” להציג את שניהם בתור מקרים פרטיים של אותו דבר, אבל היא לא בהכרח הופכת את הסיטואציה לקלה יותר להבנה אז אני לא אכנס אליה כאן. בואו נתחיל מהמקרה שקצת יותר מתאים לתפיסה היומיומית שלנו של הסתברות - התפלגות בדידה.&lt;/p&gt;

&lt;h2&gt;התפלגויות בדידות&lt;/h2&gt;

&lt;p&gt;בואו נסתכל על סיטואציה הסתברותית פשוטה: הטלת קוביה הוגנת. במקרה הזה, יש שש תוצאות אפשריות להטלת הקוביה: &lt;span&gt;\( X=\left\{ 1,2,3,4,5,6\right\}  \)&lt;/span&gt;. לכל תוצאה כזו אנחנו מתאימים &lt;strong&gt;הסתברות&lt;/strong&gt; שהיא תקרה: &lt;span&gt;\( p\left(1\right)=p\left(2\right)=\ldots=p\left(6\right)=\frac{1}{6} \)&lt;/span&gt;. הרעיון פה הוא שהסכום של כל ההסתברויות יוצא 1, או כמו שמסמנים בקיצור, &lt;span&gt;\( \sum_{i=1}^{6}p\left(i\right)=1 \)&lt;/span&gt;. אפשר כמובן גם לדבר על קוביה לא הוגנת, למשל כזו שיש לה סיכוי של לא פחות מאשר &lt;span&gt;\( \frac{1}{2} \)&lt;/span&gt; ליפול על 4, וכל יתר הצדדים מתחלקים שווה בשווה. במקרה הזה, מכיוון שההסתברויות צריכות להסתכם ל-1, יש לנו הסתברות של &lt;span&gt;\( \frac{1}{2} \)&lt;/span&gt; לחלק בין חמישה צדדים של הקוביה, אז נקבל &lt;span&gt;\( p\left(1\right)=\frac{1}{10} \)&lt;/span&gt; וכן הלאה לכל &lt;span&gt;\( i \)&lt;/span&gt; חוץ מאשר &lt;span&gt;\( p\left(4\right)=\frac{1}{2} \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;אפשר להכליל את הרעיון הזה בקלות: &lt;span&gt;\( A=\left\{ a_{1},a_{2},\ldots,a_{n}\right\}  \)&lt;/span&gt; תהיה קבוצה של &lt;span&gt;\( n \)&lt;/span&gt; תוצאות אפשריות של הסיטואציה ההסתברותית שלנו. לכזו קבוצה קוראים &lt;strong&gt;מרחב המדגם&lt;/strong&gt; (כי הסיטואציה ההסתברותית &lt;strong&gt;דוגמת&lt;/strong&gt; תוצאה אחת מתוכו) ואנחנו מגדירים פונקציה &lt;span&gt;\( p:A\to\left[0,1\right] \)&lt;/span&gt; שמתאימה לכל איבר במרחב המדגם מספר בין 0 ל-1 כך ש-&lt;span&gt;\( \sum_{i=1}^{n}p\left(a_{i}\right)=1 \)&lt;/span&gt;. ההגדרה הפשוטה הזו מספיקה להרבה מאוד סיטואציות הסתברותיות שאנחנו נתקלים בהן במציאות.&lt;/p&gt;

&lt;p&gt;אבל ממש לא לכולן.&lt;/p&gt;

&lt;p&gt;בפוסט הקודם דיברתי על הסיטואציה שבה אני זורק כדורסל ובגלל שאני לא באמת יודע איך לזרוק כדורסל לסל, יש לי הסתברות של &lt;span&gt;\( \frac{1}{10} \)&lt;/span&gt; לקלוע (הייתי נדיב) והשאלה שאני שואל היא - כמה זריקות לסל יידרשו לי עד שאקלע? ובכן, ברור שיש לי הסתברות של &lt;span&gt;\( \frac{1}{10} \)&lt;/span&gt; לקלוע בנסיון הראשון. אם פספסתי, זה קרה בהסתברות &lt;span&gt;\( \frac{9}{10} \)&lt;/span&gt; והסיכוי שאני אצליח בנסיון השני הוא &lt;span&gt;\( \frac{1}{10} \)&lt;/span&gt;, אז אינטואיטיבית יש לי הסתברות של &lt;span&gt;\( \frac{9}{10}\cdot\frac{1}{10}=\frac{9}{100} \)&lt;/span&gt; להצליח בזריקה השניה, וכן הלאה. טוב ויפה, אבל איך ממדלים את זה כמו שעשיתי לפני רגע, עם קבוצה &lt;span&gt;\( X \)&lt;/span&gt; של כל התוצאות האפשריות? אני יכול לומר משהו כמו &lt;span&gt;\( p\left(1\right)=\frac{1}{10} \)&lt;/span&gt; ו-&lt;span&gt;\( p\left(2\right)=\frac{9}{100} \)&lt;/span&gt; וכן הלאה, אבל מספר ההטלות שיידרשו לי עד שאקלע לסל הוא &lt;strong&gt;לא חסום&lt;/strong&gt;. אני לא יכול להבטיח שיידרשו לי רק 42 הטלות. אם אני אגיע אל ההטלה ה-42 זה אומר שהייתי מאוד חסר מזל עד כה, אבל ליקום לא אכפת מחוסר המזל שלי עד כה - גם בהטלה ה-42, הסיכוי שלי לקלוע יהיה רק &lt;span&gt;\( \frac{1}{10} \)&lt;/span&gt; ולכן בהחלט ייתכן שאגיע להטלה ה-43. במילים אחרות, אם אני רוצה שיהיה לי סיכוי כלשהו למשל אפילו את הסיטואציה המאוד פשוטה הזו אני צריך ש-&lt;span&gt;\( X \)&lt;/span&gt; תהיה קבוצה &lt;strong&gt;אינסופית&lt;/strong&gt;, במקרה הזה &lt;span&gt;\( A=\left\{ 1,2,3,\ldots\right\}  \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;אם &lt;span&gt;\( X=\left\{ a_{1},a_{2},a_{3},\ldots\right\}  \)&lt;/span&gt; היא קבוצה אינסופית, זה יוצר לנו קושי טכני חדש. דרשתי קודם שיתקיים &lt;span&gt;\( \sum_{i=1}^{n}p\left(a_{i}\right)=1 \)&lt;/span&gt;, אבל עכשיו &lt;span&gt;\( X \)&lt;/span&gt; היא &lt;strong&gt;אינסופית&lt;/strong&gt; ולכן גם הסכום צריך להיות אינסופי: &lt;span&gt;\( \sum_{i=1}^{\infty}p\left(a_{i}\right)=1 \)&lt;/span&gt;. זה מכניס לנו לתמונה מושג חדש &lt;strong&gt;וממש לא טריוויאלי&lt;/strong&gt; - &lt;a href=&quot;https://gadial.net/2008/06/17/infinite_series/&quot;&gt;סכום אינסופי&lt;/a&gt;, משהו שלומדים בדרך כלל בחדו”א. כל הסיפור הפך לפתע למסובך יותר: בשביל למדל סיטואציה פשוטה יחסית, אנחנו צריכים כלים מתמטיים לא לגמרי טריוויאליים.&lt;/p&gt;

&lt;p&gt;יש עוד מושג מרכזי אחד שצריך להכיר. בואו נחזור אל ההיסטוגרמה שהבאתי בתחילת הפוסט; בפוסט הקודם סיפרתי עליה סיפור של משחק שבו אני מטיל מטבע הוגן 10 פעמים וסופר כמה פעמים נפלתי על “עץ”. אפשר למדל כאן את מרחב המדגם בתור &lt;span&gt;\( A=\left\{ 0,1,\ldots,10\right\}  \)&lt;/span&gt; אבל זה יהיה טיפה מסובך כי לא לגמרי ברור איזו הסתברות לתת לכל איבר במרחב המדגם. תחת זאת אפשר לתת מרחב מדגם שבמובן מסוים הוא פשוט יותר: &lt;span&gt;\( X \)&lt;/span&gt; פשוט יכיל את כל התוצאות האפשריות של הטלת מטבע הוגן 10 פעמים. אם אני אסמן “עץ” בתור 1 ו”פלי” בתור 0 אני יכול לחשוב על כל תוצאה אפשרית בתור עשירייה &lt;span&gt;\( b=\left(b_{1},b_{2},\ldots,b_{10}\right) \)&lt;/span&gt; כך ש-&lt;span&gt;\( b_{i}\in\left\{ 0,1\right\}  \)&lt;/span&gt;, כלומר מרחב המדגם שלי הוא מה שמסומן ב-&lt;span&gt;\( A=\left\{ 0,1\right\} ^{10} \)&lt;/span&gt;. בגלל שלעץ ולפלי יש בדיוק אותה הסתברות &lt;span&gt;\( \frac{1}{2} \)&lt;/span&gt; בכל הטלה, ההסתברות של כל עשירייה היא &lt;span&gt;\( \frac{1}{2}\cdot\frac{1}{2}\cdots\frac{1}{2}=\frac{1}{2^{10}} \)&lt;/span&gt; (זו עדיין אמירה אינטואיטיבית ולא טענה פורמלית - אגיע לטענה הפורמלית עוד מעט).&lt;/p&gt;

&lt;p&gt;עכשיו, אני יכול להגדיר &lt;strong&gt;פונקציה&lt;/strong&gt; &lt;span&gt;\( X:A\to\mathbb{R} \)&lt;/span&gt; שלכל עשירייה, סופרת כמה “עץ” יש בה, כלומר הכי פורמלית שרק אפשר, &lt;span&gt;\( X\left(b\right)=\sum_{i=1}^{10}b_{i} \)&lt;/span&gt;. זו פונקציה במובן הרגיל של תורת הקבוצות, אבל מכיוון שהיא מוגדרת על מרחב מדגם שיש עליו &lt;strong&gt;מבנה&lt;/strong&gt; של אקראיות, המבנה הזה עובר גם אליה - אפשר לשאול עכשיו שאלות כמו “אם אני בוחר איבר מ-&lt;span&gt;\( A \)&lt;/span&gt; באקראי, מה ההסתברות ש-&lt;span&gt;\( X \)&lt;/span&gt; יחזיר עליו 3?” או בכתיב הסטנדרטי, מהו &lt;span&gt;\( P\left(X=3\right) \)&lt;/span&gt;. התשובה לזה פשוטה: כדי ש-&lt;span&gt;\( X \)&lt;/span&gt; יקבל 3, צריך שמי שיעלה בגורל הוא אחד מאיברי מרחב המדגם שיש לו בדיוק 3 פעמים 1 ויתר הפעמים 0, אז אני סוכם את ההסתברויות של &lt;strong&gt;כל&lt;/strong&gt; האיברים הללו. לכל איבר, ההסתברות שלו היא &lt;span&gt;\( \frac{1}{2^{10}} \)&lt;/span&gt;, ומספר האיברים הללו הוא בדיוק &lt;span&gt;\( {10 \choose 3} \)&lt;/span&gt; - מספר הדרכים לבחור 3 מקומות מתוך 10 כדי לשים בהם 1 (&lt;a href=&quot;https://gadial.net/2010/06/20/combinatorics_intro/&quot;&gt;יש לי פוסט&lt;/a&gt; שמסביר את זה; כאן אני מניח שאנחנו מכירים קומבינטוריקה בסיסית), אז בסך הכל נקבל &lt;span&gt;\( P\left(X=3\right)={10 \choose 3}\frac{1}{2^{10}} \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;הפונקציה &lt;span&gt;\( X \)&lt;/span&gt; שהגדרתי כאן מכונה &lt;strong&gt;משתנה מקרי&lt;/strong&gt;. זה סוג האובייקטים המרכזי שאנחנו מתעסקים בו בהסתברות. היופי בשימוש במשתנים מקריים הוא שאנחנו יכולים לשמור את מרחב המדגם שלנו פשוט יחסית, ולהגדיר מעל אותו מרחב מדגם שלל משתנים מקריים שונים ומשונים, ולשאול גם שאלות יותר מורכבות מאשר סתם “איך מחשבים את זה?” אלא גם “מה הקשרים בין המשתנים המקריים השונים” וכן הלאה.&lt;/p&gt;

&lt;p&gt;בואו נעבור למשהו כללי יותר. נניח שאני מטיל מטבע &lt;strong&gt;לא הוגן&lt;/strong&gt; בדיוק &lt;span&gt;\( n \)&lt;/span&gt; פעמים וסופר כמה פעמים קיבלתי עץ, וניקח &lt;span&gt;\( 0\le k\le n \)&lt;/span&gt; - מה ההסתברות שקיבלתי &lt;span&gt;\( k \)&lt;/span&gt; פעמים עץ? אפשר להגדיר משתנה מקרי &lt;span&gt;\( X \)&lt;/span&gt; כמו קודם, ועכשיו השאלה היא מהו &lt;span&gt;\( P\left(X=k\right) \)&lt;/span&gt;. אני אסמן ב-&lt;span&gt;\( p \)&lt;/span&gt; את ההסתברות שבהטלת המטבע מקבלים עץ וב-&lt;span&gt;\( q \)&lt;/span&gt; את ההסתברות שמקבלים פלי (&lt;span&gt;\( p+q=1 \)&lt;/span&gt; כי בכל הטלה יש הסתברות 1 שתתקבל אחת משתי התוצאות). אז כדי לקבל &lt;strong&gt;בדיוק&lt;/strong&gt; &lt;span&gt;\( k \)&lt;/span&gt; פעמים עץ, צריך לבחור &lt;span&gt;\( k \)&lt;/span&gt; מתוך &lt;span&gt;\( n \)&lt;/span&gt; ההטלות שבהן יתקבל עץ (לזה יש &lt;span&gt;\( {n \choose k} \)&lt;/span&gt; אפשרויות) ואז באותן &lt;span&gt;\( k \)&lt;/span&gt; הטלות ההסתברות לקבל עץ הוא &lt;span&gt;\( p \)&lt;/span&gt; לכל הטלה, כלומר &lt;span&gt;\( p^{k} \)&lt;/span&gt; בסך הכל, ועבור יתר ההטלות ההסתברות לקבל פלי היא &lt;span&gt;\( q \)&lt;/span&gt; בכל הטלה, כלומר &lt;span&gt;\( q^{n-k} \)&lt;/span&gt; בסך הכל, ולכן נקבל &lt;span&gt;\( P\left(X=k\right)={n \choose k}p^{k}q^{n-k} \)&lt;/span&gt;. משתנה מקרי שמקיים את הנוסחה הזו נקרא &lt;strong&gt;משתנה מקרי בינומי&lt;/strong&gt; או פשוט &lt;strong&gt;התפלגות בינומית&lt;/strong&gt; כשהמילה “בינומי” כאן מגיעה מכך שהמספרים בנוסחה מגיעים מהבינום של ניוטון (הנוסחה &lt;span&gt;\( \left(p+q\right)^{n}=\sum_{k=0}^{n}{n \choose k}p^{k}q^{n-k} \)&lt;/span&gt;).&lt;/p&gt;

&lt;p&gt;לא הייתי חייב לספר את כל סיפור המטבעות הזה. הייתי יכול פשוט &lt;strong&gt;להגדיר&lt;/strong&gt; משתנה מקרי בינומי עם הנוסחה &lt;span&gt;\( P\left(X=k\right)={n \choose k}p^{k}q^{n-k} \)&lt;/span&gt;. להגיד “בואו ניקח &lt;span&gt;\( X \)&lt;/span&gt; שמקיים את הנוסחה הזו ועכשיו בואו נעשה איתו דברים”. אני טרחתי וסיפרתי סיפור ובניתי מרחב מדגם &lt;span&gt;\( A \)&lt;/span&gt; ספציפי, אבל אפשר גם לספר סיפורים אחרים ולבנות מרחבי מדגם אחרים שעדיין יניבו לנו משתנה מקרי &lt;span&gt;\( X \)&lt;/span&gt; עם אותה התפלגות (אפילו אם בתור פונקציה, &lt;span&gt;\( X \)&lt;/span&gt; יוגדר בצורה שונה). זו רמת אבסטרקציה שקצת צריך להתרגל אליה.&lt;/p&gt;

&lt;p&gt;עדיין, סיפור המטבעות &lt;strong&gt;כן&lt;/strong&gt; עוזר לנו להבין את &lt;span&gt;\( X \)&lt;/span&gt; יותר טוב. הנה דוגמא: על אותו מרחב מדגם של &lt;span&gt;\( A=\left\{ 0,1\right\} ^{n} \)&lt;/span&gt; אני יכול להגדיר עוד משתנים מקריים &lt;span&gt;\( Y_{1},Y_{2},\ldots,Y_{n} \)&lt;/span&gt;. כל משתנה מקרי מסתכל על הטלת מטבע אחת ויחידה ואומר האם &lt;strong&gt;בה&lt;/strong&gt; התקבל עץ או פלי. למשל &lt;span&gt;\( Y_{7} \)&lt;/span&gt; מקבל 1 אם בהטלה 7 יצא עץ ואחרת הוא מקבל 0. פורמלית, &lt;span&gt;\( Y_{k}\left(b\right)=b_{k} \)&lt;/span&gt;, אבל אני הולך לוותר יותר ויותר על ה”פורמלית” הזה ככל שנתקדם. משתנה מקרי כזה, שמקבל או 0 או 1, נקרא &lt;strong&gt;אינדיקטור&lt;/strong&gt;, ובמקרה שלנו &lt;span&gt;\( P\left(Y_{k}=1\right)=p \)&lt;/span&gt; ואפשר לראות שמתקיים &lt;span&gt;\( X=Y_{1}+Y_{2}+\ldots+Y_{n} \)&lt;/span&gt;, כלומר אני יכול לתאר את &lt;span&gt;\( X \)&lt;/span&gt; בתור סכום של אינדיקטורים. כשאני אגיע לדיבורים על &lt;strong&gt;תוחלת&lt;/strong&gt; זה יהיה נוח למדי לראות את &lt;span&gt;\( X \)&lt;/span&gt; ככה.&lt;/p&gt;

&lt;p&gt;יש עוד נקודה אחת לגבי משתנים מקריים ששווה לדבר עליה עכשיו. בואו נניח שאני שולף איבר &lt;span&gt;\( b\in A \)&lt;/span&gt; אקראי ממרחב המדגם שלי, ועכשיו אני מסתכל על &lt;span&gt;\( Y_{3}\left(b\right) \)&lt;/span&gt;. האם זה נותן לי &lt;strong&gt;אינפורמציה&lt;/strong&gt; כלשהי על הערכים של משתנים מקריים אחרים? למשל, אם &lt;span&gt;\( Y_{3}\left(b\right)=1 \)&lt;/span&gt;, בהחלט קיבלתי אינפורמציה כלשהי על &lt;span&gt;\( X \)&lt;/span&gt;: אני יודע ש-&lt;span&gt;\( X\left(b\right)&amp;gt;0 \)&lt;/span&gt;. זה אומר שחשיפה למידע ש-&lt;span&gt;\( Y_{3}\left(b\right)=1 \)&lt;/span&gt; &lt;strong&gt;שינתה&lt;/strong&gt; את הערכות ההסתברות שלי לגבי &lt;span&gt;\( X \)&lt;/span&gt;; אם קודם הערכתי ש-&lt;span&gt;\( P\left(X=0\right)=q^{n} \)&lt;/span&gt;, עכשיו אני מעריך ש-&lt;span&gt;\( P\left(X=0|Y_{3}=1\right)=0 \)&lt;/span&gt; (הקו המפריד אומר “בתנאי ש-“, כלומר ההסתברות של &lt;span&gt;\( X=0 \)&lt;/span&gt; בתנאי שמתקיים &lt;span&gt;\( Y_{3}=1 \)&lt;/span&gt;). לעומת זאת, המידע שלי על &lt;span&gt;\( Y_{5} \)&lt;/span&gt; לא מושפע מידע כלשהו על &lt;span&gt;\( Y_{3} \)&lt;/span&gt; (כי הם בודקים הטלות שונות). כלומר, אפשר לכתוב באופן כללי &lt;span&gt;\( P\left(Y_{5}=k|Y_{3}=t\right)=P\left(Y_{5}=k\right) \)&lt;/span&gt;. על סיטואציה כזו, שבה יש לנו משתנים &lt;span&gt;\( X,Y \)&lt;/span&gt; ואנחנו יודעים ש-&lt;span&gt;\( P\left(X=k|Y=t\right)=P\left(X=k\right) \)&lt;/span&gt; אנחנו אומרים ש-&lt;span&gt;\( X,Y \)&lt;/span&gt; הם משתנים &lt;strong&gt;בלתי תלויים&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;עכשיו, מה ההסתברות ש-&lt;span&gt;\( X=k \)&lt;/span&gt; וגם &lt;span&gt;\( Y=t \)&lt;/span&gt; &lt;strong&gt;ביחד&lt;/strong&gt;? אני אסמן את זה ב-&lt;span&gt;\( P\left(X=k\wedge Y=t\right) \)&lt;/span&gt;. אינטואיטיבית (ואפשר גם להוכיח את זה פורמלית) זה יהיה שווה להסתברות &lt;span&gt;\( P\left(Y=t\right) \)&lt;/span&gt;, כפול ההסתברות ש-&lt;span&gt;\( X=k \)&lt;/span&gt; &lt;strong&gt;בהינתן&lt;/strong&gt; שאנחנו כבר יודעים ש-&lt;span&gt;\( Y=t \)&lt;/span&gt;, כלומר&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( P\left(X=k\wedge Y=t\right)=P\left(Y=t\right)\cdot P\left(X=k|Y=t\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ואם ידוע ש-&lt;span&gt;\( X,Y \)&lt;/span&gt; בלתי תלויים אפשר להציב &lt;span&gt;\( P\left(X=k|Y=t\right)=P\left(X=k\right) \)&lt;/span&gt; ולקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( P\left(X=k\wedge Y=t\right)=P\left(X=k\right)P\left(Y=t\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כלומר - עבור משתנים בלתי תלויים, ההסתברות לאירוע משותף לשניהם היא &lt;strong&gt;מכפלת&lt;/strong&gt; ההסתברויות עבור כל אחד מהם בנפרד. זו ההצדקה (בנפנוף ידיים) לכך שההסתברות לקבל בדיוק &lt;span&gt;\( k \)&lt;/span&gt; פעמים “עץ” בהטלת מטבע ספציפית היא &lt;span&gt;\( p^{k}q^{n-k} \)&lt;/span&gt; - אחרי שבחרנו &lt;span&gt;\( k \)&lt;/span&gt; משתנים שיקבלו “עץ” ההסתברות שכולם אכן יקבלו עץ היא &lt;span&gt;\( p^{k} \)&lt;/span&gt;, מכפלת ההסתברויות של כל אחד מהם, כי הם בלתי תלויים (ואז גם מוסיפים את &lt;span&gt;\( n-k \)&lt;/span&gt; המשתנים האחרים שמקבלים פלי בהסתברות &lt;span&gt;\( q \)&lt;/span&gt; לתמונה).&lt;/p&gt;

&lt;h2&gt;התפלגויות רציפות&lt;/h2&gt;

&lt;p&gt;עד עכשיו מה שראינו היה יחסית פשוט. עכשיו בואו נסבך את זה ממש. נתחיל משאלה תמימה: איך, בעצם, עם הכלים שיש לי כרגע, אני יכול להגדיר סיטואציה הסתברותית שבה אני בוחר מספר בין &lt;span&gt;\( 0 \)&lt;/span&gt; ל-&lt;span&gt;\( 1 \)&lt;/span&gt; באקראי, בהסתברות שווה לכל מספר?&lt;/p&gt;

&lt;p&gt;זו כמובן לא סיטואציה מופרכת. בכל שפת תכנות שמכבדת את עצמה יש פונקציית ספרייה שמחזירה מספר בין 0 ל-1 באקראי ובהסתברות אחידה לכל תוצאה. אבל לדבר על זה במונחים של שפת תכנות זו רמאות, כי בשפת תכנות יש רק מספר &lt;strong&gt;סופי&lt;/strong&gt; של מספרים בין 0 ל-1 שאנחנו בכלל טורחים לייצג, אז אנחנו פשוט במקרה פשוט של הסתברות בדידה. אבל בין 0 ל-1 &lt;strong&gt;אין&lt;/strong&gt; מספר סופי של מספרים. יש למשל את &lt;span&gt;\( 1 \)&lt;/span&gt;, ואת &lt;span&gt;\( \frac{1}{2} \)&lt;/span&gt;, ואת &lt;span&gt;\( \frac{1}{3} \)&lt;/span&gt;, ואת &lt;span&gt;\( \frac{1}{4} \)&lt;/span&gt; וכן הלאה וכן הלאה. עכשיו, מה ההסתברות שכל אחד מהמספרים הללו יתקבל? נניח ש-&lt;span&gt;\( p\left(1\right)=\frac{1}{n} \)&lt;/span&gt; עבור &lt;span&gt;\( 0\le\frac{1}{n}\le1 \)&lt;/span&gt; כלשהו. מכיוון שההתפלגות הזו היא אחידה, גם &lt;span&gt;\( p\left(\frac{1}{2}\right)=\frac{1}{n} \)&lt;/span&gt; וכן הלאה, ואז אני מקבל &lt;span&gt;\( p\left(1\right)+p\left(\frac{1}{2}\right)+\ldots+p\left(\frac{1}{n+1}\right)=\frac{n+1}{n}&amp;gt;1 \)&lt;/span&gt; ואופס! חרגתי מהגבול. סכום ההסתברויות על &lt;strong&gt;כל&lt;/strong&gt; התוצאות האפשריות במרחב חייב להיות לכל היותר 1 וכבר עברתי את זה. המסקנה היא פשוטה: אם אני רוצה להגדיר התפלגות כלשהי על אינסוף איברים, ההתפלגות &lt;strong&gt;לא יכולה&lt;/strong&gt; להיות אחידה; היא חייבת לקטון כל הזמן, אחרת סכום ההסתברות של כל התוצאות האפשריות יעבור את 1.&lt;/p&gt;

&lt;p&gt;אז יש לנו בעיה מהותית פה, וקל להצביע על האשם בבעיה המהותית הזו: &lt;strong&gt;אינסוף&lt;/strong&gt;. מושג האינסוף מסבך לנו את החיים בצורה שבה מחשבים לא מסתבכים. העניין הוא שמתמטיקאים דווקא אוהבים את האינסוף הזה - אחרי שמתרגלים אליו ומאלפים אותו, הרבה יותר קל לבצע חישובים איתו. יש תחום שלם שעוסק בזה שנקרא &lt;strong&gt;חדו&quot;א&lt;/strong&gt;. הנקודה היא שאת מה שהולך לקרות עכשיו המתמטיקאים מקבלים בשמחה ובששון כי הוא &lt;strong&gt;משפר&lt;/strong&gt; להם את תורת ההסתברות, לא מסבך אותה. אבל במבט ראשון זה יהיה קצת מוזר.&lt;/p&gt;

&lt;p&gt;הרעיון הבסיסי הוא לשנות את הגישה שלנו להסתברות. עד עכשיו הגישה הייתה “יש לנו קבוצה &lt;span&gt;\( A \)&lt;/span&gt; ולכל איבר &lt;span&gt;\( a\in A \)&lt;/span&gt; אנחנו מגדירים הסתברות &lt;span&gt;\( p\left(a\right) \)&lt;/span&gt;”. עכשיו הגישה תהיה שונה - אנחנו &lt;strong&gt;לא&lt;/strong&gt; נגדיר הסתברות עבור איבר בודד אלא עבור &lt;strong&gt;קבוצות&lt;/strong&gt; של איברים, וההסתברות שנקבל באה לומר מה הסיכוי שנעלה בגורל איבר &lt;strong&gt;כלשהו&lt;/strong&gt; מתוך הקבוצה.&lt;/p&gt;

&lt;p&gt;בואו נבין קודם איך זה עובד עבור התפלגות אחידה בין 0 ל-1 כי אפילו במקרה הפשוט הזה אפשר לראות את הסיבוכים. ראשית, &lt;span&gt;\( p\left(\left[0,1\right]\right)=1 \)&lt;/span&gt; על פי מה שזה עתה תיארתי - ההסתברות שאני אקבל איבר &lt;strong&gt;כלשהו&lt;/strong&gt; בין 0 ל-1 היא כמובן 1, ההסתברות הכוללת האפשרית.&lt;/p&gt;

&lt;p&gt;מה עם &lt;span&gt;\( p\left(\left[0,\frac{1}{2}\right]\right) \)&lt;/span&gt;? אם חילקתי את הקטע שלי לשני חלקים שווים בגודלם, וההתפלגות אחידה, אני מניח שההסתברות שמספר אקראי יפול בחצי הראשון היא &lt;span&gt;\( \frac{1}{2} \)&lt;/span&gt;. אז קיבלנו &lt;span&gt;\( p\left(\left[0,\frac{1}{2}\right]\right)=\frac{1}{2} \)&lt;/span&gt; ומאותו נימוק &lt;span&gt;\( p\left(\left[\frac{1}{2},1\right]\right)=\frac{1}{2} \)&lt;/span&gt;. ואם אני אחלק את העולם שלי לשלושה חלקים? אז מתבקש ש-&lt;span&gt;\( p\left(\left[0,\frac{1}{3}\right]\right)=\frac{1}{3} \)&lt;/span&gt; וכן הלאה, ומכאן קצרה הדרך לטענה הכללית: &lt;span&gt;\( p\left(\left[a,b\right]\right)=b-a \)&lt;/span&gt;, לכל &lt;span&gt;\( 0\le a&amp;lt;b\le1 \)&lt;/span&gt;. כלומר, ההסתברות שמספר ייפול בקטע כלשהו שווה ממש לאורך שלו.&lt;/p&gt;

&lt;p&gt;זה כמובן מעלה את השאלה מה קורה אם &lt;span&gt;\( a=b \)&lt;/span&gt;. אם ה”קטע” שלי כולל בדיוק נקודה אחת. על פי מה שאמרתי כרגע, &lt;span&gt;\( p\left(\left[a,a\right]\right)=0 \)&lt;/span&gt;, ואם חושבים על זה לרגע פשוט &lt;strong&gt;אין לי ברירה&lt;/strong&gt;, זה חייב להיות ככה בדיוק מהנימוק שכבר ראינו. אבל אם ההסתברות של איבר בודד היא 0, מה הולך כאן? איך זה ייתכן שעבור איבר בודד ההסתברות היא 0 אבל עבור קבוצה של איברים היא לא, הרי ההסתברות של כל איבר בקבוצה היא 0!&lt;/p&gt;

&lt;p&gt;אז ראשית, אנחנו לומדים מכאן ש”הסתברות 0” בהקשר הרציף שבו אנחנו נמצאים עכשיו היא בעלת משמעות &lt;strong&gt;שונה&lt;/strong&gt; מאשר “הסתברות 0” בהקשר הבדיד. בהקשר הבדיד הסתברות 0 פירושה “זה אף פעם לא יקרה לעולם בחיים תשכחו מזה אין מצב” ואילו בהקשר הרציף הסתברות 0 פירושה “זה לא משהו סביר בפני עצמו אבל זה יכול לקרות”. זה לא “פרדוקס” או משהו דומה פשוט כי הסתברות רציפה היא משהו שאני ממציא &lt;strong&gt;כרגע&lt;/strong&gt;. זה מבנה מתמטי שבא להקל עלינו לתאר כל מני דברים; אין איזה חוק טבע קוסמי שקובע מה המשמעות של “הסתברות 0” במבנה הזה &lt;strong&gt;אמורה להיות&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;שנית, הקטע הזה של משהו שאינו 0 שמורכב מהרבה דברים שהם כן 0 לא אמור להיות חדש לנו, זו לא המצאה של תורת ההסתברות, אלא זו תוצאה של &lt;strong&gt;הגאומטריה&lt;/strong&gt; שבחרנו לבסס את תורת ההסתברות עליה. אנחנו מגדירים את ההסתברות של קטע בתור &lt;strong&gt;האורך&lt;/strong&gt; שלו, וקטע שכולל נקודה אחת הוא מאורך 0. אנחנו חיים עם זה טוב למרות שזה אומר שקטעים מאורך שגדול מ-0 מורכבים מאינסוף נקודות שהאורך של כל אחת מהן הוא כן 0, כי אנחנו לא &lt;strong&gt;מצפים&lt;/strong&gt; שהאורך של קטע יהיה בסך הכל סכום האורכים של הנקודות שמרכיבות אותו אלא משהו כללי יותר. באופן דומה כשאנחנו עוברים לדו מימד אז לקו אין &lt;strong&gt;שטח&lt;/strong&gt; למרות שאם ניקח ריבוע, אפשר לפרק אותו לאוסף של קווים, וכן הלאה.&lt;/p&gt;

&lt;p&gt;בסדר, אז השלמנו נפשית עם זה שלנקודה יש הסתברות 0, והיה לנו קל לקנות את זה שבהתפלגות האחידה, ההסתברות של הקטע &lt;span&gt;\( \left[a,b\right] \)&lt;/span&gt; היא &lt;span&gt;\( b-a \)&lt;/span&gt;. אבל מה ההסתברות של קבוצות מורכבות יותר של נקודות? אז למשל, אם ניקח את איחוד הקטעים &lt;span&gt;\( \left[0,\frac{1}{3}\right]\cup\left[\frac{2}{3},1\right] \)&lt;/span&gt; שאורך כל אחד מהם הוא &lt;span&gt;\( \frac{1}{3} \)&lt;/span&gt; והם זרים, נצפה שהאורך של שניהם ביחד יהיה סכום האורכים שלהם, &lt;span&gt;\( \frac{1}{3}+\frac{1}{3} \)&lt;/span&gt;. זה יוצר ציפיה כללית יותר: שאם &lt;span&gt;\( A,B \)&lt;/span&gt; הן קבוצות זרות (או אפילו בעלות חיתוך שהוא נקודה משותפת בודדת כי פשוט אפשר להשמיט את הנקודה הזו מאחת הקבוצות) אז &lt;span&gt;\( p\left(A\cup B\right)=p\left(A\right)+p\left(B\right) \)&lt;/span&gt;. התכונה הזו נקראת &lt;strong&gt;אדיטיביות&lt;/strong&gt; ואם היא מתקיימת אז אפשר להוכיח באינדוקציה שמתקיים &lt;span&gt;\( p\left(\bigcup_{i=1}^{n}A_{i}\right)=\sum_{i=1}^{n}p\left(A_{i}\right) \)&lt;/span&gt; עבור קבוצות זרות. אבל למעשה, אנחנו רוצים אפילו יותר מכך - בגלל שאפשר לעשות לקטע &lt;span&gt;\( \left[0,1\right] \)&lt;/span&gt; את מה שנקרא “פרדוקס הדיכוטומיה” (הפרדוקס שבו אכילס רוצה לרוץ מקצה אחד של מסלול לקצה השני אבל קודם הוא צריך לעבור את חצי הדרך ואז את חצי מה שנשאר וכן הלאה) ולקבל &lt;span&gt;\( \left[0,1\right]=\left[0,\frac{1}{2}\right]\cup\left[\frac{1}{2},\frac{3}{4}\right]\cup\left[\frac{3}{4},\frac{7}{8}\right]\cup\ldots \)&lt;/span&gt; כך שהיינו מצפים שיתקיים &lt;span&gt;\( p\left(\left[0,\frac{1}{2}\right]\cup\left[\frac{1}{2},\frac{3}{4}\right]\cup\left[\frac{3}{4},\frac{7}{8}\right]\cup\ldots\right)=1 \)&lt;/span&gt; וזה אכן מתקיים אם מניחים ש-&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( p\left(\left[0,\frac{1}{2}\right]\cup\left[\frac{1}{2},\frac{3}{4}\right]\cup\left[\frac{3}{4},\frac{7}{8}\right]\cup\ldots\right)=p\left(\left[0,\frac{1}{2}\right]\right)+p\left(\left[\frac{1}{2},\frac{3}{4}\right]\right)+\ldots=\frac{1}{2}+\frac{1}{4}+\frac{1}{8}+\ldots=1 \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כשהשוויון האחרון נובע ממה שאנחנו יודעים על סכומים אינסופיים (ואנחנו יודעים אותו כי זה חלק מחדו”א). אז התכונה שאנחנו מצפים שתתקיים היא &lt;span&gt;\( p\left(\bigcup_{i=1}^{\infty}A_{i}\right)=\sum_{i=1}^{\infty}p\left(A_{i}\right) \)&lt;/span&gt; ולדבר כזה קוראים “&lt;span&gt;\( \sigma \)&lt;/span&gt;-אדיטיביות”.&lt;/p&gt;

&lt;p&gt;במילים אחרות, אנחנו רוצים ש-&lt;span&gt;\( p \)&lt;/span&gt; תהיה פונקציה על תתי-קבוצות של &lt;span&gt;\( \left[0,1\right] \)&lt;/span&gt; שמקיימת &lt;span&gt;\( \sigma \)&lt;/span&gt;-אדיטיביות ושלכל &lt;span&gt;\( A \)&lt;/span&gt; יתקיים &lt;span&gt;\( p\left(A\right)\ge0 \)&lt;/span&gt; ולא אמרתי את זה במפורש אבל מן הסתם &lt;span&gt;\( p\left(\emptyset\right)=0 \)&lt;/span&gt; כי אפילו על קבוצה עם נקודה אחת מקבלים 0. לפונקציה &lt;span&gt;\( p \)&lt;/span&gt; כזו יש שם: &lt;strong&gt;מידה&lt;/strong&gt;. יש תחום שלם שעוסק במידות ובשימושים הנרחבים שלהן, אבל אני לא אכנס לזה בכלל כאן, רק אעיר שלוש הערות. ראשית, מ-&lt;span&gt;\( p \)&lt;/span&gt; אנחנו דורשים עוד משהו שלא נדרש ממידות באופן כללי - ש-&lt;span&gt;\( p \)&lt;/span&gt; על “הכל” יהיה שווה 1. למידה שמקיימת את זה קוראים &lt;strong&gt;מידת הסתברות&lt;/strong&gt;. שנית, גם אם ההתפלגויות הבדידות שראינו קודם אפשר לנסח בפורמליזם של מידות. אני אוותר על זה כאן, אבל זו הדרך “לאחד” את ההתפלגויות הבדידות עם הרציפות. לבסוף, וזה החלק הקריטי, &lt;strong&gt;למידה יש מגבלות&lt;/strong&gt;. בפרט, פשוט אי אפשר להגדיר מידה על &lt;strong&gt;כל&lt;/strong&gt; תת-הקבוצות של &lt;span&gt;\( \left[0,1\right] \)&lt;/span&gt; ואני נותן הוכחה לזה &lt;a href=&quot;https://gadial.net/2010/03/03/no_measure_on_the_real_line/&quot;&gt;כאן&lt;/a&gt;. זה אומר שלא לכל תת-קבוצה של &lt;span&gt;\( \left[0,1\right] \)&lt;/span&gt; תהיה הסתברות מוגדרת, אפילו תחת ההתפלגות האחידה, פשוט כי תתי-הקבוצות הללו “מסובכות מדי” (לא לבלבל את זה עם תת-הקבוצה &lt;span&gt;\( \left\{ a\right\}  \)&lt;/span&gt; שההסתברות שלה בהחלט מוגדרת, פשוט שווה לאפס).&lt;/p&gt;

&lt;p&gt;כל זה דיבר רק על התפלגות &lt;strong&gt;אחידה&lt;/strong&gt;, אבל מה קורה באופן כללי? במקרה הכללי עדיין ההסתברות של כל נקודה תהיה אפס, אבל לא כל הנקודות יהיו שוות זו לזו - יהיו נקודות שהאפס שלהן “יותר גדול”. למעשה, זה &lt;strong&gt;כבר קרה&lt;/strong&gt; אם חושבים על ההתפלגות האחידה על &lt;span&gt;\( \left[0,1\right] \)&lt;/span&gt; בתור משהו שה”עולם” שלו הוא כל הממשיים, &lt;span&gt;\( \mathbb{R} \)&lt;/span&gt;. מה שקרה הוא שלממשיים ב-&lt;span&gt;\( \left[0,1\right] \)&lt;/span&gt; היה משקל חיובי שבא לידי ביטוי כשמאגדים מספיק מהם ביחד, בזמן שלממשיים מחוץ לקטע היה משקל אפס ולכן לא משנה כמה מהם מאגדים ביחד, לא יוצא מזה כלום. עולה השאלה - מה הכלי הטכני שיש לנו שמסוגל לשלב ככה בין &lt;strong&gt;האורך&lt;/strong&gt; של קטע ובין &lt;strong&gt;המשקל&lt;/strong&gt; שאנחנו נותנים לו? ויש כלי כזה, שהוא אחד מהכוכבים הנוצצים של המתמטיקה: &lt;strong&gt;אינטגרל&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;הנה הרעיון הפורמלי: כשאנחנו באים להגדיר משתנה מקרי רציף &lt;span&gt;\( X \)&lt;/span&gt;, הוא תאופיין על ידי פונקציה &lt;span&gt;\( f:\mathbb{R}\to[0,\infty( \)&lt;/span&gt; שנקראת &lt;strong&gt;פונקציית צפיפות ההסתברות&lt;/strong&gt; כך ש-&lt;span&gt;\( P\left(X\in B\right)=\int_{B}f\left(x\right)dx \)&lt;/span&gt; בהנחה שהאינטגרל מוגדר (ואחרת &lt;span&gt;\( P\left(X\in B\right) \)&lt;/span&gt; פשוט לא יהיה מוגדר). ה”צפיפות” בשם הפונקציה לא תפתיע כנראה אף אחת שמכירה פיזיקה: אם יש לנו צורה &lt;span&gt;\( B \)&lt;/span&gt; ואנחנו רוצים לחשב את המסה שלה, אנחנו מבצעים אינטגרל על &lt;span&gt;\( B \)&lt;/span&gt; על הפונקציה שמתארת את &lt;strong&gt;הצפיפות&lt;/strong&gt; של &lt;span&gt;\( B \)&lt;/span&gt; (כמה מסה מרוכזת בכל איזור של &lt;span&gt;\( B \)&lt;/span&gt;). זה בדיוק אותו רעיון.&lt;/p&gt;

&lt;p&gt;הדרישה היחידה שלנו מ-&lt;span&gt;\( f \)&lt;/span&gt; פרט לחיוביות שלה היא שההסתברות הכוללת תצא 1, כלומר שיתקיים &lt;span&gt;\( \int_{-\infty}^{\infty}f\left(x\right)dx=1 \)&lt;/span&gt;. אני מניח כאן שאנחנו בסדר עם אינטגרלים מוכללים - אבל גם אם אנחנו לא בסדר לא נורא, נראה שהחישובים הרלוונטיים הם לא סוף העולם.&lt;/p&gt;

&lt;p&gt;עבור ההתפלגות האחידה, פונקציית הצפיפות די פשוטה:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( f\left(x\right)=\begin{cases} 1 &amp;amp; x\in\left[0,1\right]\\ 0 &amp;amp; x\notin\left[0,1\right] \end{cases} \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;אם היינו רוצים להגדיר התפלגות אחידה על קטע גדול יותר, למשל &lt;span&gt;\( \left[0,2\right] \)&lt;/span&gt;, היינו צריכים לשנות את הפונקציה בהתאם כדי שהאינטגרל על הכל ייצא 1:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( f\left(x\right)=\begin{cases} \frac{1}{2} &amp;amp; x\in\left[0,2\right]\\ 0 &amp;amp; x\notin\left[0,2\right] \end{cases} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;הבנו את הרעיון? יפה, אז אפשר סוף כל סוף להגיע אל ההתפלגות שהיא הסיבה שלשמה נתכנסנו: ההתפלגות הנורמלית.&lt;/p&gt;

&lt;h2&gt;מפגש ראשון עם התפלגות נורמלית&lt;/h2&gt;

&lt;p&gt;אמרתי בתחילת הפוסט שהתפלגות נורמלית מוגדרת עם &lt;span&gt;\( f\left(x\right)=\frac{1}{\sqrt{2\pi}\sigma}e^{-\left(x-\mu\right)^{2}/2\sigma^{2}} \)&lt;/span&gt; ועכשיו אנחנו סוף סוף יכולים להבין מה הולך כאן, אבל זה &lt;strong&gt;עדיין&lt;/strong&gt; מסובך מדי; לעת עתה אני אסתכל על מקרה פרטי מרכזי, שממנו בעצם קל יחסית להבין את המקרה הכללי - הפונקציה &lt;span&gt;\( f\left(x\right)=\frac{1}{\sqrt{2\pi}}e^{-\frac{x^{2}}{2}} \)&lt;/span&gt; שמתקבלת מהצבת &lt;span&gt;\( \mu=0,\sigma=1 \)&lt;/span&gt; בנוסחה הקודמת. ככה הפונקציה הזו נראית כשמציירים גרף שלה:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/2025/histogram_11.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;הגרף הזה מתאר רק את החלק &lt;span&gt;\( \left[-3,3\right] \)&lt;/span&gt; כי זה החלק המעניין; מחוץ לו הפונקציה פשוט נראית ממש שטוחה. לפונקציה הזו יש שלל שמות - בפרט “עקומת הפעמון” בגלל הצורה שלה, או “גאוסיאן” על שם המתמטיקאי גאוס שעשה בה שימוש נרחב (אבל לא היה הראשון שתיאר אותה; זה היה דה-מואבר).&lt;/p&gt;

&lt;p&gt;השאלה המנחה שלנו בכל סדרת הפוסטים הזו היא “מאיפה הפונקציה הזו הגיעה בכלל?” והתשובה שאני נותן כאן היא “ממשפט הגבול המרכזי” שאותו אני עוד צריך להראות פורמלית אבל כבר אמרתי מהו - העקומה הספציפית הזו פשוט מתארת &lt;strong&gt;ממש טוב&lt;/strong&gt; את מה שקורה כשיש לנו משתנה מקרי ואנחנו מחברים הרבה עותקים בלתי תלויים של עצמו. אבל כבר בשלב הזה אני יכול להסביר מאיפה&lt;strong&gt; חלק&lt;/strong&gt; מהפונקציה הגיע - למה &lt;span&gt;\( \pi \)&lt;/span&gt; נמצא שם. התשובה הקצרה היא שהוא שם כי &lt;span&gt;\( 2\pi \)&lt;/span&gt; הוא היקף מעגל היחידה. התשובה הקצת פחות קצרה היא שהוא שם בגלל הדרישה &lt;span&gt;\( \int_{-\infty}^{\infty}f\left(x\right)dx=1 \)&lt;/span&gt; על פונקציות צפיפות. בואו נעבור לתשובה המלאה.&lt;/p&gt;

&lt;p&gt;אז כאמור, אנחנו צריכים להראות שמתקיים &lt;span&gt;\( \int_{-\infty}^{\infty}f\left(x\right)dx=1 \)&lt;/span&gt;, כלומר &lt;span&gt;\( \int_{-\infty}^{\infty}\frac{1}{\sqrt{2\pi}}e^{-\frac{x^{2}}{2}}dx=\frac{1}{\sqrt{2\pi}}\int_{-\infty}^{\infty}e^{-\frac{x^{2}}{2}}dx=1 \)&lt;/span&gt;, כלומר מספיק להראות ש-&lt;span&gt;\( \int_{-\infty}^{\infty}e^{-\frac{x^{2}}{2}}dx=\sqrt{2\pi} \)&lt;/span&gt;. עכשיו, איך בדרך כלל מחשבים אינטגרל מהצורה &lt;span&gt;\( \int_{-\infty}^{\infty}f\left(x\right)dx \)&lt;/span&gt;? קודם כל מוצאים &lt;strong&gt;פונקציה קדומה&lt;/strong&gt;, &lt;span&gt;\( F\left(x\right) \)&lt;/span&gt; כך ש-&lt;span&gt;\( F^{\prime}\left(x\right)=f\left(x\right) \)&lt;/span&gt;. אחר כך מחשבים את האינטגרל על הגבולות הסופיים &lt;span&gt;\( \int_{a}^{b}f\left(x\right)dx=F\left(b\right)-F\left(a\right) \)&lt;/span&gt;, ולבסוף משאיפים בזהירות את &lt;span&gt;\( b \)&lt;/span&gt; ל-&lt;span&gt;\( \infty \)&lt;/span&gt; ואת &lt;span&gt;\( a \)&lt;/span&gt; ל-&lt;span&gt;\( -\infty \)&lt;/span&gt; ובודקים לאן הביטוי הולך.&lt;/p&gt;

&lt;p&gt;זה לא מה שיקרה כאן.&lt;/p&gt;

&lt;p&gt;לב הבעיה הוא שלפונקציה &lt;span&gt;\( e^{-x^{2}} \)&lt;/span&gt; &lt;strong&gt;אין&lt;/strong&gt; פונקציה קדומה שאפשר להציג בצורה פשוטה (“אלמנטרית”). להוכיח את זה זה סיפור בפני עצמו ואני לא אכנס לזה הפעם, אבל תשכחו מהשיטה המסורתית. לא נחשב את האינטגרל הזה בדרך המסורתית. למרבה השמחה, לא חסרות דרכים אחרות.&lt;/p&gt;

&lt;p&gt;בואו נסמן &lt;span&gt;\( I=\int_{-\infty}^{\infty}e^{-\frac{x^{2}}{2}}dx \)&lt;/span&gt;. במקום להוכיח &lt;span&gt;\( I=\sqrt{2\pi} \)&lt;/span&gt;, נוכיח ש-&lt;span&gt;\( I^{2}=2\pi \)&lt;/span&gt; (ובגלל שהאינטגרל של &lt;span&gt;\( I \)&lt;/span&gt; הוא על פונקציה &lt;strong&gt;חיובית&lt;/strong&gt;, &lt;span&gt;\( I \)&lt;/span&gt; הוא השורש החיובי של &lt;span&gt;\( 2\pi \)&lt;/span&gt;). הרעיון הוא להפוך את &lt;span&gt;\( I^{2} \)&lt;/span&gt;, שהוא מכפלה של שני אינטגרלים במשתנה יחיד, לאינטגרל &lt;strong&gt;כפול&lt;/strong&gt; באמצעות מה שנקרא &lt;strong&gt;משפט פוביני&lt;/strong&gt;. בואו נתחיל מלראות איך זה בערך עובד ואז נדבר על הפרטים הטכניים שצריך לגהץ. הטריק הבסיסי הוא זה:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( I^{2}=\left(\int_{-\infty}^{\infty}e^{-\frac{x^{2}}{2}}dx\right)\left(\int_{-\infty}^{\infty}e^{-\frac{y^{2}}{2}}dy\right)=\int_{-\infty}^{\infty}\int_{-\infty}^{\infty}e^{-\frac{\left(x^{2}+y^{2}\right)}{2}}dxdy \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו מבצעים &lt;strong&gt;החלפת משתנים&lt;/strong&gt; של האינטגרל הכפול. מגדירים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( x=r\cos\theta \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( y=r\sin\theta \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עבור &lt;span&gt;\( r\in[0,\infty( \)&lt;/span&gt; ו-&lt;span&gt;\( \theta\in\left[0,2\pi\right] \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;מה שנותן לנו:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( x^{2}+y^{2}=r^{2}\left(\cos^{2}\theta+\sin^{2}\theta\right)=r^{2} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( dxdy=rd\theta dr \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כלומר&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \int_{-\infty}^{\infty}\int_{-\infty}^{\infty}e^{-\frac{\left(x^{2}+y^{2}\right)}{2}}dxdy=\int_{0}^{\infty}\left(\int_{0}^{2\pi}re^{-\frac{r^{2}}{2}}d\theta\right)dr= \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( =2\pi\int_{0}^{\infty}re^{-\frac{r^{2}}{2}}dr=-2\pi\left.e^{\frac{-r^{2}}{2}}\right|_{0}^{\infty}=2\pi \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אוקיי, מה קרה פה כרגע? לי זה נראה כמו קסם בכל פעם שאני רואה את זה, אבל האמת היא שלא קרה פה שום דבר חריג - זה תרגיל מאוד סטנדרטי בחדו”א, וכפי שקורה בדרך כלל בחדו”א - &lt;strong&gt;להצדיק&lt;/strong&gt; כל מעבר דורש עבודה אבל מרגע שיושב לנו למה אפשר להצדיק את כולם, העבודה היא די פשוטה. אני אתחיל דווקא מהסוף ואלך אחורה צעד-צעד כדי שנראה שהכל תקין, כי ככל שמתקרבים להתחלה כך הנניח-נזניח שלנו נהיה גדול יותר.&lt;/p&gt;

&lt;p&gt;ראשית, האינטגרל &lt;span&gt;\( \int_{0}^{\infty}re^{-\frac{r^{2}}{2}}dr \)&lt;/span&gt;. הוא מאוד מזכיר את מה שהתחלנו ממנו, &lt;span&gt;\( \int_{-\infty}^{\infty}e^{-\frac{x^{2}}{2}}dx \)&lt;/span&gt;, אבל יש הבדל מהותי אחד: &lt;span&gt;\( e^{-\frac{r^{2}}{2}} \)&lt;/span&gt; מוכפל ב-&lt;span&gt;\( r \)&lt;/span&gt;, וההבדל הקטן הזה פירושו &lt;strong&gt;שיש&lt;/strong&gt; פונקציה קדומה אלמנטרית לאינטגרנד. אם אנחנו גוזרים את &lt;span&gt;\( e^{x} \)&lt;/span&gt; אנחנו מקבלים &lt;span&gt;\( e^{x} \)&lt;/span&gt;; זו התכונה הבסיסית של הפונקציה הזו (אפשר אפילו &lt;strong&gt;להגדיר&lt;/strong&gt; אותה באמצעותה, &lt;a href=&quot;https://gadial.net/2010/03/27/exponent/&quot;&gt;הנה פוסט&lt;/a&gt; שעושה את זה). עכשיו, על פי כלל השרשרת, &lt;span&gt;\( \left(e^{g\left(x\right)}\right)^{\prime}=g^{\prime}\left(x\right)e^{g\left(x\right)} \)&lt;/span&gt;, ומכיוון שבמקרה שלנו &lt;span&gt;\( g\left(r\right)=-\frac{r^{2}}{2} \)&lt;/span&gt; נקבל &lt;span&gt;\( g^{\prime}\left(r\right)=-r \)&lt;/span&gt; כלומר &lt;span&gt;\( \left(e^{-\frac{r^{2}}{2}}\right)=-re^{-\frac{r^{2}}{2}} \)&lt;/span&gt; ולכן הפונקציה הקדומה של &lt;span&gt;\( re^{-\frac{r^{2}}{2}} \)&lt;/span&gt; היא &lt;span&gt;\( -e^{-\frac{r^{2}}{2}} \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;מה שנשאר לנו, אם אנחנו יודעים את הפונקציה הקדומה, הוא לחשב את &lt;span&gt;\( -2\pi\left.e^{\frac{-r^{2}}{2}}\right|_{0}^{\infty} \)&lt;/span&gt;. החישוב הוא סטנדרטי לאינטגרלים מוכללים: כדי לחשב את &lt;span&gt;\( \left.F\left(r\right)\right|_{0}^{\infty} \)&lt;/span&gt; לוקחים &lt;span&gt;\( a\in[0,\infty( \)&lt;/span&gt; כלשהו ומחשבים את &lt;span&gt;\( \lim_{a\to\infty}\left[F\left(a\right)-F\left(0\right)\right] \)&lt;/span&gt;. במקרה שלנו, &lt;span&gt;\( \lim_{a\to\infty}e^{-\frac{a^{2}}{2}}=0 \)&lt;/span&gt; כי &lt;span&gt;\( e^{x} \)&lt;/span&gt; הוא פונקציה רציפה וכש-&lt;span&gt;\( a\to\infty \)&lt;/span&gt; אז &lt;span&gt;\( -\frac{a^{2}}{2}\to-\infty \)&lt;/span&gt; ואנחנו יודעים ש-&lt;span&gt;\( \lim_{x\to-\infty}e^{x}=0 \)&lt;/span&gt;. מצד שני, כשמציבים &lt;span&gt;\( ra=0 \)&lt;/span&gt; ב-&lt;span&gt;\( e^{\frac{-r^{2}}{2}} \)&lt;/span&gt; מקבלים 1, ולכן בסך הכל נשארים עם &lt;span&gt;\( -2\pi\cdot0-\left(-2\pi\cdot1\right)=2\pi \)&lt;/span&gt;. עד כאן הכל טוב.&lt;/p&gt;

&lt;p&gt;עכשיו בואו נדבר על &lt;strong&gt;החלפת המשתנים&lt;/strong&gt; שמאפשרת לנו לכתוב &lt;span&gt;\( \int_{-\infty}^{\infty}\int_{-\infty}^{\infty}e^{-\frac{\left(x^{2}+y^{2}\right)}{2}}dxdy=\int_{0}^{\infty}\left(\int_{0}^{2\pi}re^{-\frac{r^{2}}{2}}d\theta\right)dr \)&lt;/span&gt;. כאן יש את הפער הגדול ביותר בין כמה שהפעולה הטכנית הזו היא סטנדרטית אחרי שהתרגלנו אליה, וכמה המשפט שעליה היא מבוססת הוא עמוק ומורכב. &lt;a href=&quot;https://gadial.net/2016/04/12/general_change_of_variables/&quot;&gt;יש לי פוסט&lt;/a&gt; על הוכחת המשפט באופן כללי וזה… לא כל כך פשוט. אבל למרבה השמחה מה שפשוט הוא &lt;strong&gt;הרעיון&lt;/strong&gt;. את הרעיון, גם במקרה הכי כללי, אפשר לתאר על ידי הנוסחה הפשוטה&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \int_{B}f=\int_{A}\left(f\circ g\right)\left|\det Dg\right| \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;(הנוסחה הזו משמיטה את ה-&lt;span&gt;\( dx \)&lt;/span&gt;-ים למיניהם שאנחנו משתמשים בהם כדי לעקוב אחרי משתני האינטגרציה). הרעיון פה הוא ש-&lt;span&gt;\( f \)&lt;/span&gt; היא הפונקציה שעליה מבצעים אינטגרציה, וכדי שהמשפט יעבוד היא צריכה להיות רציפה (במקרה שלנו &lt;span&gt;\( e^{-\frac{\left(x^{2}+y^{2}\right)}{2}} \)&lt;/span&gt; רציפה) ואילו &lt;span&gt;\( g \)&lt;/span&gt; היא הפונקציה שמתארת את החלפת המשתנים - במקרה שלנו זו החלפה היא &lt;strong&gt;מאוד סטנדרטית&lt;/strong&gt;, אולי ההחלפה הכי בסיסית שרואים בחדו”א. היא מתבססת על פונקציה &lt;span&gt;\( g:\mathbb{R}^{2}\to\mathbb{R}^{2} \)&lt;/span&gt; שמוגדרת על ידי &lt;span&gt;\( g\left(r,\theta\right)=\left(r\cos\theta,r\sin\theta\right) \)&lt;/span&gt;. את הפונקציה הזו צריך לצמצם לתת-קבוצה &lt;span&gt;\( A \)&lt;/span&gt;, כך שעל תת-הקבוצה הזו &lt;span&gt;\( g \)&lt;/span&gt; היא חח”ע ועל, והתמונה שלה היא בדיוק &lt;span&gt;\( B \)&lt;/span&gt;, הקבוצה שעליה אנחנו מנסים לבצע את האינטגרציה של &lt;span&gt;\( f \)&lt;/span&gt;. במקרה שלנו, &lt;span&gt;\( A=\left(0,\infty\right)\times[0,2\pi( \)&lt;/span&gt; בזמן ש-&lt;span&gt;\( B=\mathbb{R}^{2}\backslash\left\{ 0\right\}  \)&lt;/span&gt; (אני משמיט את 0 כי איתו &lt;span&gt;\( g \)&lt;/span&gt; כבר לא תהיה חח”ע, אבל נקודה אחת לא משפיעה על האינטגרל). על &lt;span&gt;\( g \)&lt;/span&gt; יש דרישה חזקה יותר של רציפות - גם היא וגם ההופכית שלה צריכות להיות גזירות ברציפות, אבל לא קשה לבדוק שזה מתקיים.&lt;/p&gt;

&lt;p&gt;הביטוי &lt;span&gt;\( f\circ g \)&lt;/span&gt; פירושו “קודם להפעיל את &lt;span&gt;\( g \)&lt;/span&gt; ואז את &lt;span&gt;\( f \)&lt;/span&gt;” (כן, אני יודע שיש טקסטים שעושים בדיוק ההפך) אז במקרה שלנו אנחנו מקבלים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left(f\circ g\right)\left(r,\theta\right)=e^{-\frac{\left(r\cos\theta\right)^{2}+\left(r\sin\theta\right)^{2}}{2}}=e^{-\frac{r^{2}}{2}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;זו “החלפת המשתנים” בפעולה (ואני מקווה שזה מבהיר למה &lt;span&gt;\( g \)&lt;/span&gt; היא דווקא מהמשתנים ה”חדשים” ל”ישנים”; אותי זה תמיד מבלבל). מה שנשאר לעשות הוא לכפול בביטוי &lt;span&gt;\( \left|\det Dg\right| \)&lt;/span&gt; שנקרא &lt;strong&gt;היעקוביאן&lt;/strong&gt; של &lt;span&gt;\( g \)&lt;/span&gt;, שהוא הגורם שמודד כמה &lt;span&gt;\( g \)&lt;/span&gt; “מעוותת את המרחב” ולכן משנה את תפיסת השטח שלנו. כאן &lt;span&gt;\( Dg \)&lt;/span&gt; היא מטריצה של כל הנגזרות החלקיות של &lt;span&gt;\( g \)&lt;/span&gt;: מכיוון ש-&lt;span&gt;\( g:\mathbb{R}^{2}\to\mathbb{R}^{2} \)&lt;/span&gt; היא פונקציה בשני משתנים יש ל-&lt;span&gt;\( Dg \)&lt;/span&gt; שתי עמודות - בעמודה הראשונה גוזרים לפי &lt;span&gt;\( r \)&lt;/span&gt; ובשניה לפי &lt;span&gt;\( \theta \)&lt;/span&gt;. בנוסף, מכיוון ש-&lt;span&gt;\( g \)&lt;/span&gt; היא פונקציה עם שני רכיבים, יש ל-&lt;span&gt;\( Dg \)&lt;/span&gt; שני שורות: בראשונה גוזרים את הרכיב &lt;span&gt;\( r\cos\theta \)&lt;/span&gt; ובשניה את הרכיב &lt;span&gt;\( r\sin\theta \)&lt;/span&gt;. מקבלים:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( Dg=\left[\begin{array}{cc} \cos\theta &amp;amp; -r\sin\theta\\ \sin\theta &amp;amp; r\cos\theta \end{array}\right] \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ולכן&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \det Dg=r\cos^{2}\theta+r\sin^{2}\theta=r\left(\cos^{2}\theta+\sin^{2}\theta\right)=r \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ואנחנו כופלים &lt;strong&gt;בערך המוחלט&lt;/strong&gt; של הביטוי הזה, כלומר עדיין כופלים ב-&lt;span&gt;\( r \)&lt;/span&gt;. כל הדבר הזה מתבטא בפועל בכלל המצחיק &lt;span&gt;\( dxdy=rd\theta dr \)&lt;/span&gt; שהוא לא משהו פורמלי (למרות &lt;a href=&quot;https://gadial.net/2016/08/21/stokes_theorem_overview/&quot;&gt;שאם באמת רוצים&lt;/a&gt; &lt;strong&gt;אפשר&lt;/strong&gt; לפרמל את המשמעות של ה-&lt;span&gt;\( dx \)&lt;/span&gt;-ים הללו אבל בואו לא נעשה את זה הפעם) שאומר לנו “אחרי שהחלפתם את המשתנים באינטגרנד, תחליפו גם את הסימן שמתאר לכם את משתני הסכימה אבל אל תשכחו בנוסף גם לכפול ביעקוביאן &lt;span&gt;\( r \)&lt;/span&gt;”. מכאן והלאה האינטגרל נפתר בקלות.&lt;/p&gt;

&lt;p&gt;מה שנשאר לי להסביר הוא את המעבר&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left(\int_{-\infty}^{\infty}e^{-\frac{x^{2}}{2}}dx\right)\left(\int_{-\infty}^{\infty}e^{-\frac{y^{2}}{2}}dy\right)=\int_{-\infty}^{\infty}\int_{-\infty}^{\infty}e^{-\frac{\left(x^{2}+y^{2}\right)}{2}}dxdy \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;שבו הופכים מכפלה של שני אינטגרלים חד-ממדיים לאינטגרל דו-ממדי. הכלי הבסיסי פה הוא &lt;strong&gt;משפט פוביני&lt;/strong&gt;:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \int\int_{X\times Y}f\left(x,y\right)dxdy=\int_{X}\left(\int_{Y}f\left(x,y\right)dy\right)dx \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כאן באגף שמאל יש לנו אינטגרל כפול, ובאגף ימין יש לנו שני אינטגרלים חד-ממדיים, אבל לא מוכפלים אלא מופעלים אחד על השני. כלומר, האינטגרל החיצוני &lt;span&gt;\( \int_{X}\left(\ldots\right)dx \)&lt;/span&gt; מופעל על פונקציה של &lt;span&gt;\( x \)&lt;/span&gt; שמתקבלת מכך שבוחרים ערך ל-&lt;span&gt;\( x \)&lt;/span&gt;, “מקפיאים” אותו ומחשבים את האינטגרל החד-ממדי &lt;span&gt;\( \int_{Y}f_{x}\left(y\right)dy \)&lt;/span&gt; שמופעל על הפונקציה &lt;span&gt;\( f_{x}\left(y\right) \)&lt;/span&gt; שמוגדרת על ידי &lt;span&gt;\( f_{x}\left(y\right)=f\left(x,y\right) \)&lt;/span&gt;. כדי שהטריק הזה יעבוד צריך שה-&lt;span&gt;\( f \)&lt;/span&gt; שלנו תהיה רציפה (כבר ראינו שזה קורה) או שהאינטגרל לא יהיה אינטגרל רגיל אלא הגרסה המוכללת והחזקה שלו, &lt;strong&gt;אינטגרל לבג&lt;/strong&gt;, אבל על זה אני לא אדבר הפעם.&lt;/p&gt;

&lt;p&gt;במקרה הספציפי שלנו, &lt;span&gt;\( f\left(x,y\right)=e^{-\frac{\left(x^{2}+y^{2}\right)}{2}}=e^{-\frac{x^{2}}{2}}\cdot e^{-\frac{y^{2}}{2}} \)&lt;/span&gt; כלומר אם אני מסתכל על &lt;span&gt;\( f_{x}\left(y\right) \)&lt;/span&gt; זו פונקציה מהצורה של קבוע (שתלוי ב-&lt;span&gt;\( x \)&lt;/span&gt;) שמוכפל ב-&lt;span&gt;\( e^{-\frac{y^{2}}{2}} \)&lt;/span&gt;. מכפלה בקבוע אפשר להוציא מחוץ לאינטגרל:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \int_{X}\left(\int_{Y}f\left(x,y\right)dy\right)dx=\int_{X}e^{-\frac{x^{2}}{2}}\left(\int_{Y}e^{-\frac{y^{2}}{2}}dy\right)dx \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אבל עכשיו מה שיש באינטגרל הפנימי &lt;strong&gt;לא תלוי&lt;/strong&gt; ב-&lt;span&gt;\( x \)&lt;/span&gt; בשום צורה, כלומר הוא תמיד יוצא אותו מספר לא משנה מה הערך של &lt;span&gt;\( x \)&lt;/span&gt;, ולכן מנקודת המבט של האינטגרל החיצוני, &lt;span&gt;\( \int_{Y}e^{-\frac{y^{2}}{2}}dy \)&lt;/span&gt; הוא &lt;strong&gt;קבוע&lt;/strong&gt; שאפשר להוציא החוצה, ומקבלים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \int_{X}\left(\int_{Y}f\left(x,y\right)dy\right)dx=\int_{X}e^{-\frac{x^{2}}{2}}dx\int_{Y}e^{-\frac{y^{2}}{2}}dy \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;וזה מה שהשתמשתי בו בהוכחה.&lt;/p&gt;

&lt;p&gt;יש רק בעיה קטנה אחת פה: בשביל להשתמש במשפט פוביני, אני צריך ש-&lt;span&gt;\( X,Y \)&lt;/span&gt; יהיו קטעים סופיים. זה גורר עוד סיבוך טכני. במקום לחשב את &lt;span&gt;\( I=\int_{-\infty}^{\infty}e^{-\frac{x^{2}}{2}}dx \)&lt;/span&gt; אני בוחר &lt;span&gt;\( a\in[0,\infty( \)&lt;/span&gt; ומחשב את &lt;span&gt;\( I\left(a\right)=\int_{-a}^{a}e^{-\frac{x^{2}}{2}}dx \)&lt;/span&gt; ואז בודק מה יוצא &lt;span&gt;\( \lim_{a\to\infty}I\left(a\right) \)&lt;/span&gt;. אבל אפילו כאן מתחבא &lt;strong&gt;עוד&lt;/strong&gt; סיבוך טכני! כי באינטגרל מוכלל מהצורה &lt;span&gt;\( \int_{-\infty}^{\infty}f\left(x\right)dx \)&lt;/span&gt; זה &lt;strong&gt;לא תקין&lt;/strong&gt; לבחור נקודה אחת &lt;span&gt;\( a \)&lt;/span&gt; ולהסתכל על הגבול &lt;span&gt;\( \lim_{a\to\infty}\int_{-a}^{a}f\left(x\right)dx \)&lt;/span&gt; כי הסימטריה שזה יוצר עלולה “למסך” תקלות. האופן שבו &lt;strong&gt;באמת&lt;/strong&gt; מגדירים את הערך של אינטגרל אינסופי לשני הכיוונים שכזה הוא עם אחת משתי השיטות הבאות: או שבוחרים &lt;span&gt;\( a,b \)&lt;/span&gt; ומסתכלים על הגבול &lt;strong&gt;הכפול&lt;/strong&gt; &lt;span&gt;\( \lim_{a\to\infty}\lim_{b\to\infty}\int_{a}^{b}f\left(x\right)dx \)&lt;/span&gt; או שמפצלים את האינטגרל לסכום של שני אינטגרלים, &lt;span&gt;\( \int_{-\infty}^{\infty}f\left(x\right)dx=\int_{-\infty}^{c}f\left(x\right)dx+\int_{c}^{\infty}f\left(x\right)d\left(x\right) \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;כדי לראות למה זה קריטי, בואו ניקח &lt;span&gt;\( f\left(x\right)=x \)&lt;/span&gt;. אז למשל &lt;span&gt;\( \int_{0}^{\infty}xdx=\left.\frac{x^{2}}{2}\right|_{0}^{\infty}=\infty \)&lt;/span&gt; ובדומה &lt;span&gt;\( \int_{-\infty}^{0}xdx=-\infty \)&lt;/span&gt; והביטוי &lt;span&gt;\( \infty-\infty \)&lt;/span&gt; בכלל לא מוגדר; ואם אני מסתכל על &lt;span&gt;\( \int_{a}^{b}xdx=\frac{b^{2}-a^{2}}{2} \)&lt;/span&gt; אז הגבול הכפול &lt;span&gt;\( \lim_{a\to\infty}\lim_{b\to\infty}\frac{b^{2}-a^{2}}{2} \)&lt;/span&gt; שוב לא יהיה מוגדר, מאותן סיבות.&lt;/p&gt;

&lt;p&gt;באינטגרל שלנו, &lt;span&gt;\( \int_{-\infty}^{\infty}e^{-\frac{x^{2}}{2}}dx \)&lt;/span&gt;, זו לא בעיה אמיתית כי אפשר לפרק את האינטגרל באמצע ולקבל שני חלקים שכל אחד מהם מתכנס יפה למשהו סופי (אל &lt;span&gt;\( \frac{\sqrt{2\pi}}{2} \)&lt;/span&gt; בגלל הסימטריה) אבל אם אני חותך את האינטגרל באמצע, כל הטריקים היפים שעשיתי קודם כבר לא עובדים! הצילו! חדו”א יכול להיות מאוד אכזרי לפעמים.&lt;/p&gt;

&lt;p&gt;למרבה המזל, יש לנו דרך קיצור כאן. יש שיטה שנקראת “הערך העיקרי של קושי” (Principal Value) שמאפשרת לתת ערך ל-&lt;span&gt;\( \lim_{a\to\infty}\int_{-a}^{a}f\left(x\right)dx \)&lt;/span&gt;, והערך הזה יוצא שווה אל &lt;span&gt;\( \int_{-\infty}^{\infty}f\left(x\right)dx \)&lt;/span&gt; במקרים שבהם &lt;span&gt;\( f\left(x\right) \)&lt;/span&gt; מתכנסת בערך מוחלט, כלומר אם &lt;span&gt;\( \int_{-\infty}^{\infty}\left|f\left(x\right)\right|dx&amp;lt;\infty \)&lt;/span&gt;. זה בהחלט המצב גם עבור &lt;span&gt;\( \int_{-\infty}^{\infty}e^{-\frac{x^{2}}{2}}dx \)&lt;/span&gt;. ראשית, הערך המוחלט בכלל לא משפיע כאן כי &lt;span&gt;\( e \)&lt;/span&gt; בחזקת משהו ממשי הוא תמיד חיובי; ושנית, אפשר לחסום את האינטגרל הזה בצורה די נחמדה:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \int_{-\infty}^{\infty}e^{-\frac{x^{2}}{2}}dx&amp;lt;\int_{-\infty}^{-1}-xe^{-\frac{x^{2}}{2}}dx+\int_{-1}^{1}e^{-\frac{x^{2}}{2}}dx+\int_{1}^{\infty}xe^{-\frac{x^{2}}{2}}dx \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כי כאשר &lt;span&gt;\( x \)&lt;/span&gt; גדול מ-1 מכפלה בו רק מגדילה את האינטגרל, וכשהוא קטן ממינוס 1 מכפלה ב-&lt;span&gt;\( -x \)&lt;/span&gt; רק מגדילה את האינטגרל. עכשיו קיבלנו סכום של שלושה אינטגרלים שהאמצעי מביניהם הוא בוודאי סופי (כי הוא של פונקציה רציפה על קטע סגור) ואת האחרים אפשר לחשב במפורש כפי שכבר ראינו קודם, למשל &lt;span&gt;\( \int_{1}^{\infty}xe^{-\frac{x^{2}}{2}}=\left.-e^{-\frac{x^{2}}{2}}\right|_{1}^{\infty}=e^{-\frac{1}{2}} \)&lt;/span&gt;. זה מוכיח שהאינטגרל חסום ואפשר כמו שאמרתי קודם לכתוב &lt;span&gt;\( I\left(a\right)=\int_{-a}^{a}e^{-\frac{x^{2}}{2}}dx \)&lt;/span&gt; ולבדוק מה יוצא &lt;span&gt;\( \lim_{a\to\infty}I\left(a\right) \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;את &lt;span&gt;\( I\left(a\right)=\int_{-a}^{a}e^{-\frac{x^{2}}{2}}dx \)&lt;/span&gt; אפשר לחשב כמו שראינו עם משפט פוביני, ומקבלים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \int_{-a}^{a}e^{-\frac{x^{2}}{2}}dx=\int_{-a}^{a}\int_{-a}^{a}e^{-\frac{\left(x^{2}+y^{2}\right)}{2}}dxdy \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אבל עכשיו נוצר לנו סיבוך בשלב החלפת המשתנים. אנחנו עדיין משתמשים באותה החלפה בדיוק:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( x=r\cos\theta \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( y=r\sin\theta \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אבל הרעיון בהחלפת משתנים הוא כזכור לקחת אינטגרל שמוגדר על קבוצה אחת &lt;span&gt;\( A \)&lt;/span&gt; ולהגדיר אותו על קבוצה אחרת &lt;span&gt;\( B \)&lt;/span&gt; כך שהחלפת המשתנים מעבירה את &lt;span&gt;\( B \)&lt;/span&gt; &lt;strong&gt;בדיוק&lt;/strong&gt; אל &lt;span&gt;\( A \)&lt;/span&gt;. ואצלנו עכשיו &lt;span&gt;\( A \)&lt;/span&gt; הוא &lt;strong&gt;ריבוע&lt;/strong&gt;, &lt;span&gt;\( A=\left[-a,a\right]\times\left[-a,a\right] \)&lt;/span&gt; בזמן שהחלפת המשתנים מוגדרת על קבוצה &lt;span&gt;\( B=\left[0,t\right]\times\left[0,2\pi\right] \)&lt;/span&gt; (שוב, עד כדי התעלמות מהבעייתיות בנקודה 0) ומעבירה את הקבוצה הזו אל &lt;strong&gt;העיגול &lt;/strong&gt;&lt;span&gt;\( \left\{ \left(r\cos\theta,r\sin\theta\right)\ |\ 0\le\theta\le2\pi,0\le r\le t\right\}  \)&lt;/span&gt; שהרדיוס שלו הוא &lt;span&gt;\( t \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;אז מה עושים? שוב חוסמים! העיגול ש&lt;strong&gt;חסום&lt;/strong&gt; בתוך &lt;span&gt;\( A \)&lt;/span&gt; הוא בעל רדיוס &lt;span&gt;\( a \)&lt;/span&gt;, והמעגל &lt;strong&gt;שחוסם&lt;/strong&gt; את &lt;span&gt;\( A \)&lt;/span&gt; הוא בעל רדיוס &lt;span&gt;\( \sqrt{2}a \)&lt;/span&gt; (זה תרגיל נחמד לצייר את הריבע ולהבין למה אלו רדיוסי המעגלים), ומכיוון שהפונקציה חיובית, האינטגרל שלה על &lt;span&gt;\( A \)&lt;/span&gt; יהיה בין האינטגרלים שלה על שני המעגלים הללו:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \int_{0}^{a}\left(\int_{0}^{2\pi}re^{-\frac{r^{2}}{2}}d\theta\right)dr\le I\left(a\right)\le\int_{0}^{\sqrt{2}a}\left(\int_{0}^{2\pi}re^{-\frac{r^{2}}{2}}d\theta\right)dr \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ואת האינטגרלים הללו כבר ראינו איך לחשב. מכיוון שאין &lt;span&gt;\( \infty \)&lt;/span&gt; מעורב שמאפס את האקספוננט, הם יוצאים פחות “נקיים”, אבל אנחנו כבר שקועים בלכלוך מכאן ועד להודעה חדשה אז למי אכפת? בסופו של חישוב האינטגרל מקבלים &lt;span&gt;\( -2\pi\left.e^{\frac{-r^{2}}{2}}\right|_{0}^{t}=-2\pi\left(e^{-\frac{t^{2}}{2}}-1\right)=2\pi\left(1-e^{-\frac{t^{2}}{2}}\right) \)&lt;/span&gt; ורק נשאר להציב &lt;span&gt;\( t=a,\sqrt{2}a \)&lt;/span&gt; ולקבל:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( 2\pi\left(1-e^{-\frac{a^{2}}{2}}\right)\le I\left(a\right)\le2\pi\left(1-e^{-a^{2}}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו אפשר להשתמש בכלל הסנדוויץ’: &lt;span&gt;\( \lim_{a\to\infty}2\pi\left(1-e^{-\frac{a^{2}}{2}}\right)=2\pi\left(1-e^{-a^{2}}\right)=2\pi \)&lt;/span&gt; ולכן מקבלים &lt;span&gt;\( \lim_{a\to\infty}I\left(a\right)=2\pi \)&lt;/span&gt; בצורה הכי פורמלית בעולם.&lt;/p&gt;

&lt;p&gt;בספרי לימוד של תורת ההסתברות בדרך כלל לא יראו לכם את כל המהומה הזו; יסתפקו בהוכחה שהראיתי בהתחלה, שמדלגת מעל שלבים בצורה קלילה. עכשיו אנחנו כנראה גם מבינים למה - כי אחרי שרואים את זה צריך לנוח, ולכן אני מסיים את הפוסט כאן ולא מדלג בקלילות אל הנושא הבא - כלומר, אל השאלה מה בנוסחה הכללית &lt;span&gt;\( f\left(x\right)=\frac{1}{\sqrt{2\pi}\sigma}e^{-\left(x-\mu\right)^{2}/2\sigma^{2}} \)&lt;/span&gt; התפקיד של אותם &lt;span&gt;\( \sigma \)&lt;/span&gt; ו-&lt;span&gt;\( \mu \)&lt;/span&gt; מזעזעים שמתחבאים בה ואיך אנחנו מקשרים את המקרה הכללי איתם אל מה שראינו כרגע.&lt;/p&gt;</content><author><name></name></author><category term="התפלגות נורמלית" /><summary type="html">מבוא</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://gadial.net/assets/img/2025/histogram_11.png" /><media:content medium="image" url="http://gadial.net/assets/img/2025/histogram_11.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">מה הקטע עם התפלגות נורמלית? (חלק א’: שלוש היסטוגרמות למלכי ההתפלגות במרומם, ועקומה אחת למשול בם ולקשרם)</title><link href="http://gadial.net/2025/01/31/normal_distribution_1/" rel="alternate" type="text/html" title="מה הקטע עם התפלגות נורמלית? (חלק א&apos;: שלוש היסטוגרמות למלכי ההתפלגות במרומם, ועקומה אחת למשול בם ולקשרם)" /><published>2025-01-31T00:00:00+00:00</published><updated>2025-01-31T00:00:00+00:00</updated><id>http://gadial.net/2025/01/31/normal_distribution_1</id><content type="html" xml:base="http://gadial.net/2025/01/31/normal_distribution_1/">&lt;p&gt;סדרת הפוסטים הזו נולדה משאלה קונקרטית ששאלו אותי: למה בנוסחה של &lt;strong&gt;התפלגות נורמלית&lt;/strong&gt; מופיעים &lt;span&gt;\( e \)&lt;/span&gt; ו-&lt;span&gt;\( \pi \)&lt;/span&gt;?&lt;/p&gt;

&lt;p&gt;הנוסחה המדוברת היא &lt;span&gt;\( f\left(x\right)=\frac{1}{\sqrt{2\pi}\sigma}e^{-\left(x-\mu\right)^{2}/2\sigma^{2}} \)&lt;/span&gt; מה שנראה &lt;strong&gt;מבעית לגמרי&lt;/strong&gt; במבט ראשון ולכן במקום לענות מייד לשאלה שממנה סדרת הפוסטים נולדה בואו נדבר על דברים בסיסיים יותר: מה זו בכלל התפלגות נורמלית? מה היא באה להשיג? מה הנוסחה הזו מייצגת? מה הולך בה? מה זו בכלל התפלגות? מה זו הסתברות? מהי מתמטיקה?&lt;/p&gt;

&lt;p&gt;אוקיי, על מהי מתמטיקה לא נדבר הפעם, אבל מכיוון שהתפלגות נורמלית היא סוג של הנקודה שבה הנחל של תורת ההסתברות נשפך אל האוקיינוס של המתמטיקה, אולי צריך להתחיל בקטן ולחזור אל המקורות.&lt;/p&gt;

&lt;p&gt;בואו נתחיל הכי בקטן, עם הדבר הבסיסי ביותר בתורת ההסתברות: &lt;strong&gt;הטלת מטבע&lt;/strong&gt;. הטלת מטבע היא אחד מהאמצעים הפשוטים ביותר שבעזרתם אנחנו מכניסים אקראיות לחיים (השני הוא קוביה, שהיא טיפה יותר מסובכת). למטבע יש שני צדדים - “עץ” ו”פלי”, וכשמטילים אותו הוא נוטה ליפול על אחד מהם ולא להישאר עומד בדיוק על קו התפר. ההנחה שלנו היא שהסיכוי שלו ליפול על עץ או על פלי הוא שווה - כלומר, שאם נזרוק את המטבע המון פעמים, בערך בחצי מהן הוא ייצא עץ ובחצי מהן הוא ייצא פלי. לכזו הסתברות קוראים לפעמים “50:50” כשה-50 בא לתאר &lt;strong&gt;אחוזים&lt;/strong&gt;. הרעיון באחוזים הוא שמאה אחוז זה בדיוק משהו שלם, אז חמישים אחוז זה &lt;strong&gt;חצי&lt;/strong&gt;, ואכן אומרים לפעמים גם שההסתברות היא “חצי-חצי”. אפשר להפוך את הטיעון הזה לטיפה יותר מתמטי אם אומרים שעץ הוא 1 ופלי הוא 0 ואז כותבים &lt;span&gt;\( p\left(0\right)=p\left(1\right)=\frac{1}{2} \)&lt;/span&gt; - “ההסתברות ל-0 היא חצי וגם ההסתברות ל-1 היא חצי”.&lt;/p&gt;

&lt;p&gt;הטלה אחת זה נחמד, אבל מה נקבל אם נטיל את המטבע &lt;strong&gt;עשר&lt;/strong&gt; פעמים ונספור כמה פעמים קיבלנו עץ? כאמור, אפשר היה לקוות שבדיוק ב-5 מהפעמים ייצא עץ וב-5 מהפעמים ייצא פלי, וזה באמת יכול לקרות אבל זה לא &lt;strong&gt;חייב&lt;/strong&gt; לקרות. המציאות לא עובדת ככה. ייתכן שהמטבע ייפול על “עץ” בכל הפעמים, אם כי זה לא סביר, וייתכן שהוא ייפול 6 פעמים על עץ ו-4 על פלי. אז כדי לעשות סדר בבלאגן הזה ולחפש ודאות שכן קיימת, אנחנו משחקים את המשחק הזה של “בואו נטיל מטבע 10 פעמים” &lt;strong&gt;הרבה&lt;/strong&gt; פעמים ובודקים מה התוצאות הכי נפוצות. למשל, אני יכול לבקש מהמחשב לשחק את המשחק הזה 10,000 פעמים, ואז לצייר את מה שנקרא &lt;strong&gt;היסטוגרמה&lt;/strong&gt; - איור שבו הנתונים מוצגים בצורה שקל להבין אותם:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/2025/histogram_1.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;יש באיור הזה 11 פסים בגבהים שונים. כל פס מתאים למספר בין 0 ל-10: אלו בדיוק מספר הפעמים שבהן עץ יכול להתקבל כשמטילים מטבע עשר פעמים. הגובה של כל פס מתאים למספר המשחקים שבהם הוא יצא: אנחנו רואים שהעמוד של 5 הוא בערך בגובה 2,500, כלומר בערך ב-2,500 מהמשחקים (מתוך 10,000 בסך הכל) קיבלנו באמת 5 פעמים עץ. אז התוצאה 5 היא באמת הכי נפוצה, אבל היא לא לבד. רק ברבע מהמשחקים בערך קיבלנו אותה. בכלל, התמונה הזו היא די &lt;strong&gt;יפה&lt;/strong&gt;. הפסים די סימטרים. אם מסתכלים טוב רואים הפרשים קטנים בגבהים בין פס 4 ו-6 למשל, אבל הם נראים די אותו דבר. הסיבה שזה עבד יפה היא שביקשתי מהמחשב לשחק 10,000 משחקים. כשאני מבקש ממנו רק 100, זה נראה ככה:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/2025/histogram_2.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;זה כבר שונה לגמרי ונראה די עקום. 4 הרבה יותר גבוה מ-6, ואילו 1 ו-2 הם בדיוק באותו הגובה. לאן נעלמה הסימטריה? ובכן, יש כאן לקח חשוב שמוכר לכל מי שמתעסק בהסתברות - ככל שחוזרים על אותו דבר יותר ויותר פעמים, כך הוא נהיה פחות מבולגן ויותר קל לראות את הסדר שמאחוריו. לכן, אם יש לי ניסוי אקראי כלשהו ואני רוצה לצייר היסטוגרמה יפה של התוצאות האפשריות שלו, כך שהגובה של הפס שמתאים לכל תוצאה גבוה יותר ככל שהיא שכיחה יותר, אני אחזור על אותו הניסוי מספר פעמים גדול - למשל 10,000 - ואבדוק מה &lt;strong&gt;אחוז&lt;/strong&gt; הפעמים שבו כל תוצאה התקבלה. הנה איך ההיסטוגרמה הראשונה נראית כשאני כותב בערכים של ציר &lt;span&gt;\( y \)&lt;/span&gt; את האחוז:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/2025/histogram_3.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ההיסטוגרמה הזו משקפת לא רע את הניסוי “מטילים מטבע עשר פעמים וסופרים כמה פעמים קיבלנו עץ”. עכשיו בואו נדבר על ניסוי אחר: אני מנסה לזרוק כדור לסל, וזורק שוב ושוב עד שאני סוף סוף קולע. הבעיה היא שאני גרוע בהשלכת כדורים לסל ולכן מצליח לקלוע רק בהסתברות של 1 ל-10. מה שכן, אני אדם מאוד רגוע ולכן גם אם פספסתי שלושים פעמים ואני לכאורה אמור להיות מעוצבן והידיים שלי אמורות לכאוב, בפועל עדיין יש לי את אותה הסתברות בדיוק לקלוע - 1 ל-10. ועכשיו השאלה היא - מה ההסתברות שאצליח לקלוע על הפעם הראשונה? אחרי שתי פעמים? שלוש? אם מבצעים 10,000 חזרות על הניסוי ומציירים היסטוגרמה, מקבלים:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/2025/histogram_4.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;זה נראה מאוד שונה ממה שהיה קודם - ואכן, הגרף הקודם הציג משהו שנקרא &lt;strong&gt;התפלגות בינומית&lt;/strong&gt; והגרף הנוכחי מציג משהו אחר שנקרא &lt;strong&gt;התפלגות גאומטרית&lt;/strong&gt;. אבל בואו ותראו קסם. נניח שאני עושה את המשחק של “לזרוק לסל שוב ושוב עד הפעם הראשונה שבה אני קולע” לא רק לסל אחד, אלא למאה סלים שונים בזה אחר זה, וסופר כמה זמן &lt;strong&gt;בסך הכל&lt;/strong&gt; לקח לי לקלוע לכולם. מה שהאינטואיציה הראשונית שלי אומרת לי הוא שההיסטוגרמה הזו צריכה להיות דומה להיסטוגרמה של התפלגות גאומטרית - הפס הראשון יהיה הכי גבוה כי הוא כמו סכום כל הפסים הגבוהים ב-100 ההיסטוגרמות של כל הסלים בנפרד, והפס הבא יהיה קצת פחות גבוה וכן הלאה. רק שזה לא מה שקורה. מה שקורה הוא זה:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/2025/histogram_5.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;זה… קצת מזכיר את הגרף שראינו קודם, של ההתפלגות הבינומית. מה הולך כאן? המספרים שכתובים למטה נראים גבוהים מדי. הרי “1” הוא בהסתברות הכי גבוהה, ואני בסך הכל מאגד 100 היסטוגרמות ביחד. זה לא אמור לצאת קרוב אל 100? ובכן, לא. בלי להיכנס עדיין למונחים הטכניים הרלוונטיים, הערך ה”ממוצע” שאפשר לצפות לו בהתפלגות הגאומטרית של משחק הסלים שלי הוא 10. כי אמנם השטח של הפסים הראשונים נראה גדול ומרשים אבל הוא לא מה שאנחנו מודדים - ה”ממוצע” הוא סכום המכפלות של הגבהים של הפסים בערך המספרי שהם מייצגים. הגובה של הפס של 1 הוא בערך &lt;span&gt;\( \frac{10}{100} \)&lt;/span&gt;? אנחנו כופלים אותו בערך המספרי 1. הגובה של פס 2 הוא בערך &lt;span&gt;\( \frac{9}{100} \)&lt;/span&gt;? אנחנו כופלים אותו ב-2 ומקבלים &lt;span&gt;\( \frac{18}{100} \)&lt;/span&gt;. כך אנחנו עושים לכל ערך אפשרי - כופלים אותו בהסתברות שהוא יתקבל, סוכמים, ומגלים שדווקא ה”זנב” שבכלל לא רואים בהיסטוגרמה תורם חלקים נכבדים לממוצע. אז אם הממוצע הוא 10 למשחק, ויש 100 משחקים, לא מפתיע שהסכום הכולל הוא בסביבות 1000; ככל שמשחקים יותר משחקים כך התוצאות מסתדרות יפה סביב הממוצע.&lt;/p&gt;

&lt;p&gt;בואו נראה עוד דוגמא. נניח שאני מטיל קוביה עם עשר פאות, כלומר מקבל תוצאה בין 1 ל-10, אבל הקוביה הזו היא לא הוגנת אלא מוטה בשלל דרכים שונות ומשונות שהופכות תוצאות מסוימות ליותר נפוצות ותוצאות אחרות לנדירות. הנה היסטוגרמה של 10,000 הטלות של הקוביה הזו:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/2025/histogram_6.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;מכאן אפשר לראות ש-8 היא התוצאה הכי נפוצה ואילו 2 ו-7 בקושי מופיעות ובאופן כללי הכל פה נראה כאוטי. מאיפה ההיסטוגרמה הזו הגיעה? ובכן, פשוט הגרלתי באקראי מה יהיו המספרים שמתארים את ההסתברות שבה כל תוצאה מקבלת. אין בקוביה הזו שום דבר מיוחד או קסום בפני עצמו, זה משהו &lt;strong&gt;שרירותי&lt;/strong&gt; לחלוטין.&lt;/p&gt;

&lt;p&gt;עכשיו בואו נטיל את הקוביה הזו מאה פעמים ונחבר את התוצאות ונראה מה קיבלנו. נחזור על הניסוי הזה 10,000 פעם, ונקבל את ההיסטוגרמה:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/2025/histogram_7.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;הנה זה שוב. אותו מבנה דמוי פירמידה שכבר ראינו שוב ושוב. הוא הופיע בהתפלגות בינומית; הוא הופיע בהתפלגות גאומטרית; והנה הוא מופיע גם בהתפלגות שרירותית כלשהי. בדיאגרמות של ההתפלגויות המקוריות לא בהכרח ראינו אפילו את הצל שלו, אבל אחרי שמחברים מספיק תוצאות - בום, המבנה הזה צץ.&lt;/p&gt;

&lt;p&gt;המתמטיקאים שמו לב לתופעה הזו כבר לפני מאות שנים, והאבחנה המרכזית שלהם היא שקיימת דרך &lt;strong&gt;פשוטה&lt;/strong&gt; לתאר את המבנה הזה, באמצעות משהו שנקרא &lt;strong&gt;התפלגות נורמלית&lt;/strong&gt;. המילה “נורמלית” כאן מגיעה בדיוק מתוך התופעה עצמה: בגלל שהתופעה המתמטית קיימת, התפלגות נורמלית מופיעה &lt;strong&gt;שוב ושוב&lt;/strong&gt; בשלל מקומות בסטטיסטיקה. למשל, הגבהים של בני האדם מתפלגים נורמלית, וגם תוצאות במבחן מתפלגות נורמלית, וכדומה. כמובן, כשאני אומר שמשהו מתפלג נורמלית אני לא מתכוון שהוא מתאים &lt;strong&gt;בדיוק&lt;/strong&gt; למה שנקרא “התפלגות נורמלית” - גם הגרפים שהצגתי לא מתאימים בדיוק. הרעיון הוא שהתפלגות נורמלית היא &lt;strong&gt;קירוב טוב&lt;/strong&gt; להתפלגויות הללו, ויש לנו מושג טכני מדויק שבא לתאר את ה”קירוב טוב” הזה ומשפט מרכזי בתורת ההסתברות שאומר שהקירוב הטוב הוא באמת טוב - &lt;strong&gt;משפט הגבול המרכזי&lt;/strong&gt;. הניסוח של משפט הגבול המרכזי והוכחה שלו (עד כדי טענת עזר שלא אוכיח) הם המטרה של סדרת הפוסטים הזו.&lt;/p&gt;

&lt;p&gt;לפני שנגיע להגדרות הפורמליות, בואו נראה על מה אני מדבר ב”התפלגות נורמלית” ואיך זה “קירוב”. נתחיל עם ההיסטוגרמה של ההתפלגות הבינומית שראינו בהתחלה:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/2025/histogram_8.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;הקו האדום מייצג את ההתפלגות הנורמלית. שימו לב שאני לא מציג אותה בתור פסים כפי שהצגתי את ההתפלגות הבינומית, כי מבחינה מתמטית ההתפלגות הנורמלית היא אכן משהו קצת שונה - היא מיוצגת על ידי פונקציה ממשית &lt;strong&gt;רציפה&lt;/strong&gt;, ואדבר על זה בהמשך. הרעיון הוא עדיין אותו רעיון - באיזור שבו הקו גבוה, יש הסתברות גבוהה יותר לקבל תוצאות שנמצאות באותו איזור.&lt;/p&gt;

&lt;p&gt;עכשיו, הציור הזה נראה טוב. למעשה, הוא נראה טוב &lt;strong&gt;מדי&lt;/strong&gt;. אני צריך להישבע שלא בישלתי אותו בשום צורה כי אפילו אני לא ציפיתי שזה ייצא עד כדי כך טוב בדוגמא האקראית שיצרתי. הקו האדום מצליח איכשהו לעבור דרך הפסים כך שהוא מגיע לגובה של כל פס תוך שהוא עובר כמעט בדיוק דרך נקודת האמצע שלו. עכשיו, אפשר לומר שלא ברור מה מרשים פה - הרי בסך הכל לקחתי את הפסים, מצאתי את נקודות האמצע של כל פס ואת הגובה, זרקתי את כל המידע הזה לסקריפט שלי ואמרתי לו “יאללה, תחשב עקומה” - לא? ובכן, ממש לא. הקוד שצייר את הקו האדום לא ידע &lt;strong&gt;כלום&lt;/strong&gt; על הפסים &lt;strong&gt;וכלום&lt;/strong&gt; על התוצאות ההסתברותיות הקונקרטיות שקיבלתי. הוא ידע רק &lt;strong&gt;שני מספרים&lt;/strong&gt; שמאפיינים את ההתפלגות הבינומית הזו - &lt;strong&gt;התוחלת&lt;/strong&gt; של ההסתברות ו&lt;strong&gt;סטיית התקן&lt;/strong&gt; שלה, ושניהם הם מספרים שלא מחושבים מתוך ההיסטוגרמה עצמה (כלומר, מתוך התוצאות הקונקרטיות שקיבלתי שמתוארות על ידי הפסים) אלא באופן תיאורטי, מתוך התכונות הבסיסיות של ההתפלגות. שני המספרים הממשיים הללו הם כל מה שצריך כדי לקבל עקומה שמקרבת בדיוק מופלא את ההתנהגות של ההתפלגות הבינומית.&lt;/p&gt;

&lt;p&gt;בואו נראה את זה קורה עבור ההתפלגות הגאומטרית:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/2025/histogram_9.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;כזכור, מה שאנחנו רואים פה הוא &lt;strong&gt;לא&lt;/strong&gt; גרף שמתאר איך ההתפלגות הגאומטרית נראית (היא לא דומה להתפלגות נורמלית) אלא מה קורה לה אחרי שאני לוקח 100 תוצאות שונות שלה, ומחבר. גם פה, העקומה של התפלגות נורמלית, מרגע שאני מזין לה את שני הפרמטרים המתאימים, ממדלת די במדויק את ההיסטוגרמה. כדי לחשב את שני הפרמטרים המתאימים הייתי צריך לחשב את התוחלת וסטיית התקן של ההתפלגות הגאומטרית, אבל הייתי צריך לשקלל פנימה איכשהו גם את ה-100 הזה; בהמשך כשנגיע לפרטים הטכניים נבין למה צריך לשקלל אותו פנימה, איך זה בדיוק מתבצע ולמה לכאורה קודם בהתפלגות הבינומית לא עשיתי את זה (התשובה היא שכן עשיתי את זה באופן מובלע, כי ההתפלגות הבינומית שלי היא בעצמה סכום של ניסויים &lt;strong&gt;פשוטים יותר&lt;/strong&gt; של הטלות מטבע).&lt;/p&gt;

&lt;p&gt;לסיום, הנה המקרה של ההתפלגות השרירותית לגמרי:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/2025/histogram_10.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;גם פה: אותה עקומה, פרמטרים שונים. לחשב את הפרמטרים מתוך מה שידוע לי על ההתפלגות השרירותית - זה היה קל, וזה גם כל מה שהיה צריך. ההתפלגות השרירותית נותנת משקל שונה לכל מספר מ-1 עד 10; כדי לייצר את העקומה הזו לא היה שום צורך לדעת מה המשקלות הללו. היה צריך לדעת רק את התוחלת, סטיית התקן ומספר התוצאת שחיברנו זו לזו (שגם פה היה 100). זה יפהפה. נראה שהטבע &lt;strong&gt;רוצה&lt;/strong&gt; שיהיה סדר באי סדר; שהאקראיות תתגשם בסופו של דבר, כשאנחנו מסתכלים על סיטואציות שמורכבות מהרבה תהליכים אקראיים שכל אחד תורם את חלקו, בתור פונקציה פשוטה מאוד.&lt;/p&gt;

&lt;p&gt;אז הבנו שיש פה איזו שהיא תופעת טבע; בפוסט הבא נעסוק בצורה שבה אנחנו מפרמלים את המודל המתמטי שמנסה לתאר את הסיטואציה הזו.&lt;/p&gt;</content><author><name></name></author><category term="התפלגות נורמלית" /><summary type="html">סדרת הפוסטים הזו נולדה משאלה קונקרטית ששאלו אותי: למה בנוסחה של התפלגות נורמלית מופיעים \( e \) ו-\( \pi \)?</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://gadial.net/assets/img/2025/histogram_8.png" /><media:content medium="image" url="http://gadial.net/assets/img/2025/histogram_8.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">מספרי ברנולי</title><link href="http://gadial.net/2024/12/18/bernoulli_numbers/" rel="alternate" type="text/html" title="מספרי ברנולי" /><published>2024-12-18T00:00:00+00:00</published><updated>2024-12-18T00:00:00+00:00</updated><id>http://gadial.net/2024/12/18/bernoulli_numbers</id><content type="html" xml:base="http://gadial.net/2024/12/18/bernoulli_numbers/">&lt;h2&gt;בואו נסכום סכומים&lt;/h2&gt;

&lt;p&gt;אחד מהדברים הבאמת נחמדים שלמדתי במתמטיקה בתיכון היה הנוסחה לסכום של סדרה חשבונית, שבמקרה הפשוט ביותר שלה הוא הסכום הבא:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( 1+2+3+\ldots+n=\frac{n\left(n+1\right)}{2} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;סביב הסכום הזה יש את הצ’יזבט האהוב על המתמטיקאי קרל פרידריך גאוס, שלכאורה גילה אותו בתור ילד קטן שהמורה בבית הספר נתן לו וליתר התלמידים לסכום את המספרים מ-1 עד 100 כדי להעסיק אותם בזמן שהוא נח. גאוס הילד היה נאמן לסלוגן על כך שמתמטיקאים הם עצלנים: במקום לחבר את הכל במפורש, הוא שם לב לכך ש-1 ועוד 100 שווה 101, וגם 2 ועוד 99 שווה 101 וכן הלאה, כך שיש לו 50 זוגות מספרים שהסכום של כולם הוא 101 ורק צריך לחשב את הכפל הקל 50 כפול 101 ואת זה אפילו אני יודע לעשות בראש ולקבל 5050. הנוסחה שכתבתי למעלה היא אותו דבר: יש לנו &lt;span&gt;\( \frac{n}{2} \)&lt;/span&gt; זוגות שהסכום של כולם הוא &lt;span&gt;\( n+1 \)&lt;/span&gt;, אז אנחנו פשוט כופלים (אם &lt;span&gt;\( n \)&lt;/span&gt; אי זוגי יש איבר בודד באמצע שאי אפשר למצוא לו בן זוג, אבל הנוסחה עדיין עובדת כי היא סופרת אותו בתור “חצי זוג” - נסו בעצמכם לבדוק על מספרים קטנים!)&lt;/p&gt;

&lt;p&gt;מה שלא שמעתי עליו בבית הספר, וקצת חבל, הוא שיש לנו נוסחה דומה גם עבור הסכום של &lt;strong&gt;הריבועים&lt;/strong&gt; של הטבעיים:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( 1^{2}+2^{2}+3^{2}+4^{2}+\ldots+n^{2}=\frac{n\left(n+1\right)\left(2n+1\right)}{6} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;הנוסחה הזו פחות פשוטה מהקודמת, אבל היא עדיין די פשוטה ומערבת רק מכפלה של שלושה מספרים. זה מעלה את השאלה אם גם כשאני מחבר חזקות גבוהות יותר של הטבעיים, אני עדיין אקבל נוסחה פשוטה יחסית. מה למשל קורה עם &lt;span&gt;\( 1^{3}+2^{3}+3^{3}+\ldots \)&lt;/span&gt;? התשובה היא שאכן, יש נוסחה פשוטה יחסית למקרה הזה ובעצם לכל מקרה של &lt;span&gt;\( 1^{m}+2^{m}+3^{m}+\ldots+n^{m} \)&lt;/span&gt;, אם כי “פשוטה” זה כמובן עניין יחסי כי ככל ש-&lt;span&gt;\( m \)&lt;/span&gt; גדול יותר הנוסחה תהיה מסובכת יותר. אבל מה שאפשר לומר שהופך את העניין לפשוט הוא שני דברים:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;הנוסחה היא תמיד &lt;strong&gt;פולינום&lt;/strong&gt; ממעלה &lt;span&gt;\( m+1 \)&lt;/span&gt;.&lt;/li&gt;


&lt;li&gt;אפשר לכתוב את הנוסחה באופן כללי, לכל &lt;span&gt;\( m \)&lt;/span&gt; שהוא, בעזרת משהו שנקרא &lt;strong&gt;מספרי ברנולי.&lt;/strong&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;קודם כל - מה זה “פולינום”? יהיה קל להסביר את זה אם ניקח את הנוסחה &lt;span&gt;\( \frac{n\left(n+1\right)}{2} \)&lt;/span&gt; ונפתח את הסוגריים. נקבל, על פי כללי החשבון הרגילים, &lt;span&gt;\( \frac{1}{2}n^{2}+\frac{1}{2}n \)&lt;/span&gt;. באופן דומה אם נפתח את &lt;span&gt;\( \frac{n\left(n+1\right)\left(2n+1\right)}{6} \)&lt;/span&gt; נקבל &lt;span&gt;\( \frac{1}{3}n^{3}+\frac{1}{2}n^{2}+\frac{1}{6}n \)&lt;/span&gt;. ביטוי כזה נקרא &lt;strong&gt;פולינום&lt;/strong&gt;: זה ביטוי שכולל &lt;strong&gt;משתנה&lt;/strong&gt;, במקרה שלנו &lt;span&gt;\( n \)&lt;/span&gt;, שהרעיון בו הוא שהוא לא מייצג מספר קונקרטי (אבל אפשר &lt;strong&gt;להציב&lt;/strong&gt; בו מספרים קונקרטיים ולראות מה קורה) ואנחנו מסתכלים גם על חזקות שלו, כמו למשל &lt;span&gt;\( n^{2} \)&lt;/span&gt; או &lt;span&gt;\( n^{3} \)&lt;/span&gt;, ועל מכפלות של כל אלו במספרים, ועל סכומים של כל זה. בביטוי כמו &lt;span&gt;\( \frac{1}{3}n^{3}+\frac{1}{2}n^{2}+\frac{1}{6}n \)&lt;/span&gt; אני אומר שה-&lt;span&gt;\( \frac{1}{3} \)&lt;/span&gt; שבו מוכפל &lt;span&gt;\( n^{3} \)&lt;/span&gt; הוא &lt;strong&gt;המקדם&lt;/strong&gt; של &lt;span&gt;\( n^{3} \)&lt;/span&gt; (ולכן &lt;span&gt;\( \frac{1}{6} \)&lt;/span&gt; הוא המקדם של &lt;span&gt;\( n \)&lt;/span&gt; וכדומה). באופן כללי יכול להופיע בפולינום גם מספר שלא מוכפל ב-&lt;span&gt;\( n \)&lt;/span&gt; ואז הוא נקרא &lt;strong&gt;המקדם החופשי&lt;/strong&gt; אבל אפשר לחשוב עליו כאילו הוא מוכפל ב-&lt;span&gt;\( n^{0} \)&lt;/span&gt; (&lt;a href=&quot;https://gadial.net/2018/01/01/zero_power_equals_one/&quot;&gt;הנה פוסט&lt;/a&gt; על למה דברים בחזקת 0 נחשבים 1) אם כי בהקשר שלנו מקדם חופשי כזה פשוט לא הולך להופיע. בנוסף, &lt;strong&gt;המעלה&lt;/strong&gt; של פולינום היא החזקה הגבוהה ביותר שמופיעה בו, כלומר לדוגמא, המעלה של &lt;span&gt;\( \frac{1}{3}n^{3}+\frac{1}{2}n^{2}+\frac{1}{6}n \)&lt;/span&gt; היא 3.&lt;/p&gt;

&lt;p&gt;פולינומים הם באמת ובתמים פונקציות פשוטות מאוד. אם מציבים ערך בפולינום, החישוב רק דורש לחשב חזקות של הערך, לכפול אותן במקדמים, ולחבר. אם אני מצליח לתרגם את החיבור של המספרים &lt;span&gt;\( 1^{10}+2^{10}+3^{10}+\ldots+1000^{10} \)&lt;/span&gt; לחישוב של הצבה של 1000 בפולינום ממעלה 11, המרתי את הבעיה של חישוב 1000 חזקות עשיריות של מספרים וחיבור של כולן, לבעיה של חישוב 11 חזקות שונות של אותו מספר (וכשהמספר הזה הוא 1,000 זה לא בדיוק החלק הקשה פה) ואז כפל של 11 החזקות הללו במקדמים וחיבור שלהן - משמעותית פחות עבודה. זה הוביל את יעקב ברנולי, שגילה את הנוסחה הכללית (ולא אכנס כאן לדיון ההיסטורי של מי בדיוק גילה מה ובאיזה נוסח למרות שיש דיון כזה) לכתוב בהתלהבות ביומן שלו שבעזרת הנוסחה לקחה לו פחות מרבע שעה כדי לחשב את סכום החזקות העשיריות של המספרים עד 1000 ולקבל שיצא &lt;span&gt;\( 91,409,924,241,424,243,424,241,924,242,500 \)&lt;/span&gt;. גם ברנולי היה נאמן לסלוגן “מתמטיקאים הם עצלנים”, בדרך המאוד מוזרה שבה העצלנות הזו מתבטאת בפועל.&lt;/p&gt;

&lt;p&gt;בהמשך אני אראה איך מגיעים לנוסחה ומוכיחים אותה, אבל מכיוון שזה ידרוש מתמטיקה טיפה לא טריוויאלית בואו נתחיל קודם מתיאור של הנוסחה עצמה. בשביל לתאר אותה צריך להגדיר את מספרי ברנולי, ובשבילם צריך קצת קונבנציות מתמטיות.&lt;/p&gt;

&lt;p&gt;ראשית, יש את הסימון המוסכם לסכימה. למשל, במקום לכתוב &lt;span&gt;\( 1^{m}+2^{m}+3^{m}+\ldots+n^{m} \)&lt;/span&gt; אני כותב &lt;span&gt;\( \sum_{k=1}^{n}k^{m} \)&lt;/span&gt;. כאן הסימן &lt;span&gt;\( \Sigma \)&lt;/span&gt; אומר שיש לי תיאור של סכום, ה-&lt;span&gt;\( k^{m} \)&lt;/span&gt; שליד ה-&lt;span&gt;\( \Sigma \)&lt;/span&gt; הוא “האיבר הכללי” של הסכום - כלומר, הצורה שיש לכל איבר בסכום. ה-&lt;span&gt;\( k=1 \)&lt;/span&gt; למטה גם אומר שמשתנה הסכימה הוא &lt;span&gt;\( k \)&lt;/span&gt;, מה שאומר שבביטוי &lt;span&gt;\( k^{m} \)&lt;/span&gt; אני מציב ערכים ב-&lt;span&gt;\( k \)&lt;/span&gt; אבל משאיר את &lt;span&gt;\( m \)&lt;/span&gt; כמות שהוא, וגם שהערך של &lt;span&gt;\( k \)&lt;/span&gt; הזה מתחיל מ-1. ה-&lt;span&gt;\( n \)&lt;/span&gt; למעלה אומר שהערך הגדול ביותר ש-&lt;span&gt;\( k \)&lt;/span&gt; מגיע אליו הוא &lt;span&gt;\( n \)&lt;/span&gt;, והקונבנציה הלא כתובה היא שמגדילים בכל פעם את הערך של &lt;span&gt;\( k \)&lt;/span&gt; ב-1. לכן &lt;span&gt;\( \sum_{k=1}^{n}k^{m}=1^{m}+2^{m}+3^{m}+\ldots+n^{m} \)&lt;/span&gt;. למרות שסימון הסכימה הזה נראה קצת מרתיע בהתחלה הוא הרבה יותר קומפקטי וברור אחרי שמתרגלים אליו.&lt;/p&gt;

&lt;p&gt;שנית, אנחנו הולכים לראות מספרים מהצורה &lt;span&gt;\( {a \choose b} \)&lt;/span&gt;. הסימון הזה, שנקרא &lt;strong&gt;מקדם הבינום&lt;/strong&gt; (אסביר בהמשך למה) מוגדר באופן הבא. ראשית, מגדירים &lt;strong&gt;עצרת&lt;/strong&gt; של מספר טבעי, שמסומנת בתור המספר עם סימן קריאה אחריו: &lt;span&gt;\( a!=1\cdot2\cdot3\cdots a \)&lt;/span&gt;, כלומר מכפלת כל המספרים הטבעיים מ-1 עד &lt;span&gt;\( a \)&lt;/span&gt; (למשל &lt;span&gt;\( 4!=1\cdot2\cdot3\cdot4=24 \)&lt;/span&gt;) ובנוסף ההגדרה המפורשת &lt;span&gt;\( 0!=1 \)&lt;/span&gt;. שנית, &lt;span&gt;\( {a \choose b}=\frac{a!}{b!\left(a-b!\right)} \)&lt;/span&gt; והביטוי הזה מוגדר כאשר &lt;span&gt;\( 0\le b\le a \)&lt;/span&gt;. יש הגיון מאחורי הביטוי הזה, לא סתם החלטנו להמציא אותו: &lt;span&gt;\( {a \choose b} \)&lt;/span&gt; סופר את מספר הדרכים שבהן אפשר לבחור &lt;span&gt;\( b \)&lt;/span&gt; איברים מתוך &lt;span&gt;\( a \)&lt;/span&gt; איברים, במקרה שבו אין חשיבות לסדר שבו הבחירה הזו מתבצעת. (אני מתאר את זה &lt;a href=&quot;https://gadial.net/2010/06/20/combinatorics_intro/&quot;&gt;כאן&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;לבסוף, בנוסחה שאני הולך להציג יופיעו &lt;strong&gt;מספרי ברנולי&lt;/strong&gt; שמסומנים ב-&lt;span&gt;\( B_{0},B_{1},B_{2},\ldots \)&lt;/span&gt; והם יהיו המושג המרכזי בפוסט.&lt;/p&gt;

&lt;p&gt;אני אגלה כבר עכשיו שמספרי ברנולי הראשונים הם &lt;span&gt;\( B_{0}=1,B_{1}=-\frac{1}{2},B_{2}=\frac{1}{6},B_{3}=0 \)&lt;/span&gt; ואת ההגדרה הכללית שלהם אביא עוד מעט, אבל קודם אני רוצה להראות איך הם נותנים לנו את הנוסחה לסכום החזקות. אלא שכאן יש סיבוך קטן. אמרתי ש-&lt;span&gt;\( B_{1}=-\frac{1}{2} \)&lt;/span&gt;, אבל יש גם כאלו שמעדיפים להגדיר &lt;span&gt;\( B_{1}=\frac{1}{2} \)&lt;/span&gt;. שתי הקונבנציות סבירות, אבל אני בפוסט הזה הולך להשתמש בקונבנציה ש-&lt;span&gt;\( B_{1}=-\frac{1}{2} \)&lt;/span&gt; וזה טיפה משפיע על הנוסחה: במקום להסתכל על &lt;span&gt;\( \sum_{k=1}^{n}k^{m} \)&lt;/span&gt; אני מסתכל על &lt;span&gt;\( \sum_{k=1}^{n-1}k^{m} \)&lt;/span&gt;, כלומר על הסכום &lt;span&gt;\( 1^{m}+2^{m}+\ldots+\left(n-1\right)^{m} \)&lt;/span&gt;. את הסכום הזה אני אסמן ב-&lt;span&gt;\( S_{m}\left(n\right) \)&lt;/span&gt;. כמובן שזה לא שינוי גדול במיוחד; אם ניקח את הנוסחה &lt;span&gt;\( \frac{n\left(n+1\right)}{2} \)&lt;/span&gt; שראינו קודם ונחליף את &lt;span&gt;\( n \)&lt;/span&gt; ב-&lt;span&gt;\( n-1 \)&lt;/span&gt; נקבל &lt;span&gt;\( S_{1}\left(n\right)=\frac{n\left(n-1\right)}{2}=\frac{1}{2}n^{2}-\frac{1}{2}n \)&lt;/span&gt;. באופן דומה אם ניקח את &lt;span&gt;\( \frac{n\left(n+1\right)\left(2n+1\right)}{6} \)&lt;/span&gt; ונחליף את &lt;span&gt;\( n \)&lt;/span&gt; ב-&lt;span&gt;\( n-1 \)&lt;/span&gt; נקבל &lt;span&gt;\( S_{2}\left(n\right)=\frac{n\left(n-1\right)\left(2n-1\right)}{6}=\frac{1}{3}n^{3}-\frac{1}{2}n^{2}+\frac{1}{6}n \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;עכשיו אפשר להציג את הנוסחה הכללית&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;&lt;span&gt;\( S_{m}\left(n\right)=\frac{1}{m+1}\sum_{k=0}^{m}{m+1 \choose k}B_{k}n^{m+1-k} \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;בואו נראה איך היא נותנת את הסכומים שכבר ראינו. ראשית, עבור &lt;span&gt;\( 1+2+3+\ldots+n-1 \)&lt;/span&gt;, זה הסכום &lt;span&gt;\( \sum_{k=1}^{n-1}k^{1} \)&lt;/span&gt;, כלומר &lt;span&gt;\( m=1 \)&lt;/span&gt;. לכן כשמשתמשים בנוסחה הכללית שראינו, מקבלים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( S_{1}\left(n\right)=\frac{1}{2}\left[{2 \choose 0}B_{0}n^{2}+{2 \choose 1}B_{1}n^{1}\right]=\frac{1}{2}\left[n^{2}+2\cdot\left(-\frac{1}{2}\right)n\right]=\frac{1}{2}n^{2}-\frac{1}{2}n \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ובאופן דומה:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( S_{2}\left(n\right)=\frac{1}{3}\left[{3 \choose 0}B_{0}n^{3}+{3 \choose 1}B_{1}n^{2}+{3 \choose 2}B_{2}n\right]=\frac{1}{3}\left[n^{3}-\frac{3}{2}n^{2}+\frac{3}{6}n\right]=\frac{1}{3}n^{3}-\frac{1}{2}n^{2}+\frac{1}{6}n \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;לי הנוסחה הכללית נראית טיפה מפחידה, אבל כשאני מקליד את המקרים המפורשים החוקיות “מרגישה” לי הרבה יותר פשוטה - בעצם אין בנוסחאות הללו כמעט שום דבר מסובך, חוץ ממספרי ברנולי עצמם - הם ה”לב” של הסיבוך כאן. אז איך מגדירים אותם? ולמה זה עובד? אני פשוט אציג את ההגדרה כאן, ובהמשך נגיע אל ההוכחה שגם תסביר לנו מאיפה ההגדרה בעצם צצה.&lt;/p&gt;

&lt;p&gt;ההגדרה היא &lt;strong&gt;רקורסיבית&lt;/strong&gt;: אני מניח שכבר הגדרתי את כל המספרים &lt;span&gt;\( B_{0},B_{1},B_{2},\ldots,B_{k-1} \)&lt;/span&gt; ומגדיר באמצעותם את &lt;span&gt;\( B_{k} \)&lt;/span&gt;, בצורה הבאה:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( B_{k}=-\frac{1}{k+1}\sum_{i=0}^{k-1}{k+1 \choose i}B_{i} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עם מקרה הבסיס &lt;span&gt;\( B_{0}=1 \)&lt;/span&gt;. גם פה, הרבה יותר קל “להרגיש” את ההגדרה כשכותבים כמה מקרים ידנית:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( B_{1}=-\frac{1}{2}{2 \choose 0}B_{0}=-\frac{1}{2} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( B_{2}=-\frac{1}{3}\left[{3 \choose 0}B_{0}+{3 \choose 1}B_{1}\right]=-\frac{1}{3}\left[1-\frac{3}{2}\right]=-\frac{1}{3}\left(-\frac{1}{2}\right)=\frac{1}{6} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ואם ממשיכים בחישובים, מקבלים את הסדרה הבאה:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( 1,-\frac{1}{2},\frac{1}{6},0,-\frac{1}{30},0,\frac{1}{42},0,-\frac{1}{30},0,\frac{5}{66},0,-\frac{691}{2730},\ldots \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;בדרך כלל ה-&lt;span&gt;\( -\frac{691}{2730} \)&lt;/span&gt; הוא זה שבו מרימים ידיים בייאוש ושואלים “אתם צוחקים עלינו?!”. עד לשם, אפשר לראות ניצוצות של חוקיות סבירה - כל המספרים במקומות האי זוגיים למעט &lt;span&gt;\( B_{1} \)&lt;/span&gt; הם 0; המספרים האחרים מחליפים סימן בין מינוס לפלוס; במכנה מופיעים מספרים סבירים יחסית כולל 42 יקיר המין האנושי; אבל אז מגיע &lt;span&gt;\( -\frac{691}{2730} \)&lt;/span&gt; שכולל מונה ומכנה שאין לאף אחד שמץ של מושג מה הם רוצים מחיינו, והורס כל תקווה לאיזו נוסחה פשוטה יחסית, יותר מנוסחת הנסיגה שיש לנו (יש גם נוסחאות סגורות שכוללות סכימה ואני לא חושב שאפשר לומר שהן פשוטות יותר).&lt;/p&gt;

&lt;p&gt;אוקיי, אז זה מה שעושים עם זה, בואו נוכיח שזה עובד.&lt;/p&gt;

&lt;h2&gt;בואו נביים בינומים&lt;/h2&gt;

&lt;p&gt;לפני שאני מגיע להוכחה האמיתית, שמשתמשת בכלי אלגנטי ויפה אבל לא טריוויאלי להבנה, הנה גישה קצת יותר בסיסית לנושא שכל אחד יכול להבין. בינתיים אני לא אנסה להוכיח את הנוסחה שראינו למעלה אלא משהו צנוע יותר - להוכיח ש-&lt;span&gt;\( S_{m}\left(n\right) \)&lt;/span&gt; הוא פולינום ממעלה &lt;span&gt;\( m+1 \)&lt;/span&gt; ולהראות איך למצוא אותו. בשביל זה אני קודם כל הולך להשתמש במשהו שנקרא &lt;strong&gt;הבינום של ניוטון&lt;/strong&gt; (יש לי עליו &lt;a href=&quot;https://gadial.net/2010/06/22/newton_binom/&quot;&gt;פוסט&lt;/a&gt;) שאומר באופן כללי:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left(a+b\right)^{n}=\sum_{i=0}^{n}{n \choose i}a^{i}b^{n-i} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אם במקום &lt;span&gt;\( b \)&lt;/span&gt; יש לי 1 זה נהיה משמעותית פשוט יותר:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left(a+1\right)^{n}=\sum_{i=0}^{n}{n \choose i}a^{i}=1+{n \choose 1}a+{n \choose 2}a^{2}+\ldots+{n \choose n-1}a^{n-1}+a^{n} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו נשתמש בזה עבור &lt;span&gt;\( a=k \)&lt;/span&gt; ו-&lt;span&gt;\( n=m+1 \)&lt;/span&gt; ונקבל את הדבר הבא:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left(k+1\right)^{m+1}-k^{m+1}=1+{m+1 \choose 1}k+{m+1 \choose 2}k^{2}+\ldots+{m+1 \choose m}k^{m} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;מה שנחמד בביטוי &lt;span&gt;\( \left(k+1\right)^{m+1}-k^{m+1} \)&lt;/span&gt; הוא שהוא יוצר לנו &lt;strong&gt;טור טלסקופי&lt;/strong&gt;, כלומר טור שבו כל האיברים מבטלים זה את זה חוץ מהראשון והאחרון. כדי לראות את זה, בואו נחבר את כל הביטויים הללו עבור &lt;span&gt;\( k=0,1,2,\ldots,n-1 \)&lt;/span&gt;:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left[n^{m+1}-\left(n-1\right)^{m+1}\right]+\left[\left(n-1\right)^{m+1}-\left(n-2\right)^{m+1}\right]+\ldots+\left[2^{m+1}-1^{m+1}\right]+\left[1^{m+1}-0^{m+1}\right]=n^{m+1} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אז אם אנחנו מחברים את אגף &lt;strong&gt;שמאל&lt;/strong&gt; של הביטוי&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left(k+1\right)^{m+1}-k^{m+1}=1+{m+1 \choose 1}k+{m+1 \choose 2}k^{2}+\ldots+{m+1 \choose m}k^{m} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;לכל &lt;span&gt;\( k=0,1,2,\ldots,n-1 \)&lt;/span&gt; אנחנו מקבלים &lt;span&gt;\( n^{m+1} \)&lt;/span&gt;. מה קורה כשאנחנו מחברים את אגף &lt;strong&gt;ימין&lt;/strong&gt;? אפשר להסתכל על כל מחובר לבד. המחובר &lt;span&gt;\( 1 \)&lt;/span&gt; יחובר לעצמו &lt;span&gt;\( n \)&lt;/span&gt; פעמים ויהפוך ל-&lt;span&gt;\( n \)&lt;/span&gt;; המחובר &lt;span&gt;\( {m+1 \choose 1}k \)&lt;/span&gt; הופך לטור &lt;span&gt;\( {m+1 \choose 1}\left(1+2+\ldots+n-1\right)={m+1 \choose 1}S_{1}\left(n\right) \)&lt;/span&gt;. המחובר &lt;span&gt;\( {m+1 \choose 2}k^{2} \)&lt;/span&gt; הופך לטור &lt;span&gt;\( {m+1 \choose 2}S_{2}\left(n\right) \)&lt;/span&gt; וכן הלאה. אז אנחנו מקבלים:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( n^{m+1}=n+{m+1 \choose 1}S_{1}\left(n\right)+{m+1 \choose 2}S_{2}\left(n\right)+\ldots+{m+1 \choose m}S_{m}\left(n\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;וזו נוסחה די מרהיבה כי היא מקשרת את כל הנוסחאות לסכומים עד לחזקה ה-&lt;span&gt;\( m \)&lt;/span&gt;-ית. אפשר לבודד את &lt;span&gt;\( S_{m}\left(n\right) \)&lt;/span&gt; ולקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( S_{m}\left(n\right)=\frac{1}{m+1}\left[n^{m+1}-{m+1 \choose m-1}S_{m-1}\left(n\right)-\ldots-{m+1 \choose 1}S_{1}\left(n\right)-n\right] \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אם אנחנו כבר יודעים, אינדוקטיבית, שכל &lt;span&gt;\( S_{k}\left(n\right) \)&lt;/span&gt; כזה הוא ממעלה לכל היותר &lt;span&gt;\( k+1 \)&lt;/span&gt; המסקנה היא שהביטוי באגף ימין הוא פולינום ממעלה &lt;span&gt;\( m+1 \)&lt;/span&gt; (בגלל ה-&lt;span&gt;\( n^{m+1} \)&lt;/span&gt; שמופיע שם והעובדה שכל ה-&lt;span&gt;\( S_{k}\left(n\right) \)&lt;/span&gt;-ים הם ממעלה קטנה יותר). הנוסחה הזו גם פותחת פתח לבניה רקורסיבית של ה-&lt;span&gt;\( B_{m} \)&lt;/span&gt;-ים ויש ספרים שנוקטים בגישה הזו (למשל Concrete Mathematics של קנות’ ושות’) אבל זה טכני לא כיף. אני רוצה טכני כיף.&lt;/p&gt;

&lt;h2&gt;בואו טכני כיף&lt;/h2&gt;

&lt;p&gt;הכלי הטכני שאני משתמש בו נקרא &lt;strong&gt;פונקציות יוצרות&lt;/strong&gt;. הרעיון בפונקציות יוצרות הוא זה: אם יש לנו סדרה, אפשר “לשתול” את האיברים שלה בתור מקדמים של טור חזקות, ואז לבצע מניפולציות על הפונקציה שטור החזקות הזה מתאר והמניפולציות הללו יתורגמו למניפולציות בסדרות ש”שתלנו”.&lt;/p&gt;

&lt;p&gt;זה לא נושא קל לעיכול (&lt;a href=&quot;https://gadial.net/2011/08/07/generating_functions_hardcore_1/&quot;&gt;יש לי פוסט&lt;/a&gt; עליו) אבל חלק מהקושי בו, לטעמי, הוא שקשה להבין אותו בלי לראות דוגמאות קונקרטיות לשימושים שלו - וכאלו שבאמת מפשטים דברים. עכשיו יש לנו הזדמנות לראות דבר כזה.&lt;/p&gt;

&lt;p&gt;הנה מבוא קצרצר לפונקציות יוצרות: בהינתן סדרת מספרים &lt;span&gt;\( a_{0},a_{1},a_{2},\ldots \)&lt;/span&gt; &lt;strong&gt;הפונקציה היוצרת&lt;/strong&gt; שלה היא הטור &lt;span&gt;\( \sum_{n=0}^{\infty}a_{n}x^{n} \)&lt;/span&gt;. צריך להבהיר כבר עכשיו נקודה קריטית - הטור הזה הוא &lt;strong&gt;אובייקט פורמלי&lt;/strong&gt;, כמו פולינום. הוא לא פונקציה. לא מציבים ב-&lt;span&gt;\( x \)&lt;/span&gt; ערכים (&lt;strong&gt;אפשר&lt;/strong&gt; להציב ב-&lt;span&gt;\( x \)&lt;/span&gt; ערכים כחלק מניתוח מתקדם יותר של מה שהפונקציה היוצרת מייצגת, אבל לא &lt;strong&gt;חייבים&lt;/strong&gt; לעשות את זה). המשמעות של זה היא שאפשר לכתוב משהו כמו &lt;span&gt;\( 1+x+x^{2}+\ldots=\frac{1}{1-x} \)&lt;/span&gt; וזה יהיה שוויון תקין, שלא תלוי בסייגים כמו לומר ש-&lt;span&gt;\( \left|x\right|&amp;lt;1 \)&lt;/span&gt; או משהו.&lt;/p&gt;

&lt;p&gt;איך זה עובד? האובייקט הבסיסי הוא כאמור הטור עצמו. על האובייקט הזה מגדירים פעולות חיבור וכפל שהופכות אותו לחוג:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;&lt;span&gt;\( \sum_{n=0}^{\infty}a_{n}x^{n}+\sum_{n=0}^{\infty}b_{n}x^{n}=\sum_{n=0}^{\infty}c_{n}x^{n} \)&lt;/span&gt; עם &lt;span&gt;\( c_{n}=a_{n}+b_{n} \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( \left(\sum_{n=0}^{\infty}a_{n}x^{n}\right)\left(\sum_{n=0}^{\infty}b_{n}x^{n}\right)=\sum_{n=0}^{\infty}c_{n}x^{n} \)&lt;/span&gt; עם &lt;span&gt;\( c_{n}=\sum_{k=0}^{n}a_{n-k}b_{k} \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;הדוגמא הקלאסית לכפל היא &lt;span&gt;\( \left(1+x+x^{2}+\ldots\right)\left(1-x\right)=1 \)&lt;/span&gt; (נסו לבצע את החישוב בעצמכם!) שהיא זו שמצדיקה את הכתיב &lt;span&gt;\( 1+x+x^{2}+\ldots=\left(1-x\right)^{-1} \)&lt;/span&gt; או, בכתיב הנפוץ יותר, &lt;span&gt;\( 1+x+x^{2}+\ldots=\frac{1}{1-x} \)&lt;/span&gt;. אני בכוונה לא נכנס יותר מדי לפרטים כי כאמור, יש לי פוסט על זה.&lt;/p&gt;

&lt;p&gt;דבר אחד שאין בפוסט וכן נשתמש בו כאן הוא &lt;strong&gt;פונקציות יוצרות אקספוננציאליות&lt;/strong&gt;. הפונקציה היוצרת האקספוננציאלית של &lt;span&gt;\( \left\{ a_{n}\right\} _{n=0}^{\infty} \)&lt;/span&gt; היא &lt;span&gt;\( \sum_{n=0}^{\infty}a_{n}\frac{x^{n}}{n!} \)&lt;/span&gt;. זה עדיין ביטוי פורמלי וההגדרות למעלה עדיין תקפות לגביו, אבל בואו נראה מה קורה לפעולות החיבור והכפל. עבור חיבור עדיין נקבל &lt;span&gt;\( \sum_{n=0}^{\infty}a_{n}\frac{x^{n}}{n!}+\sum_{n=0}^{\infty}b_{n}\frac{x^{n}}{n!}=\sum_{n=0}^{\infty}c_{n}\frac{x^{n}}{n!} \)&lt;/span&gt; עם &lt;span&gt;\( c_{n}=a_{n}+b_{n} \)&lt;/span&gt;, כלומר פעולת החיבור של פונקציות יוצרות של שתי סדרות מניבה את הפונקציה היוצרת של סדרת הסכומים. כפל, לעומת זאת, הוא קצת יותר טריקי.&lt;/p&gt;

&lt;p&gt;מה שאנחנו רוצים לעשות הוא, בהינתן הסדרות &lt;span&gt;\( a_{n},b_{n} \)&lt;/span&gt;, להבין מה הסדרה &lt;span&gt;\( c_{n} \)&lt;/span&gt; שעבורה תתקיים המשוואה&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left(\sum_{n=0}^{\infty}a_{n}\frac{x^{n}}{n!}\right)\left(\sum_{n=0}^{\infty}b_{n}\frac{x^{n}}{n!}\right)=\sum_{n=0}^{\infty}c_{n}\frac{x^{n}}{n!} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כדי להבין למה זה טריקי, בואו נראה מה קורה עבור &lt;span&gt;\( x^{2} \)&lt;/span&gt;: אנחנו רוצים שהמכפלה תיתן את המקדם &lt;span&gt;\( \frac{c_{2}}{2!} \)&lt;/span&gt;. עכשיו, אם מסתכלים על &lt;span&gt;\( \left(a_{0}+a_{1}x+\frac{a_{2}}{2!}x^{2}\right)\left(b_{0}+b_{1}x+\frac{b_{2}}{2!}x^{2}\right) \)&lt;/span&gt; ופותחים סוגריים ומקבצים לפי החזקה של &lt;span&gt;\( x \)&lt;/span&gt;, מקבלים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left(\frac{a_{2}}{2}b_{0}+a_{1}b_{1}+a_{0}\frac{b_{2}}{2}\right)x^{2} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אנחנו רוצים להוציא החוצה את ה-&lt;span&gt;\( \frac{1}{2!} \)&lt;/span&gt; ולכן נקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left(a_{2}b_{0}+2a_{1}b_{1}+a_{0}b_{2}\right)\frac{x^{2}}{2!} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;מה קורה באופן כללי? המקדם של &lt;span&gt;\( x^{n} \)&lt;/span&gt; יהיה &lt;span&gt;\( \sum_{k=0}^{n}\frac{a_{k}}{k!}\frac{b_{n-k}}{\left(n-k\right)!} \)&lt;/span&gt;. עכשיו, זכרו את הבינום של ניוטון: &lt;span&gt;\( {n \choose k}=\frac{n!}{k!\left(n-k\right)!} \)&lt;/span&gt;. לכן, אם נכפול ונחלק את הסכום ב-&lt;span&gt;\( n! \)&lt;/span&gt;, נקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \sum_{k=0}^{n}\frac{a_{k}}{k!}\frac{b_{n-k}}{\left(n-k\right)!}=\frac{1}{n!}\sum_{k=0}^{n}{n \choose k}a_{k}b_{n-k} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כלומר, את נוסחת הכפל צריך לתקן באופן הבא:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;&lt;span&gt;\( \left(\sum_{n=0}^{\infty}a_{n}\frac{x^{n}}{n!}\right)\left(\sum_{n=0}^{\infty}b_{n}\frac{x^{n}}{n!}\right)=\sum_{n=0}^{\infty}c_{n}\frac{x^{n}}{n!} \)&lt;/span&gt; עם &lt;span&gt;\( c_{n}=\sum_{k=0}^{n}{n \choose k}a_{n-k}b_{k} \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;עכשיו אפשר לדבר על הפונקציה היוצרת האקספוננציאלית הבסיסית שלנו: זו שמתאימה לסדרה &lt;span&gt;\( a_{n}=1 \)&lt;/span&gt;, כלומר לטור &lt;span&gt;\( \sum_{n=0}^{\infty}\frac{x^{n}}{n!} \)&lt;/span&gt;. את הפונקציה הזו אני אסמן בסימון המקוצר המסתורי &lt;span&gt;\( e^{x} \)&lt;/span&gt;. כמובן, ייתכן שחלקכם מכירים את הסימון הזה והוא לא נראה להם מסתורי, אבל זה &lt;strong&gt;מסוכן מאוד&lt;/strong&gt; לחשוב ככה כי למשל אם אני אכתוב עכשיו &lt;span&gt;\( e^{2x} \)&lt;/span&gt; אתם תגידו “כמובן, זה הטור &lt;span&gt;\( \sum_{n=0}^{\infty}2^{n}\frac{x^{n}}{n!} \)&lt;/span&gt;” וזה יהיה נכון בכל מה שנוגע לפונקציה שנקראת “אקספוננט” שאנחנו פוגשים בחדו”א, אבל כאן אנחנו בעולם קצת שונה, של טורי חזקות פורמליים, והביטוי &lt;span&gt;\( e^{2x} \)&lt;/span&gt; הוא פשוט &lt;strong&gt;לא מוגדר&lt;/strong&gt;. מה שמתבקש הוא להגדיר אותו בתור &lt;span&gt;\( e^{x}\cdot e^{x} \)&lt;/span&gt;, כי כפל כן הגדרנו, אבל צריך לוודא שזה עובד.&lt;/p&gt;

&lt;p&gt;מכיוון ש-&lt;span&gt;\( e^{x} \)&lt;/span&gt; התאים לסדרה &lt;span&gt;\( a_{n}=1 \)&lt;/span&gt;, אז &lt;span&gt;\( e^{x}\cdot e^{x} \)&lt;/span&gt; מתאים לסדרה &lt;span&gt;\( c_{n}=\sum_{k=0}^{n}{n \choose k} \)&lt;/span&gt;. למרבה השמחה, אנחנו יודעים ש-&lt;span&gt;\( \sum_{k=0}^{n}{n \choose k}=2^{n} \)&lt;/span&gt; (הוכחה קומבינטורית: &lt;span&gt;\( {n \choose k} \)&lt;/span&gt; הוא מספר הדרכים לבחור &lt;span&gt;\( k \)&lt;/span&gt; איברים מתוך &lt;span&gt;\( n \)&lt;/span&gt;, ואילו &lt;span&gt;\( 2^{n} \)&lt;/span&gt; הוא מספר הדרכים לבחור תת-קבוצה כלשהי מתוך &lt;span&gt;\( n \)&lt;/span&gt;) ולכן באמת מקבלים ש-&lt;span&gt;\( e^{x}\cdot e^{x} \)&lt;/span&gt; מיוצג על ידי הטור &lt;span&gt;\( \sum_{n=0}^{\infty}2^{n}\frac{x^{n}}{n!} \)&lt;/span&gt; מה ש”מצדיק” את הסימון &lt;span&gt;\( e^{2x}=e^{x}\cdot e^{x} \)&lt;/span&gt;. בגישה קצת פחות פורמלית הייתי אומר “מכיוון ש-&lt;span&gt;\( e^{x} \)&lt;/span&gt; שלי הוגדרה עם אותו טור כמו אקספוננט אז כל תוצאה שיש לנו על אקספוננט עובדת כאן עם הבונוס שלא צריך להתחשב בשיקולי התכנסות” אבל אני לא אעשה את זה.&lt;/p&gt;

&lt;p&gt;עכשיו, אם יש לנו את &lt;span&gt;\( e^{2x} \)&lt;/span&gt;, מה עם &lt;span&gt;\( e^{kx} \)&lt;/span&gt; עבור &lt;span&gt;\( k \)&lt;/span&gt; טבעי כללי? ההגדרה המתבקשת היא &lt;span&gt;\( e^{kx}=\sum_{n=0}^{\infty}k^{n}\frac{x^{n}}{n!} \)&lt;/span&gt;. הייתי רוצה להראות שזו באמת החזקה ה-&lt;span&gt;\( k \)&lt;/span&gt;-ית של &lt;span&gt;\( e^{x} \)&lt;/span&gt;, ואת זה אני יכול להוכיח באינדוקציה. נניח שבאמת מתקיים &lt;span&gt;\( e^{kx}=\sum_{n=0}^{\infty}k^{n}\frac{x^{n}}{n!} \)&lt;/span&gt; ונוכיח ש-&lt;span&gt;\( e^{x}\cdot e^{kx}=\sum_{n=0}^{\infty}\left(k+1\right)^{n}\frac{x^{n}}{n!} \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;לצורך ההוכחה שוב נתבסס על הגדרת הכפל עבור האיבר הכללי - הפעם הוא יוצא &lt;span&gt;\( c_{n}=\sum_{i=0}^{n}{n \choose i}k^{i} \)&lt;/span&gt;. על &lt;span&gt;\( {n \choose i}k^{i} \)&lt;/span&gt; אפשר לחשוב קומבינטורית בתור בחירה של &lt;span&gt;\( i \)&lt;/span&gt; מתוך &lt;span&gt;\( n \)&lt;/span&gt; איברים, ואז צביעה של כל איבר בצבע מתוך קבוצה בת &lt;span&gt;\( k \)&lt;/span&gt; צבעים, כך שאפשר לבחור את אותו צבע יותר מפעם אחת. עכשיו, אם אני סופר את מספר הדרכים לבחור &lt;strong&gt;תת-קבוצה&lt;/strong&gt; של &lt;span&gt;\( n \)&lt;/span&gt; האיברים ולצבוע את אבריה ב-&lt;span&gt;\( k \)&lt;/span&gt; צבעים, אפשר להתחכם טיפה - ל-&lt;span&gt;\( k \)&lt;/span&gt; הצבעים נוסיף “צבע שקוף”, ואז פשוט נצבע את כל &lt;span&gt;\( n \)&lt;/span&gt; האיברים ב-&lt;span&gt;\( k+1 \)&lt;/span&gt; הצבעים, ומי שצבוע בצבע שקוף ייחשב כאילו לא לקחנו אותו לתת הקבוצה. כך קיבלנו שמספר הדרכים הכולל הוא &lt;span&gt;\( \left(k+1\right)^{n} \)&lt;/span&gt;, כלומר &lt;span&gt;\( c_{n}=\left(k+1\right)^{n} \)&lt;/span&gt;, כמו שרצינו להראות.&lt;/p&gt;

&lt;p&gt;למה אני בכלל טורח כל כך להתעסק בחזקות של &lt;span&gt;\( e^{x} \)&lt;/span&gt;? מן הסתם אני חותר למשהו. בואו נחזור אל המטרה שלנו - אנחנו רוצים למצוא נוסחה עבור &lt;span&gt;\( S_{m}\left(n\right) \)&lt;/span&gt;, לכל &lt;span&gt;\( m \)&lt;/span&gt;. קודם ראינו שאולי קשה להבין את &lt;span&gt;\( S_{m}\left(n\right) \)&lt;/span&gt; עבור &lt;span&gt;\( m \)&lt;/span&gt; &lt;strong&gt;בודד&lt;/strong&gt; אבל אם מסתכלים על ה-&lt;span&gt;\( S_{m} \)&lt;/span&gt;-ים הללו &lt;strong&gt;כמכלול&lt;/strong&gt;, כולם ביחד, יש ביניהם קשרים. פונקציות יוצרות הן בדיוק דרך לנצל את הקשרים הללו, אז די מתבקש לקחת את &lt;span&gt;\( S_{m} \)&lt;/span&gt; ולשתול אותם בתוך פונקציה יוצרת. עכשיו, בפונקציה יוצרת מה ששותלים הוא &lt;strong&gt;סדרות מספרים&lt;/strong&gt;, אבל &lt;span&gt;\( S_{m} \)&lt;/span&gt; היא לא סדרה של מספרים, היא סדרה של פונקציות - אז נבחר &lt;span&gt;\( n \)&lt;/span&gt; קונקרטי, נקבל עבורו סדרה קונקרטית של מספרים, &lt;span&gt;\( \left\{ S_{m}\left(n\right)\right\} _{m=0}^{\infty} \)&lt;/span&gt;. נשתול אותה בתוך פונקציה יוצרת אקספוננציאלית ונראה מה נקבל:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \sum_{m=0}^{\infty}S_{m}\left(n\right)\frac{x^{m}}{m!}=\sum_{m=0}^{\infty}\left(\sum_{k=0}^{n-1}k^{m}\right)\frac{x^{m}}{m!} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו שימו לב מה קורה כאן: יש לנו פונקציה יוצרת אקספוננציאלית שהאיבר הכללי שלה הוא &lt;strong&gt;סכום סופי&lt;/strong&gt; של איברים. זה מתאים לסיטואציה &lt;span&gt;\( c_{n}=a_{n}+b_{n} \)&lt;/span&gt; שראינו קודם, רק לא עם שני איברים אלא עם &lt;span&gt;\( n \)&lt;/span&gt; איברים, אבל באינדוקציה אפשר להראות שכל איבר כללי שהוא סכום של מספר סופי כלשהו של איברים מתפרק לסכום של פונקציות יוצרות, ולכן נקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \sum_{m=0}^{\infty}S_{m}\left(n\right)\frac{x^{m}}{m!}=\sum_{m=0}^{\infty}\left(\sum_{k=0}^{n-1}k^{m}\right)\frac{x^{m}}{m!}=\sum_{k=0}^{n-1}\left[\sum_{m=0}^{\infty}k^{m}\frac{x^{m}}{m!}\right] \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;הפלא ופלא, כל הפונקציות היוצרות שבסכום מתאימות בדיוק לחזקות של &lt;span&gt;\( e \)&lt;/span&gt; שראינו קודם, אז קיבלנו את התוצאה&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \sum_{m=0}^{\infty}S_{m}\left(n\right)\frac{x^{m}}{m!}=e^{0x}+e^{x}+e^{2x}+e^{3x}+\ldots+e^{\left(n-1\right)x} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו אפשר סוף סוף לראות את הכוח של פונקציות יוצרות: את הביטוי &lt;span&gt;\( e^{0x}+e^{x}+e^{2x}+e^{3x}+\ldots+e^{\left(n-1\right)x} \)&lt;/span&gt; אפשר לראות בתור &lt;strong&gt;טור הנדסי&lt;/strong&gt;. כזכור, אם יש לנו טור הנדסי &lt;span&gt;\( 1+q+q^{2}+q^{3}+\ldots+q^{n-1} \)&lt;/span&gt; אנחנו יודעים לחשב את הסכום שלו על ידי הטריק הבא: נכפול ונחלק ב-&lt;span&gt;\( \left(q-1\right) \)&lt;/span&gt; ואז נקבל במונה טור טלסקופי שכל מה שיישאר ממנו הוא &lt;span&gt;\( q^{n}-1 \)&lt;/span&gt;, בזמן שבמכנה יהיה לנו &lt;span&gt;\( q-1 \)&lt;/span&gt;, כלומר קיבלנו &lt;span&gt;\( 1+q+q^{2}+q^{3}+\ldots+q^{n-1}=\frac{q^{n}-1}{q-1} \)&lt;/span&gt;. אם נציב &lt;span&gt;\( q=e^{x} \)&lt;/span&gt;, זה נותן לנו את הביטוי &lt;span&gt;\( \frac{e^{nx}-1}{e^{x}-1} \)&lt;/span&gt; (חדי העין ישימו לב שטיפה רימיתי פה - אני אחזור לזה בהמשך).&lt;/p&gt;

&lt;p&gt;עכשיו, בואו נכפול ונחלק את הביטוי הזה ב-&lt;span&gt;\( x \)&lt;/span&gt; ונקבל &lt;span&gt;\( \frac{e^{nx}-1}{e^{x}-1}=\frac{e^{nx}-1}{x}\frac{x}{e^{x}-1} \)&lt;/span&gt;. אני עוד מעט אקדיש חלק שלם כדי להסביר למה &lt;span&gt;\( \frac{x}{e^{x}-1}=\sum_{k=0}^{\infty}B_{k}\frac{x^{k}}{k!} \)&lt;/span&gt;, כלומר &lt;span&gt;\( \frac{x}{e^{x}-1} \)&lt;/span&gt; הוא הפונקציה היוצרת האקספוננציאלית של מספרי ברנולי. לגבי &lt;span&gt;\( \frac{e^{nx}-1}{x} \)&lt;/span&gt;, קל יותר לטפל בו: &lt;span&gt;\( e^{nx}=1+nx+\frac{n^{2}x^{2}}{2}+\ldots \)&lt;/span&gt; ולכן &lt;span&gt;\( \frac{e^{nx}-1}{x}=n+\frac{n^{2}x}{2}+\ldots=\sum_{k=0}^{\infty}\frac{n^{k+1}}{k+1}\cdot\frac{x^{k}}{k!} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;נסכם לרגע בזהירות את מה שראינו:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \sum_{m=0}^{\infty}S_{m}\left(n\right)\frac{x^{m}}{m!}=\left(\sum_{k=0}^{\infty}\frac{n^{k+1}}{k+1}\frac{x^{k}}{k!}\right)\left(\sum_{k=0}^{\infty}B_{k}\frac{x^{k}}{k!}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כלומר, כשעוברים מרמת הפונקציות היוצרות האקספוננציאליות לרמת האיבר הבודד, וזוכרים איך כפל של פונקציות יוצרות אקספוננציאליות עובד כשעוברים לרמת האיבר הבודד, מקבלים:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( S_{m}\left(n\right)=\sum_{k=0}^{m}{m \choose k}B_{k}\frac{n^{\left(m-k\right)+1}}{\left(m-k\right)+1} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;את הגורם שבפנים אפשר לפשט עם עוד תעלול אלגברי/קומבינטורי קטן:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( {m \choose k}\frac{1}{m-k+1}=\frac{m!}{k!\left(m-k\right)!}\cdot\frac{1}{m-k+1}=\frac{m!}{k!\left(m-k+1\right)!}=\frac{1}{m+1}\frac{\left(m+1\right)!}{k!\left(m-k+1\right)!}=\frac{1}{m+1}{m+1 \choose k} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;וקיבלנו את הנוסחה שמציגים בכל מקום:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( S_{m}\left(n\right)=\frac{1}{m+1}\sum_{k=0}^{m}{m+1 \choose k}n^{m+1-k}B_{k} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;וזה היה… ממש טכני? ובכן, כן ולא. אני יודע שזה די מרתיע אבל בסופו של דבר כשמבינים את הרעיון של פונקציות יוצרות כל מה שעשינו פה הוא מאוד סטנדרטי. זה לא אומר שהיה כיף גדול לעשות את זה, אבל בהתחשב בתוצאה הדי כללית שמקבלים פה זה ממש נחמד - בפרט שזו תוצאה שמטפלת בכל אינסוף ה-&lt;span&gt;\( S_{m}\left(n\right) \)&lt;/span&gt;-ים בו זמנית.&lt;/p&gt;

&lt;p&gt;אבל עדיין לא סיימתי כי נשאר לי להסביר מאיפה מספרי ברנולי הגיעו.&lt;/p&gt;

&lt;h2&gt;בואו למסע אל מקורות הברנולי&lt;/h2&gt;

&lt;p&gt;אני טענתי, ללא הוכחה, ש-&lt;span&gt;\( \frac{x}{e^{x}-1}=\sum_{k=0}^{\infty}B_{k}\frac{x^{k}}{k!} \)&lt;/span&gt;. כלומר אני &lt;strong&gt;מגדיר&lt;/strong&gt; את מספרי ברנולי בתור הסדרה ש-&lt;span&gt;\( \frac{x}{e^{x}-1} \)&lt;/span&gt; היא הפונקציה היוצרת האקספוננציאלית שלה. יש כאן שתי שאלות&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;למה אני יודע בכלל ש-&lt;span&gt;\( \frac{x}{e^{x}-1} \)&lt;/span&gt; ניתן לתיאור על ידי טור חזקות כזה?&lt;/li&gt;


&lt;li&gt;איך אני יודע שאלו מספרי ברנולי? כלומר, איך אני מראה שמתקיימת הנוסחה הרקורסיבית &lt;span&gt;\( B_{n}=-\frac{1}{n+1}\sum_{k=0}^{n-1}{n+1 \choose k}B_{k} \)&lt;/span&gt; שהצגתי קודם?&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;נתחיל מהשאלה הראשונה, למה &lt;span&gt;\( \frac{x}{e^{x}-1} \)&lt;/span&gt; ניתן לתיאור על ידי טור חזקות פורמלי. אם לא היינו עובדים במסגרת פורמלית אלא בחדו”א, הסיפור היה הולך ככה: היינו שמים לב שכשמציבים &lt;span&gt;\( x=0 \)&lt;/span&gt; אז &lt;span&gt;\( e^{x}=1 \)&lt;/span&gt; ולכן &lt;span&gt;\( e^{x}-1=0 \)&lt;/span&gt; ולכן המכנה של &lt;span&gt;\( \frac{x}{e^{x}-1} \)&lt;/span&gt; יכול להתאפס ומדובר בקטסטרופה. אבל מצד שני, גם &lt;strong&gt;המונה&lt;/strong&gt; מתאפס כש-&lt;span&gt;\( x=0 \)&lt;/span&gt; ולכן אפשר להשתמש בלהטוט החדו”אי שנקרא כלל לופיטל ולקבל &lt;span&gt;\( \lim_{x\to0}\frac{x}{e^{x}-1}=\lim_{x\to0}\frac{1}{e^{x}}=1 \)&lt;/span&gt;. כלומר, אפשר “לתקן” את הפונקציה &lt;span&gt;\( \frac{x}{e^{x}-1} \)&lt;/span&gt; כך שב-&lt;span&gt;\( x=0 \)&lt;/span&gt; היא תוגדר להיות 1 ולקבל פונקציה נחמדה שאפשר לפתח לטור והכל טוב ויפה.&lt;/p&gt;

&lt;p&gt;אני לא הולך לעשות את זה כאן. כאמור, אני דוגל בגישה הפורמלית. בגישה הזו כל מה שיש בעולם הוא טורי חזקות פורמליים ולכן הביטוי &lt;span&gt;\( \frac{x}{e^{x}-1} \)&lt;/span&gt; הוא בסך הכל &lt;strong&gt;סימון מקוצר&lt;/strong&gt; לטור חזקות פורמלי כלשהו. איזה? על פניו, הטור &lt;span&gt;\( x\left(e^{x}-1\right)^{-1} \)&lt;/span&gt; כאשר &lt;span&gt;\( \left(e^{x}-1\right)^{-1} \)&lt;/span&gt; הוא טור החזקות ההופכי של &lt;span&gt;\( e^{x}-1 \)&lt;/span&gt;, דהיינו הטור שכשכופלים אותו ב-&lt;span&gt;\( e^{x}-1 \)&lt;/span&gt; מקבלים &lt;span&gt;\( 1 \)&lt;/span&gt;. אבל, לצערנו, &lt;strong&gt;אין טור חזקות כזה&lt;/strong&gt;. בשביל שטור חזקות יהיה “הפיך” במובן שציינתי, המקדם החופשי שלו צריך להיות הפיך - ובמקרה שלנו, המקדם החופשי של &lt;span&gt;\( e^{x}-1 \)&lt;/span&gt; הוא 0 שאינו הפיך.&lt;/p&gt;

&lt;p&gt;אבל לא הכל אבוד, אני לא באמת צריך הופכיים פה. מה שאני רוצה להגיד בביטוי &lt;span&gt;\( \frac{x}{e^{x}-1}=f\left(x\right) \)&lt;/span&gt; הוא שמתקיים השוויון &lt;span&gt;\( x=f\left(x\right)\left(e^{x}-1\right) \)&lt;/span&gt;. אז אני אבדוק אם אני מסוגל &lt;strong&gt;להגדיר&lt;/strong&gt; את &lt;span&gt;\( f\left(x\right) \)&lt;/span&gt; כדי שהשוויון הזה יתקיים; אם אני מסוגל, אז אפשר יהיה להשתמש בסימון המקוצר &lt;span&gt;\( \frac{x}{e^{x}-1} \)&lt;/span&gt; כמו קודם.&lt;/p&gt;

&lt;p&gt;בואו נתחיל מלכתוב את &lt;span&gt;\( f\left(x\right) \)&lt;/span&gt; בתור טור חזקות אקספוננציאלי כללי: &lt;span&gt;\( f\left(x\right)=\sum_{k=0}^{\infty}b_{k}\frac{x^{k}}{k!} \)&lt;/span&gt;. כרגע אני &lt;strong&gt;לא יודע&lt;/strong&gt; שה-&lt;span&gt;\( b_{k} \)&lt;/span&gt;-ים הללו הם מספרי ברנולי, או אפילו שאני יכול לבחור להם ערכים בצורה כזו שתצדיק את השוויון &lt;span&gt;\( \frac{x}{e^{x}-1}=f\left(x\right) \)&lt;/span&gt;, אבל אני כן יכול לקחת טור חזקות אקספוננציאלי כללי כלשהו, לתת למקדמים שלו את הסימון &lt;span&gt;\( b_{k} \)&lt;/span&gt;, לכפול אותו ב-&lt;span&gt;\( e^{x}-1 \)&lt;/span&gt; ולראות מה קורה. נוסחת הכפל הרגילה של טורי חזקות אקספוננציאליים תקפה גם כאן:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( c_{n}=\sum_{k=0}^{n}{n \choose k}a_{n-k}b_{k} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אצלנו &lt;span&gt;\( a_{0}=0 \)&lt;/span&gt; ואילו &lt;span&gt;\( a_{k}=1 \)&lt;/span&gt; לכל &lt;span&gt;\( k&amp;gt;0 \)&lt;/span&gt; (כי החסרת 1 מ-&lt;span&gt;\( e^{x} \)&lt;/span&gt; הורידה 1 מהאיבר במקום 0; אם למשל היינו רוצים להוריד 3 מהאיבר במקום 2 היינו צריכים לחסר &lt;span&gt;\( 3x^{2} \)&lt;/span&gt;). בנוסחה &lt;span&gt;\( c_{n}=\sum_{k=0}^{n}{n \choose k}a_{n-k}b_{k} \)&lt;/span&gt; אני מקבל את &lt;span&gt;\( a_{0} \)&lt;/span&gt; כאשר &lt;span&gt;\( k=n \)&lt;/span&gt; ולכן המקרה הזה אף פעם לא יופיע, ואני מקבל:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( c_{n}=\sum_{k=0}^{n-1}{n \choose k}b_{k} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כלומר, עבור &lt;span&gt;\( c_{0} \)&lt;/span&gt; אני מקבל סכום “ריק” ולכן &lt;span&gt;\( c_{0}=0 \)&lt;/span&gt; תמיד, אין לי שליטה על זה (זו בדיוק הסיבה שבגללה &lt;span&gt;\( e^{x}-1 \)&lt;/span&gt; לא הפיך). זו לא באמת בעיה, כי אנחנו רוצים לקבל את התוצאה &lt;span&gt;\( x \)&lt;/span&gt;, כלומר התוצאה שמתאימה למקרה שבו &lt;span&gt;\( c_{1}=1 \)&lt;/span&gt; ואילו &lt;span&gt;\( c_{n}=0 \)&lt;/span&gt; לכל &lt;span&gt;\( n\ne1 \)&lt;/span&gt;. אז מה באמת קורה עבור &lt;span&gt;\( c_{1} \)&lt;/span&gt;?&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( c_{1}={1 \choose 0}b_{0}=b_{0} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;זה מאלץ אותנו להגדיר &lt;span&gt;\( b_{0}=1 \)&lt;/span&gt;, אבל יופי - אם אנחנו מגדירים את &lt;span&gt;\( b_{0}=1 \)&lt;/span&gt; אנחנו באמת מקבלים את הערך המבוקש של &lt;span&gt;\( c_{1} \)&lt;/span&gt;. מה עם היתר?&lt;/p&gt;

&lt;p&gt;עבור &lt;span&gt;\( c_{2} \)&lt;/span&gt; צריך להתקיים &lt;span&gt;\( c_{2}=0 \)&lt;/span&gt;, ואנחנו יודעים ש-&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( c_{2}={2 \choose 0}b_{0}+{2 \choose 1}b_{1} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כלומר:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( 0=b_{0}+2b_{1} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כלומר:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( b_{1}=-\frac{1}{2}b_{0}=-\frac{1}{2} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;בינתיים זה מתקדם כמו שרצינו! באמת הגדרנו ש-&lt;span&gt;\( b_{1}=-\frac{1}{2} \)&lt;/span&gt; בהגדרה שלנו למספרי ברנולי! אז יופי, בואו נעבור למקרה הכללי. נניח שכבר הגדרנו את &lt;span&gt;\( b_{0},b_{1},\ldots,b_{n-1} \)&lt;/span&gt; בצורה כזו שבה כל המקדמים עד &lt;span&gt;\( c_{n} \)&lt;/span&gt; קיבלו את הערך הנכון, ונטפל ב-&lt;span&gt;\( c_{n+1}=0 \)&lt;/span&gt;. על פי נוסחת המכפלה, אנחנו יודעים ש-&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( c_{n+1}=\sum_{k=0}^{n}{n+1 \choose k}b_{k} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;נציב &lt;span&gt;\( c_{n+1}=0 \)&lt;/span&gt; וכמו כן נפריד את &lt;span&gt;\( b_{n} \)&lt;/span&gt; מכל היתר:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( 0={n+1 \choose n}b_{n}+\sum_{k=0}^{n-1}{n+1 \choose k}b_{k} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו, &lt;span&gt;\( {n+1 \choose n}=n+1 \)&lt;/span&gt; ולכן אחרי העברת אגפים וחלוקה:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( b_{n}=-\frac{1}{n+1}\sum_{k=0}^{n-1}{n+1 \choose k}b_{k} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;וזו בדיוק, אבל בדיוק, הנוסחה עבור מספרי ברנולי:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( B_{n}=-\frac{1}{n+1}\sum_{k=0}^{n-1}{n+1 \choose k}B_{k} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;מה שמשיג את שתי המטרות שלנו: הראנו שבאמת קיימת פונקציה &lt;span&gt;\( f\left(x\right) \)&lt;/span&gt; כך ש-&lt;span&gt;\( f\left(x\right)\left(e^{x}-1\right)=x \)&lt;/span&gt; למרות ש-&lt;span&gt;\( e^{x}-1 \)&lt;/span&gt; לא הפיכה, והראינו שהמקדמים של הפונקציה היוצרת האקספוננציאלית שלה הם מספרי ברנולי &lt;span&gt;\( B_{k} \)&lt;/span&gt;, ולכן אפשר לכתוב&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \frac{x}{e^{x}-1}=\sum_{k=0}^{\infty}B_{k}\frac{x^{k}}{k!} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כפי שרצינו.&lt;/p&gt;

&lt;p&gt;האם סיימנו? כמעט. אני עדיין רוצה להסביר את הפורמליות שמאחורי יתר נפנופי הידיים שביצעתי. בואו ניזכר מה בדיוק קרה שם:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;הגעתי איכשהו אל הפונקציה היוצרת &lt;span&gt;\( e^{0x}+\ldots+e^{\left(n-1\right)x} \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;טענתי ש-&lt;span&gt;\( e^{0x}+\ldots+e^{\left(n-1\right)x}=\frac{e^{nx}-1}{e^{x}-1} \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;טענתי ש-&lt;span&gt;\( \frac{e^{nx}-1}{e^{x}-1}=\frac{e^{nx}-1}{x}\frac{x}{e^{x}-1} \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;אלו טענות “מפוקפקות” כי הן מחלקות בדברים שאין להם הופכי (גם &lt;span&gt;\( e^{x}-1 \)&lt;/span&gt; וגם &lt;span&gt;\( x \)&lt;/span&gt;). אז בואו ננסח אותן מחדש בצורה פורמלית יותר אם כי אינטואיטיבית פחות.&lt;/p&gt;

&lt;p&gt;כבר ראיתי שיש פונקציה &lt;span&gt;\( f\left(x\right)=\frac{x}{e^{x}-1} \)&lt;/span&gt;, כלומר פורמלית זה טור חזקות שמקיים &lt;span&gt;\( \left(e^{x}-1\right)f\left(x\right)=x \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;בנוסף, ראיתי שיש &lt;span&gt;\( g\left(x\right)=\frac{e^{nx}-1}{x} \)&lt;/span&gt;, כלומר פורמלית זה טור חזקות שמקיים &lt;span&gt;\( xg\left(x\right)=e^{nx}-1 \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;בנוסף, במקום להשתמש בנוסחת הטור ההנדסי אפשר לתאר את הסיטואציה בעזרת כפל בלבד, כלומר להישאר ברמת הטור הטלסקופי: &lt;span&gt;\( \left(e^{x}-1\right)\left(e^{0x}+\ldots+e^{\left(n-1\right)x}\right)=e^{nx}-1 \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;עכשיו אני יכול לעשות שרשרת של הצבות:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left(e^{x}-1\right)\left(e^{0x}+\ldots+e^{\left(n-1\right)x}\right)=e^{nx}-1=xg\left(x\right)=\left(e^{x}-1\right)f\left(x\right)g\left(x\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;וכאן מגיע להטוט אחד אחרון: באופן כללי, בכל חוג שהוא &lt;strong&gt;תחום שלמות&lt;/strong&gt; (כלומר, אין בו מחלקי אפס - איברים שונים מאפס שכשכופלים אותם מקבלים אפס) אפשר תמיד &lt;strong&gt;לצמצם&lt;/strong&gt;: אם יש לי &lt;span&gt;\( ab=ac \)&lt;/span&gt; עבור &lt;span&gt;\( a\ne0 \)&lt;/span&gt; אז נובע מכך &lt;span&gt;\( b=c \)&lt;/span&gt; אפילו אם &lt;span&gt;\( a \)&lt;/span&gt; לא הפיך, פשוט כי אני מסתכל על &lt;span&gt;\( a\left(b-c\right)=0 \)&lt;/span&gt; ובגלל שאני בתחום שלמות ו-&lt;span&gt;\( a\ne0 \)&lt;/span&gt; אז &lt;span&gt;\( b-c=0 \)&lt;/span&gt; כלומר &lt;span&gt;\( b=c \)&lt;/span&gt;. זה בדיוק מה שאני אשתמש בו למעלה כדי להיפטר מה-&lt;span&gt;\( e^{x}-1 \)&lt;/span&gt; המשותף, ולקבל את השוויון הפורמלי לחלוטין:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( e^{0x}+\ldots+e^{\left(n-1\right)x}=f\left(x\right)g\left(x\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;מה שמסיים את ההוכחה.&lt;/p&gt;

&lt;p&gt;הסיפור של מספרי ברנולי לא נגמר כאן - יש עוד כל מני דברים מעניינים להראות עליהם, אבל עם סיום התוצאה הבסיסית הזו הגענו אל נקודה טובה לעצור בה לבינתיים.&lt;/p&gt;</content><author><name></name></author><category term="מספרי ברנולי" /><category term="סכומי חזקות" /><category term="פונקציות יוצרות אקספוננציאליות" /><summary type="html">בואו נסכום סכומים</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://gadial.net/assets/img/main/default-card.png" /><media:content medium="image" url="http://gadial.net/assets/img/main/default-card.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">איך מחשבים דטרמיננטה עם אלגוריתם בריס?</title><link href="http://gadial.net/2024/12/14/computing_determinants_bareiss_algorithm/" rel="alternate" type="text/html" title="איך מחשבים דטרמיננטה עם אלגוריתם בריס?" /><published>2024-12-14T00:00:00+00:00</published><updated>2024-12-14T00:00:00+00:00</updated><id>http://gadial.net/2024/12/14/computing_determinants_bareiss_algorithm</id><content type="html" xml:base="http://gadial.net/2024/12/14/computing_determinants_bareiss_algorithm/">&lt;h2&gt;חלק ראשון, שבו אנחנו לומדים שמינוס 32 הוא כמעט 256&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://gadial.net/2024/12/03/computing_determinants/&quot;&gt;בפוסט הקודם שלי&lt;/a&gt; על דטרמיננטות הסברתי איך מחשבים אותן. הצגתי שתי דרכים: אחת שהולכת דרך ההגדרה הרקורסיבית והיא מאוד לא יעילה לחישוב, ואחת שמבצעת פישוט למטריצה שרוצים לחשב את הדטרמיננטה שלה והיא משמעותית יותר יעילה. יש שיטות שהן אפילו יעילות יותר, אבל בפוסט הזה אני רוצה לקחת צעד אחד אחורה דווקא ולהציג שיטה יעילה פחות, אבל עם יתרון נחמד אחד: אם האיברים של המטריצה הם כולם מספרים שלמים, אנחנו לא נזדקק לשברים במהלך כל החישוב. למה זה טוב? תכף אתן דוגמא פשוטה.&lt;/p&gt;

&lt;p&gt;ראשית, בואו נבין מה באלגוריתם ה”יעיל” מכריח את השברים להיכנס למשחק. בואו נסתכל במטריצה הבאה:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left[\begin{array}{ccc} 2 &amp;amp; 1 &amp;amp; 3\\ 3 &amp;amp; 1 &amp;amp; 6\\ 4 &amp;amp; 1 &amp;amp; 8 \end{array}\right] \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;האלגוריתם מבוסס על כך שאנחנו עוברים עמודה-עמודה, ובכל פעם אנחנו משתמשים באיבר כלשהו מהעמודה כדי לאפס את כל האיברים שאחריו בעמודה - זה הופך את חישוב הדטרמיננטה לפשוט כי כאשר מפתחים את הדטרמיננטה לפי עמודות, יוצא שבכל פעם יש רק איבר אחד בכל עמודה שצריך לפתח לפיו, ולכן מה שהוא בדרך כלל חישוב רקורסיבי מסובך שמתפצל להרבה מקרים לא מתפצל בכלל. כדי לאפס איברים בעמודה משתמשים בתוצאה המרהיבה לפיה אם לוקחים שורה במטריצה, ומחברים אותה עם שורה אחרת כשהיא מוכפלת בסקלר כלשהו, התוצאה היא בעלת אותה דטרמיננטה כמו המטריצה המקורית. למשל, אם במטריצה לעיל אני אקח את השורה הראשונה, אכפול אותה ב-&lt;span&gt;\( -2 \)&lt;/span&gt; ואחבר לשורה האחרונה, אני אקבל את המטריצה&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left[\begin{array}{ccc} 2 &amp;amp; 1 &amp;amp; 3\\ 3 &amp;amp; 1 &amp;amp; 6\\ 0 &amp;amp; -1 &amp;amp; 2 \end{array}\right] \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;והמטריצה הזו היא בעלת אותה דטרמיננטה בדיוק כמו המטריצה שהתחלתי ממנה, והנה - קיבלתי אפס בעמודה הראשונה. הבעיה היא שכדי להיפטר מה-3 שבשורה האמצעית אני צריך לכפול את השורה הראשונה במשהו שאינו מספר שלם - ב-&lt;span&gt;\( -\frac{3}{2} \)&lt;/span&gt;, מה שמוביל אותי למטריצה הבאה:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left[\begin{array}{ccc} 2 &amp;amp; 1 &amp;amp; 3\\ 0 &amp;amp; -\frac{1}{2} &amp;amp; \frac{3}{2}\\ 0 &amp;amp; -1 &amp;amp; 2 \end{array}\right] \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;וזהו, עכשיו יש לי שברים בתוך המטריצה, למרות שהתחלתי עם מטריצה שכולה מספרים שלמים ולמרות &lt;strong&gt;שגם התוצאה תהיה מספר שלם&lt;/strong&gt;. כדי לראות שהתוצאה תהיה מספר שלם מספיק להיזכר באופן שבו דטרמיננטה מוגדרת רקורסיבית: אנחנו מקבלים סכום של איברים שכל אחד מהם שייך למטריצה (כלומר הוא מספר שלם) שמוכפל ב-&lt;span&gt;\( \pm1 \)&lt;/span&gt; (מספר שלם) וזה מוכפל בדטרמיננטה של תת-מטריצות שמתקבלות מהמטריצה המקורית על ידי מחיקת שורות ועמודות (ולכן גם בהן יש מספרים שלמים). לי הסיטואציה הזו טיפה מזכירה את המקרה של ה-Casus irreducibilis בפתרון משוואות ממעלה שלישית (&lt;a href=&quot;https://gadial.net/2018/07/26/casus_irreducibilis/&quot;&gt;יש לי פוסט על זה&lt;/a&gt;): שם העניין הוא שיש לנו משוואה פולינומית עם מקדמים שהם מספרים ממשיים, והפתרונות שלה כולם מספרים ממשיים, אבל בלי לעבור “דרך” המספרים המרוכבים (כלומר, להוציא שורש ריבועי למספר שלילי) לא נוכל לכתוב את הפתרונות הללו באמצעות נוסחה. אלא שיש הבדל מהותי - במקרה ההוא &lt;strong&gt;חייבים&lt;/strong&gt; לעבור דרך המרוכבים (יש לזה הוכחה די מרהיבה באמצעות תורת גלואה שאני מראה בפוסט ההוא) אבל במקרה שלנו זה לא הכרחי. יש דרכים אחרות לחשב את הדטרמיננטה גם בלי להכניס שברים למשחק. כבר ראינו אחת: לחשב את הדטרמיננטה באמצעות האלגוריתם הרקורסיבי, אלא שזה כאמור פשוט לא יעיל ולכן בפוסט הזה אני אציג את מה שנקרא “האלגוריתם של ברייס” (Bareiss) ששומר על הכל שלם והנזק שהוא גורם לזמן הריצה הוא לא כזה משמעותי (אבל יש נזק; זה בהחלט אלגוריתם שבעייתי בשלל סיטואציות ולכן טוב שמכירים אותו &lt;strong&gt;וגם&lt;/strong&gt; שיטות אחרות).&lt;/p&gt;

&lt;p&gt;בואו נדבר שניה על המוטיבציה האישית שלי לכתוב את הפוסט כדי להבין למה לא כדאי לסמוך בעיניים עצומות על השיטות הקיימות ולמה לפעמים חשוב לדבוק במספרים שלמים במקום בשברים. נסיבות אלו ואחרות הובילו אותי לחשב דטרמיננטה של מטריצה &lt;span&gt;\( 5\times5 \)&lt;/span&gt;, שנותנת לנו את הנפח של טטרהדרון (פירמידה עם בסיס משולש) שאורכי הצלעות שלו נתונים על ידי &lt;span&gt;\( d_{ij} \)&lt;/span&gt; עבור &lt;span&gt;\( 1\le i,j\le4 \)&lt;/span&gt;. הנפח &lt;span&gt;\( V \)&lt;/span&gt; נתון באמצעות&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( 288V^{2}=\left|\begin{array}{ccccc} 0 &amp;amp; 1 &amp;amp; 1 &amp;amp; 1 &amp;amp; 1\\ 1 &amp;amp; 0 &amp;amp; d_{12}^{2} &amp;amp; d_{13}^{2} &amp;amp; d_{14}^{2}\\ 1 &amp;amp; d_{21}^{2} &amp;amp; 0 &amp;amp; d_{23}^{2} &amp;amp; d_{24}^{2}\\ 1 &amp;amp; d_{31}^{2} &amp;amp; d_{32}^{2} &amp;amp; 0 &amp;amp; d_{34}^{2}\\ 1 &amp;amp; d_{41}^{2} &amp;amp; d_{42}^{2} &amp;amp; d_{43}^{2} &amp;amp; 0 \end{array}\right| \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;הדטרמיננטה הזו נקראת &lt;strong&gt;דטרמיננטת קיילי-מנגר&lt;/strong&gt; והיא ראויה לפוסט בפני עצמה (היא עושה יותר מאשר לחשב נפח של טטרהדרון) והאמת העצובה היא שהדרך הכי פשוטה לחשב אותה היא פשוט להשתמש בנוסחה הרקורסיבית - זו בסך הכל מטריצת &lt;span&gt;\( 5\times5 \)&lt;/span&gt;, הרקורסיה תסתיים כמעט מייד, ואין צורך באלגוריתם שאני הולך להציג - אבל את זה נזכרתי לנסות רק אחרי שכבר מימשתי את האלגוריתם (כי על מי אני עובד, כל כך התלהבתי מהאלגוריתם שהייתי חייב לממש אותו בכל מקרה). אבל למה היא גרמה לי להגיע אל אלגוריתם בריס מלכתחילה? ובכן, כי עשיתי את הטעות של לחשב אותה באמצעות numpy. מבלי להיכנס לפרטים, המטרה שלי הייתה למצוא אורכי צלעות שעבורם הדטרמיננטה תהיה שווה בדיוק ל-256. עכשיו, בואו נניח שיש לנו מספר שלם &lt;span&gt;\( n \)&lt;/span&gt; כלשהו ואנחנו מסתכלים על הדטרמיננטה&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|\begin{array}{ccccc} 0 &amp;amp; 1 &amp;amp; 1 &amp;amp; 1 &amp;amp; 1\\ 1 &amp;amp; 0 &amp;amp; 1 &amp;amp; n^{2} &amp;amp; n^{2}\\ 1 &amp;amp; 1 &amp;amp; 0 &amp;amp; \left(n-1\right)^{2} &amp;amp; \left(n-1\right)^{2}\\ 1 &amp;amp; n^{2} &amp;amp; \left(n-1\right)^{2} &amp;amp; 0 &amp;amp; 4\\ 1 &amp;amp; n^{2} &amp;amp; \left(n-1\right)^{2} &amp;amp; 4 &amp;amp; 0 \end{array}\right| \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;שהיא מקרה פרטי של הדטרמיננטה לעיל עבור סדרת האורכים &lt;span&gt;\( 1,n,n,n-1,n-1,2 \)&lt;/span&gt;. אם מחשבים את הדטרמיננטה בצורה סימבולית (כלומר, פשוט פותחים את הביטוי, מקבלים פולינום ב-&lt;span&gt;\( n \)&lt;/span&gt; ומפשטים אותו) מקבלים &lt;span&gt;\( -32 \)&lt;/span&gt;, כלומר הערך של הדטרמיננטה הזו לא תלוי ב-&lt;span&gt;\( n \)&lt;/span&gt;. למי שתוהים איך עושים את זה במחשב בלי לעבור את התהליך המהנה של לחשב ידנית דטרמיננטה &lt;span&gt;\( 5\times5 \)&lt;/span&gt;, אפשר לעשות את זה עם ספריית הפייתון sympy:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;sympy&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sp&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;symbols&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;n&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;matrix&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;determinant&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;det&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;simplify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;determinant&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;טוב ויפה, אלא שאני לא השתמשתי ב-sympy כי בדקתי שלל דטרמיננטות משלל סוגים ולא רק מהמבנה הספציפי הזה שאותו מצאתי אחר כך. ספציפית, אני בדקתי את הדטרמיננטה שמתקבלת עבור הערך &lt;span&gt;\( n=524,283 \)&lt;/span&gt; וחישבתי אותו בעזרת הספריה הסטנדרטית לחישובים נומריים בפייתון - numpy. ומה ש-numpy נתנה הוא את התוצאה &lt;span&gt;\( 255.99999991524982 \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;במבט ראשון, התוצאה הזו היא “זה 256, פשוט numpy משתמשת בייצוג שברים עם נקודה צפה ולכן יש אי דיוקים קטנים”. אבל לא! זו דרך טובה לעבוד על עצמנו! כי אם אני מכניס &lt;span&gt;\( n=524,283 \)&lt;/span&gt; ואז עוד מעלה דברים בריבוע, אני עובד עם מספרי ענק ולכן יש לי שגיאות דיוק גדולות, וחישובים שקשורים במטריצות יכולים להיות מאוד רגישים לשגיאות דיוק, וזה מתנפח ומתנפח. התוצאה, כאמור, הייתה אמורה להיות &lt;span&gt;\( -32 \)&lt;/span&gt;; זה שהגענו אל כמעט 256 זה סתם מקרה (על ידי ערכים שונים של &lt;span&gt;\( n \)&lt;/span&gt; אפשר להגיע קרוב לשלל מספרים שלמים לא קשורים, פשוט 256 היה מה שחיפשנו). הנה קוד פייתון שמשתמש ב-numpy ומאפשר לראות מה הולך פה. עבור &lt;span&gt;\( n=1 \)&lt;/span&gt; החישוב מדויק כמעט לחלוטין, וכך גם עבור &lt;span&gt;\( n=10,000 \)&lt;/span&gt;; אבל כשהוא נשבר, הוא נשבר &lt;strong&gt;חזק&lt;/strong&gt;.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;numpy&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;524283&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]:&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;        &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;        &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
                  &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;        &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
                  &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;        &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
                  &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;         &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
                  &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;         &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;
                  &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;linalg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;det&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;הבעיה פה היא כאמור ש-numpy מייצג שברים בשיטת הנקודה הצפה, ולכן יש לו רמת דיוק מוגבלת, בעוד שבפייתון יש רמת דיוק בלתי מוגבלת לעבודה עם מספרים שלמים. אז מכיוון שחשדתי ש-numpy מרמה אותי החלטתי שאני לא צריך להתעצל ולהסתמך עליו או אפילו לחפש ספריה אחרת שמבצעת את החישוב (כי אולי גם היא תרמה אותי?) אלא פשוט לממש את זה בעצמי. עכשיו, &lt;strong&gt;הייתי יכול&lt;/strong&gt; להשתמש באלגוריתם הרקורסיבי הנאיבי; וגם &lt;strong&gt;הייתי יכול&lt;/strong&gt; להשתמש בשיטה מבוססת השברים שראינו, ופשוט להשתמש בספריה frac בפייתון שמאפשרת ייצוג של שברים עם דיוק לא מוגבל. אבל באותו הרגע הדבר הראשון שעלה לי לראש היה לחפש “אלגוריתם לחישוב דטרמיננטה שלא משתמש בשברים” ואני שמח שזה קרה כי אלגוריתם בריס הוא די מגניב גם אם הייתי יכול להסתדר בלעדיו.&lt;/p&gt;

&lt;p&gt;אז בואו נדבר עליו סוף סוף.&lt;/p&gt;

&lt;h2&gt;חלק שני שבו אנו רואים את מה שלשמו התכנסנו פה&lt;/h2&gt;

&lt;p&gt;קודם כל, מה אלגוריתם בריס &lt;strong&gt;לא&lt;/strong&gt; עושה: הוא לא מעביר את המטריצה &lt;span&gt;\( A \)&lt;/span&gt; שלנו למטריצה אחרת &lt;span&gt;\( B \)&lt;/span&gt; כך ש-&lt;span&gt;\( \left|A\right|=\left|B\right| \)&lt;/span&gt;, כמו האלגוריתם היעיל שהצגתי. זה לא הולך לקרות. אני כן הולך להפוך את &lt;span&gt;\( A \)&lt;/span&gt; למטריצה אחרת &lt;span&gt;\( B \)&lt;/span&gt;, אבל יהיו להן דטרמיננטות שונות לגמרי והרעיון הוא שבסיום האלגוריתם, &lt;span&gt;\( \left[B\right]_{nn} \)&lt;/span&gt; (הכניסה הימנית-תחתונה של &lt;span&gt;\( B \)&lt;/span&gt;) תהיה שווה ל-&lt;span&gt;\( \left|A\right| \)&lt;/span&gt;. יותר מכך - אין בעצם סיבה להציג את האלגוריתם בתור אוסף של שינויים של המטריצה &lt;span&gt;\( A \)&lt;/span&gt; (ובמאמר שלו עליו אני מתבסס כאן, Sylvester’s Identity and Multistep Integer Preserving Gaussian Elimination, בריס באמת לא מציג אותו ככה). אפשר לחשוב על האלגוריתם גם ככה: אם בהתחלה האיבר הכללי של &lt;span&gt;\( A \)&lt;/span&gt; הוא &lt;span&gt;\( a_{ij} \)&lt;/span&gt; (עבור &lt;span&gt;\( 1\le i,j\le n \)&lt;/span&gt;) אז האלגוריתם מייצר סדרה של איברים &lt;span&gt;\( a_{ij}^{\left(0\right)},a_{ij}^{\left(1\right)},\ldots a_{ij}^{\left(n-1\right)} \)&lt;/span&gt; כך שבסופו של דבר יוצא ש-&lt;span&gt;\( a_{nn}^{\left(n-1\right)}=\left|A\right| \)&lt;/span&gt;. ה”חזקה” של האיברים היא לא חזקה אלא אינדקס של השלב באלגוריתם שבו אנחנו נמצאים כרגע, והאתחול הוא &lt;span&gt;\( a_{ij}^{\left(0\right)}=a_{ij} \)&lt;/span&gt;. בפועל, כשמממשים את האלגוריתם, הכי נוח באמת לבצע שינויים מקומיים ב-&lt;span&gt;\( A \)&lt;/span&gt; כדי לשמור את המספרים של השלב הבא - זה חוסך זיכרון.&lt;/p&gt;

&lt;p&gt;אז איך עובד האלגוריתם? אין שום טעם להציג אותו כרגע כי לא נבין כלום ממה שהולך שם. זה לא הולך למנוע ממני להציג אותו בכל מקרה כי זה לפחות יוצר עניין - אני קודם כל מימשתי את האלגוריתם ורק אז תהיתי למה בעצם זה עובד. הרעיון, כאמור, הוא לעבוד בשלבים, כשבשלב מספר &lt;span&gt;\( k \)&lt;/span&gt; אנחנו מעדכנים את המספרים &lt;span&gt;\( a_{ij}^{\left(k\right)} \)&lt;/span&gt; שעדיין רלוונטיים לנו (כמו בחישוב דטרמיננטה רגיל, ככל שמתקדמים בשלבים כך פחות ופחות איברים הופכים לרלוונטיים לנו.&lt;/p&gt;

&lt;p&gt;הנה האלגוריתם:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;אתחל את המשתנים &lt;span&gt;\( a_{ij}^{\left(0\right)}=a_{ij} \)&lt;/span&gt; לכל &lt;span&gt;\( 1\le i,j\le n \)&lt;/span&gt; ואת המשתנה המיוחד &lt;span&gt;\( a_{00}^{\left(-1\right)}=1 \)&lt;/span&gt;.&lt;/li&gt;


&lt;li&gt;לכל &lt;span&gt;\( k=1,2,\ldots,n-1 \)&lt;/span&gt;: &lt;/li&gt;
&lt;ul&gt;
&lt;li&gt;לכל &lt;span&gt;\( k+1\le i,j\le n \)&lt;/span&gt;, קבעו &lt;span&gt;\( a_{ij}^{\left(k\right)}\leftarrow\frac{a_{ij}^{\left(k-1\right)}a_{kk}^{\left(k-1\right)}-a_{ik}^{\left(k-1\right)}a_{kj}^{\left(k-1\right)}}{a_{k-1,k-1}^{\left(k-2\right)}} \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;/ul&gt;

&lt;li&gt;החזירו את &lt;span&gt;\( a_{nn}^{\left(n-1\right)} \)&lt;/span&gt;&lt;/li&gt;

&lt;p&gt;בקיצור, האלגוריתם די דומה למה שקורה באלגוריתם הרגיל - גם פה פשוט מעדכנים באופן סדרתי כניסות עם כל מני מכפלות וחיסורים ו… רגע… האם זה רק אני או שיש סימן &lt;strong&gt;חילוק&lt;/strong&gt; ענקי באמצע האלגוריתם? איך בדיוק פתרנו את הבעיה? ובכן, הרעיון הוא שבסימן החילוק שמופיע שם, המכנה מחלק את המונה &lt;strong&gt;בלי שארית&lt;/strong&gt;. במילים אחרות - אנחנו צריכים לבצע פעולת חילוק, אבל פעולת &lt;strong&gt;חילוק שלמים&lt;/strong&gt; שיכולה להיות מדויקת, ובשום שלב אנחנו לא צריכים לעבוד עם מספר שהוא שבר (אם תקראו את הפוסט עד כה תראו שנמנעתי בזהירות מלטעון דברים מופרכים כמו “האלגוריתם לא מבצע חילוק”).&lt;/p&gt;

&lt;p&gt;אוקיי, אבל למה זה עובד? במאמר שלו שעליו אני מתבסס כאן, בריס מביא טיעון לא טריוויאלי, שאולי היה אפשר להחליף בטיעונים אלמנטריים יותר (יש לבריס מאמר מוקדם יותר שבו יש טיעונים כאלו) אבל אני דווקא מאוד אוהב את הטכניקה שלו, אז בואו נראה אותה במלואה.&lt;/p&gt;

&lt;h2&gt;חלק שלישי שבו קורים קסמים עם מטריצות בלוקים&lt;/h2&gt;

&lt;p&gt;באלגוריתם שהצגתי, &lt;span&gt;\( a_{ij}^{\left(k\right)} \)&lt;/span&gt; חושב באמצעות תרגיל מפוקפק כלשהו (שבמסגרתו הבטחתי שתתבצע חלוקה ללא שארית). זה לא ממש עוזר לנו להבין מה הולך פה, אז מה שנרצה לעשות הוא למצוא דרך טובה יותר &lt;strong&gt;להגדיר&lt;/strong&gt; את הערכים של אותם &lt;span&gt;\( a_{ij}^{\left(k\right)} \)&lt;/span&gt; מלכתחילה. ההגדרה תיראה די משונה אם פשוט אציג אותה, אז בואו נוכיח תוצאה כללית כלשהי קודם.&lt;/p&gt;

&lt;p&gt;משהו שלא דיברתי עליו בכלל עד כה בפוסטים הללו הוא שדרך נוחה להתמודד עם מטריצות היא לפעמים לחלק אותן ל&lt;strong&gt;בלוקים&lt;/strong&gt;. כל מטריצה ריבועית &lt;span&gt;\( A \)&lt;/span&gt; מסדר &lt;span&gt;\( n\times n \)&lt;/span&gt; אפשר להציג בתור &lt;span&gt;\( A=\left(\begin{array}{cc} A_{11} &amp;amp; A_{12}\\ A_{21} &amp;amp; A_{22} \end{array}\right) \)&lt;/span&gt; כך ש-&lt;span&gt;\( A_{11} \)&lt;/span&gt; היא מטריצה מסדר &lt;span&gt;\( k\times k \)&lt;/span&gt; שכוללת את מה שמקבלים אם מעתיקים מ-&lt;span&gt;\( A \)&lt;/span&gt; את כל הכניסות מהצורה &lt;span&gt;\( a_{ij} \)&lt;/span&gt; עבור &lt;span&gt;\( 1\le i,j\le k \)&lt;/span&gt;. גם שאר המטריצות נקבעות בצורה דומה: &lt;span&gt;\( A_{12} \)&lt;/span&gt; תהיה מסדר &lt;span&gt;\( k\times\left(n-k\right) \)&lt;/span&gt;, &lt;span&gt;\( A_{21} \)&lt;/span&gt; תהיה מסדר &lt;span&gt;\( \left(n-k\right)\times k \)&lt;/span&gt; ו-&lt;span&gt;\( A_{22} \)&lt;/span&gt; תהיה מסדר &lt;span&gt;\( \left(n-k\right)\times\left(n-k\right) \)&lt;/span&gt;, אבל בואו נתמקד לרגע ב-&lt;span&gt;\( A_{11} \)&lt;/span&gt;. זו המטריצה&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( A_{11}=\left(\begin{array}{cccc} a_{11} &amp;amp; a_{12} &amp;amp; \cdots &amp;amp; a_{1k}\\ a_{21} &amp;amp; a_{22} &amp;amp;  &amp;amp; a_{2k}\\ \vdots &amp;amp;  &amp;amp; \ddots &amp;amp; \vdots\\ a_{k1} &amp;amp; a_{k2} &amp;amp; \cdots &amp;amp; a_{kk} \end{array}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;מטריצה כזו, שמתקבלת מ-&lt;span&gt;\( A \)&lt;/span&gt; על ידי לקיחת &lt;span&gt;\( k \)&lt;/span&gt; השורות והעמודות הראשונות ומחיקת כל היתר, נקראת לפעמים &lt;strong&gt;המינור העיקרי&lt;/strong&gt; (principle) מסדר &lt;span&gt;\( k \)&lt;/span&gt; של המטריצה. אני הולך להניח שהוא הפיך, כלומר &lt;span&gt;\( \left|A_{11}\right|\ne0 \)&lt;/span&gt;; בהמשך נראה מה קורה כשזה לא המצב (רמז: האלגוריתם שהצגתי קודם עדיין לא שלם). אם הוא לא הפיך, זה נותן לנו פירוק פשוט יחסית של &lt;span&gt;\( A \)&lt;/span&gt; למכפלה של שתי מטריצות בלוקים אלכסוניות:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( A=\left(\begin{array}{cc} A_{11} &amp;amp; A_{12}\\ A_{21} &amp;amp; A_{22} \end{array}\right)=\left(\begin{array}{cc} A_{11} &amp;amp; 0\\ A_{21} &amp;amp; I \end{array}\right)\left(\begin{array}{cc} I &amp;amp; A_{11}^{-1}A_{12}\\ 0 &amp;amp; A_{22}-A_{21}A_{11}^{-1}A_{12} \end{array}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;מה הולך כאן? במבט ראשון זה נראה מבעית, אבל בעצם יש כאן שתי שאלות פשוטות יחסית:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;כשכופלים מטריצות בלוקים, האם חוקי כפל המטריצות הרגילים עדיין תקפים כמו קודם?&lt;/li&gt;


&lt;li&gt;אם מניחים שכן, האם החישוב של המכפלה למעלה באמת מחזיר את &lt;span&gt;\( A \)&lt;/span&gt;?&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;בואו נענה קודם לשאלה השניה - כמובן. כדי לוודא שאין בעיה עם זה, אני אחשב את כל ארבע הכניסות&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;הכניסה של &lt;span&gt;\( A_{11} \)&lt;/span&gt;: מתקבלת מכפל השורה הראשונה בעמודה הראשונה, כלומר &lt;span&gt;\( A_{11}\cdot I+0\cdot0=A_{11} \)&lt;/span&gt;.&lt;/li&gt;


&lt;li&gt;הכניסה של &lt;span&gt;\( A_{12} \)&lt;/span&gt;: מתקבלת מכפל השורה הראשונה בעמודה השניה, כלומר &lt;span&gt;\( A_{11}\cdot\left(A_{11}^{-1}A_{12}\right)+0\cdot\left(A_{22}-A_{21}A_{11}^{-1}A_{12}\right)=A_{12} \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;הכניסה של &lt;span&gt;\( A_{21} \)&lt;/span&gt;: מתקבלת מכפל השורה השניה בעמודה הראשונה, כלומר &lt;span&gt;\( A_{21}\cdot I+I\cdot0=A_{21} \)&lt;/span&gt;.&lt;/li&gt;


&lt;li&gt;הכניסה של &lt;span&gt;\( A_{22} \)&lt;/span&gt;: מתקבלת מכפלה השורה השניה בעמודה השניה, כלומר &lt;span&gt;\( A_{21}\cdot A_{11}^{-1}A_{12}+I\cdot A_{22}-A_{21}A_{11}^{-1}A_{12}=A_{22} \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;כל זה אולי נראה קצת מהונדס מדי כדי שהכל יעבוד, אבל זה כמובן עובד. השאלה היותר מהותית היא למה בכלל מותר לכפול מטריצות בלוקים - וכמו הרבה דברים באלגברה לינארית בסיסית זו תוצאה שאני גם מניח שכולנו מכירים והיא גם די טכנית להוכחה, אז אני לא אוכיח אותה כאן אבל אין כאן חוכמה מיוחדת - אם אתם סקפטיים, נסו להוכיח אותה על שתי מטריצות קטנות קונקרטיות ותראו מה קורה.&lt;/p&gt;

&lt;p&gt;עכשיו, מה שנחמד בפירוק המוזר הזה של &lt;span&gt;\( A \)&lt;/span&gt; למכפלה של שתי מטריצות בלוקים הוא שזה ממשיך לעבוד כשלוקחים &lt;strong&gt;דטרמיננטה&lt;/strong&gt;. כזכור, דטרמיננטה של מכפלה היא מכפלת הדטרמיננטות; וכשיש לנו מטריצת בלוקים &lt;span&gt;\( \left(\begin{array}{cc} A &amp;amp; 0\\ C &amp;amp; D \end{array}\right) \)&lt;/span&gt; הדטרמיננטה שלה היא &lt;span&gt;\( \left|A\right|\left|D\right| \)&lt;/span&gt; (ובאופן דומה כשה-0 הוא במקום &lt;span&gt;\( C \)&lt;/span&gt;), כך שנקבל:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|A\right|=\left|\left(\begin{array}{cc} A_{11} &amp;amp; 0\\ A_{21} &amp;amp; I \end{array}\right)\right|\left|\left(\begin{array}{cc} I &amp;amp; A_{11}^{-1}A_{12}\\ 0 &amp;amp; A_{22}-A_{21}A_{11}^{-1}A_{12} \end{array}\right)\right|= \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|A_{11}\right|\left|A_{22}-A_{21}A_{11}^{-1}A_{12}\right| \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו משתמשים בטריק: כופלים את שני האגפים בסקלר &lt;span&gt;\( \left|A_{11}\right|^{n-k-1} \)&lt;/span&gt; ומקבלים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|A_{11}\right|^{n-k-1}\left|A\right|=\left|\left|A_{11}\right|\left(A_{22}-A_{21}A_{11}^{-1}A_{12}\right)\right| \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;זה יכול להיות די מבלבל, הנה מה שקרה פה: באופן כללי, אם יש לי מטריצה &lt;span&gt;\( B \)&lt;/span&gt; ואני כופל שורה כלשהי שלה בסקלר, זה מכפיל את כל הדטרמיננטה באותו סקלר. כדי להוכיח את זה אפשר להשתמש באותה טכניקה שראינו בפוסט הקודם: כפל שורה בסקלר זה כמו כפל במטריצת יחידה &lt;span&gt;\( I \)&lt;/span&gt; שאחד מה-1-ים על האלכסון שלה הוחלף בסקלר הבודד &lt;span&gt;\( \lambda \)&lt;/span&gt;, והדטרמיננטה של מטריצה כזו היא &lt;span&gt;\( \lambda \)&lt;/span&gt; כי היא הרי מכפלת הערכים על האלכסון.&lt;/p&gt;

&lt;p&gt;עכשיו, מה קורה אם כופלים את &lt;strong&gt;כל&lt;/strong&gt; השורות של &lt;span&gt;\( B \)&lt;/span&gt; באותו סקלר, כלומר אם פשוט כפלנו את כל המטריצה &lt;span&gt;\( B \)&lt;/span&gt; בסקלר הזה? אם &lt;span&gt;\( B \)&lt;/span&gt; היא מטריצה מסדר &lt;span&gt;\( n\times n \)&lt;/span&gt; זה אומר שכפלנו את הדטרמיננטה &lt;span&gt;\( n \)&lt;/span&gt; פעמים בסקלר &lt;span&gt;\( \lambda \)&lt;/span&gt;, אז יש לנו את המשוואה &lt;span&gt;\( \left|\lambda B\right|=\lambda^{n}\left|B\right| \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;אם נחזור עכשיו למה שעשינו למעלה - יש לנו את המטריצה &lt;span&gt;\( B=A_{22}-A_{21}A_{11}^{-1}A_{12} \)&lt;/span&gt;. הסדר של המטריצה הזו הוא &lt;span&gt;\( \left(n-k\right)\times\left(n-k\right) \)&lt;/span&gt; ולכן &lt;span&gt;\( \lambda^{n-k}\left|B\right|=\left|\lambda B\right| \)&lt;/span&gt;. אצלנו &lt;span&gt;\( \lambda=\left|A_{11}\right| \)&lt;/span&gt;, ואנחנו מקבלים אותו בחזקת &lt;span&gt;\( n-k \)&lt;/span&gt; כי בהתחלה הוא הופיע פעם אחת באגף ימין ואז כפלנו ב-&lt;span&gt;\( \lambda^{n-k-1} \)&lt;/span&gt;. זה מסביר את המעבר הזה.&lt;/p&gt;

&lt;h2&gt;חלק רביעי, שבו אנו חוזים בשובם של המספרים מהאלגוריתם&lt;/h2&gt;

&lt;p&gt;עכשיו הגענו לקאץ’: אני אראה שהאיברים של המטריצה &lt;span&gt;\( \left|A_{11}\right|\left(A_{22}-A_{21}A_{11}^{-1}A_{12}\right) \)&lt;/span&gt; שאליה הגענו הם בעצם ה-&lt;span&gt;\( a_{ij}^{\left(k\right)} \)&lt;/span&gt; שמופיעים בשלבי הביניים של האלגוריתם. ראשית, בואו נגדיר את ה-&lt;span&gt;\( a_{ij}^{\left(k\right)} \)&lt;/span&gt; הללו במפורש, מה שעד כה נמנעתי מלעשות:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( a_{ij}^{\left(k\right)}=\left|\begin{array}{ccccc} a_{11} &amp;amp; a_{12} &amp;amp; \cdots &amp;amp; a_{1k} &amp;amp; a_{1j}\\ a_{21} &amp;amp; a_{22} &amp;amp; \cdots &amp;amp; a_{2k} &amp;amp; a_{2j}\\ \cdots &amp;amp; \cdots &amp;amp; \cdots &amp;amp; \cdots &amp;amp; \cdots\\ a_{k1} &amp;amp; a_{k2} &amp;amp; \cdots &amp;amp; a_{kk} &amp;amp; a_{kj}\\ a_{i1} &amp;amp; a_{i1} &amp;amp; \cdots &amp;amp; a_{ik} &amp;amp; a_{ij} \end{array}\right| \)&lt;/span&gt; עבור &lt;span&gt;\( k&amp;lt;i,j\le n \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;מה קורה פה? ראשית לוקחים את המטריצה &lt;span&gt;\( A_{11} \)&lt;/span&gt; שמתקבלת מ-&lt;span&gt;\( A \)&lt;/span&gt; המקורית על ידי לקיחת &lt;span&gt;\( k \)&lt;/span&gt; השורות והעמודות הראשונות. עכשיו, מוסיפים שורה חדשה - את שורה מס’ &lt;span&gt;\( i \)&lt;/span&gt;, כאשר &lt;span&gt;\( k&amp;lt;i \)&lt;/span&gt; כלומר זו אחת מהשורות שלא הופיעו במטריצה קודם. אנחנו לא מוסיפים את כל השורה אלא רק את &lt;span&gt;\( k \)&lt;/span&gt; העמודות הראשונות שלה. אחר כך אנחנו מוסיפים עמודה &lt;span&gt;\( j \)&lt;/span&gt; כך ש-&lt;span&gt;\( k&amp;lt;j \)&lt;/span&gt; וגם כאן - לא את כל העמודה, רק את &lt;span&gt;\( k \)&lt;/span&gt; השורות הראשונות שלה. לסיום, אחרי שהוספנו את השורה והעמודה עוד נותר מקום ריק אחד בקצה הימני-תחתון של המטריצה, ושם אנחנו שמים את &lt;span&gt;\( ij \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;למה&lt;/strong&gt; שנגדיר ככה? במאמר המקורי שלו בריס מגיע אל המטריצה הזו בדרך שונה וטכנית יותר - אני דווקא מעדיף את הדרך שבה נוקטים כאן, למרות שהיא נראית כמו קסם (במתמטיקה אין קסמים; כל הגדרה קסומה מגיעה אחרי שמישהו שבר את הראש על הבעיה הרבה זמן וניסה הרבה דברים).&lt;/p&gt;

&lt;p&gt;עכשיו, הדטרמיננטה הזו נראית קצת מפחידה אבל כבר ראינו דרך להתמודד איתה - אם שמים לב שיש לנו כאן דטרמיננטה של &lt;strong&gt;מטריצת בלוקים&lt;/strong&gt;. הבלוקים הם בדיוק ארבעת הדברים שתיארתי: המטריצה &lt;span&gt;\( A_{11} \)&lt;/span&gt; שממנה מתחילים, השורה שהוספתי למטה, העמודה שהוספתי משמאל, וה-&lt;span&gt;\( a_{ij} \)&lt;/span&gt; שהוספתי למטה. כלומר יש לנו כאן את מטריצת הבלוקים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( B=\left(\begin{array}{cc} B_{11} &amp;amp; B_{12}\\ B_{21} &amp;amp; B_{22} \end{array}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כך ש-&lt;span&gt;\( B_{11}=A_{11} \)&lt;/span&gt;, &lt;span&gt;\( B_{12}=\left(a_{1j},\ldots,a_{kj}\right)^{t},B_{21}=\left(a_{i1},\ldots,a_{ik}\right) \)&lt;/span&gt; ו-&lt;span&gt;\( B_{22}=\left(a_{ij}\right) \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;ראינו את הנוסחה&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|B\right|=\left|B_{11}\right|\left|B_{22}-B_{21}B_{11}^{-1}B_{12}\right| \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כאן &lt;span&gt;\( \left|B\right|=a_{ij}^{\left(k\right)} \)&lt;/span&gt; כי &lt;span&gt;\( a_{ij}^{\left(k\right)} \)&lt;/span&gt; הוגדר בתור הדטרמיננטה של המטריצה הזו. קצת יותר מעניין מה זה &lt;span&gt;\( B_{21}B_{11}^{-1}B_{12} \)&lt;/span&gt; - זה כפל של מטריצה (&lt;span&gt;\( A_{11}^{-1} \)&lt;/span&gt;) במטריצת עמודה מימין ומטריצת שורה משמאל - התוצאה היא סקלר, וחישוב ישיר על פי ההגדרה של כפל מטריצות נותן ש-&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( B_{21}B_{11}^{-1}B_{12}=\sum_{r=1}^{k}\sum_{s=1}^{k}a_{ir}\left[A_{11}^{-1}\right]_{rs}a_{sj} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ולכן משילוב כל הדברים הללו אנחנו מקבלים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( a_{ij}^{\left(k\right)}=\left|A_{11}\right|\left(a_{ij}-\sum_{r=1}^{k}\sum_{s=1}^{k}a_{ir}\left[A_{11}^{-1}\right]_{rs}a_{sj}\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;מה שיש לנו באגף שמאל הוא בדיוק את האיבר ה-&lt;span&gt;\( ij \)&lt;/span&gt; של המטריצה &lt;span&gt;\( \left|A_{11}\right|\left(A_{22}-A_{21}A_{11}^{-1}A_{12}\right) \)&lt;/span&gt;, אם כי צריך קצת להיזהר עם האינדקסים כדי לראות את זה כי המטריצה הזו &lt;strong&gt;מתחילה&lt;/strong&gt; לא מהאינדקס &lt;span&gt;\( 1,1 \)&lt;/span&gt; אלא מהאינדקס &lt;span&gt;\( k+1,k+1 \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;איך זה עוזר לנו? ובכן, קודם כל שימו לב שכמו שאמרתי קודם - המינורים העיקריים של &lt;span&gt;\( A \)&lt;/span&gt; מתקבלים ככה. ממש על פי ההגדרה, מתקיים &lt;span&gt;\( \left|A_{11}\right|=a_{kk}^{\left(k-1\right)} \)&lt;/span&gt;, כי &lt;span&gt;\( A_{11} \)&lt;/span&gt; מתקבלת מלקיחת &lt;span&gt;\( k \)&lt;/span&gt; השורות והעמודות הראשונות ואילו המטריצה שבה משתמשים לחישוב &lt;span&gt;\( a_{kk}^{\left(k-1\right)} \)&lt;/span&gt; מתקבלת מלקיחת &lt;span&gt;\( k-1 \)&lt;/span&gt; השורות והעמודות הראשונות ואז הוספה אליהן של השורה והעמודה הבאות בתור.&lt;/p&gt;

&lt;p&gt;לכן אני יכול ללכת אל הנוסחה שהוכחתי קודם:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|A_{11}\right|^{n-k-1}\left|A\right|=\left|\left|A_{11}\right|\left(A_{22}-A_{21}A_{11}^{-1}A_{12}\right)\right| \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ולהציב בתוכה את &lt;span&gt;\( \left|A_{11}\right|=a_{kk}^{\left(k-1\right)} \)&lt;/span&gt; מצד אחד, ואילו בצד השני יש לנו כאמור את המטריצה &lt;span&gt;\( \left|A_{11}\right|\left(A_{22}-A_{21}A_{11}^{-1}A_{12}\right) \)&lt;/span&gt; שהאיברים שלה הם בדיוק ה-&lt;span&gt;\( a_{ij}^{\left(k\right)} \)&lt;/span&gt; עבור &lt;span&gt;\( k&amp;lt;i,j\le n \)&lt;/span&gt;, ולכן קיבלנו את הנוסחה&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|A\right|\left[a_{kk}^{\left(k-1\right)}\right]^{n-k-1}=\left|\begin{array}{ccc} a_{k+1,k+1}^{\left(k\right)} &amp;amp; \cdots &amp;amp; a_{k+1,n}^{\left(k\right)}\\ \cdots &amp;amp; \cdots &amp;amp; \cdots\\ a_{n,k+1}^{\left(k\right)} &amp;amp; \cdots &amp;amp; a_{n,n}^{\left(k\right)} \end{array}\right| \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;את הנוסחה הזו הוכחנו לכל מטריצה &lt;span&gt;\( A \)&lt;/span&gt; (עם ההנחה שהמינור העיקרי שלה, מה שסימנתי ב-&lt;span&gt;\( A_{11} \)&lt;/span&gt;, הוא מדטרמיננטה שונה מאפס), אז אפשר להשתמש בה גם עבור המטריצה שאיתה הגדרנו את &lt;span&gt;\( a_{ij}^{\left(k\right)} \)&lt;/span&gt;, כלומר המטריצה שמורכבת מהמינור העיקרי &lt;span&gt;\( A_{11} \)&lt;/span&gt; ואז עוד שורה ועמודה. צריך קצת להיזהר עם האינדקסים: עד עכשיו השתמשתי ב-&lt;span&gt;\( k \)&lt;/span&gt; כדי לציין אינדקס כלשהו, &lt;span&gt;\( 1\le k\le n \)&lt;/span&gt; שמתאים למינור העיקרי שבו מטפלים באותו הרגע, אבל עכשיו כשאני רוצה להשתמש בנוסחה הזו כדי לטפל ב-&lt;span&gt;\( a_{ij}^{\left(k\right)} \)&lt;/span&gt; ולכן יש לי חופש בחירה של המינור העיקרי &lt;strong&gt;שלו&lt;/strong&gt; שאנחנו בוחרים, צריך להשתמש באינדקס אחר - במאמר שלו ברייס משתמש ב-&lt;span&gt;\( l \)&lt;/span&gt;, ואז מקבלים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( a_{ij}^{\left(k\right)}\left[a_{ll}^{\left(l-1\right)}\right]^{\left(k+1\right)-l-1}=\left|\begin{array}{cccc} a_{l+1,l+1}^{\left(l\right)} &amp;amp; \cdots &amp;amp; a_{l+1,k}^{\left(l\right)} &amp;amp; a_{l+1,j}^{\left(l\right)}\\ \cdots &amp;amp; \cdots &amp;amp; \cdots &amp;amp; \cdots\\ a_{k,l+1}^{\left(l\right)} &amp;amp; \cdots &amp;amp; a_{k,k}^{\left(l\right)} &amp;amp; a_{k,j}^{\left(l\right)}\\ a_{i,l+1}^{\left(l\right)} &amp;amp; \cdots &amp;amp; a_{i,k}^{\left(l\right)} &amp;amp; a_{i,j}^{\left(l\right)} \end{array}\right| \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;הסיבה לכך שיש &lt;span&gt;\( k+1 \)&lt;/span&gt; בחזקה באגף שמאל הוא שזה הסדר של המטריצה שמגדירה את &lt;span&gt;\( a_{ij}^{\left(k\right)} \)&lt;/span&gt; (כי לקחנו מטריצה &lt;span&gt;\( k\times k \)&lt;/span&gt; והוספנו לה שורה ועמודה). השינוי באיך שאני מציג את האיברים בתוך הדטרמיננטה באגף ימין (עוד שורה ועמודה) הוא רק כדי שיהיה יותר קל להבין מה קורה, בגלל שהמבנה של השורה והעמודה האחרונות במטריצה הוא שונה מאשר עבור יתר הכניסות.&lt;/p&gt;

&lt;p&gt;עכשיו, תחת ההנחה שלנו על כך שהדטרמיננטה של המינורים העיקריים היא לא אפס אנחנו מקבלים ש-&lt;span&gt;\( a_{ll}^{\left(l-1\right)} \)&lt;/span&gt; הוא לא אפס (כי הוא שווה למינור עיקרי שכזה) ולכן אפשר לחלק בו ולקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( a_{ij}^{\left(k\right)}=\frac{1}{\left[a_{ll}^{\left(l-1\right)}\right]^{k-l}}\left|\begin{array}{cccc} a_{l+1,l+1}^{\left(l\right)} &amp;amp; \cdots &amp;amp; a_{l+1,k}^{\left(l\right)} &amp;amp; a_{l+1,j}^{\left(l\right)}\\ \cdots &amp;amp; \cdots &amp;amp; \cdots &amp;amp; \cdots\\ a_{k,l+1}^{\left(l\right)} &amp;amp; \cdots &amp;amp; a_{k,k}^{\left(l\right)} &amp;amp; a_{k,j}^{\left(l\right)}\\ a_{i,l+1}^{\left(l\right)} &amp;amp; \cdots &amp;amp; a_{i,k}^{\left(l\right)} &amp;amp; a_{i,j}^{\left(l\right)} \end{array}\right| \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;וזה נותן לנו דרך לחשב רקורסיבית את ה-&lt;span&gt;\( a_{ij}^{\left(k\right)} \)&lt;/span&gt;-ים! נזכיר את תנאי ההתחלה שלנו:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( a_{00}^{\left(-1\right)}=1,a_{ij}^{\left(0\right)}=a_{ij} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ובנוסחה למעלה, כדי לצמצם כמה שרק ניתן את הגודל של הדטרמיננטה אפשר לבחור &lt;span&gt;\( l=k-1 \)&lt;/span&gt; ולקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( a_{ij}^{\left(k\right)}=\frac{1}{a_{k-1,k-1}^{\left(k-2\right)}}\left|\begin{array}{cc} a_{kk}^{\left(k-1\right)} &amp;amp; a_{kj}^{\left(k-1\right)}\\ a_{ik}^{\left(k-1\right)} &amp;amp; a_{ij}^{\left(k-1\right)} \end{array}\right|=\frac{a_{ij}^{\left(k-1\right)}a_{kk}^{\left(k-1\right)}-a_{ik}^{\left(k-1\right)}a_{kj}^{\left(k-1\right)}}{a_{k-1,k-1}^{\left(k-2\right)}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כשהשוויון האחרון נובע פשוט מחישוב ישיר של הדטרמיננטה. זה משלים את ההוכחה, כי קיבלנו בדיוק את הנוסחה שהופיעה באלגוריתם, ועכשיו אנחנו גם מבינים למה החלוקה ב-&lt;span&gt;\( a_{k-1,k-1}^{\left(k-2\right)} \)&lt;/span&gt; “מצליחה” ואנחנו מקבלים מספר שלם - כי &lt;span&gt;\( a_{ij}^{\left(k\right)} \)&lt;/span&gt; מלכתחילה הוגדר בתור דטרמיננטה של מטריצה שמכילה רק מספרים שלמים (זאת בהנחה שהמטריצה המקורית הכילה רק שלמים) ולכן אם יש שבר ששווה לו, המכנה חייב לחלק את המונה.&lt;/p&gt;

&lt;h2&gt;חלק חמישי ואחרון, שבו אנו מגיעים לגרסה המלאה של האלגוריתם&lt;/h2&gt;

&lt;p&gt;יפה, אז ראינו את ההוכחה לכך שהאלגוריתם הבא עובד:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;אתחל את המשתנים &lt;span&gt;\( a_{ij}^{\left(0\right)}=a_{ij} \)&lt;/span&gt; לכל &lt;span&gt;\( 1\le i,j\le n \)&lt;/span&gt; ואת המשתנה המיוחד &lt;span&gt;\( a_{00}^{\left(-1\right)}=1 \)&lt;/span&gt;.&lt;/li&gt;


&lt;li&gt;לכל &lt;span&gt;\( k=1,2,\ldots,n-1 \)&lt;/span&gt;:&lt;/li&gt;
&lt;ul&gt;
&lt;li&gt;לכל &lt;span&gt;\( k+1\le i,j\le n \)&lt;/span&gt;, קבעו &lt;span&gt;\( a_{ij}^{\left(k\right)}\leftarrow\frac{a_{ij}^{\left(k-1\right)}a_{kk}^{\left(k-1\right)}-a_{ik}^{\left(k-1\right)}a_{kj}^{\left(k-1\right)}}{a_{k-1,k-1}^{\left(k-2\right)}} \)&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/ul&gt;

&lt;li&gt;החזירו את &lt;span&gt;\( a_{nn}^{\left(n-1\right)} \)&lt;/span&gt;&lt;/li&gt;

&lt;p&gt;עכשיו, מהנוסחה הזו ברור שאם אנחנו בשלב &lt;span&gt;\( k \)&lt;/span&gt;, אז כל הערכים במטריצה שהשורה או העמודה שלהם היא לכל היותר &lt;span&gt;\( k \)&lt;/span&gt; כבר לא מעניינים אותנו, למעט האיבר במקום &lt;span&gt;\( k-1,k-1 \)&lt;/span&gt; - אבל גם עבורו, אנחנו נצטרך רק &lt;strong&gt;לקרוא&lt;/strong&gt; את הערך שלו ולא נשנה אותו יותר. זה אומר שאם אנחנו מקבלים את המטריצה כקלט, אז בשביל לחסוך מקום אפשר לשמור את ערכי הביניים &lt;strong&gt;בתוכה&lt;/strong&gt; (אם לא מפריע לנו שהיא תשתנה; אם לא נרצה שהפונקציה תשפיע על המטריצה המקורית יהיה צורך ליצור עותק שלה, אבל גם אז עדיף עותק אחד על סביבות &lt;span&gt;\( n \)&lt;/span&gt; עותקים כאלו).&lt;/p&gt;

&lt;p&gt;אם נוקטים בגישה הזו, זה מה שהאלגוריתם הופך להיות:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;אתחלו את המשתנה &lt;span&gt;\( A_{00}=1 \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;לכל &lt;span&gt;\( k=1,2,\ldots,n-1 \)&lt;/span&gt;:&lt;/li&gt;
&lt;ul&gt;

&lt;li&gt;לכל &lt;span&gt;\( k+1\le i,j\le n \)&lt;/span&gt;, קבעו &lt;span&gt;\( A_{ij}\leftarrow\frac{A_{ij}A_{kk}-A_{ik}A_{kj}}{A_{k-1,k-1}} \)&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/ul&gt;

&lt;li&gt;החזירו את &lt;span&gt;\( A_{n-1,n-1} \)&lt;/span&gt;&lt;/li&gt;

&lt;p&gt;בפועל כשכותבים קוד לא כזה כיף להוסיף משתנה &lt;span&gt;\( A_{00} \)&lt;/span&gt; כי צריך קוד מיוחד לטפל בו ולא במטריצה &lt;span&gt;\( A \)&lt;/span&gt;, ולכן הרבה יותר פשוט לבדוק אם &lt;span&gt;\( k=1 \)&lt;/span&gt; ואם כן - פשוט לוותר על פעולת החילוק באיטרציה הזו של האלגוריתם. בקוד שאצרף עוד רגע אפשר יהיה לראות את זה.&lt;/p&gt;

&lt;p&gt;יש רק דבר אחד שטרם התייחסתי אליו - מה קורה אם אחד מהמינורים העיקריים הוא עם דטרמיננטה 0? במקרה הזה, החישוב יניב בשלב כלשהו &lt;span&gt;\( A_{kk}=0 \)&lt;/span&gt; ואי אפשר יהיה לחלק בו. בסיטואציה הזו עושים דבר דומה למה שהיה באלגוריתם ה”רגיל” לדטרמיננטה - מחפשים בעמודה ה-&lt;span&gt;\( k \)&lt;/span&gt;-ית החל מהשורה ה-&lt;span&gt;\( k+1 \)&lt;/span&gt; כניסה ששונה מאפס, ואם נמצאה כזו - מחליפים את השורות ומכפילים את הסימן של הדטרמיננטה ב-&lt;span&gt;\( -1 \)&lt;/span&gt;. זה האלגוריתם המלא (שימו לב שבפייתון // מייצג חילוק בשלמים - כלומר, חילוק שמתעלם מהשארית, אם יש כזו, ומחזיר רק את המנה השלמה):&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;bareiss_det&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;sign&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;k&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;sign&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
                    &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;k&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                     &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;//&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sign&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;</content><author><name></name></author><category term="דטרמיננטה" /><summary type="html">חלק ראשון, שבו אנחנו לומדים שמינוס 32 הוא כמעט 256</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://gadial.net/assets/img/main/default-card.png" /><media:content medium="image" url="http://gadial.net/assets/img/main/default-card.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">האם רוב המספרים הראשוניים הם קטנים?</title><link href="http://gadial.net/2024/12/10/are_most_prime_numbers_small/" rel="alternate" type="text/html" title="האם רוב המספרים הראשוניים הם קטנים?" /><published>2024-12-10T00:00:00+00:00</published><updated>2024-12-10T00:00:00+00:00</updated><id>http://gadial.net/2024/12/10/are_most_prime_numbers_small</id><content type="html" xml:base="http://gadial.net/2024/12/10/are_most_prime_numbers_small/">&lt;h2&gt;חלק ראשון, ובו כמעט הכל ממש ממש ממש גדול&lt;/h2&gt;

&lt;p&gt;כשאני רואה דיונים נרגשים על מתמטיקה ברשתות חברתיות, זה לרוב בגלל שמישהו זרק פצצת סירחון וברח והשאיר אנשים לריב אחד עם השני על טיב הריח. הפצצה האהובה ביותר היא הביטוי &lt;span&gt;\( 6\div2\left(1+2\right) \)&lt;/span&gt; הידוע לשמצה (&lt;a href=&quot;https://gadial.net/2011/05/02/damn_stupid_equation/&quot;&gt;יש לי על זה פוסט&lt;/a&gt;) אבל נתקלתי עכשיו בפצצה מסוג קצת שונה שכבר הכתה גלים - השאלה האם המשפט “רוב המספרים הראשוניים הם קטנים” הוא אמת או שקר.&lt;/p&gt;

&lt;p&gt;לפני שמתחילים בכלל לדבר על זה צריך להתחיל מלציין את המובן מאליו: השאלה הזו היא &lt;strong&gt;הטרלה&lt;/strong&gt; במובן הקלאסי ביותר של המילה - סוג של התחכמות או פרובוקציה שהמטרה שלה לגרום לאנשים להתרגז, לריב אחד עם השני או להגיד שטויות בזמן שהמטריל יכול להיתמם שהוא סך הכל ניסה לעורר דיון פורה. חברים, זו לא הדרך לעורר דיון פורה. זו הדרך לגרום לאנשים לשלוף תשובות סותרות ולריב אחד עם השני עליהן למרות שהשורה התחתונה היא שכולם צודקים כי אין פה תשובה חד משמעית. המשפט “רוב המספרים הראשוניים הם קטנים” הוא לא אמת ולא שקר, אין לו ערך אמת מוגדר כי באופן ממש לא מפתיע, ערך האמת של פסוקים תלוי בשאלה מה המשמעות שאנחנו נותנים למושגים שמופיעים בהם, והמושג &lt;strong&gt;קטן&lt;/strong&gt; כאן הוא לחלוטין לא מוגדר היטב.&lt;/p&gt;

&lt;p&gt;אבל פצצות כאלו הן גם הזדמנות - לא לריב עם אף אחד, אלא לכתוב פוסט שמציג כמה מהדרכים השונות לפרש את השאלה הזו ולראות איזו פיסת מתמטיקה מעניינת נחשפת אלינו בזכותן. זה מה שאני אנסה לעשות פה - אבל בשום פנים ואופן לא בצורה שתתיימר להיות מקיפה. אני בסך הכל נותן כמה מהאסוציאציות &lt;strong&gt;שלי&lt;/strong&gt; שהשאלה הזו מעוררת.&lt;/p&gt;

&lt;p&gt;בואו נתחיל מההתחלה. &lt;strong&gt;מספר ראשוני&lt;/strong&gt; הוא מספר טבעי גדול מ-1 שמתחלק רק ב-1 ובעצמו, למשל 2 או 31. &lt;a href=&quot;https://gadial.net/2017/11/27/why_1_is_not_prime/&quot;&gt;יש לי פוסט&lt;/a&gt; שמסביר למה ראשוניים הם מעניינים ולמה 1 לא נחשב ראשוני אז לא אחזור על זה כאן, אבל בגדול - אם רוצים לדבר על קבוצה כלשהי של מספרים טבעיים שהיא לא ממש בנאלית (למשל, “המספרים הזוגיים”) אז הראשוניים זו הדוגמא הכי מתבקשת ואני מניח שלכן השתמשו בה בשאלה הזו.&lt;/p&gt;

&lt;p&gt;עכשיו, תכונה בסיסית של ראשוניים היא שיש &lt;strong&gt;אינסוף&lt;/strong&gt; מהם. הדרך הפשוטה לראות את זה מלווה אותנו עוד מימי אוקלידס, שהציג את ההוכחה הזו לראשונה: בואו ניקח קבוצה סופית כלשהי של ראשוניים, &lt;span&gt;\( \left\{ p_{1},p_{2},\ldots,p_{k}\right\}  \)&lt;/span&gt;. מכיוון שיש לנו מספר &lt;strong&gt;סופי&lt;/strong&gt; של ראשוניים, אפשר לכפול את כולם ולהוסיף 1 ולקבל מספר &lt;span&gt;\( n=p_{1}p_{2}\ldots p_{k}+1 \)&lt;/span&gt;. המספר הזה לא מתחלק באף אחד מהראשוניים בקבוצה (לחלק בכל אחד מהם מחזיר שארית 1 בגלל ה-1 שהוספתי) ולכן אם אני אפרק את &lt;span&gt;\( n \)&lt;/span&gt; לגורמים אני אמצא ראשוניים חדשים שלא היו שייכים לקבוצה. למשל, אם הקבוצה שלי היא &lt;span&gt;\( \left\{ 2,3,5\right\}  \)&lt;/span&gt; אז אני אקבל &lt;span&gt;\( n=2\cdot3\cdot5+1=31 \)&lt;/span&gt; וכבר &lt;span&gt;\( n \)&lt;/span&gt; עצמו הוא ראשוני “חדש”; אם לעומת זאת הקבוצה היא &lt;span&gt;\( \left\{ 2,3,5,7,11,13\right\}  \)&lt;/span&gt; אז אחרי כפל והוספת 1 אני אקבל את &lt;span&gt;\( n=30,031 \)&lt;/span&gt; שהוא לא ראשוני כי הוא שווה &lt;span&gt;\( 59\cdot509 \)&lt;/span&gt;, אבל שני הגורמים הללו הם כן ראשוניים אז מצאתי את הראשוניים החדשים 59 ו-509. המסקנה: אין מספר סופי של ראשוניים, כי לכל קבוצה סופית של ראשוניים תמיד אפשר למצוא ראשוני שלא שייך אליה.&lt;/p&gt;

&lt;p&gt;מכיוון שיש אינסוף ראשוניים, התחושה המיידית היא שנכון לומר שרוב הראשוניים הם גדולים כי “רוב המספרים הם גדולים”. יש אפילו “משפט” שאומר את זה, שמכונה “המשפט המגוחך של האריתמטיקה” שמופיע בספר Field Guide to Simple Graphs של Steinbach - הטענה ש”כמעט כל המספרים הטבעיים הם מאוד מאוד מאוד גדולים”. הרעיון פה הוא ש”כמעט כל” הוא מונח טכני מדויק: הוא אומר “כל הטבעיים פרט למספר סופי”, תוך שימוש בכך שיש אינסוף טבעיים אז אם מורידים מתוכם כמות סופית, עדיין נשארים עם אינסוף. אפשר לצקת תוכן למשפט בשתי דרכים שונות: ראשית, אפשר להניח שהמספרים הטבעיים מתחלקים איכשהו ל”קטנים” ו”גדולים” ויש מספר שרירותי, נאמר &lt;span&gt;\( N \)&lt;/span&gt;, שהחל ממנו ה”גדולים” מתחילים (או אפילו ה”מאוד מאוד מאוד גדולים” אם רוצים לשמור על נאמנות לניסוח של המשפט). אז אם נסתכל על קבוצת כל הטבעיים שגדולים מ-&lt;span&gt;\( N \)&lt;/span&gt;, כל האיברים בקבוצה הזו הם מאוד מאוד מאוד גדולים, ואילו איברים שלא גדולים מ-&lt;span&gt;\( N \)&lt;/span&gt; יש רק במספר סופי, ולכן באמת כמעט כל הטבעיים הם מאוד מאוד מאוד גדולים.&lt;/p&gt;

&lt;p&gt;את אותו רעיון בדיוק אפשר להחיל גם על הראשוניים. להגיד “אין לי מושג מה זה מספר קטן או גדול אבל יש איזה שהוא &lt;span&gt;\( N \)&lt;/span&gt; שהחל ממנו כל המספרים הם גדולים, ובגלל שיש אינסוף ראשוניים אז יש אינסוף ראשוניים שגדולים מ-&lt;span&gt;\( N \)&lt;/span&gt; ולכן רוב הראשוניים הם גדולים”. זו טענה סבירה בהחלט, והתלונה המרכזית שלי אליה היא שזו לא טענה כל כך &lt;strong&gt;מעניינת&lt;/strong&gt;; התוכן המתמטי שבא בה לידי ביטוי הוא רק האבחנה שיש אינסוף ראשוניים - וזו אבחנה די מעניינת בפני עצמה, אבל אנחנו רק מגרדים איתה את השטח של מה שאפשר לומר על ראשוניים, זה הבסיס של הבסיס. אז לעצור כאן? ממש חבל.&lt;/p&gt;

&lt;p&gt;בואו נחזור אל הטענה המקורית: “רוב המספרים הראשוניים הם קטנים”. יש כאן בעצם שלושה מושגים מתמטיים בפעולה. על אחד מהם, “מספרים ראשוניים”, אין ויכוח - כולנו יודעים מה הם מספרים ראשוניים ואיך הם מוגדרים. שני המושגים האחרים - “רוב” ו”קטנים” הם חסרי משמעות מתמטית קונקרטית. “קטנים” הוא מושג נטול הגדרה מתמטית קונקרטית כלשהי; ו”רוב” אמנם נשמע לנו כמו משהו טריוויאלי מבחינה מתמטית אבל הוא הרבה יותר ערמומי ממה שנראה במבט ראשון. למשל, האם “רוב” המספרים הטבעיים הם ריבועים של מספר טבעי (למשל &lt;span&gt;\( 1,4,9,16,\dots \)&lt;/span&gt;) או לא? לכאורה רוב המספרים הטבעיים הם לא כאלו (למשל בין 9 ו-16 יש לנו את המספרים 10,11,12,13,14,15 - לא פחות משישה מספרים שאינם כאלו) אבל מצד שני כבר גלילאו שם לב לכך שיש התאמה חד-חד-ערכית ועל בין ריבועים של מספרים טבעיים ובין הטבעיים, כך שבמובן מסויים יש את אותה כמות של שניהם (במתמטית אנחנו אומרים שיש כאן &lt;strong&gt;שוויון עוצמות&lt;/strong&gt; של שתי קבוצות אינסופיות). בקיצור, אני מבקש שננסה לשכוח את האינטואיציות היומיומיות שלנו לגבי “קטן” ו”רוב” וננסה לבנות אותן מחדש בזהירות, כמו שעושים הרבה פעמים במתמטיקה.&lt;/p&gt;

&lt;p&gt;בואו נחזור למשפט המגוחך של האריתמטיקה, “כמעט כל המספרים הטבעיים הם מאוד מאוד מאוד גדולים”. אמרתי שאפשר לצקת אל המשפט הזה תוכן בשתי דרכים שונות. דרך אחת התבססה על זה שהמספרים הטבעיים הם אינסופיים, אבל הדרך השניה יכולה לומר - עזבו אותנו מאינסוף טבעיים. זה לא משהו אמיתי. זה לא משהו שאנחנו יודעים לתפוס בידיים. יש גבול לכמות המספרים שנוכל לייצג ביקום - אפילו אם נגייס את כל האטומים למשימת ייצוג מספר, בסוף יהיה מספר שהוא גדול מכדי שנוכל לייצג אותו. כל אינסוף המספרים שמעבר אליו? לא רלוונטיים לנו. במילים אחרות, בואו נניח שיש גבול עליון למספרים הטבעיים ונקרא לו &lt;span&gt;\( N \)&lt;/span&gt; ומעכשיו “שדה המשחק” שלנו הוא רק אוסף המספרים הטבעיים מ-&lt;span&gt;\( 1 \)&lt;/span&gt; עד &lt;span&gt;\( N \)&lt;/span&gt;; הקבוצה &lt;span&gt;\( \left\{ 1,\ldots,N\right\}  \)&lt;/span&gt;. זו גישה שנשמעת תבוסתנית ומתעלמת מהמציאות במבט ראשון, אבל כפי שנראה עוד מעט היא דווקא פרודקטיבית ומועילה.&lt;/p&gt;

&lt;p&gt;בואו נשכח לרגע מראשוניים ונדבר על מספרים באופן כללי. נניח ש-&lt;span&gt;\( N=1,000,000,000,000 \)&lt;/span&gt; - “טריליון”. זה מספר גדול כל כך שאנחנו לא ממש נתקלים בו בחיי היום יום בהקשרים כמו מרחקים, מהירויות, גודל אוכלוסיה, כסף וכו’ (אנחנו כן נתקלים בו כל הזמן למשל בהקשר של זיכרון במחשב אבל אז קוראים לו “טרהבייט”). עכשיו, בואו נניח שההגדרה שלנו למספר &lt;strong&gt;גדול&lt;/strong&gt; היא די קיצונית - אפילו מיליארד עדיין לא נתפס בעינינו כמספר גדול. אפילו לא עשרה מיליארד! או 37 מיליארד! לא, המספר הראשון שאנחנו מואילים בטובנו לומר שהוא גדול הוא לא פחות מאשר &lt;span&gt;\( 100,000,000,000 \)&lt;/span&gt; - מאה מיליארד. ממש קרוב לטריליון. רק אפס אחד נוסף.&lt;/p&gt;

&lt;p&gt;תחת ההגדרה הזו, &lt;strong&gt;רוב עצום&lt;/strong&gt; של המספרים ב”עולם” שלנו הם מספרים ממש, ממש גדולים. למה? כי עד מאה מיליארד יש, ובכן, מאה מיליארד מספרים; וממאה מיליארד עד טריליון יש עוד תשע-מאות מיליארד מספרים - פי 9! אפילו אם נהיה שמרנים ונאמר שרק המספרים החל מ-500 מיליארד הם ממש, ממש ממש גדולים אז עדיין כמות המספרים הממש ממש ממש גדולים בעולם שלנו היא 500 מיליארד… ועוד 1 (טריליון עצמו; זה כמו שבין 5 ל-10 כולל 10 עצמו יש 6 מספרים) כלומר רוב המספרים הם ממש ממש ממש גדולים. זה המובן שבו המשפט “המגוחך” של האריתמטיקה הוא דווקא מעניין למדי; הוא מצביע יפה על כך שהמספרים שאנחנו רגילים אליהם מהיומיום הם כנראה רק טיפה בים לעומת כמות המספרים שעדיין אפשר לדחוס אל מה שנחשב בעינינו “הגבול של המספרים” שאחריו אנחנו כבר לא עוקבים בכלל.&lt;/p&gt;

&lt;p&gt;טוב ויפה, אבל איך המספרים הראשוניים נכנסים לפה? אם למשל אני באמת בוחר את &lt;span&gt;\( N \)&lt;/span&gt; להיות טריליון ומחלק את העולם שלי לכל המספרים שקטנים מ-500 מיליארד וכל המספרים מ-500 מיליארד עד טריליון, האם בחצי השני תהיה אותה כמות ראשוניים כמו בחצי הראשון? ובכן, לא. בחצי הראשון יהיו יותר ראשוניים. אז אם אני אמתח את הגבול ב-&lt;span&gt;\( N/2 \)&lt;/span&gt;, כלומר כל מה שעד &lt;span&gt;\( N/2 \)&lt;/span&gt; הוא “קטן” וכל מה שאחריו הוא “גדול” אז רוב הראשוניים יהיו דווקא קטנים. אבל אם אני אמתח את הגבול טיפה אחרת, למשל ב-&lt;span&gt;\( N/3 \)&lt;/span&gt; במקום ב-&lt;span&gt;\( N/2 \)&lt;/span&gt; זה כבר לא יעבוד ויהיו יותר ראשוניים “גדולים”. אז יש לנו כאן סיטואציה מעניינת - סיטואציה שבה התשובה לשאלה תלויה מאוד בסדר הגודל המדויק, ביחס ל”גבול” העולם, שעבורו אנחנו מגדירים “גדול”.&lt;/p&gt;

&lt;p&gt;איך בעצם אני יודע את מה שטענתי כרגע על הראשוניים? או, אני שמח ששאלתם כי זה מאפשר לנו לדבר על תוכן מתמטי אמיתי - &lt;strong&gt;משפט המספרים הראשוניים&lt;/strong&gt;, שהוא אחד מפסגות המתמטיקה של המאה ה-19.&lt;/p&gt;

&lt;h2&gt;חלק שני, שבו בקירוב אנחנו מגיעים למסקנה שחצי הוא מיוחד&lt;/h2&gt;

&lt;p&gt;בואו נסמן לרגע ב-&lt;span&gt;\( \pi\left(n\right) \)&lt;/span&gt; את מספר הראשוניים שקטנים או שווים ל-&lt;span&gt;\( n \)&lt;/span&gt;. זו פונקציה שמאוד מעניינת מתמטיקאים גם כי היא נותנת בדיוק את סוג המידע שמעניין אותנו כאן - כמה ראשוניים יש בתחום מסוים - וגם כי זו פונקציה שמתקדמת ב”קפיצות” (היא גדלה ב-1 בכל פעם שבה &lt;span&gt;\( n \)&lt;/span&gt; הוא ראשוני) ולכן אם היינו יודעים לחשב אותה טוב, היינו יכולים למצוא ראשוניים על ידי זיהוי של נקודות הקפיצה. ספוילר: אנחנו לא יודעים לחשב אותה טוב, ולכן מה שהמתמטיקאים עשו הוא לנסות ולהבין איך הפונקציה מתנהגת &lt;strong&gt;בערך&lt;/strong&gt;. מה התכונות האסימפטוטיות שלה. ומשפט המספרים הראשוניים (שההוכחה שלו מורכבת למדי ובוודאי שלא אכנס אליה כאן) אומר ש-&lt;span&gt;\( \pi\left(n\right)\approx\frac{n}{\ln n} \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;אני לא אכנס כאן למשמעות המדויקת של &lt;span&gt;\( \approx \)&lt;/span&gt; כי מספיק לנו לחשוב על זה בתור “בערך” שהולך ומשתפר ככל ש-&lt;span&gt;\( n \)&lt;/span&gt; גדול יותר. ה-&lt;span&gt;\( \ln n \)&lt;/span&gt; שמופיע במכנה הוא פונקציית ה&lt;strong&gt;לוגריתם הטבעי&lt;/strong&gt;, כלומר לוגריתם שהבסיס שלו הוא לא 10 אלא המספר הקבוע המיוחד &lt;span&gt;\( e=2.78\ldots \)&lt;/span&gt; וגם את זה לא באמת חייבים להבין עד הסוף. במקום זה, בואו נראה כמה דוגמאות.&lt;/p&gt;

&lt;p&gt;ראשית, לא כזה קשה לחשב את &lt;span&gt;\( \pi\left(n\right) \)&lt;/span&gt; לערכים קטנים יחסית. אני למשל מצליח במחשב שלי, עם שפת תכנות לא יעילה במיוחד כמו פייתון, לחשב את &lt;span&gt;\( \pi\left(10,000,000\right)=664,579 \)&lt;/span&gt; די בקלות באמצעות &lt;strong&gt;הכברה של ארטוסתנס&lt;/strong&gt; (אין לי פוסט על זה עדיין, כל כך מביך). אז הנה כמה זוגות של &lt;span&gt;\( \pi\left(n\right) \)&lt;/span&gt; לעומת &lt;span&gt;\( \frac{n}{\ln n} \)&lt;/span&gt;, כדי שנבין איך הקירוב הזה עובד:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( n=100,\pi\left(n\right)=25,\frac{n}{\ln n}=21.71\ldots \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( n=1,000,\pi\left(n\right)=168,\frac{n}{\ln n}=144.76\ldots \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( n=10,000,\pi\left(n\right)=1229,\frac{n}{\ln n}=1085.73\ldots \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( n=100,000,\pi\left(n\right)=9592,\frac{n}{\ln n}=8685.88\ldots \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( n=1,000,000,\pi\left(n\right)=78498,\frac{n}{\ln n}=72382.41\ldots \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( n=10,000,000,\pi\left(n\right)=664579,\frac{n}{\ln n}=620420.68\ldots \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;משהו שאפשר מייד לראות הוא שהקירוב הזה עובד לא רע, אבל בוודאי גם לא טוב כפי שאפשר היה לקוות. גודל הטעות - ההפרש בין המספר האמיתי והקירוב - רק גדל. עבור 100 הטעות היא בערך 3, עבור 100,000 היא בערך 906 ועבור 10,000,000 היא בערך 44158, כלומר היא הולכת וגדלה בערך האבסולוטי שלה. אבל הערך &lt;strong&gt;היחסי&lt;/strong&gt; שלה - כלומר, הגודל שלה כשהוא מחולק ב-&lt;span&gt;\( n \)&lt;/span&gt; - דווקא הולך וקטן, מ-0.03 עבור &lt;span&gt;\( n=100 \)&lt;/span&gt; אל &lt;span&gt;\( 0.004 \)&lt;/span&gt; עבור &lt;span&gt;\( n=10,000,000 \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;איך כל זה עוזר לנו? אם אנחנו קובעים רף מסוים שמעליו כל המספרים הם “גדולים” ומתחתיו הם “קטנים”, זה מאפשר לנו להעריך כמה ראשוניים קטנים יהיו אל מול כמה ראשוניים גדולים. נניח למשל שהרף היא &lt;span&gt;\( \frac{N}{2} \)&lt;/span&gt;, אז כמות הראשוניים הכוללת עד &lt;span&gt;\( N \)&lt;/span&gt; היא בערך &lt;span&gt;\( \frac{N}{\ln N} \)&lt;/span&gt; וכמות הראשוניים ה”קטנים” עד &lt;span&gt;\( N \)&lt;/span&gt; היא בערך &lt;span&gt;\( \frac{N/2}{\ln\left(N/2\right)} \)&lt;/span&gt; וכדי לדעת איך היא ביחס לכמות הראשוניים הכוללת אני אחלק את &lt;span&gt;\( \frac{N/2}{\ln\left(N/2\right)} \)&lt;/span&gt; ב-&lt;span&gt;\( \frac{N}{\ln N} \)&lt;/span&gt;. כדי לפשט את הביטוי אני הולך להשתמש בתכונה סטנדרטית של לוגריתמים: &lt;span&gt;\( \ln\left(\frac{a}{b}\right)=\ln a-\ln b \)&lt;/span&gt;, ולכן &lt;span&gt;\( \ln\left(N/2\right)=\ln N-\ln2 \)&lt;/span&gt;. הערך המספרי המדויק של &lt;span&gt;\( \ln2 \)&lt;/span&gt; לא כל כך חשוב, אבל הוא בערך &lt;span&gt;\( 0.693\ldots \)&lt;/span&gt; (כלומר - מספר חיובי, אבל ממש קטן). אם כן:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \frac{N/2}{\ln\left(N/2\right)}/\frac{N}{\ln\left(N\right)}=\frac{1}{2}\frac{\ln N}{\left(\ln N-\ln2\right)}=\frac{1}{2}\frac{1}{1-\frac{\ln2}{\ln N}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;מה קיבלנו פה? לוגריתם הוא פונקציה עולה שהיא אי-שלילית החל מ-1, כך ש-&lt;span&gt;\( 0&amp;lt;\ln2&amp;lt;\ln N \)&lt;/span&gt;, כלומר &lt;span&gt;\( 0&amp;lt;\frac{\ln2}{\ln N}&amp;lt;1 \)&lt;/span&gt;, כלומר &lt;span&gt;\( 0&amp;lt;1-\frac{\ln2}{\ln N}&amp;lt;1 \)&lt;/span&gt; ולכן &lt;span&gt;\( \frac{1}{2}\frac{1}{1-\frac{\ln2}{\ln N}}&amp;gt;\frac{1}{2} \)&lt;/span&gt;. מכאן אנחנו לומדים שני דברים:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;&lt;strong&gt;תמיד&lt;/strong&gt; יש יותר ראשוניים &quot;קטנים&quot; מאשר &quot;גדולים&quot; אם &quot;קטן&quot; מוגדר בתור &quot;קטן מ-&lt;span&gt;\( \frac{N}{2} \)&lt;/span&gt;&quot;.&lt;/li&gt;


&lt;li&gt;כאשר &lt;span&gt;\( N \)&lt;/span&gt; שואף לאינסוף, היחס בין ה&quot;קטנים&quot; וה&quot;גדולים&quot; שואף ל-&lt;span&gt;\( 1 \)&lt;/span&gt;, כלומר יש פחות ופחות ראשוניים &quot;קטנים&quot; ביחס ל&quot;גדולים&quot;. למרות שהם תמיד רוב.&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;כל זה קורה אם אני בוחר באופן שרירותי ש”קטן” יהיה קטן מ-&lt;span&gt;\( \frac{N}{2} \)&lt;/span&gt;. מה קורה במקרים אחרים? למשל אם “קטן” זה קטן מ-&lt;span&gt;\( \frac{N}{10} \)&lt;/span&gt;? בואו נסתכל באופן כללי על &lt;span&gt;\( \frac{N}{k} \)&lt;/span&gt;, אז החישוב שעשיתי למעלה לא משתנה בצורה מהותית - אני מקבל בסוף &lt;span&gt;\( \frac{1}{k}\cdot\frac{1}{1-\frac{\ln k}{\ln N}} \)&lt;/span&gt;. זה אומר שאם אני רוצה להגיע למצב שבו &lt;strong&gt;רוב&lt;/strong&gt; הראשוניים (יותר מחצי) הם “קטנים” אני חייב להגדיר “קטן” בתור “קטן מ-&lt;span&gt;\( \frac{N}{2} \)&lt;/span&gt;” (או קטן אפילו ממספר עוד יותר גדול). עכשיו, האינטואיציה שלי היא שחצי זה לא מספיק - צריך להיות קטנים יותר בסדר גודל או משהו, כמו קודם שהיה לנו 100 מיליארד ביחס לטריליון. אז גם מהניתוח הזה מקבלים את אותה התוצאה ה”ברורה” - יש יותר ראשוניים גדולים מאשר קטנים. אפילו אם לא מסתכלים על כל אינסוף הראשוניים אלא מצמצמים את עצמנו לאיזור מסוים, ואפילו אם משתמשים בכלים מתמטיים כבדים ומרשימים. ההבדל? עכשיו יש לטענות שלנו יותר תוכן מתמטי, וראינו תוצאות מתמטיות יפות על הדרך.&lt;/p&gt;

&lt;p&gt;אבל רגע, זה עדיין רחוק מאוד מלהיות סוף הסיפור!&lt;/p&gt;

&lt;h2&gt;חלק שלישי, ובו השאלה הפילוסופית איך בעצם משווים?&lt;/h2&gt;

&lt;p&gt;עד עכשיו הגישה שאימצנו כדי לדבר על “קטן” הייתה פשוטה: קבענו מספר טבעי כלשהו, כל מה שמתחתיו היה “קטן” וכל מה שמעליו היה “גדול”. זו גישה סבירה מאוד כי הרי צריך לשים גבול איפה שהוא, אבל מצד שני היא לוקה בכשל הסטנדרטי של “פרדוקס הערימה”. אם &lt;span&gt;\( n \)&lt;/span&gt; הוא מספר גדול, הרי שגם &lt;span&gt;\( n-1 \)&lt;/span&gt; הוא מספר גדול, לא? הוא בוודאי לא קטן; ההפרש שלו מהמספר הגדול &lt;span&gt;\( n \)&lt;/span&gt; הוא בסך הכל 1. אם 1 הוא מה שמפריד מספר קטן מגדול, למה &lt;span&gt;\( n-1 \)&lt;/span&gt; עצמו אינו גדול? הרי &lt;span&gt;\( n-2 \)&lt;/span&gt; הוא קטן, ו-&lt;span&gt;\( n-1 \)&lt;/span&gt; הוא &lt;span&gt;\( \left(n-2\right)+1 \)&lt;/span&gt;, אז הוספת ה-1 הזו הייתה אמורה להיות אותו לגדול, לא? התשובה לפרדוקס הזה היא שאין תשובה. “גדול” הוא מושג עמום ובגלל שאין לנו הגדרה טובה אליו אנחנו קובעים משהו שרירותית, וזהו. תסתדרו. עכשיו, שיהיה ברור, &lt;strong&gt;מותר&lt;/strong&gt; לנו לבצע קביעות כאלו; אבל מה שלא כדאי לנו לעשות הוא להתנהג כאילו קביעה כזו היא האמת האחת והיחידה, וגישות אחרות לשאלה מה זה קטן/גדול הן לא לגיטימיות.&lt;/p&gt;

&lt;p&gt;אז אני הולך להראות כמה גישות כאלו, ואנסה שיהיו שונות ממש באופי שלהן כדי שנבין עד כמה אפשר להשתגע פה אם רוצים.&lt;/p&gt;

&lt;p&gt;ראשית, הנה הגדרה שונה לגמרי ל”קטן”: מספר &lt;span&gt;\( n \)&lt;/span&gt; הוא קטן אם קיים מספר &lt;span&gt;\( N \)&lt;/span&gt; שגדול ממנו פי גוגול, כלומר פי &lt;span&gt;\( 10^{100} \)&lt;/span&gt;. מה מצדיק את ההגדרה הזו? יחסיות - בוודאי ש-&lt;span&gt;\( n \)&lt;/span&gt; כזה הוא ממש ממש ממש ממש ממש ממש ממש קטן ביחס ל-&lt;span&gt;\( N \)&lt;/span&gt; שגדול ממנו פי &lt;span&gt;\( 10^{100} \)&lt;/span&gt;. אלא מה, עבור &lt;strong&gt;כל&lt;/strong&gt; מספר טבעי &lt;span&gt;\( n \)&lt;/span&gt; קיים מספר &lt;span&gt;\( N=n\cdot10^{100} \)&lt;/span&gt; שכזה, אז ההגדרה שנתתי בעצם אומרת ש&lt;strong&gt;כל&lt;/strong&gt; המספרים הטבעיים הם קטנים. אפשר לומר שזה מוכיח שההגדרה גרועה, אבל אפשר גם לומר שזה מראה שהציפייה שלנו למושג אבסולוטי של “קטן” היא מופרכת כי כל מספר, גדול ככל שיהיה, הוא קטן בהקשר מסוים.&lt;/p&gt;

&lt;p&gt;ערעור אפשרי אחד על ההגדרה הזו אפשר לתת בכך שאותו &lt;span&gt;\( n \)&lt;/span&gt; “קטן” שלי עשוי להיות בעצמו גדול פי &lt;span&gt;\( 10^{100} \)&lt;/span&gt; מאיזה מספר טבעי אחר - מה שהופך אותו בו זמנית ל”גדול” ול”קטן” והיינו רוצים הגדרה שלא תאפשר משהו כזה בכלל. אז הנה הגדרה טיפה שונה שלא חשופה לסימטריה כזו: מספר &lt;span&gt;\( n \)&lt;/span&gt; הוא קטן אם קיימים אינסוף מספרים טבעיים שגדולים ממנו. אין כאן סימטריה כי לכל מספר טבעי יש רק מספר סופי של מספרים טבעיים שקטנים ממנו, ואני חושב שיש פה אינטואיציה טובה - לא משנה כמה &lt;span&gt;\( n \)&lt;/span&gt; נראה לנו גדול, הוא בסך הכל צעד ראשוני זעיר בדרך אל הנצח העצום שהוא כלל המספרים הטבעיים. אלא מה, גם ההגדרה הזו בעצם אומרת שכל המספרים הטבעיים הם קטנים. בצורה הזו אנחנו מקבלים את הטענה “כל המספרים הראשוניים הם קטנים” שזה נחמד, אבל האמת היא שהיה מעניין אם היינו רואים כאן תכונה שייחודית לראשוניים עצמם, לא לכל המספרים הטבעיים.&lt;/p&gt;

&lt;p&gt;אז הנה גישה שונה לחלוטין לחשוב על כל העניין - &lt;strong&gt;יחסי סדר&lt;/strong&gt;. &lt;a href=&quot;https://gadial.net/2020/01/10/order_relations/&quot;&gt;יש לי פוסט&lt;/a&gt; על יחסי סדר, אבל בואו נראה את זה גם כאן. כשאני אומר &lt;span&gt;\( a\le b \)&lt;/span&gt;, אל מה אני מתכוון בזה? אם &lt;span&gt;\( a,b \)&lt;/span&gt; שניהם מספרים טבעיים, הסימון הזה בדרך כלל אומר “קיים &lt;span&gt;\( d \)&lt;/span&gt; טבעי כך ש-&lt;span&gt;\( a+d=b \)&lt;/span&gt;”. זו ההגדרה הפורמלית. למשל &lt;span&gt;\( 3\le5 \)&lt;/span&gt; כי &lt;span&gt;\( 3+2=5 \)&lt;/span&gt;, או &lt;span&gt;\( 7\le7 \)&lt;/span&gt; כי &lt;span&gt;\( 7+0=7 \)&lt;/span&gt;. זו הגדרה &lt;strong&gt;קונקרטית&lt;/strong&gt; של יחס סדר &lt;strong&gt;מסוים&lt;/strong&gt; אבל מתמטיקאים אוהבים לבצע &lt;strong&gt;הפשטה&lt;/strong&gt; של אובייקטים קונקרטיים - לזהות את התכונות המעניינות של האובייקט ולהישאר רק איתן ולראות איך עדיין אפשר “לשחזר” חלקים גדולים מהמידע הרלוונטי על האובייקט רק מהתכונות המעניינות הללו - רק שעכשיו גם אובייקטים אחרים שחולקים את אותן תכונות ייהנו מהדברים שהסקנו. עבור יחסי סדר, התכונות המעניינות שאנחנו שמים לב אליהן הן:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;לכל &lt;span&gt;\( a \)&lt;/span&gt; מתקיים &lt;span&gt;\( a\le a \)&lt;/span&gt; (זה נקרא &lt;strong&gt;רפלקסיביות&lt;/strong&gt;)&lt;/li&gt;


&lt;li&gt;לכל &lt;span&gt;\( a,b,c \)&lt;/span&gt; אם &lt;span&gt;\( a\le b \)&lt;/span&gt; וגם &lt;span&gt;\( b\le c \)&lt;/span&gt; אז &lt;span&gt;\( a\le c \)&lt;/span&gt; (זה נקרא &lt;strong&gt;טרנזיטיביות&lt;/strong&gt;)&lt;/li&gt;


&lt;li&gt;לכל &lt;span&gt;\( a,b \)&lt;/span&gt; אם &lt;span&gt;\( a\le b \)&lt;/span&gt; וגם &lt;span&gt;\( b\le a \)&lt;/span&gt; אז &lt;span&gt;\( a=b \)&lt;/span&gt; (זה נקרא &lt;strong&gt;אנטי-סימטריה&lt;/strong&gt;).&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;בואו נראה דוגמא ליחס &lt;strong&gt;אחר&lt;/strong&gt; על הטבעיים שמקיים את אותן תכונות בדיוק - יחס החלוקה. אני מסמן &lt;span&gt;\( a|b \)&lt;/span&gt; כדי לומר “&lt;span&gt;\( a \)&lt;/span&gt; מחלק את &lt;span&gt;\( b \)&lt;/span&gt;” ופורמלית זה מוגדר באופן די דומה ליחס הסדר הרגיל: זה אומר שקיים &lt;span&gt;\( d \)&lt;/span&gt; טבעי כך ש-&lt;span&gt;\( a\cdot d=b \)&lt;/span&gt;. כלומר, במקום &lt;strong&gt;לחבר&lt;/strong&gt; את &lt;span&gt;\( d \)&lt;/span&gt; אנחנו &lt;strong&gt;כופלים&lt;/strong&gt; ב-&lt;span&gt;\( d \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;קל להראות ששלוש התכונות למעלה מתקיימות: לכל &lt;span&gt;\( a \)&lt;/span&gt;, &lt;span&gt;\( a\cdot1=a \)&lt;/span&gt; ולכן &lt;span&gt;\( a|a \)&lt;/span&gt;. לכל &lt;span&gt;\( a,b,c \)&lt;/span&gt; אם &lt;span&gt;\( a|b \)&lt;/span&gt; אז קיים &lt;span&gt;\( d_{1} \)&lt;/span&gt; כך ש-&lt;span&gt;\( ad_{1}=b \)&lt;/span&gt; ואם גם &lt;span&gt;\( b|c \)&lt;/span&gt; אז קיים &lt;span&gt;\( d_{2} \)&lt;/span&gt; כך ש-&lt;span&gt;\( bd_{2}=c \)&lt;/span&gt;, ומשני אלו נקבל &lt;span&gt;\( a\left(d_{1}d_{2}\right)=\left(ad_{1}\right)d_{2}=bd_{2}=c \)&lt;/span&gt; כלומר &lt;span&gt;\( a|c \)&lt;/span&gt;; ולבסוף, אם &lt;span&gt;\( a|b \)&lt;/span&gt; וגם &lt;span&gt;\( b|a \)&lt;/span&gt; אז זה אומר שקיימים &lt;span&gt;\( d_{1},d_{2} \)&lt;/span&gt; כך ש-&lt;span&gt;\( ad_{1}=b \)&lt;/span&gt; ו-&lt;span&gt;\( bd_{2}=a \)&lt;/span&gt; ולכן &lt;span&gt;\( a\left(d_{1}d_{2}\right)=\left(ad_{1}\right)d_{2}=bd_{2}=a \)&lt;/span&gt;, ואם נצמצם את &lt;span&gt;\( a \)&lt;/span&gt; משני האגפים נקבל &lt;span&gt;\( d_{1}d_{2}=1 \)&lt;/span&gt; ומכיוון ש-&lt;span&gt;\( d_{1},d_{2} \)&lt;/span&gt; שניהם מספרים טבעיים זה יכול לקרות רק אם &lt;span&gt;\( d_{1}=d_{2}=1 \)&lt;/span&gt;, כלומר &lt;span&gt;\( a=b \)&lt;/span&gt;. זה מסיים את ההוכחה שחלוקה היא יחס סדר.&lt;/p&gt;

&lt;p&gt;עכשיו מגיע החלק המוזר - אם אנחנו משווים גודל של איברים על בסיס יחס הסדר הזה, יוצא ש&lt;strong&gt;כל&lt;/strong&gt; הראשוניים הם קטנים. הרי &lt;span&gt;\( p \)&lt;/span&gt; הוא ראשוני אם שני המספרים היחידים שמחלקים אותו הם 1 ו-&lt;span&gt;\( p \)&lt;/span&gt; עצמו. כלומר אנחנו מקבלים ש-&lt;span&gt;\( 1 \)&lt;/span&gt; הוא המספר ה”מינימלי” על פי יחס הסדר (לכל &lt;span&gt;\( a \)&lt;/span&gt; קיים, &lt;span&gt;\( 1|a \)&lt;/span&gt;) אבל הראשוניים נמצאים דרגה אחת מעליו.&lt;/p&gt;

&lt;p&gt;אני אפילו לא אטרח לנסות להגדיר את “קטן” בצורה יותר מפורשת; אם אנחנו הולכים על פי יחס הסדר שהצגתי, די ברור לי שכל מספר ראשוני הולך להיות “קטן” כי הוא כמעט לגמרי בתחתית הדיאגרמה. כמובן, כשמבינים ש-0 נמצא בראש הדיאגרמה ולכן הוא הכי גדול שיש האינטואיציה שלנו עלולה להתפוצץ, אבל זה טוב; כל הרעיון הוא לראות דברים ששונים מהאינטואיציה היומיומית.&lt;/p&gt;

&lt;h2&gt;חלק רביעי, ובו דרך אחרת לחשוב על ראשוניים קטנים וגדולים&lt;/h2&gt;

&lt;p&gt;בדוגמת יחס הסדר שנתתי, &lt;strong&gt;כל&lt;/strong&gt; הראשוניים היו קטנים. אפשר אולי היה לחשוב על הגדרה ל”גדול” שבה חלק מהמספרים הטבעיים יהיו גדולים (מספרים שיש להם המון מחלקים? מחלקים שהם חזקות גדולות?) אבל לא משנה מה היא הייתה, אף ראשוני לא היה מתאים אליה. אבל אפשר להציג עוד תוצאה, מרהיבה לחלוטין לטעמי, שנותנת לנו זווית התבוננות נוספת על מושגי ה”קטן”/”גדול” הללו. הדרך הזו תשתמש במתמטיקה טיפה יותר מתוחכמת אבל גם אם אתם לא מכירים אותה, אל תתייאשו! לא באמת צריך להבין אותה לעומק.&lt;/p&gt;

&lt;p&gt;בואו נתחיל עם סיפור יפה: אכילס רוצה לרוץ לאורכו של אצטדיון בן קילומטר אחד. לפני שהוא יגיע לקצה השני שלו הוא חייב לעבור דרך נקודת האמצע, כלומר הוא קודם כל צריך לעבור &lt;span&gt;\( \frac{1}{2} \)&lt;/span&gt; קילומטר. אחר כך נותר לו עוד חצי קילומטר, אבל לפני שיעבור את כל המרחק הזה הוא צריך לעבור &lt;strong&gt;חצי&lt;/strong&gt; ממנו, כלומר לעבור עוד &lt;span&gt;\( \frac{1}{4} \)&lt;/span&gt; קילומטר. ואחרי שעבר אותו, הוא צריך לעבור עוד &lt;span&gt;\( \frac{1}{8} \)&lt;/span&gt; קילומטר כדי להגיע לחצי מהמרחק שנותר, וכן הלאה וכן הלאה. עכשיו, אני חושב שכולנו נסכים שאכילס יגיע לקצה השני של האצטדיון ואכן יעבור 1 קילומטר (“אני לא מסכים!” צועק מישהו בשם זנון מהיציע, אבל אנחנו במרחק 2,000 שנים ממנו אז נתעלם) ולכן, אינטואיטיבית, אנחנו יכולים לזרום עם הטענה שלי ש-&lt;span&gt;\( \frac{1}{2}+\frac{1}{4}+\frac{1}{8}+\ldots=1 \)&lt;/span&gt;. כלומר, שאפשר לחבר אינסוף מספרים ולקבל משהו סופי. דגש על &lt;strong&gt;אפשר&lt;/strong&gt;, אני בהחלט לא אומר שזה תמיד יעבוד.&lt;/p&gt;

&lt;p&gt;הסיבה שזה עובד במקרה למעלה היא שהאיברים שמשתתפים בסכום הופכים מהר מאוד לקטנים מאוד. אפשר לנסח את זה בצורה פורמלית לגמרי, אבל כרגע לא אכנס לזה. הנקודה החשובה היא שלא מספיק שהאיברים הופכים לקטנים עוד ועוד - זה צריך לקרות &lt;strong&gt;מהר&lt;/strong&gt;. כמה מהר? ובכן, אם נסתכל על הסכום הבא:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( 1+\frac{1}{2}+\frac{1}{3}+\frac{1}{4}+\frac{1}{5}+\ldots \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;הסכום הזה &lt;strong&gt;לא&lt;/strong&gt; מסתכם לשום דבר סופי - הוא יוצא “אינסוף”. לעומת זאת, הסכום הבא:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( 1+\frac{1}{4}+\frac{1}{9}+\frac{1}{16}+\ldots \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;שאפשר לכתוב גם בתור&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \frac{1}{1^{2}}+\frac{1}{2^{2}}+\frac{1}{3^{2}}+\frac{1}{4^{2}}+\ldots \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;יוצא מספר סופי, ועוד אחד שמעורר תהיות “מאיפה זה בכלל הגיע?!” - המספר &lt;span&gt;\( \frac{\pi^{2}}{6} \)&lt;/span&gt; (מאיפה זה באמת הגיע? יש שלל הסברים, אבל זה לפוסט אחר).&lt;/p&gt;

&lt;p&gt;את מה שראינו אפשר לסכם בצורה הבאה: אם אנחנו מחברים את כל האיברים מהצורה &lt;span&gt;\( \frac{1}{n} \)&lt;/span&gt; כאשר &lt;span&gt;\( n \)&lt;/span&gt; הוא &lt;strong&gt;מספר טבעי&lt;/strong&gt; זה יוצא אינסוף, אבל אם אנחנו לא סוכמים את כל האיברים הללו אלא רק חלק מהם, אנחנו עשויים לקבל מספר סופי. אם מחברים רק את האיברים שעבורם &lt;span&gt;\( n \)&lt;/span&gt; הוא חזקה של 2, מקבלים משהו סופי; אם מחברים רק את האיברים שעבורם &lt;span&gt;\( n \)&lt;/span&gt; הוא ריבוע של מספר טבעי, מקבלים משהו סופי.&lt;/p&gt;

&lt;p&gt;מה קורה אם מחברים את כל האיברים שעבורם &lt;span&gt;\( n \)&lt;/span&gt; ראשוני? זו התוצאה שאני רוצה לדבר עליה כאן. התשובה היא שמקבלים אינסוף, והעובדה הזו בפני עצמה היא עוד הוכחה לכך שיש אינסוף ראשוניים כי אם היה רק מספר סופי שלהם, בוודאי שגם סכום שלהם היה סופי. אבל איך מוכיחים את הטענה הזו? יש שלל הוכחות, אבל זו שמעניינת אותי כאן היא הוכחה של פאול ארדש, שכמעט ולא דורשת היכרות עם מתמטיקה מתקדמת ואני אחליק בקלילות גם את מה שכן צריך. נתמקד בחלק שאותו אפשר להבין בלי ידע מתמטי מתקדם כלשהו, אם כי זה לא אומר שהוא יהיה &lt;strong&gt;קל&lt;/strong&gt; להבנה. אבל אם נבין אותו, נבין גם דרך אחרת לגמרי להתבונן על ענייני ה”קטן”/”גדול”, מה שנותן תוכן מתמטי מאוד מעניין לשאלה המקורית.&lt;/p&gt;

&lt;p&gt;ראשית, האינטואיציה הכללית: ככל ש-&lt;span&gt;\( n \)&lt;/span&gt; יותר &lt;strong&gt;גדול&lt;/strong&gt; כך &lt;span&gt;\( \frac{1}{n} \)&lt;/span&gt; יותר &lt;strong&gt;קטן&lt;/strong&gt; ולכן תורם פחות לסכום. לכן אפשר לתת את האינטואיציה לפיה אם הסכום &lt;strong&gt;מתכנס&lt;/strong&gt; (כלומר, מסתכם למספר סופי) אז רוב ה-&lt;span&gt;\( n \)&lt;/span&gt;-ים המעורבים בו הם &lt;strong&gt;גדולים&lt;/strong&gt; (כי אז מה שהם תורמים לסכום הוא קטן יחסית) ואילו אם הסכום &lt;strong&gt;מתבדר&lt;/strong&gt; (כלומר, יוצא אינסוף) אז רוב ה-&lt;span&gt;\( n \)&lt;/span&gt;-ים המעורבים בו הם &lt;strong&gt;קטנים&lt;/strong&gt; (ולכן מה שהם תורמים לסכום הוא גדול יחסית). זו אינטואיציה די מסוכנת, כי כשמסתכלים על סכומים אינסופיים השאלה אם הם מתכנסים או מתבדרים לא תלויה בראש של הסכום, כלומר באיברים הראשונים שבו, אלא רק ב”זנב” שלו - באינסוף האיברים האחרונים. אם אני אקח את הסכום&lt;span&gt;\( 1+\frac{1}{2}+\frac{1}{3}+\frac{1}{4}+\frac{1}{5}+\ldots \)&lt;/span&gt; ובמקום להתחיל אותו מ-1 אני אתחיל אותו מ-&lt;span&gt;\( \frac{1}{1,000,000,000} \)&lt;/span&gt;, שום דבר לא ישתנה - הסכום עדיין יצא אינסוף. אם אני אתחיל את הסכום &lt;span&gt;\( 1+\frac{1}{4}+\frac{1}{9}+\frac{1}{16}+\ldots \)&lt;/span&gt; רק מ-&lt;span&gt;\( \frac{1}{121} \)&lt;/span&gt; אז הסכום עדיין יתכנס, אם כי הוא יתכנס למספר אחר (הסכום המקורי פחות סכום כל האיברים ב”ראש” שקיצצנו). אז אפילו אם סכום הוא מתבדר ולכן אני מסיק ש”רוב” האיברים בו קטנים, אני לא באמת יכול להגיד איפה מתחיל ונגמר הרוב הזה, כי אני יכול להתחיל את הזנב מאיפה שאני רוצה; כלומר, אני שוב רואה את “קטן” כמושג יחסי ולא אבסולוטי, אבל עכשיו אפילו קשה לומר ביחס &lt;strong&gt;אל מה&lt;/strong&gt;. אין לי אנלוגיה טובה במיוחד מהמקרה הנוכחי למקרים הקודמים, וזו בדיוק הסיבה שבגללה אני מביא את המקרה הנוכחי - אמרתי שזו תהיה דרך שונה לגמרי לחשוב על זה.&lt;/p&gt;

&lt;p&gt;בואו נראה את ההוכחה של ארדש לכך שהסכום מתבדר. מה שארדש עושה הוא הוכחה בשלילה - הוא &lt;strong&gt;מניח&lt;/strong&gt; שהסכום כן מתכנס למספר כלשהו ומגיע מכך לסתירה, מה שגורם לו להסיק שההנחה שהסכום מתכנס הייתה שגויה. ארדש מתחיל מלהגיד שאם הסכום מתכנס, ולא משנה לאיזה מספר הוא מתכנס, אז יש לו זנב שמתכנס לערך &lt;strong&gt;קטן&lt;/strong&gt;. מה זאת אומרת? נניח שאני מסמן את כל הראשוניים באופן הבא: &lt;span&gt;\( p_{1},p_{2},p_{3},\ldots \)&lt;/span&gt;, אז קיים &lt;span&gt;\( k \)&lt;/span&gt; טבעי כלשהו כך ש-&lt;span&gt;\( \frac{1}{p_{k+1}}+\frac{1}{p_{k+2}}+\frac{1}{p_{k+3}}+\ldots&amp;lt;\frac{1}{2} \)&lt;/span&gt; - ה”זנב” שהוא סכום כל ההופכיים של ראשוניים שגדולים מ-&lt;span&gt;\( p_{k} \)&lt;/span&gt; יוצא פחות מחצי.&lt;/p&gt;

&lt;p&gt;למה הטענה הזו נכונה? זו הטענה היחידה שדורשת מתמטיקה קצת יותר מתקדמת כדי להוכיח אותה - ספציפית, תוצאות בסיסיות יחסית בתורה של טורים אינסופיים. הרעיון הוא כזה: נניח שכל הטור של הופכיי הראשוניים מתכנס לאיזה מספר &lt;span&gt;\( A \)&lt;/span&gt;, כלומר &lt;span&gt;\( \frac{1}{p_{1}}+\frac{1}{p_{2}}+\ldots=A \)&lt;/span&gt;. אז אני מתחיל לסכום את כל האיברים בטור ובודק לאן הגעתי. אני &lt;strong&gt;חייב&lt;/strong&gt; מתישהו לעבור את &lt;span&gt;\( A-\frac{1}{2} \)&lt;/span&gt; כי אם אני אף פעם לא עובר אותו אני לא אגיע אל &lt;span&gt;\( A \)&lt;/span&gt; (היי, אכילס!). מרגע שעברתי את &lt;span&gt;\( A-\frac{1}{2} \)&lt;/span&gt; כל האיברים שנשארו בטור חייבים להסתכם אל משהו שלא גדול מ-&lt;span&gt;\( \frac{1}{2} \)&lt;/span&gt; אחרת נעבור את &lt;span&gt;\( A \)&lt;/span&gt; (כאן אני משתמש בכך שכל האיברים בטור הם &lt;strong&gt;מספרים חיוביים&lt;/strong&gt;, כלומר אי אפשר לחבר איברים לטור ובכך להקטין את הסכום הכולל). זה הרעיון, ועל הפורמליזם אני אוותר כאן.&lt;/p&gt;

&lt;p&gt;על הראשוניים עד וכולל &lt;span&gt;\( p_{k} \)&lt;/span&gt; אפשר לחשוב, כאמור, בתור “הראשוניים הקטנים”, אלו שתורמים הכי הרבה לסכום (כי כשמחלקים 1 בהם מקבלים משהו גדול יחסית) ועל כל יתר הראשוניים אפשר לחשוב בתור “הראשוניים הגדולים”. עכשיו ארדש מראה שקורים שני דברים שונים: ראשית: שמהראשוניים הקטנים אי אפשר להרכיב &lt;strong&gt;יותר מדי&lt;/strong&gt; מספרים; שנית, שמאותם ראשוניים בדיוק אפשר להרכיב &lt;strong&gt;המון&lt;/strong&gt; מספרים. שני אלו מן הסתם מובילים לסתירה אם בוחרים את הפרמטרים שלנו בצורה זהירה.&lt;/p&gt;

&lt;p&gt;מה שארדש עושה דומה למה שראינו קודם בפוסט - הוא לוקח &lt;span&gt;\( N \)&lt;/span&gt; טבעי כלשהו ומצמצם את ה”עולם” שלנו רק למספרים עד וכולל &lt;span&gt;\( N \)&lt;/span&gt; ושואל את עצמו - מבין כל המספרים בתחום &lt;span&gt;\( 1,\ldots,N \)&lt;/span&gt;, כמה מהמספרים הללו בנויים אך ורק מראשוניים קטנים? כלומר, שבפירוק לגורמים שלהם יש רק ראשוניים עד וכולל &lt;span&gt;\( p_{k} \)&lt;/span&gt;. בואו נראה דוגמא קונקרטית לזה עם שלושת הראשוניים הראשונים, &lt;span&gt;\( 2,3,5 \)&lt;/span&gt;. איזה מספרים אפשר להרכיב מהם? ובכן, את 2,3,5 כמובן, אבל גם את &lt;span&gt;\( 6,10,15 \)&lt;/span&gt; שמתקבלים ממכפלה של זוגות של איברים מתוכם, וגם את &lt;span&gt;\( 30 \)&lt;/span&gt; שמתקבל מהמכפלה של שלושתם. ואם רוצים אפשר להכניס גם את &lt;span&gt;\( 1 \)&lt;/span&gt; לתמונה בתור “המכפלה הריקה” שלהם. במילים אחרות, מה שתיארתי עד כה הוא את כל המספרים מהצורה&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( 2^{a}3^{b}5^{c} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כאשר &lt;span&gt;\( a,b,c \)&lt;/span&gt; הם או 0 או 1. מכיוון שלכל אחד מהמשתנים הללו יש 2 אפשרויות, אז מספר הקומבינציות האפשריות של ערכים לכל המשתנים הם 2 (עבור &lt;span&gt;\( a \)&lt;/span&gt;) כפול 2 (עבור &lt;span&gt;\( b \)&lt;/span&gt;) כפול 2 (עבור &lt;span&gt;\( c \)&lt;/span&gt;) - בסך הכל 8, מה שמתאים למספרים שמצאנו: &lt;span&gt;\( 1,2,3,5,6,10,15,30 \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;אותו טיעון עובד גם באופן כללי כשיש לנו &lt;span&gt;\( k \)&lt;/span&gt; ראשוניים: מסתכלים על כל המכפלות &lt;span&gt;\( p_{1}^{a_{1}}\ldots p_{k}^{a_{k}} \)&lt;/span&gt; כך שכל &lt;span&gt;\( a_{i} \)&lt;/span&gt; הוא או 0 או 1 ומקבלים מספר שמתחלק רק בראשוניים קטנים - בסך הכל &lt;span&gt;\( 2^{k} \)&lt;/span&gt; מספרים. ייתכן שחלק מהמספרים הללו יוצאים גדולים מ-&lt;span&gt;\( N \)&lt;/span&gt; (הרי לא התחייבתי בשום צורה לגבי הערך של &lt;span&gt;\( N \)&lt;/span&gt;) ולכן לא אמורים להיות בספירה, אבל זה בסדר כי מספיק לי להראות &lt;strong&gt;חסם מלמעלה&lt;/strong&gt; על כמות המספרים שאפשר להרכיב עם ראשוניים קטנים - כל עוד החסם הזה יהיה די קטן, אני אוכל להסיק את המסקנה שלי, שאי אפשר להרכיב “יותר מדי” מספרים.&lt;/p&gt;

&lt;p&gt;העניין הוא שכרגע אני מפספס די הרבה מספרים, ורואים את זה בדוגמא שלנו. מה עם &lt;span&gt;\( 4 \)&lt;/span&gt;? הוא מתחלק רק ב-2. ו-9 מתחלק רק ב-3. ומה עם &lt;span&gt;\( 60 \)&lt;/span&gt;? גם הוא מתחלק רק ב-&lt;span&gt;\( 2,3,5 \)&lt;/span&gt;. העניין הוא שעד כה הסתכלתי רק על מספרים שכל ראשוני משתתף במכפלה שנותנת אותם &lt;strong&gt;לכל היותר פעם אחת&lt;/strong&gt;. אבל ראשוני יכול להופיע הרבה פעמים במכפלה. הטיעון של ארדש מטפל בזה בצורה חכמה - הוא סופר גם את המקרים הללו, אבל מתייחס לכך שאם יש ראשוניים שמופיעים יותר מפעם אחת זה מגדיל עוד יותר את המספר שאנחנו בונים ולכן פחות ופחות מספרים יצליחו להיות מתחת לחסם של &lt;span&gt;\( N \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;הנה הטיעון המסודר. נסתכל על כל המכפלות &lt;span&gt;\( p_{1}^{n_{1}}\ldots p_{k}^{n_{k}} \)&lt;/span&gt; כך שאין לי הגבלה על ה-&lt;span&gt;\( n \)&lt;/span&gt;-ים מלבד זו ש-&lt;span&gt;\( n \)&lt;/span&gt; הוא מספר טבעי. עכשיו, כל מספר טבעי אפשר לכתוב בתור &lt;span&gt;\( n=2m+a \)&lt;/span&gt; כך ש-&lt;span&gt;\( m \)&lt;/span&gt; הוא מספר טבעי אחר ו-&lt;span&gt;\( a \)&lt;/span&gt; הוא או 0 או 1 (אם &lt;span&gt;\( n \)&lt;/span&gt; זוגי אז &lt;span&gt;\( a \)&lt;/span&gt; יהיה 0 ואחרת הוא יהיה 1). בואו ניזכר לרגע בחוקי החזקות הבסיסים:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( x^{a+b}=x^{a}\cdot x^{b} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( x^{ab}=\left(x^{a}\right)^{b} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left(xy\right)^{a}=x^{a}y^{a} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עם החוקים הללו אנחנו רואים ש-&lt;span&gt;\( p^{n}=p^{2m+a}=p^{a}\cdot\left(p^{m}\right)^{2} \)&lt;/span&gt;, ולכן&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( p_{1}^{n_{1}}\ldots p_{k}^{n_{k}}=p_{1}^{a_{1}}\ldots p_{k}^{a_{k}}\cdot\left(p_{1}^{m_{1}}\ldots p_{k}^{m_{k}}\right)^{2} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;במילים אחרות, אני יכול לכתוב כל מספר בתור מכפלה מהצורה &lt;span&gt;\( s^{2}r \)&lt;/span&gt;, כאשר &lt;span&gt;\( r \)&lt;/span&gt; הוא בעל התכונה שהוא “חופשי מריבועים” - הוא לא מתחלק על ידי אף ריבוע, כי כל מספר ראשוני במכפלה שנותנת אותו מופיע לכל היותר פעם אחת. פירוק כזה של מספר טבעי למכפלה של ריבוע ומספר חופשי מריבועים הוא טריק סטנדרטי בתורת המספרים האלמנטרית ותמיד נחמד להראות אותו.&lt;/p&gt;

&lt;p&gt;איך זה עוזר לארדש? ובכן, ארדש כבר הוכיח לנו שאין יותר מדי מספרים חופשיים מריבועים שמורכבים רק מ-&lt;span&gt;\( k \)&lt;/span&gt; הראשוניים הראשונים: יש בדיוק &lt;span&gt;\( 2^{k} \)&lt;/span&gt; ערכים אפשריים של &lt;span&gt;\( r \)&lt;/span&gt;. אילו ערכים אפשריים יש ל-&lt;span&gt;\( s \)&lt;/span&gt;? אנחנו צריכים שיתקיים &lt;span&gt;\( s^{2}r\le N \)&lt;/span&gt; ולכן בפרט שיתקיים &lt;span&gt;\( s^{2}\le N \)&lt;/span&gt; כלומר &lt;span&gt;\( s\le\sqrt{N} \)&lt;/span&gt;. אז יש לנו &lt;span&gt;\( 2^{k} \)&lt;/span&gt; דרכים אפשריות לבחור את &lt;span&gt;\( r \)&lt;/span&gt; ולכל היותר &lt;span&gt;\( \sqrt{N} \)&lt;/span&gt; דרכים אפשריות לבחור את &lt;span&gt;\( s \)&lt;/span&gt;, ולכן חסם מלמעלה על כמות המספרים בתחום &lt;span&gt;\( 1,\ldots,N \)&lt;/span&gt; שמורכבים רק מהראשוניים &lt;span&gt;\( p_{1},\ldots,p_{k} \)&lt;/span&gt; היא &lt;span&gt;\( 2^{k}\sqrt{N} \)&lt;/span&gt;. אוטוטו נראה שזה מספר &lt;strong&gt;קטן מדי&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;עכשיו, בואו נסתכל על המספרים בתחום &lt;span&gt;\( 1,\ldots,N \)&lt;/span&gt; שמתחלקים על ידי ראשוני גדול אחד לפחות, למשל על ידי הראשוני &lt;span&gt;\( p_{t} \)&lt;/span&gt; כך ש-&lt;span&gt;\( t&amp;gt;k \)&lt;/span&gt;. הרעיון הוא שלא יכולים להיות יותר מדי מספרים כאלו כי &lt;span&gt;\( p_{t} \)&lt;/span&gt; הוא גדול. פורמלית, אם מספר כלשהו מתחלק על ידי &lt;span&gt;\( p_{t} \)&lt;/span&gt; אז הוא מהצורה &lt;span&gt;\( p_{t}\cdot s \)&lt;/span&gt; כאשר &lt;span&gt;\( s \)&lt;/span&gt; הוא מספר טבעי כלשהו (שיכול אפילו להתחלק שוב על ידי &lt;span&gt;\( p_{t} \)&lt;/span&gt;, זה לא מפריע לי). מכיוון ש-&lt;span&gt;\( p_{t}s\le N \)&lt;/span&gt; אז &lt;span&gt;\( s\le\frac{N}{p_{t}} \)&lt;/span&gt;, כלומר יש לנו לכל היותר &lt;span&gt;\( \frac{N}{p_{t}} \)&lt;/span&gt; מספרים שמתחלקים על ידי &lt;span&gt;\( p_{t} \)&lt;/span&gt; בתחום &lt;span&gt;\( 1,\ldots,N \)&lt;/span&gt;. אז כמה מספרים יש לי בסך הכל? אני אספור את כל מי שמתחלקים על ידי &lt;span&gt;\( p_{k+1} \)&lt;/span&gt;, כלומר לכל היותר &lt;span&gt;\( \frac{N}{p_{k+1}} \)&lt;/span&gt;, ועוד מי שמתחלקים על ידי &lt;span&gt;\( p_{k+2} \)&lt;/span&gt; כלומר לכל היותר &lt;span&gt;\( \frac{N}{p_{k+2}} \)&lt;/span&gt;וכן הלאה. בצורה הזו ייתכן מאוד שאני אספור את אותו מספר כמה פעמים (כי הוא מתחלק גם על ידי &lt;span&gt;\( p_{k+1} \)&lt;/span&gt; וגם על ידי &lt;span&gt;\( p_{k+2} \)&lt;/span&gt;, למשל) אבל זה לא מפריע לי - אני רק רוצה לחסום מלמעלה את כמות המספרים שמתחלקים על ידי ראשוני גדול. אני אקבל:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \frac{N}{p_{k+1}}+\frac{N}{p_{k+2}}+\frac{N}{p_{k+3}}+\ldots=N\cdot\left(\frac{1}{p_{k+1}}+\frac{1}{p_{k+2}}+\frac{1}{p_{k+3}}+\ldots\right)&amp;lt;\frac{N}{2} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כשהמעבר האחרון נובע ממה שהתחלנו איתו - בחרנו את &lt;span&gt;\( k \)&lt;/span&gt; בכוונה כדי שה”זנב” יתכנס למספר קטן מחצי. עכשיו, את מה שעשיתי בשורה הקודמת צריך להצדיק בצורה פורמלית, כי כל עבודה עם טורים אינסופיים דורשת הצדקות זהירות - אבל זה עובד, לא לדאוג.&lt;/p&gt;

&lt;p&gt;מה קיבלנו? שלכל היותר חצי מהמספרים בתחום &lt;span&gt;\( 1,\ldots,N \)&lt;/span&gt; יכולים להתחלק על ידי ראשוניים “גדולים”. לכן &lt;strong&gt;לפחות&lt;/strong&gt; חצי מהם מתחלקים רק על ידי ראשוניים קטנים. זה אומר שצריך להתקיים &lt;span&gt;\( \frac{N}{2}&amp;lt;2^{k}\sqrt{N} \)&lt;/span&gt;, או במילים אחרות - &lt;span&gt;\( \sqrt{N}&amp;lt;2^{k+1} \)&lt;/span&gt; (חילקתי את שני האגפים ב-&lt;span&gt;\( \sqrt{N} \)&lt;/span&gt; וכפלתי אותם ב-2) או במילים אחרות, &lt;span&gt;\( N&amp;lt;2^{2\left(k+1\right)} \)&lt;/span&gt; (העליתי בריבוע את שני האגפים).&lt;/p&gt;

&lt;p&gt;אלא מה, &lt;strong&gt;לא הנחתי שום דבר כזה&lt;/strong&gt; על &lt;span&gt;\( N \)&lt;/span&gt;. כל מה שארדש עשה תקף עבור &lt;span&gt;\( N \)&lt;/span&gt; &lt;strong&gt;כללי&lt;/strong&gt;, כלשהו. לכן זה אמור לעבוד גם אם &lt;span&gt;\( N\ge2^{2\left(k+1\right)} \)&lt;/span&gt;, אבל אז מקבלים סתירה והמתמטיקה מתרסקת, מה שמוביל את ארדש לכך שההנחה המקורית שלו, שהטור של הופכיי הראשוניים מתכנס, לא הייתה נכונה.&lt;/p&gt;

&lt;p&gt;בואו נחדד שוב מה ארדש אומר בעצם: הוא אומר שאם נחלק את הראשוניים ל-&lt;span&gt;\( k \)&lt;/span&gt; ראשוניים “קטנים” וכל יתר אינסוף הראשוניים הם “גדולים”, אז אם נסתכל על חתיכה גדולה מספיק מהמספרים הטבעיים, הראשוניים ה”קטנים” יהיו חייבים להרכיב לבדם לפחות חצי מהחתיכה הזו כי הראשוניים ה”גדולים” הם גדולים מדי מכדי להרכיב את רוב המספרים שם, אבל מצד שני פשוט אין מספיק ראשוניים קטנים כדי להרכיב כזו כמות של מספרים. המסקנה, אם תרצו, היא שראשוניים “קטנים” יש המון, אם כי כאמור קשה לי לתאר את המובן המדויק הזה של “המון”.&lt;/p&gt;

&lt;h2&gt;חלק חמישי וקצר במיוחד שבו אני שואל ולא באמת מבין מה למדנו מכל זה&lt;/h2&gt;

&lt;p&gt;לסיכום, מה בעצם למדנו? האם למדנו שרוב הראשוניים הם קטנים? לא. האם למדנו שרוב הראשוניים הם גדולים? לא. אני עדיין לא בטוח מה המשמעות שאנחנו רוצים לתת למילים הללו. אבל כן למדנו כל מני דברים נחמדים בפני עצמם - מה זה ראשוניים, שיש אינסוף מהם, מה זה “כמעט כל” המספרים, מה משפט המספרים הראשוניים מספר לנו על הכמות של הראשוניים עד גודל כלשהו, על האופן שבו אפשר להגדיר יחסי סדר שונים על הטבעיים ובפרט יחס של חילוק במקום “קטן מ-“ הרגיל, ואיך אפשר להשתמש בטורים אינסופיים כדי להעריך עד כמה מהר סדרת מספרים כלשהי נהיית גדולה. כל אלו הם דברים &lt;strong&gt;מעניינים&lt;/strong&gt; במתמטיקה, ושאלה היא מוצדקת אם היא נותנת לנו תירוץ לדבר על דברים מעניינים, אז אני בסך הכל סבבה עם השאלה “האם רוב הראשוניים הם קטנים?” כל עוד אנחנו זוכרים שהמטרה פה היא לא לענות עליה ובטח שלא לחשוב שיש לה תשובה חד משמעית, אלא להשתמש בה בתור תירוץ לראות דברים מעניינים באמת.&lt;/p&gt;</content><author><name></name></author><category term="מספרים ראשוניים" /><summary type="html">חלק ראשון, ובו כמעט הכל ממש ממש ממש גדול</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://gadial.net/assets/img/main/default-card.png" /><media:content medium="image" url="http://gadial.net/assets/img/main/default-card.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">איך מחשבים דטרמיננטה?</title><link href="http://gadial.net/2024/12/03/computing_determinants/" rel="alternate" type="text/html" title="איך מחשבים דטרמיננטה?" /><published>2024-12-03T00:00:00+00:00</published><updated>2024-12-03T00:00:00+00:00</updated><id>http://gadial.net/2024/12/03/computing_determinants</id><content type="html" xml:base="http://gadial.net/2024/12/03/computing_determinants/">&lt;p&gt;כאשר לומדים אלגברה לינארית, מושג &lt;strong&gt;הדטרמיננטה&lt;/strong&gt; צץ בשלב זה או אחר. לפעמים מלמדים אותו מהר יחסית ולפעמים מחכים איתו עד שממש חייבים, כדי לא להפחיד אנשים תמימים, אבל הוא תמיד שם - וזה כי דטרמיננטות זה יופי של דבר כשמפסיקים לפחד מהן. &lt;a href=&quot;https://gadial.net/2011/11/10/determinants/&quot;&gt;יש לי כבר פוסט&lt;/a&gt; שמסביר מהי דטרמיננטה, אבל דבר אחד אין שם: &lt;strong&gt;איך מחשבים אותה&lt;/strong&gt;. בפוסט הזה אני רוצה להשלים את החור הזה ולתאר את הדרך הסטנדרטית, שהיא בסך הכל די פשוטה; המוטיבציה שלי מגיעה מכך שלא מזמן נזקקתי לדרך אחרת, שבמובנים מסוימים היא טובה יותר ובמובנים אחרים היא טובה פחות, אבל איתה אחכה לפוסט הבא.&lt;/p&gt;

&lt;p&gt;ראשית, בואו ניזכר מה זו דטרמיננטה בעצם. ההיכרות הראשונה שלי עם הנושא הייתה בשיעור מחשבים אי שם בכיתה י’ או משהו, שבו מסיבה לא ברורה המורה החליט בתור שאלת שיעורי בית לתת לנו לכתוב קוד שמחשב דטרמיננטות, ולכן בילה כמעט חמש דקות בלהכתיב את השאלה שרובה כללה הסבר של איך בכלל מוגדרת דטרמיננטה. לא רק שלא הבנתי כלום, גם נכנסתי להלם גדול וחרדה מפני הנושא הזה. למה שהמורה יתעלל בנו בצורה כזו? ובכן, כי הוא רצה להציג את המושג של &lt;strong&gt;רקורסיה&lt;/strong&gt;, פונקציה שמחשבת משהו על קלט מסוים ידי קריאה לעצמה על קלטים קטנים יותר, וזו בהחלט &lt;strong&gt;אחת הדרכים&lt;/strong&gt; שבהן ניתן לחשב דטרמיננטה. האם זו הדרך הנכונה להציג את הנושא? ובכן, לא וכן; לא, כי זה לא נותן לנו מבט בתמונה הגדולה - אבל בשביל זה יש את הפוסט שקישרתי אליו קודם - וכן, כי זה מכניס אותנו ישר למים של ההיבט החישובי.&lt;/p&gt;

&lt;p&gt;דטרמיננטה מוגדרת על &lt;strong&gt;מטריצה ריבועית&lt;/strong&gt;, כלומר על אוסף של מספרים שמסודר בטבלה עם אותו מספר שורות ועמודות. אם המספר הוא &lt;span&gt;\( n \)&lt;/span&gt;, אומרים שזו מטריצה מסדר &lt;span&gt;\( n\times n \)&lt;/span&gt;. בדרך כלל מסמנים את זה ב-&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( A=\left[\begin{array}{cccc} a_{11} &amp;amp; a_{12} &amp;amp; \cdots &amp;amp; a_{1n}\\ a_{21} &amp;amp; a_{22} &amp;amp;  &amp;amp; a_{2n}\\ \vdots &amp;amp;  &amp;amp; \ddots &amp;amp; \vdots\\ a_{n1} &amp;amp; a_{n2} &amp;amp; \cdots &amp;amp; a_{nn} \end{array}\right] \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;הדטרמיננטה של &lt;span&gt;\( A \)&lt;/span&gt; מסומנת &lt;span&gt;\( \left|A\right| \)&lt;/span&gt; (אבל זה לא ערך מוחלט; זה סימן שנבחר בגלל דמיון שטחי כלשהו בין התכונות של הדטרמיננטה והתכונות של הערך המוחלט) או &lt;span&gt;\( \text{det}A \)&lt;/span&gt;. הנה דרך אחת לחשב את &lt;span&gt;\( \left|A\right| \)&lt;/span&gt;: אנחנו עוברים על כל האיברים בשורה העליונה של &lt;span&gt;\( A \)&lt;/span&gt;. ראשית אנחנו לוקחים את &lt;span&gt;\( a_{11} \)&lt;/span&gt; ואז אנחנו שומרים את &lt;span&gt;\( A \)&lt;/span&gt; בצד, לוקחים עותק שלה, &lt;strong&gt;מוחקים&lt;/strong&gt; מהעותק את השורה והעמודה הראשונה, מחשבים את הדטרמיננטה של המטריצה הקטנה יותר הזו, כופלים את זה ב-&lt;span&gt;\( a_{11} \)&lt;/span&gt; ואת התוצאה שומרים בצד.&lt;/p&gt;

&lt;p&gt;עכשיו עושים משהו דומה עם &lt;span&gt;\( a_{12} \)&lt;/span&gt;: מוחקים את השורה הראשונה והעמודה &lt;strong&gt;השניה&lt;/strong&gt;, מקבלים מטריצה קטנה יותר, מחשבים את הדטרמיננטה שלה, כופלים ב-&lt;span&gt;\( a_{12} \)&lt;/span&gt; ואז &lt;strong&gt;מחסרים&lt;/strong&gt; את התוצאה ממה שקיבלנו קודם. ואז לוקחים את &lt;span&gt;\( a_{13} \)&lt;/span&gt; ועושים את אותו הטריק איתו אבל &lt;strong&gt;מחברים&lt;/strong&gt; - בקיצור, אנחנו רואים שזו מהומה, ושצריך להכניס קצת סימנים כדי לתאר את זה בצורה פשוטה.&lt;/p&gt;

&lt;p&gt;הסימן הראשון שאנחנו רוצים הוא “המטריצה שמקבלים מ-&lt;span&gt;\( A \)&lt;/span&gt; כשמוחקים שורה ועמודה ספציפיות”. למטריצה כזו קוראים &lt;strong&gt;מטריצת המינור&lt;/strong&gt; של השורה והעמודה, ואם השורה היא &lt;span&gt;\( i \)&lt;/span&gt; והעמודה היא &lt;span&gt;\( j \)&lt;/span&gt; אני אסמן אותה ב-&lt;span&gt;\( A^{ij} \)&lt;/span&gt;. אצלנו תמיד מחקתי את השורה הראשונה, אבל זה היה רק לצורך הדוגמא - אפשר להראות שלא משנה איזו שורה אני בוחר, אני אקבל את אותו דבר. אז אני מקבל את הנוסחה הבאה:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|A\right|=\sum_{j=1}^{n}\left(-1\right)^{i+j}a_{ij}\left|A^{ij}\right| \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כאן &lt;span&gt;\( \left|A^{ij}\right| \)&lt;/span&gt; הוא הדטרמיננטה של מטריצת המינור, &lt;span&gt;\( a_{ij} \)&lt;/span&gt; האיבר שאת השורה והעמודה שלו מוחקים, ו-&lt;span&gt;\( \left(-1\right)^{i+j} \)&lt;/span&gt; זו הדרך להשיג את אפקט ה”לחבר ולחסר לסירוגין”. הנוסחה הזו שלעיל מתאימה למה שנקרא “פיתוח הדטרמיננטה לפי השורה ה-&lt;span&gt;\( i \)&lt;/span&gt;”. אפשר לעשות את זה גם לפי עמודות - לבחור עמודה &lt;span&gt;\( j \)&lt;/span&gt; ספציפית ולעבור על האיברים שלה אחד-אחד. זה מוביל לנוסחה&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|A\right|=\sum_{i=1}^{n}\left(-1\right)^{i+j}a_{ij}\left|A^{ij}\right| \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;זו נוסחה רקורסיבית, אז היא צריכה תנאי התחלה - מקרה בסיסי כל כך שבו לא צריך לחשב דטרמיננטה של משהו קטן יותר. די מתבקש להסתכל על המקרה של מטריצה בת איבר בודד ואז הדטרמיננטה שלה היא האיבר הבודד הזה. ומה קורה עם מטריצה מסדר &lt;span&gt;\( 2\times2 \)&lt;/span&gt;?&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( A=\left[\begin{array}{cc} a_{11} &amp;amp; a_{12}\\ a_{21} &amp;amp; a_{22} \end{array}\right] \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;נפתח את הדטרמיננטה על פי השורה הראשונה: ראשית ניקח את &lt;span&gt;\( a_{11} \)&lt;/span&gt;, נמחק את השורה והעמודה הראשונות ונקבל את המטריצה &lt;span&gt;\( \left[a_{22}\right] \)&lt;/span&gt; שהדטרמיננטה שלה היא &lt;span&gt;\( a_{22} \)&lt;/span&gt;, אז האיבר הראשון בסכום הוא &lt;span&gt;\( a_{11}a_{22} \)&lt;/span&gt;. עכשיו נעבור אל &lt;span&gt;\( a_{12} \)&lt;/span&gt;, נמחק שורה ראשונה ועמודה שניה, נקבל דטרמיננטה &lt;span&gt;\( a_{21} \)&lt;/span&gt;, נכפיל ונשים סימן חיסור על הכל, ונקבל בסך הכל ש-&lt;span&gt;\( \left|A\right|=a_{11}a_{22}-a_{12}a_{21} \)&lt;/span&gt;. עכשיו תנסו לעשות את אותו הדבר עם פיתוח של שורה אחרת או עמודה אחרת (למשל, עמודה 2) ותראו איך יוצא אותו דבר (אם סימני הפלוס/מינוס לא מסתדרים תזכרו את הגורם &lt;span&gt;\( \left(-1\right)^{i+j} \)&lt;/span&gt;; לא &lt;strong&gt;תמיד&lt;/strong&gt; כשמפתחים לפי שורה או עמודה כלשהי, האיבר הראשון שבו מטפלים יהיה עם סימן חיובי).&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;det&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;k&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;minor_matrix&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)]&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;det&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;minor_matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;האם זה עובד טוב? לא, זה עובד איום ונורא. זה ירוץ ויחזיר את התוצאה הנכונה, אבל &lt;strong&gt;באיזה מחיר&lt;/strong&gt;? המחיר יהיה זמן ריצה גדול (וגם צריכת זכרון מיותרת, אבל בהיקף פחות משמעותי כאן). חשבו על זה כך: אם אני מפעיל את האלגוריתם על מטריצה מסדר &lt;span&gt;\( n\times n \)&lt;/span&gt;, אני צריך לחשב את הדטרמיננטה של &lt;span&gt;\( n \)&lt;/span&gt; מטריצות מסדר &lt;span&gt;\( \left(n-1\right)\times\left(n-1\right) \)&lt;/span&gt;, וכל חישוב כזה דורש חישוב של &lt;span&gt;\( n-1 \)&lt;/span&gt; דטרמיננטות של מטריצות מסדר &lt;span&gt;\( \left(n-2\right)\times\left(n-2\right) \)&lt;/span&gt; וכן הלאה - יוצא שאני מחשב &lt;span&gt;\( n\left(n-1\right)\left(n-2\right)\cdots1=n! \)&lt;/span&gt; דטרמיננטות. קצב הגידול של &lt;span&gt;\( n! \)&lt;/span&gt; הוא אקספוננציאלי - תמיד חדשות רעות שמדובר על זמן חישוב. על מטריצת &lt;span&gt;\( 4\times4 \)&lt;/span&gt; האלגוריתם הזה יעבוד מעולה ויסתיים חיש קל. על מטריצה מסדר &lt;span&gt;\( 1000\times1000 \)&lt;/span&gt;? אני לא מעז להפעיל אותו.&lt;/p&gt;

&lt;p&gt;האם ניתן לייעל את זה? למרבה השמחה כן, אפשר לייעל את החישוב בצורה קיצונית ממש, וכל זה בזכות תכונה קסומה אחת של הדטרמיננטה: היא &lt;strong&gt;כפלית&lt;/strong&gt;. אם &lt;span&gt;\( A,B \)&lt;/span&gt; הן מטריצות ריבועיות, אז &lt;span&gt;\( \left|AB\right|=\left|A\right|\cdot\left|B\right| \)&lt;/span&gt;. ההוכחה היא אפילו לא כל כך מסובכת &lt;a href=&quot;https://gadial.net/2011/11/21/matrix_revolutions/&quot;&gt;ואני מציג אותה בפוסט שלי&lt;/a&gt;, אבל היא דורשת את נקודת המבט התיאורטית יותר על דטרמיננטה שאני לא נכנס אליה כאן. גם לשאלה מה זה בדיוק כפל המטריצות &lt;span&gt;\( AB \)&lt;/span&gt; אני לא נכנס; זה לא כפל “איבר-איבר” אלא משהו מתוחכם יותר, אבל יש לי &lt;a href=&quot;https://gadial.net/2011/10/06/matrix_product/&quot;&gt;פוסט גם על זה&lt;/a&gt; ומי שלא מכירים את המושג פשוט יוכלו לסמוך עלי בכמה טענות פשוטות שאני עוד מעט אטען.&lt;/p&gt;

&lt;p&gt;לפני שנגיע לשימוש בכפליות של הדטרמיננטה, בואו נחשוב מתי ההגדרה הרקורסיבית כן שמישה בצורה נוחה. המקרה הקלאסי הוא זה: אם יש לי מטריצה שיש בה שורה שכל האיברים בה הם אפס חוץ אולי מאיבר אחד, &lt;strong&gt;מאוד&lt;/strong&gt; כדאי לי לפתח את הדטרמיננטה על פי השורה הזו, כי בנוסחה &lt;span&gt;\( \left|A\right|=\sum_{j=1}^{n}\left(-1\right)^{i+j}a_{ij}\left|A^{ij}\right| \)&lt;/span&gt; כל האיברים &lt;span&gt;\( a_{ij} \)&lt;/span&gt; הולכים לצאת אפס חוץ אולי מאיבר אחד ספציפי, נניח &lt;span&gt;\( a_{ik} \)&lt;/span&gt;, ואז נקבל &lt;span&gt;\( \left|A\right|=\left(-1\right)^{i+k}a_{ik}\left|A^{ik}\right| \)&lt;/span&gt;. אני עדיין צריך לחשב רקורסיבית את הדטרמיננטה של &lt;span&gt;\( A^{ik} \)&lt;/span&gt;, אבל זו רק מטריצה אחת, בניגוד ל-&lt;span&gt;\( n \)&lt;/span&gt; מטריצות שהייתי צריך לחשב להן את הדטרמיננטה במקרה הכללי. יותר מזה - אנחנו רואים פה שאם יש במטריצה שורת אפסים, אז הדטרמיננטה שלה יוצאת אפס ואפשר לסיים את החישוב (ואותו דבר עבור טור של אפסים).&lt;/p&gt;

&lt;p&gt;זה מאפשר לי לחשב ביעילות את הדטרמיננטה של מטריצות נחמדות, שבהן בכל שורה יש רק איבר אחד שונה מאפס. הדוגמא הקלאסית למטריצה כזו היא &lt;strong&gt;מטריצה אלכסונית&lt;/strong&gt;, מטריצה שבה רק האיברים מהצורה &lt;span&gt;\( a_{ii} \)&lt;/span&gt; (שנקראים “אברי האלכסון הראשי”) יכולים להיות שונים מאפס וכל היתר הם אפס. למשל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( A=\left[\begin{array}{ccc} 13 &amp;amp; 0 &amp;amp; 0\\ 0 &amp;amp; -2 &amp;amp; 0\\ 0 &amp;amp; 0 &amp;amp; 8 \end{array}\right] \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אם נתחיל לפתח את הדטרמיננטה של &lt;span&gt;\( A \)&lt;/span&gt; על פי השורה הראשונה, נקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|A\right|=13\cdot\left|\begin{array}{cc} -2 &amp;amp; 0\\ 0 &amp;amp; 8 \end{array}\right| \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו את הדטרמיננטה של המטריצה החדשה אני יכול לחשב באותו אופן - פיתוח על פי השורה הראשונה, שהוא פשוט כפל במספר שכתוב בשורה הראשונה כפול הדטרמיננטה של מה שנשאר מהמטריצה כש”מגלחים” ממנה את השורה והעמודה הראשונה, וכן הלאה. אני אקבל &lt;span&gt;\( \left|A\right|=13\cdot\left(-2\right)\cdot8 \)&lt;/span&gt;: הדטרמיננטה של מטריצה אלכסונית היא מכפלת האיברים על האלכסון.&lt;/p&gt;

&lt;p&gt;אם זה ברור, בואו נשים לב שבעצם ראיתי כאן יותר מזה. כשאני מפתח את הדטרמיננטה על פי השורה הראשונה, האיבר היחיד שרלוונטי הוא ה-13 שבמקום הראשון. עבורו, אני “מגלח” גם את העמודה הראשונה מהמטריצה. זו הסיבה שאברי העמודה הזו לא משתתפים בהמשך החישוב - שהסירו אותם בצורה הזו. לא שהם אפסים. החישוב היה ממשיך באותו אופן בדיוק גם אם הם לא היו אפסים. כלומר, אם המטריצה הייתה&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( A=\left[\begin{array}{ccc} 13 &amp;amp; 0 &amp;amp; 0\\ 42 &amp;amp; -2 &amp;amp; 0\\ 555 &amp;amp; 0 &amp;amp; 8 \end{array}\right] \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;הדטרמיננטה שלה בכלל לא הייתה משתנה - הפיתוח לפי השורה הראשונה היה מניב &lt;span&gt;\( \left|A\right|=13\cdot\left|\begin{array}{cc} -2 &amp;amp; 0\\ 0 &amp;amp; 8 \end{array}\right| \)&lt;/span&gt; באותה צורה כמו קודם. זה נכון שהפיתוח לפי &lt;strong&gt;העמודה&lt;/strong&gt; הראשונה היה עכשיו מתנהל שונה לגמרי, אבל הוא היה מגיע לאותה תוצאה סופית (נסו!)&lt;/p&gt;

&lt;p&gt;באופן דומה גם בעמודה השניה יכולים להופיע איברים שונים מאפס - אבל רק &lt;strong&gt;מתחת&lt;/strong&gt; ל-&lt;span&gt;\( -2 \)&lt;/span&gt; שבאמצע, כי איברים מעליו ישפיעו על שורות שמופיעות בחישוב של הדטרמיננטה לפני שהעמודה של &lt;span&gt;\( -2 \)&lt;/span&gt; נמחקת. כלומר, גם הדטרמיננטה של המטריצה הזו היא מכפלת אברי האלכסון:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( A=\left[\begin{array}{ccc} 13 &amp;amp; 0 &amp;amp; 0\\ 42 &amp;amp; -2 &amp;amp; 0\\ 555 &amp;amp; 9999 &amp;amp; 8 \end{array}\right] \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;התוצאה הזו מראה שמטריצות שבהן “החצי העליון” של המטריצה, מעל האלכסון הראשי, הוא אפסים הן מטריצות מעניינות. למטריצות כאלו קוראים “מטריצה משולשית תחתונה” (תחתונה, כי האיזור שבו כן יכולים להיות דברים שונים מאפס הוא זה שמתחת לאלכסון הראשי). פורמלית, זו מטריצה שבה אם &lt;span&gt;\( j&amp;gt;i \)&lt;/span&gt; אז &lt;span&gt;\( a_{ij}=0 \)&lt;/span&gt; (אם מספר העמודה גדול ממספר השורה, הכניסה היא אפס). מה שראינו עכשיו הוא שבמטריצות כאלו, הדטרמיננטה היא מכפלת אברי האלכסון הראשי. באופן דומה מגדירים גם “מטריצה משולשית עליונה” שבה אם &lt;span&gt;\( i&amp;gt;j \)&lt;/span&gt; אז &lt;span&gt;\( a_{ij}=0 \)&lt;/span&gt; ופיתוח הדטרמיננטה לפי עמודות ולא לפי שורות מראה שגם במקרה הזה הדטרמיננטה של מטריצה כזו היא מכפלת אברי האלכסון הראשי.&lt;/p&gt;

&lt;p&gt;זה יפה מאוד, אבל איך זה עוזר לנו לחשב דטרמיננטה במקרה הכללי? כאן מגיע הפאנץ’ הנחמד: יש כמה פעולות פשוטות שאפשר לבצע על מטריצה שהופכות אותה למטריצה משולשית, והשינויים שהפעולות הללו עושים לדטרמיננטה הם זניחים עד לא קיימים. זה מתקשר לנושא של &lt;a href=&quot;https://gadial.net/2011/10/05/matrix_row_reducing/&quot;&gt;דירוג מטריצות&lt;/a&gt; אבל אני לא אצטרך לדבר על הנושא הזה בצורה הכללית שלו, אז נתמקד במה שעוזר לנו כאן.&lt;/p&gt;

&lt;p&gt;בשביל חישוב דטרמיננטה, מספיקים לנו שתי פעולות שאפשר לבצע על מטריצה:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;להחליף שתי שורות במטריצה&lt;/li&gt;


&lt;li&gt;לקחת שורה אחת, לכפול אותה במספר כלשהו, ולחבר לשורה אחרת&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;בואו נדגים את זה. הנה מטריצה:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( A=\left[\begin{array}{ccc} 2 &amp;amp; 8 &amp;amp; 3\\ 4 &amp;amp; 9 &amp;amp; 1\\ 3 &amp;amp; 3 &amp;amp; 3 \end{array}\right] \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אם אני אחליף את השורה השניה והשלישית, אני אקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( A=\left[\begin{array}{ccc} 2 &amp;amp; 8 &amp;amp; 3\\ 3 &amp;amp; 3 &amp;amp; 3\\ 4 &amp;amp; 9 &amp;amp; 1 \end{array}\right] \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;האם הפעולה הזו תשנה את הדטרמיננטה של המטריצה? כן! אבל בצורה פשוטה: הדטרמיננטה תוכפל ב-&lt;span&gt;\( -1 \)&lt;/span&gt;, וזה יקרה תמיד, לא משנה אילו שתי שורות נחליף. אולי יהיה יותר קל לראות את זה קורה אם נתחיל עם מטריצה אלכסונית פשוטה:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( B=\left[\begin{array}{ccc} 1 &amp;amp; 0 &amp;amp; 0\\ 0 &amp;amp; 1 &amp;amp; 0\\ 0 &amp;amp; 0 &amp;amp; 1 \end{array}\right] \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;בבירור &lt;span&gt;\( \left|B\right|=1 \)&lt;/span&gt; כי זו מכפלת אברי האלכסון. עכשיו, בואו נחליף את השורה השניה בשלישית ונקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( B=\left[\begin{array}{ccc} 1 &amp;amp; 0 &amp;amp; 0\\ 0 &amp;amp; 0 &amp;amp; 1\\ 0 &amp;amp; 1 &amp;amp; 0 \end{array}\right] \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו זו כבר לא מטריצה משולשית אז מכפלת אברי האלכסון לא תיתן לנו את הדטרמיננטה, אבל עדיין אפשר לפתח אותה על פי הכללים הרגילים, שורה-שורה, ונקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|B\right|=1\cdot\left|\begin{array}{cc} 0 &amp;amp; 1\\ 1 &amp;amp; 0 \end{array}\right|=1\cdot\left(-1\right)=-1 \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;זה גם מה שיקרה במקרה הכללי אם ניקח מטריצה שכולה 1-ים על האלכסון הראשי ונחליף שתי שורות: אם נפתח את הדטרמיננטה וראשית כל נפתח אותה לפי השורות שלא השתנו, נקבל מכל שורה כזו 1, וכולם יוכפלו בסוף ב-&lt;span&gt;\( \left|\begin{array}{cc} 0 &amp;amp; 1\\ 1 &amp;amp; 0 \end{array}\right| \)&lt;/span&gt;, שזו הדטרמיננטה של מה שיישאר משתי השורות שכן הוחלפו, אחרי שכל יתר העמודות נקצצו מהמטריצה. כלומר (בנפנוף ידיים) לכל החלפת שורות, נקבל שהדטרמיננטה של המטריצה היא &lt;span&gt;\( -1 \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;עכשיו מגיע הקסם, ואיך שאני אוהב את הקסם הזה! אם ניקח את &lt;span&gt;\( B \)&lt;/span&gt; שלאחר ההחלפה ונכפול אותה ב-&lt;span&gt;\( A \)&lt;/span&gt; המקורית, נקבל:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left[\begin{array}{ccc} 1 &amp;amp; 0 &amp;amp; 0\\ 0 &amp;amp; 0 &amp;amp; 1\\ 0 &amp;amp; 1 &amp;amp; 0 \end{array}\right]\left[\begin{array}{ccc} 2 &amp;amp; 8 &amp;amp; 3\\ 4 &amp;amp; 9 &amp;amp; 1\\ 3 &amp;amp; 3 &amp;amp; 3 \end{array}\right]=\left[\begin{array}{ccc} 2 &amp;amp; 8 &amp;amp; 3\\ 3 &amp;amp; 3 &amp;amp; 3\\ 4 &amp;amp; 9 &amp;amp; 1 \end{array}\right] \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;מה קרה פה? הכפל במטריצה &lt;span&gt;\( B \)&lt;/span&gt; אחרי החלפת השורה היה בעל אפקט של ביצוע החלפת שורה על &lt;span&gt;\( A \)&lt;/span&gt;! כלומר, הצלחנו לתאר את הפעולה “החלפת שורה” בתור “כפל במטריצה כלשהי”. עכשיו, בגלל שאני יודע ש-&lt;span&gt;\( \left|BA\right|=\left|B\right|\left|A\right| \)&lt;/span&gt; ובגלל ש-&lt;span&gt;\( \left|B\right|=-1 \)&lt;/span&gt; כפי שזה עתה ראינו, אני מקבל שהדטרמיננטה של &lt;span&gt;\( A \)&lt;/span&gt; אחרי החלפת שורות - וזה יעבוד &lt;strong&gt;לכל&lt;/strong&gt; פעולה בודדת של החלפת שורות - הוא כפל ב-&lt;span&gt;\( -1 \)&lt;/span&gt;, כמו שהבטחתי.&lt;/p&gt;

&lt;p&gt;האם אפשר לעשות את אותו תעלול גם עבור הפעולה המסובכת יותר, “לקחת שורה אחת, לכפול אותה במספר כלשהו, ולחבר לשורה אחרת”? ובכן, בואו ננסה דוגמא. נלך אל &lt;span&gt;\( B \)&lt;/span&gt; המקורית, נכפול את השורה הראשונה ב-&lt;span&gt;\( -2 \)&lt;/span&gt; ונחבר אותה אל השורה השניה. שימו לב שאני &lt;strong&gt;לא&lt;/strong&gt; משנה את השורה הראשונה; ההכפלה שלה במשהו היא רק לצורך חיבור עם השורה האחרת (יש גם פעולה של הכפלה של שורה, אבל אני לא צריך אותה פה; אותו הטריק עם &lt;span&gt;\( B \)&lt;/span&gt; יעבוד גם עבור הפעולה הזו ויראה שכפל שורה ב-&lt;span&gt;\( \lambda \)&lt;/span&gt; מכפיל את הדטרמיננטה ב-&lt;span&gt;\( \lambda \)&lt;/span&gt;). נקבל:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( B=\left[\begin{array}{ccc} 1 &amp;amp; 0 &amp;amp; 0\\ -2 &amp;amp; 1 &amp;amp; 0\\ 0 &amp;amp; 0 &amp;amp; 1 \end{array}\right] \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;מה הדטרמיננטה של &lt;span&gt;\( B \)&lt;/span&gt; החדשה? ובכן… אה… זה קצת מוזר. השינוי השפיע רק מתחת לאלכסון, לא מעליו, אז עדיין יש לי מטריצה משולשית, ולכן הדטרמיננטה היא עדיין רק מכפלת אברי האלכסון ולכן היא 1, כלומר היא… לא השתנתה בכלל? משהו פה לא מסתדר לי. אולי אם ניקח את השורה השניה ונוסיף אותה לשלישית? לא, גם אז זה יוצא מטריצה משולשית… ואם נוסיף את השלישית לשניה? אז מתקבלת מטריצה משולשית עליונה ולא תחתונה, אבל הדטרמיננטה היא עדיין 1… ובכן… ממש מוזר אבל נראה שלא משנה איך נבצע אותה, הפעולה “לקחת שורה אחת, לכפול אותה במספר כלשהו, ולחבר לשורה אחרת” פשוט &lt;strong&gt;לא משנה &lt;/strong&gt;את הדטרמיננטה של &lt;span&gt;\( B \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;בואו ניקח את &lt;span&gt;\( B \)&lt;/span&gt; שחישבתי קודם, זו שבה חיסרתי את פעמיים השורה הראשונה מהשניה, ונכפול אותה ב-&lt;span&gt;\( A \)&lt;/span&gt; המקורית. נקבל:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left[\begin{array}{ccc} 1 &amp;amp; 0 &amp;amp; 0\\ -2 &amp;amp; 1 &amp;amp; 0\\ 0 &amp;amp; 0 &amp;amp; 1 \end{array}\right]\left[\begin{array}{ccc} 2 &amp;amp; 8 &amp;amp; 3\\ 4 &amp;amp; 9 &amp;amp; 1\\ 3 &amp;amp; 3 &amp;amp; 3 \end{array}\right]=\left[\begin{array}{ccc} 2 &amp;amp; 8 &amp;amp; 3\\ 0 &amp;amp; -7 &amp;amp; -5\\ 3 &amp;amp; 3 &amp;amp; 3 \end{array}\right] \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כלומר הטריק עבד שוב: ההכפלה ב-&lt;span&gt;\( B \)&lt;/span&gt; הייתה בדיוק בעלת האפקט של “קח את השורה הראשונה של &lt;span&gt;\( A \)&lt;/span&gt;, כפול במינוס 2, חבר לשורה השניה” ולכן הטריק של הדטרמיננטה של המכפלה מספר לנו שבמקרה הזה, גם הדטרמיננטה של &lt;span&gt;\( A \)&lt;/span&gt; לא תשתנה. זה נכון באופן כללי: הפעולה “קח שורה כלשהי, והוסף אותה כשהיא מוכפלת בסקלר לאחת השורות האחרות” &lt;strong&gt;לא משנה את הדטרמיננטה&lt;/strong&gt;. אף פעם.&lt;/p&gt;

&lt;p&gt;אבל עכשיו בואו ותראו מה קרה. מהמטריצה &lt;span&gt;\( A \)&lt;/span&gt; המסובכת קיבלתי גרסה חדשה של &lt;span&gt;\( A \)&lt;/span&gt;, עם אותה דטרמיננטה, אבל שנראית יותר פשוטה: יש בה 0 באחד המקומות. זה לא קרה בטעות: אני הסתכלתי על &lt;span&gt;\( A \)&lt;/span&gt;, ראיתי שבעמודה הראשונה, יש בשורה הראשונה 2 ובשורה השניה 4 ושאלתי את עצמי “במה אני צריך לכפול את 2 כדי שאחרי שאחבר אותו אל 4 אקבל 0?” וזה היה בדיוק &lt;span&gt;\( -2 \)&lt;/span&gt; אז זה מה שעשיתי. עכשיו נעשה את זה במקרה המלוכלך יותר, של השורה השלישית: בשורה השניה יש 2, בשלישית יש &lt;span&gt;\( 3 \)&lt;/span&gt;, אז אני צריך לכפול ב-&lt;span&gt;\( -\frac{3}{2} \)&lt;/span&gt;. זה אולי יגרום לכל המספרים שמופיעים בשורה השלישית במטריצה להיות שברים מעיקים, אבל לא אכפת לי! אני אעשה את זה! הנה!&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left[\begin{array}{ccc} 2 &amp;amp; 8 &amp;amp; 3\\ 0 &amp;amp; -7 &amp;amp; -5\\ 0 &amp;amp; -9 &amp;amp; -\frac{3}{2} \end{array}\right] \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו אנחנו מאוד קרובים למטריצה משולשית - רק ה-&lt;span&gt;\( -9 \)&lt;/span&gt; בשורה השלישית מפריע לנו. אני יכול להעלים אותו על ידי כפל השורה השניה ב-&lt;span&gt;\( -\frac{9}{7} \)&lt;/span&gt; וחיבור שלה לשלישית, ואני אקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left[\begin{array}{ccc} 2 &amp;amp; 8 &amp;amp; 3\\ 0 &amp;amp; -7 &amp;amp; -5\\ 0 &amp;amp; 0 &amp;amp; \frac{69}{14} \end{array}\right] \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;קיבלתי על האלכסון את המספר &lt;span&gt;\( \frac{69}{14} \)&lt;/span&gt;. זה לא נראה טוב. זה נראה כמו שבר משובר. זה בעצם העונש שלי על שתי פעולות של איפוס איברים שעשיתי “בכוח”, על ידי זה שהיה לי &lt;span&gt;\( a \)&lt;/span&gt; בכניסה אחת ו-&lt;span&gt;\( b \)&lt;/span&gt; בכניסה אחרת וכפלתי ב-&lt;span&gt;\( -\frac{b}{a} \)&lt;/span&gt; וחיברתי, בלי שיהיה איזה צמצום נחמד שמערב את &lt;span&gt;\( a,b \)&lt;/span&gt;. זו גם בדיוק הנקודה שלי: לא צריך שדברים יסתדרו “יפה”. אפשר פשוט לעשות את זה בכוח - או טוב יותר, לתת למחשב לעשות את זה. למחשב לא אכפת אם החישובים הם מכוערים, הוא פשוט יעשה את זה.&lt;/p&gt;

&lt;p&gt;וכעת, כדי לקבל את הדטרמיננטה של המטריצה המקורית, כל מה שנשאר לעשות הוא לכפול את האיברים שעל האלכסון ולקבל ש…&lt;span&gt;\( 2\cdot\left(-7\right)\cdot\frac{69}{14}=-69 \)&lt;/span&gt;. הא. קיבלנו בסופו של דבר דטרמיננטה שהיא לא שבר אלא מספר שלם נחמד. זה לא באמת מפתיע, אם חושבים על זה - בהגדרה שנתתי לדטרמיננטה (וגם בהגדרות התיאורטיות יותר) לא מעורב חילוק - יש לנו סכומים של מכפלות של האיברים שבתוך המטריצה, כך שאם כולם היו מספרים שלמים, גם הדטרמיננטה תצא מספר שלם.&lt;/p&gt;

&lt;p&gt;מכאן מגיעה בעצם המוטביציה העכשווית שלי לפוסט הזה ופוסט ההמשך; מבלי להיכנס לפרטים (שיגיעו בפוסט הבא), הגעתי לסיטואציה שבה אני באמת נזקק לחישוב דטרמיננטה של מטריצה; מטריצה &lt;span&gt;\( 6\times6 \)&lt;/span&gt; עם ערכים שהם מספרים שלמים, אבל גדולים למדי (נאמר, בני 15 ספרות). הדבר הראשון שעשיתי היה להשתמש בספריה של פייתון לחישובים מתמטיים שנקראת numpy והיא כשלה באופן מחפיר כי רמת הדיוק שלה הייתה מוגבלת והמספרים היו גדולים מדי עבורה; התוצאה שקיבלתי לא הייתה קירוב טוב של הדטרמיננטה שציפיתי לקבל אלא מספר לא קשור בעליל. מה שמייד אמרתי לעצמי הוא “אה-הא! הבעיה היא שהכנסתי שברים לתמונה! אני אחפש אלגוריתם שבמקרה של מטריצה עם איברים שלמים לא מתדרדר לסיטואציה שבה כתובים בה שברים” וחיפשתי ואפילו מצאתי אלגוריתם כזה שהוא די מרהיב לטעמי, ומימשתי אותו והכל עבד מצוין. רק מה? גם האלגוריתם הנאיבי שתיארתי בהתחלה עובד מצוין על אותה מטריצת &lt;span&gt;\( 6\times6 \)&lt;/span&gt; כי עבור מטריצות &lt;span&gt;\( 6\times6 \)&lt;/span&gt; זמן הריצה שלו הוא עדיין די סבבה. הלקח הוא תמיד לנסות קודם את הפתרון הנאיבי אלא אם רוצים להיתקל בנושאים מגניבים לפוסט (כמו כן גם גישת ה”לחלק” הייתה עובדת טוב אם הייתי משתמש בספריית פייתון שיודעת לייצר שברים ברמת דיוק אינסופית - ויש כזו ואני באמת משתמש בה מדי פעם).&lt;/p&gt;

&lt;p&gt;בואו נחזור עכשיו לחישוב דטרמיננטה בשיטה שהצגתי. כל מה שראינו עד עכשיו היה דוגמא; בואו נבין מה עושים באופן כללי. אז נניח שיש לנו מטריצה כללית, היא נראית ככה:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( A=\left[\begin{array}{cccc} a_{11} &amp;amp; a_{12} &amp;amp; \cdots &amp;amp; a_{1n}\\ a_{21} &amp;amp; a_{22} &amp;amp; \cdots &amp;amp; a_{2n}\\ \vdots &amp;amp; \vdots &amp;amp; \ddots &amp;amp; \vdots\\ a_{n1} &amp;amp; a_{n2} &amp;amp; \cdots &amp;amp; a_{nn} \end{array}\right] \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אותי מה שמעניין כאן הוא העמודה הראשונה. היעד שלי הוא ליצור מטריצה משולשית עליונה, אז בשביל זה אני רוצה לאפס את כל הכניסות בעמודה הראשונה. את זה אני אעשה בכוח, כפי שתיארתי כבר. כדי לאפס את &lt;span&gt;\( a_{21} \)&lt;/span&gt; אני מחבר לשורה השניה את הראשונה כשהיא מוכפלת ב-&lt;span&gt;\( -\frac{a_{21}}{a_{11}} \)&lt;/span&gt;, בשביל השלישית אני מכפיל ב-&lt;span&gt;\( -\frac{a_{31}}{a_{11}} \)&lt;/span&gt; וכן הלאה. אני אקבל:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( A=\left[\begin{array}{cccc} a_{11} &amp;amp; a_{12} &amp;amp; \cdots &amp;amp; a_{1n}\\ 0 &amp;amp; \frac{a_{22}a_{11}-a_{21}a_{12}}{a_{11}} &amp;amp; \cdots &amp;amp; \frac{a_{2n}a_{11}-a_{21}a_{1n}}{a_{11}}\\ \vdots &amp;amp; \vdots &amp;amp; \ddots &amp;amp; \vdots\\ 0 &amp;amp; \frac{a_{n2}a_{11}-a_{n1}a_{12}}{a_{11}} &amp;amp; \cdots &amp;amp; \frac{a_{nn}a_{11}-a_{n1}a_{1n}}{a_{11}} \end{array}\right] \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;החל מהנקודה הזו, העמודה והשורה הראשונות לא מעניינות אותי יותר. הרי אם אני אתחיל לפתח את הדטרמיננטה על פי העמודה הראשונה, אני אקבל שהיא שווה ל-&lt;span&gt;\( a_{11} \)&lt;/span&gt; כפול הדטרמיננטה של מה שמתקבל ממחיקת השורה והעמודה הראשונה. אז נמחק אותן ונטפל ביתר המטריצה על פי אותו עיקרון, עד שנסיים לטפל בכל העמודות. אם כן, האם סיימנו? לא, בגלל שהתעלמתי מבעיה אחת שיכולה לצוץ: מה אם &lt;span&gt;\( a_{11}=0 \)&lt;/span&gt;?&lt;/p&gt;

&lt;p&gt;במקרה הזה, יש שתי אפשרויות: או ש&lt;strong&gt;כל&lt;/strong&gt; האיברים בעמודה הראשונה הם אפס, ובמקרה הזה הדטרמיננטה של המטריצה היא אפס; או שיש איבר כלשהו ששונה מאפס. במקרה השני, &lt;strong&gt;נחליף&lt;/strong&gt; את השורה של האיבר הזה עם השורה הראשונה הנוכחית, ונזכור שזה “עלה לנו” בהכפלת הדטרמיננטה הכוללת ב-&lt;span&gt;\( -1 \)&lt;/span&gt; (ואם נחליף עוד שורות בהמשך זה עשוי לבטל את זה).&lt;/p&gt;

&lt;p&gt;האם האלגוריתם הזה יעיל? בהחלט. כדי לחשב דטרמיננטה של מטריצה מסדר &lt;span&gt;\( n\times n \)&lt;/span&gt; אנחנו צריכים לבצע בערך &lt;span&gt;\( n^{2} \)&lt;/span&gt; פעולות חשבוניות, ואחריהן לחשב דטרמיננטה של מטריצה &lt;strong&gt;אחת&lt;/strong&gt; מסדר &lt;span&gt;\( \left(n-1\right)\times\left(n-1\right) \)&lt;/span&gt;, כלומר אם אנחנו מחפשים הערכה גסה לזמן הריצה היא תהיה &lt;span&gt;\( n^{2}+\left(n-1\right)^{2}+\ldots+1^{2} \)&lt;/span&gt; וזה בערך מסדר גודל של &lt;span&gt;\( n^{3} \)&lt;/span&gt; - משמעותית יותר טוב מזמן ריצה אקספוננציאלי (אבל זה &lt;strong&gt;עדיין&lt;/strong&gt; זמן ריצה בעייתי עבור מטריצות ענק, ולכן יש כאן פתח לעולם שלם של אופטימיזציות שאני לא אדבר עליו).&lt;/p&gt;

&lt;p&gt;כשאני בא לממש את הדבר הזה בפועל, אני לא אטרח לממש רקורסיה כי זה סתם בזבזני (קריאה לפונקציה תמיד דורשת אקסטרה זמן ומשאבים), את כל השינויים אפשר לבצע כבר ברמת המטריצה המקורית. הנה קוד שעושה את העבודה:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;det&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# go over all columns k=0,1,...,n-1
&lt;/span&gt;    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;k&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
                    &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;# go over all rows i=k+1,k+2,...,n-1
&lt;/span&gt;        &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;factor&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;# go over all the nonzero elements in row i
&lt;/span&gt;            &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;factor&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;אז זו הדרך הרגילה לחישוב דטרמיננטות; בפוסט הבא נראה משהו קצת שונה.&lt;/p&gt;</content><author><name></name></author><category term="דטרמיננטה" /><summary type="html">כאשר לומדים אלגברה לינארית, מושג הדטרמיננטה צץ בשלב זה או אחר. לפעמים מלמדים אותו מהר יחסית ולפעמים מחכים איתו עד שממש חייבים, כדי לא להפחיד אנשים תמימים, אבל הוא תמיד שם - וזה כי דטרמיננטות זה יופי של דבר כשמפסיקים לפחד מהן. יש לי כבר פוסט שמסביר מהי דטרמיננטה, אבל דבר אחד אין שם: איך מחשבים אותה. בפוסט הזה אני רוצה להשלים את החור הזה ולתאר את הדרך הסטנדרטית, שהיא בסך הכל די פשוטה; המוטיבציה שלי מגיעה מכך שלא מזמן נזקקתי לדרך אחרת, שבמובנים מסוימים היא טובה יותר ובמובנים אחרים היא טובה פחות, אבל איתה אחכה לפוסט הבא.</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://gadial.net/assets/img/main/default-card.png" /><media:content medium="image" url="http://gadial.net/assets/img/main/default-card.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">אז מה זה בעצם המספרים הממשיים? (חלק ה’: בונים את המספרים הממשיים עם חתכי דדקינד)</title><link href="http://gadial.net/2024/11/24/real_numbers_construction_dedekind_cuts/" rel="alternate" type="text/html" title="אז מה זה בעצם המספרים הממשיים? (חלק ה&apos;: בונים את המספרים הממשיים עם חתכי דדקינד)" /><published>2024-11-24T00:00:00+00:00</published><updated>2024-11-24T00:00:00+00:00</updated><id>http://gadial.net/2024/11/24/real_numbers_construction_dedekind_cuts</id><content type="html" xml:base="http://gadial.net/2024/11/24/real_numbers_construction_dedekind_cuts/">&lt;h2&gt;מבוא&lt;/h2&gt;

&lt;p&gt;בפוסט הקודם שלי הצגתי את הבניה של קנטור למספרים הממשיים והוכחתי שהיא מקיימת את האקסיומות של שדה סדור שלם. זה היה בסך הכל בסדר, עם כמה קשיים טכניים לא נוראיים. הפעם אני אעשה את זה עם הבניה של דדקינד, וגם זה יהיה בסך הכל בסדר, עם כמה קשיים טכניים לא נוראיים אבל במקומות שונים לגמרי. למשל, בשיטה של קנטור הסתבכתי עם הוכחת אקסיומת השלמות ולעומת זאת כאן זה יהיה כמעט טריוויאלי, ואילו בחתכי דדקינד הגדרת החיבור תהיה פשוטה אבל הגדרת הכפל תהיה גיהנום, להבדיל ממה שקרה אצל קנטור שבו שתי ההגדרות היו די דומות באופי שלהן. זה לא שיש דרך שהיא “טובה יותר”, זו של דדקינד או של קנטור - שתיהן אחלה ושווה להכיר את שתיהן.&lt;/p&gt;

&lt;p&gt;אני אחזור על מה שהצגתי בפוסט הקודם בתורה המטרה שלנו, ממש ברמת ההעתק-הדבק:&lt;/p&gt;

&lt;p&gt;האובייקט הבסיסי שלנו מסומן ב-&lt;span&gt;\( \mathbb{F} \)&lt;/span&gt; והוא פשוט קבוצה. אנחנו אומרים שהוא &lt;strong&gt;שדה&lt;/strong&gt; אם בנוסף ל-&lt;span&gt;\( \mathbb{F} \)&lt;/span&gt; מוגדרות לנו שתי פונקציות בינאריות על &lt;span&gt;\( \mathbb{F} \)&lt;/span&gt; (פונקציות בינאריות: מקבלות שני קלטים ומחזירות פלט אחד) שמסומנות ב-“&lt;span&gt;\( + \)&lt;/span&gt;” וב-“&lt;span&gt;\( \cdot \)&lt;/span&gt;” כך שמתקיימות התכונות הבאות:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;&lt;span&gt;\( \left(A+B\right)+C=A+\left(B+C\right) \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( \left(A\cdot B\right)\cdot C=A\cdot\left(B\cdot C\right) \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( A+B=B+A \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( A\cdot B=B\cdot A \)&lt;/span&gt; &lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( A\cdot\left(B+C\right)=A\cdot B+A\cdot C \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;קיים איבר שמסומן ב-0 כך ש-&lt;span&gt;\( A+0=A \)&lt;/span&gt; לכל &lt;span&gt;\( A \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;לכל &lt;span&gt;\( A \)&lt;/span&gt; קיים איבר שמסומן ב-&lt;span&gt;\( -A \)&lt;/span&gt; ונקרא &lt;strong&gt;הנגדי&lt;/strong&gt; של &lt;span&gt;\( A \)&lt;/span&gt; כך ש-&lt;span&gt;\( A+\left(-A\right)=0 \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;קיים איבר שמסומן ב-&lt;span&gt;\( 1 \)&lt;/span&gt; כך ש-&lt;span&gt;\( 0\ne1 \)&lt;/span&gt; ו-&lt;span&gt;\( A\cdot1=A \)&lt;/span&gt; לכל &lt;span&gt;\( A \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;לכל &lt;span&gt;\( A\ne0 \)&lt;/span&gt; קיים איבר שמסומן ב-&lt;span&gt;\( A^{-1} \)&lt;/span&gt; ונקרא &lt;strong&gt;ההופכי&lt;/strong&gt; של &lt;span&gt;\( A \)&lt;/span&gt; כך ש-&lt;span&gt;\( A\cdot A^{-1}=1 \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;עבור שדה סדור דרשנו בנוסף את הקיום של קבוצה &lt;span&gt;\( P\subseteq\mathbb{F} \)&lt;/span&gt; שאינטואיטיבית אנחנו חושבים על אבריה בתור “המספרים החיוביים” שמקיימת:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;לכל &lt;span&gt;\( A\in\mathbb{F} \)&lt;/span&gt; בדיוק אחד מהבאים מתקיים: או ש-&lt;span&gt;\( A\in P \)&lt;/span&gt;, או ש-&lt;span&gt;\( -A\in P \)&lt;/span&gt;, או ש-&lt;span&gt;\( A=0 \)&lt;/span&gt;.&lt;/li&gt;


&lt;li&gt;אם &lt;span&gt;\( A,B\in P \)&lt;/span&gt; אז &lt;span&gt;\( A+B\in P \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;אם &lt;span&gt;\( A,B\in P \)&lt;/span&gt; אז &lt;span&gt;\( A\cdot B\in P \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;לבסוף, &lt;strong&gt;אקסיומת השלמות&lt;/strong&gt; הייתה האקסיומה הבאה:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;אם &lt;span&gt;\( S\subseteq\mathbb{F} \)&lt;/span&gt; היא קבוצה לא ריקה וחסומה מלעיל, אז &lt;span&gt;\( \sup S \)&lt;/span&gt; קיים.&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;אני לא מסביר לעומק מה כל האקסיומות אומרות כי כבר דיברנו על זה בפירוט בפוסטים הקודמים ועוד נעשה את זה בפירוט בהמשך, כחלק מההוכחות עצמן. בואו נעבור לבניה של דדקינד.&lt;/p&gt;

&lt;h2&gt;הבניה של דדקינד&lt;/h2&gt;

&lt;p&gt;בואו נעשה עוד העתק-הדבק מהפוסט הקודם ואז נחתוך לכיוון דדקינד במקום לכיוון קנטור:&lt;/p&gt;

&lt;p&gt;קנטור ודדקינד לוקחים שניהם בתור נקודת מוצא את הרציונליים, &lt;span&gt;\( \mathbb{Q} \)&lt;/span&gt;, ויש לכך סיבות טובות. ראשית, זה שדה סדור, כלומר אנחנו “כמעט שם” ורק נותרה לנו עוד אקסיומה אחת; אפשר להראות ש-&lt;span&gt;\( \mathbb{Q} \)&lt;/span&gt; יהיה מוכל בכל שדה סדור כך שהוא בסיס טוב לצאת ממנו; ועם הבניה של &lt;span&gt;\( \mathbb{Q} \)&lt;/span&gt; אין לנו שום בעיות והיא די פשוטה.&lt;/p&gt;

&lt;p&gt;מה שדדקינד וקנטור עושים, וזה רעיון מקסים שחוזר על עצמו שוב ושוב במתמטיקה, הוא לבנות את האובייקט החדש &lt;strong&gt;בתור&lt;/strong&gt; האובייקטים הקיים שכרגע חסר בו משהו. דדקינד אומר - יש לנו קבוצות של רציונליים שנראה שאמור להיות להן חסם עליון אבל אין? יופי, הקבוצות הללו &lt;strong&gt;יהיו&lt;/strong&gt; המספר הממשי שהוא החסם העליון הזה. קנטור אומר - יש לנו סדרות קושי שנראה שאמורות להתכנס לאנשהו אבל אין להן גבול? יופי, הסדרות הללו &lt;strong&gt;יהיו&lt;/strong&gt; המספר הממשי שהוא הגבול הזה. זה נראה כמו רמאות גמורה, אבל כשפורטים את זה לפרטים ברור שאין כאן שום רמאות והכל תקין מבחינה פורמלית. גם מבחינה רעיונית אפשר להבין את זה: האובייקט שממנו מתחילים, זה שמצביע על החסר, בעצם כולל את &lt;strong&gt;האינפורמציה&lt;/strong&gt; שנראית לנו רלוונטית עבור המספר החדש; לכן הוא האובייקט הכי מתאים כדי להגדיר את המספר החדש הזה.&lt;/p&gt;

&lt;p&gt;בואו נראה את הדוגמא הקלאסית עם המספר האי-רציונלי &lt;span&gt;\( \sqrt{2}=1.41421\ldots \)&lt;/span&gt;. זה מספר אי רציונלי, אבל יש סדרת מספרים רציונליים פשוטה ששואפת אליו: &lt;span&gt;\( 1,1.4,1.41,1.414,1.4142,1.41421,\ldots \)&lt;/span&gt;. קנטור סוג של הגדיר את &lt;span&gt;\( \sqrt{2} \)&lt;/span&gt; בעזרת הסדרה הזו, ואת זה ראינו בפוסט הקודם ולא אכנס לכך שוב.&lt;/p&gt;

&lt;p&gt;אצל דדקינד אין סדרה אלא קבוצה, הקבוצה &lt;span&gt;\( A=\left\{ q\in\mathbb{Q}\ |\ q&amp;lt;\sqrt{2}\right\}  \)&lt;/span&gt;, אבל התיאור של הקבוצה הזו נראה קצת כמו רמאות כי הוא מניח שאנחנו יודעים מה זה &lt;span&gt;\( \sqrt{2} \)&lt;/span&gt;. דרך אחת לעקוף את הרמאות הזו היא להסתכל על הקבוצה &lt;span&gt;\( \left\{ q\in\mathbb{Q}\ |\ q^{2}&amp;lt;2\right\}  \)&lt;/span&gt; אבל גם זו דרך בעייתית כי מה עם מספר כמו &lt;span&gt;\( \pi \)&lt;/span&gt; שאי אפשר לתאר בצורה פשוטה דומה את כל המספרים שקטנים ממנו? אבל יש גם דרך אחרת. בהינתן מספר רציונלי &lt;span&gt;\( x\in\mathbb{Q} \)&lt;/span&gt; כלשהו אני יכול לכתוב קבוצה &lt;span&gt;\( A_{x}=\left\{ q\in\mathbb{Q}\ |\ q&amp;lt;x\right\}  \)&lt;/span&gt; של כל המספרים שקטנים ממנו (&lt;strong&gt;ולא שווים אליו&lt;/strong&gt;). עכשיו את &lt;span&gt;\( A \)&lt;/span&gt; המקורית שלי אפשר לתאר בעזרת סדרת המספרים שראינו קודם: &lt;span&gt;\( A=A_{1}\cup A_{1.4}\cup A_{1.41}\cup\ldots \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;זה מוביל אותנו לרעיון הכללי מאחורי חתכי דדקינד: קבוצות שנראות באופן כללי כמו משהו מהצורה &lt;span&gt;\( A_{x}=\left\{ q\in\mathbb{Q}\ |\ q&amp;lt;x\right\}  \)&lt;/span&gt;, אפילו אם &lt;span&gt;\( x \)&lt;/span&gt; הוא לא רציונלי. כדי לעשות כזה דבר, מגדירים פורמלית &lt;strong&gt;חתך דדקינד&lt;/strong&gt; בתור קבוצה &lt;span&gt;\( A\subseteq\mathbb{Q} \)&lt;/span&gt; שמקיימת:&lt;/p&gt;

&lt;ol&gt; &lt;li&gt;&lt;span&gt;\( A\ne\emptyset \)&lt;/span&gt; ו-&lt;span&gt;\( A\ne\mathbb{Q} \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;אם &lt;span&gt;\( b&amp;lt;a \)&lt;/span&gt; וגם &lt;span&gt;\( a\in A \)&lt;/span&gt; אז &lt;span&gt;\( b\in A \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;אם &lt;span&gt;\( a\in A \)&lt;/span&gt; אז קיים &lt;span&gt;\( b\in A \)&lt;/span&gt; כך ש-&lt;span&gt;\( a&amp;lt;b \)&lt;/span&gt;&lt;/li&gt;

&lt;/ol&gt;

&lt;p&gt;תכונה 2 אומרת שהחתך “סגור כלפי מטה”: אם מספר כלשהו שייך אליו, אז &lt;strong&gt;כל&lt;/strong&gt; המספרים הרציונליים הקטנים ממנו גם כן שייכים אליו. תכונה 3 אומרת שאין בחתך איבר מקסימלי - מה שמתבטא בסימן אי השוויון בתיאור הלא פורמלי &lt;span&gt;\( A_{x}=\left\{ q\in\mathbb{Q}\ |\ q&amp;lt;x\right\}  \)&lt;/span&gt; שנתתי קודם.&lt;/p&gt;

&lt;p&gt;למה בעצם קוראים לדבר כזה “חתך”? כי אפשר לחשוב עליו כאילו לקחנו את כל ציר המספרים הרציונליים &lt;span&gt;\( \mathbb{Q} \)&lt;/span&gt; ו”חתכנו” אותו עם סכין בנקודה מסוימת, מה שפירק את &lt;span&gt;\( \mathbb{Q} \)&lt;/span&gt; לשתי קבוצות לא ריקות, &lt;span&gt;\( A,Z \)&lt;/span&gt; (זו תכונה 1; &lt;span&gt;\( B \)&lt;/span&gt; לא ריקה כי &lt;span&gt;\( A\ne\mathbb{Q} \)&lt;/span&gt;) כך ש-&lt;span&gt;\( A \)&lt;/span&gt; הוא כל מה שמשמאל לנקודת החיתוך (זו תכונה 2) ו-&lt;span&gt;\( Z \)&lt;/span&gt; הוא כל מה שמימין (זה נובע מכך ש-&lt;span&gt;\( Z \)&lt;/span&gt; היא המשלים של &lt;span&gt;\( A \)&lt;/span&gt;), והרעיון הוא שאם החיתוך היה &lt;strong&gt;בדיוק&lt;/strong&gt; בנקודה רציונלית כלשהי, היא נכנסת אל &lt;span&gt;\( Z \)&lt;/span&gt; ולא אל &lt;span&gt;\( A \)&lt;/span&gt; (זו תכונה 3). בפועל אין לנו צורך לדבר על &lt;span&gt;\( Z \)&lt;/span&gt; במפורש ולכן אני לא אעשה את זה בכלל.&lt;/p&gt;

&lt;p&gt;אם כן, דדקינד מגדיר קבוצה &lt;span&gt;\( \mathbb{F} \)&lt;/span&gt; שכוללת את כל חתכי הדדקינד. עדיין אי אפשר לראות שהיא מקיימת אקסיומות כלשהן כי לא הגדרנו עליה פעולות חיבור וכפל או קבוצת חיוביים &lt;span&gt;\( P \)&lt;/span&gt;, אבל כן אפשר לשים לב לכך ש-&lt;span&gt;\( \mathbb{Q}\subseteq\mathbb{F} \)&lt;/span&gt; במובן האיזומורפיזמי של המילה, כלומר לכל מספר רציונלי &lt;span&gt;\( x\in\mathbb{Q} \)&lt;/span&gt; אפשר להתאים את הקבוצה &lt;span&gt;\( A_{x}=\left\{ q\in\mathbb{Q}\ |\ q&amp;lt;x\right\}  \)&lt;/span&gt; שהראיתי קודם, והקבוצה הזו היא חתך: 1 מתקיים כי &lt;span&gt;\( x-1\in A_{x} \)&lt;/span&gt; ואילו 2 מתקיים כי &lt;span&gt;\( x\notin A_{x} \)&lt;/span&gt;. עבור 3 אנחנו משתמשים בטרנזיטיביות יחס הסדר על הרציונליים: אם &lt;span&gt;\( b&amp;lt;a \)&lt;/span&gt; וגם &lt;span&gt;\( a\in A_{x} \)&lt;/span&gt; אז על פי הגדרה &lt;span&gt;\( a&amp;lt;x \)&lt;/span&gt; ואז מטרנזיטיביות יחס הסדר נקבל &lt;span&gt;\( b&amp;lt;x \)&lt;/span&gt;, כלומר &lt;span&gt;\( b\in A_{x} \)&lt;/span&gt;. עבור &lt;span&gt;\( 4 \)&lt;/span&gt;, בהינתן &lt;span&gt;\( a\in A_{x} \)&lt;/span&gt;, כלומר &lt;span&gt;\( a&amp;lt;x \)&lt;/span&gt;, אז נסמן &lt;span&gt;\( \varepsilon=x-a \)&lt;/span&gt; ונגדיר &lt;span&gt;\( b=a+\frac{\varepsilon}{2} \)&lt;/span&gt; אז &lt;span&gt;\( a&amp;lt;b&amp;lt;x \)&lt;/span&gt; ולכן מצאנו &lt;span&gt;\( b\in A_{x} \)&lt;/span&gt; שמקיים את מה שרצינו.&lt;/p&gt;

&lt;p&gt;בואו נתחיל להוכיח שהבניה של דדקינד מקיימת את תכונות השדה הסדור השלם. בניגוד לפוסט הקודם, כאן אני לא אלך על פי הסדר, כי אני זקוק לתכונות מאוחרות יותר ברשימה כדי להוכיח תכונות מוקדמות יותר.&lt;/p&gt;

&lt;h2&gt;חיבור של חתכי דדקינד&lt;/h2&gt;

&lt;p&gt;עבור השיטה של קנטור עם סדרות קושי, הגדרתי חיבור וכפל ביחד וכמעט באותה צורה. זה לא עובד ככה עבור חתכי דדקינד - כפל הוא פעולה הרבה יותר מורכבת מחיבור, ולכן אני מתחיל מלדבר על חיבור לבד וכפל יצטרף בהמשך. באופן די משמח ההגדרה ה”טבעית” של חיבור עובדת:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;&lt;span&gt;\( A+B\triangleq\left\{ a+b\ |\ a\in A,b\in B\right\}  \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;כלומר, כדי לבנות את החתך שהוא הסכום של &lt;span&gt;\( A \)&lt;/span&gt; ו-&lt;span&gt;\( B \)&lt;/span&gt; אנחנו בונים קבוצה חדשה שהאיברים שלה הם הסכומים של איבר מ-&lt;span&gt;\( A \)&lt;/span&gt; ואיבר מ-&lt;span&gt;\( B \)&lt;/span&gt;; זו הגדרה די נפוצה (למשל, כך גם מגדירים סכומים של מרחבים וקטוריים) אבל עדיין צריך להראות שהיא עובדת - כלומר, ש-&lt;span&gt;\( A+B \)&lt;/span&gt; הוא באמת חתך בעצמו, ושפעולת החיבור היא אסוציאצטיבית וקומוטטיבית.&lt;/p&gt;

&lt;p&gt;עיקר העבודה הוא להראות ש-&lt;span&gt;\( A+B \)&lt;/span&gt; הוא חתך. ראשית, בגלל ש-&lt;span&gt;\( A,B \)&lt;/span&gt; הם חתכים אז הם לא ריקים, כלומר קיימים &lt;span&gt;\( a\in A \)&lt;/span&gt; ו-&lt;span&gt;\( b\in B \)&lt;/span&gt; ולכן &lt;span&gt;\( a+b\in A+B \)&lt;/span&gt; כך ש-&lt;span&gt;\( A+B\ne\emptyset \)&lt;/span&gt;. כדי להוכיח ש-&lt;span&gt;\( A+B\ne\mathbb{Q} \)&lt;/span&gt; צריך להבין שהתכונה הזו אומרת יותר מ”יש איזה איבר בודד שחסר” אלא שחתכים הם &lt;strong&gt;חסומים&lt;/strong&gt;. כלומר, לכל חתך &lt;span&gt;\( A \)&lt;/span&gt;, קיים מספר רציונלי &lt;span&gt;\( q \)&lt;/span&gt; כך שאם &lt;span&gt;\( a\in A \)&lt;/span&gt; אז &lt;span&gt;\( a&amp;lt;q \)&lt;/span&gt; (ולכן גם כל מי שגדול מ-&lt;span&gt;\( q \)&lt;/span&gt; לא ב-&lt;span&gt;\( A \)&lt;/span&gt;). זה לא נובע מ-&lt;span&gt;\( A\ne\mathbb{Q} \)&lt;/span&gt; לבד, אלא מהשילוב של זה עם תכונה 2: כי אם &lt;span&gt;\( A \)&lt;/span&gt; לא חסום, אז בואו ניקח &lt;span&gt;\( q\in\mathbb{Q} \)&lt;/span&gt; &lt;strong&gt;כלשהו&lt;/strong&gt;. מכיוון ש-&lt;span&gt;\( A \)&lt;/span&gt; לא חסום, גם &lt;span&gt;\( q \)&lt;/span&gt; הוא לא חסם שלו, ולכן יש &lt;span&gt;\( a\in A \)&lt;/span&gt; כך ש-&lt;span&gt;\( q&amp;lt;a \)&lt;/span&gt; ותכונה 2 אומרת ש-&lt;span&gt;\( q\in A \)&lt;/span&gt;. זה מוכיח ש-&lt;span&gt;\( A=\mathbb{Q} \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;עכשיו, עבור חתכים &lt;span&gt;\( A,B \)&lt;/span&gt; כלשהם ראינו שיש &lt;span&gt;\( q_{A},q_{B} \)&lt;/span&gt; שהם חסמים מלעיל שלהם - אז הקבוצה &lt;span&gt;\( A+B \)&lt;/span&gt; חסומה על ידי &lt;span&gt;\( q_{A}+q_{B} \)&lt;/span&gt; ובפרט &lt;span&gt;\( q_{A}+q_{B} \)&lt;/span&gt; לא שייך אל &lt;span&gt;\( A+B \)&lt;/span&gt; כך ש-&lt;span&gt;\( A+B\ne\mathbb{Q} \)&lt;/span&gt;. זה מסיים עם תכונה 1.&lt;/p&gt;

&lt;p&gt;נעבור לתכונה 2. ניקח איבר &lt;span&gt;\( a+b \)&lt;/span&gt; כלשהו של &lt;span&gt;\( A+B \)&lt;/span&gt;, ורציונלי &lt;span&gt;\( c \)&lt;/span&gt; כלשהו כך ש-&lt;span&gt;\( c&amp;lt;a+b \)&lt;/span&gt;. אנחנו רוצים להראות שגם &lt;span&gt;\( c\in A+B \)&lt;/span&gt;. אם נחסר את &lt;span&gt;\( b \)&lt;/span&gt; משני האגפים, נקבל &lt;span&gt;\( c-b&amp;lt;a \)&lt;/span&gt;, ומתכונה 2 נובע ש-&lt;span&gt;\( c-b\in A \)&lt;/span&gt; כלומר קיים &lt;span&gt;\( a^{\prime} \)&lt;/span&gt; כך ש-&lt;span&gt;\( c-b=a^{\prime} \)&lt;/span&gt; ולכן &lt;span&gt;\( c=a^{\prime}+b\in A+B \)&lt;/span&gt;. זה מסיים עם תכונה 2.&lt;/p&gt;

&lt;p&gt;תכונה 3 היא די ישירה. אם &lt;span&gt;\( c=a+b \)&lt;/span&gt;, אז מתכונה 3 עבור &lt;span&gt;\( A,B \)&lt;/span&gt; אני יודע שיש &lt;span&gt;\( a&amp;lt;a^{\prime}\in A \)&lt;/span&gt; ו-&lt;span&gt;\( b&amp;lt;b^{\prime}\in B \)&lt;/span&gt; ולכן &lt;span&gt;\( c=a+b&amp;lt;a^{\prime}+b^{\prime}\in A+B \)&lt;/span&gt; (והאמת הייתי מסתדר גם בלי &lt;span&gt;\( b^{\prime} \)&lt;/span&gt; אבל אני אוהב סימטריה).&lt;/p&gt;

&lt;p&gt;נעבור עכשיו לקומוטטיביות ואסוציאטיביות:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;&lt;span&gt;\( A+B=B+A \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( \left(A+B\right)+C=A+\left(B+C\right) \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;בשני המקרים זה נובע מייד מהתכונות התואמות של מספרים רציונליים. עבור קומוטטיביות זה מובן מאליו:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( A+B=\left\{ a+b\ |\ a\in A,b\in B\right\} =\left\{ b+a\ |\ a\in A,b\in B\right\} =B+A \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עבור אסוציאטיביות זה טיפונת יותר טריקי אז אני אעשה את זה בזהירות: נניח ש-&lt;span&gt;\( x\in\left(A+B\right)+C \)&lt;/span&gt;. אז זה אומר שקיימים רציונליים &lt;span&gt;\( c,d \)&lt;/span&gt; כך ש-&lt;span&gt;\( c\in C \)&lt;/span&gt; ו-&lt;span&gt;\( d\in A+B \)&lt;/span&gt; ו-&lt;span&gt;\( x=d+c \)&lt;/span&gt;. עכשיו, מכיוון ש-&lt;span&gt;\( d\in A+B \)&lt;/span&gt; זה אומר שיש רציונליים &lt;span&gt;\( a\in A,b\in B \)&lt;/span&gt; כך ש-&lt;span&gt;\( d=a+b \)&lt;/span&gt;, כלומר &lt;span&gt;\( x=\left(a+b\right)+c \)&lt;/span&gt;. עכשיו נשתמש באסוציאטיביות של החיבור של רציונליים ונקבל &lt;span&gt;\( x=a+\left(b+c\right) \)&lt;/span&gt;. מכיוון ש-&lt;span&gt;\( a\in A \)&lt;/span&gt; וגם &lt;span&gt;\( b+c\in B+C \)&lt;/span&gt; קיבלנו &lt;span&gt;\( x\in A+\left(B+C\right) \)&lt;/span&gt;. זה כיוון אחד, והכיוון השני דומה, אז סיימנו גם עם אסוציאטיביות.&lt;/p&gt;

&lt;p&gt;עכשיו צריך להתמודד עם השאלה הפילוסופית הקשה: מה הוא אפס?&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;קיים איבר שמסומן ב-0 כך ש-&lt;span&gt;\( A+0=A \)&lt;/span&gt; לכל &lt;span&gt;\( A \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;איזה חתך יתאים לתכונה הזו? ובכן, לא ממש צריך לשבור את הראש; עבור מספרים רציונליים אנחנו כבר &lt;strong&gt;יודעים&lt;/strong&gt; מה החתך שאמור להתאים להם, הראיתי את זה קודם. עבור 0 זה החתך &lt;span&gt;\( A_{0}=\left\{ q\in\mathbb{Q}\ |\ q&amp;lt;0\right\}  \)&lt;/span&gt;, כלומר כל המספרים השליליים. רק צריך להראות שבאמת מתקיים &lt;span&gt;\( A+A_{0}=A \)&lt;/span&gt; לכל &lt;span&gt;\( A \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;בואו ניקח &lt;span&gt;\( a\in A \)&lt;/span&gt; כלשהו. אז לרוע המזל אני &lt;strong&gt;לא יכול&lt;/strong&gt; לומר משהו כמו “&lt;span&gt;\( a+0\in A+A_{0} \)&lt;/span&gt; כי &lt;span&gt;\( 0\notin A_{0} \)&lt;/span&gt;. אבל כאן תכונה 3 של חתכים נחלצת לעזרתי: אני יודע שקיים &lt;span&gt;\( b\in A \)&lt;/span&gt; כך ש-&lt;span&gt;\( a&amp;lt;b \)&lt;/span&gt;, ולכן &lt;span&gt;\( a-b&amp;lt;0 \)&lt;/span&gt; ולכן &lt;span&gt;\( a-b\in A_{0} \)&lt;/span&gt; ולכן קיים &lt;span&gt;\( c\in A_{0} \)&lt;/span&gt; כך ש-&lt;span&gt;\( a-b=c \)&lt;/span&gt; ולכן &lt;span&gt;\( a=b+c\in A+A_{0} \)&lt;/span&gt;. כל זה הראה לי ש-&lt;span&gt;\( A\subseteq A+A_{0} \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;בכיוון השני, אם &lt;span&gt;\( x\in A+A_{0} \)&lt;/span&gt; אז קיימים &lt;span&gt;\( a\in A,b\in A_{0} \)&lt;/span&gt; כך ש-&lt;span&gt;\( x=a+b \)&lt;/span&gt;. בגלל ש-&lt;span&gt;\( b\in A_{0} \)&lt;/span&gt; אז &lt;span&gt;\( b&amp;lt;0 \)&lt;/span&gt; ולכן &lt;span&gt;\( x=a+b&amp;lt;a+0=a \)&lt;/span&gt;, ומתכונה 2 של חתכים נקבל ש-&lt;span&gt;\( x\in A \)&lt;/span&gt;, מה שמוכיח ש-&lt;span&gt;\( A+A_{0}\subseteq A \)&lt;/span&gt; ומסיים את ההוכחה ש-&lt;span&gt;\( A+A_{0}=A \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;נשאר רק לטפל באיברים נגדיים:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;לכל &lt;span&gt;\( A \)&lt;/span&gt; קיים איבר שמסומן ב-&lt;span&gt;\( -A \)&lt;/span&gt; ונקרא &lt;strong&gt;הנגדי&lt;/strong&gt; של &lt;span&gt;\( A \)&lt;/span&gt; כך ש-&lt;span&gt;\( A+\left(-A\right)=0 \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;וכאן לצערי הכיף נגמר - ההגדרה הזו תהיה קצת מעצבנת. איך היינו &lt;strong&gt;רוצים&lt;/strong&gt; שההגדרה תלך? מה ההגדרה ה”טבעית”? ובכן, זה קל: &lt;span&gt;\( -A=\left\{ -a\ |\ a\in A\right\}  \)&lt;/span&gt;. אלא שההגדרה הזו היא &lt;strong&gt;קטסטרופה&lt;/strong&gt;. למשל, אם &lt;span&gt;\( A=\left\{ q\in\mathbb{Q}\ |\ q&amp;lt;2\right\}  \)&lt;/span&gt; אז הקבוצה שקראתי לה &lt;span&gt;\( -A \)&lt;/span&gt; תהיה &lt;span&gt;\( \left\{ q\in\mathbb{Q}\ |\ q&amp;gt;-2\right\}  \)&lt;/span&gt;. אינטואיטיבית החלפתי את הקרן האינסופית-לשמאל &lt;span&gt;\( \left(-\infty,2\right) \)&lt;/span&gt; בקרן האינסופית-לימין &lt;span&gt;\( \left(-2,\infty\right) \)&lt;/span&gt;. זה בוודאי לא מה שאני רוצה. מצד שני, הקטע הזה של היפוך קרן מאינסופית-לשמאל אל אינסופית-לימין דווקא יכול לסייע לי: אם אני אסתכל על &lt;span&gt;\( A \)&lt;/span&gt; ואקח את &lt;span&gt;\( \mathbb{Q}\backslash A \)&lt;/span&gt; אני אקבל את הקרן &lt;span&gt;\( [2,\infty( \)&lt;/span&gt;, כך שאם אני הופך &lt;strong&gt;אותה&lt;/strong&gt; בצורה הזו אני מקבל את &lt;span&gt;\( )-\infty,-2] \)&lt;/span&gt;. זה &lt;strong&gt;כמעט&lt;/strong&gt; מה שאני רוצה, ואם הייתי הולך על זה בצורה הזו, ההגדרה הייתה די פשוטה: &lt;span&gt;\( -A=\left\{ q\ |\ -q\notin A\right\}  \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;אבל זה רק &lt;strong&gt;כמעט&lt;/strong&gt; עובד בגלל ש-&lt;span&gt;\( )-\infty,-2] \)&lt;/span&gt; יש לנו את נקודת הקצה הימנית 2 (זו המשמעות של שימוש בסוגריים מרובעים ולא עגולים) ואנחנו לא רוצים שתהיה נקודת קצה - זה סותר את תכונה 3. לכן צריך ללכלך קצת את ההגדרה היפה של &lt;span&gt;\( -A \)&lt;/span&gt; שלי: לא מספיק ש-&lt;span&gt;\( -q \)&lt;/span&gt; לא יהיה ב-&lt;span&gt;\( A \)&lt;/span&gt;; צריך שהוא לא יהיה &lt;strong&gt;המינימלי&lt;/strong&gt; שאינו ב-&lt;span&gt;\( A \)&lt;/span&gt;. כלומר, צריך שמישהו קטן יותר מ-&lt;span&gt;\( -q \)&lt;/span&gt; גם כן לא יהיה ב-&lt;span&gt;\( A \)&lt;/span&gt;, ואת זה אפשר לנסח בתור “קיים &lt;span&gt;\( r&amp;gt;0 \)&lt;/span&gt; כך ש-&lt;span&gt;\( -q-r\notin A \)&lt;/span&gt;”. זה נותן לנו את ההגדרה הפורמלית שלנו:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;&lt;span&gt;\( -A\triangleq\left\{ q\in\mathbb{Q}\ |\ \exists r&amp;gt;0:-q-r\notin A\right\}  \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;וזו… לא הגדרה יפה במיוחד, אין מה לעשות. אבל יש לה יתרון נחמד אחד: היא &lt;strong&gt;עובדת&lt;/strong&gt;. בואו נוכיח שהיא עובדת.&lt;/p&gt;

&lt;p&gt;ראשית, צריך להראות שגם &lt;span&gt;\( -A \)&lt;/span&gt; הוא חתך. כדי להראות ש-&lt;span&gt;\( -A\ne\emptyset \)&lt;/span&gt; צריך למצוא &lt;span&gt;\( q \)&lt;/span&gt; ו-&lt;span&gt;\( r \)&lt;/span&gt; כך ש-&lt;span&gt;\( -q-r\notin A \)&lt;/span&gt;. עכשיו, בגלל ש-&lt;span&gt;\( A \)&lt;/span&gt; חתך אנחנו יודעים ש-&lt;span&gt;\( A\ne\mathbb{Q} \)&lt;/span&gt; אז יש &lt;span&gt;\( p\notin A \)&lt;/span&gt; וכזכור, גם כל מי שגדול מ-&lt;span&gt;\( p \)&lt;/span&gt; לא שייך ל-&lt;span&gt;\( A \)&lt;/span&gt; בגלל תכונה 2. אז נגדיר &lt;span&gt;\( r=1 \)&lt;/span&gt; ו-&lt;span&gt;\( q=-p-1 \)&lt;/span&gt; ונקבל ש-&lt;span&gt;\( -q-r=-q-1=p+1-1=p \)&lt;/span&gt; ולכן &lt;span&gt;\( q\in-A \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;כדי להראות ש-&lt;span&gt;\( -A\ne\mathbb{Q} \)&lt;/span&gt; נשתמש בזה ש-&lt;span&gt;\( A\ne\emptyset \)&lt;/span&gt; ולכן יש &lt;span&gt;\( a\in A \)&lt;/span&gt; ופשוט נגדיר &lt;span&gt;\( q=-a \)&lt;/span&gt;. אנחנו יודעים שלכל &lt;span&gt;\( r&amp;gt;0 \)&lt;/span&gt;, &lt;span&gt;\( -q-r&amp;lt;a \)&lt;/span&gt; ולכן מתכונה 2, &lt;span&gt;\( -q-r\in A \)&lt;/span&gt;, כך שלא ייתכן ש-&lt;span&gt;\( q\in-A \)&lt;/span&gt;. זה מסיים עם הוכחת תכונה 1 של חתכים עבור &lt;span&gt;\( -A \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;עבור תכונה 2, נניח ש-&lt;span&gt;\( q\in-A \)&lt;/span&gt; ו-&lt;span&gt;\( b&amp;lt;q \)&lt;/span&gt;. עכשיו, אנחנו יודעים שקיים &lt;span&gt;\( r&amp;gt;0 \)&lt;/span&gt; כך ש-&lt;span&gt;\( -q-r\notin A \)&lt;/span&gt; אז בואו נגדיל את &lt;span&gt;\( r \)&lt;/span&gt; הזה קצת כדי שיעבוד גם עבור &lt;span&gt;\( -b \)&lt;/span&gt;: נגדיר &lt;span&gt;\( r^{\prime}=r+\left(q-b\right) \)&lt;/span&gt;, אז גם &lt;span&gt;\( r^{\prime}&amp;gt;0 \)&lt;/span&gt; כי &lt;span&gt;\( b&amp;lt;q \)&lt;/span&gt;, וכעת&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( -b-r^{\prime}=-b-\left(r+\left(q-b\right)\right)=-q-r\notin A \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אז קיבלנו שגם &lt;span&gt;\( b\in-A \)&lt;/span&gt;, כפי שצריך.&lt;/p&gt;

&lt;p&gt;נשארה רק תכונה 3. נניח ש-&lt;span&gt;\( q\in-A \)&lt;/span&gt; ונמצא &lt;span&gt;\( b\in-A \)&lt;/span&gt; כך ש-&lt;span&gt;\( q&amp;lt;b \)&lt;/span&gt;. זה הולך להיות די קל: בגלל ש-&lt;span&gt;\( q\in-A \)&lt;/span&gt; קיים &lt;span&gt;\( r&amp;gt;0 \)&lt;/span&gt; כך ש-&lt;span&gt;\( -q-r\notin A \)&lt;/span&gt;. לפני רגע &lt;strong&gt;הגדלנו&lt;/strong&gt; את &lt;span&gt;\( r \)&lt;/span&gt;, עכשיו בואו &lt;strong&gt;נקטין&lt;/strong&gt; אותו: נגדיר &lt;span&gt;\( r^{\prime}=\frac{r}{2} \)&lt;/span&gt; (&lt;span&gt;\( r^{\prime} \)&lt;/span&gt; הוא רציונלי כי הוא חלוקה של המספר הרציונלי &lt;span&gt;\( r \)&lt;/span&gt; ב-2). עכשיו נסתכל על &lt;span&gt;\( q^{\prime}=q+r^{\prime} \)&lt;/span&gt;: מתקיים &lt;span&gt;\( q&amp;lt;q^{\prime} \)&lt;/span&gt;, וכמו כן &lt;span&gt;\( -q^{\prime}-\frac{r}{2}=-q-r\notin A \)&lt;/span&gt; ולכן &lt;span&gt;\( q^{\prime}\in-A \)&lt;/span&gt;, וסיימנו את ההוכחה ש-&lt;span&gt;\( -A \)&lt;/span&gt; הוא חתך.&lt;/p&gt;

&lt;p&gt;מה שעדיין נותר לנו להראות הוא שמתקיים &lt;span&gt;\( A+\left(-A\right)=0 \)&lt;/span&gt;. כלומר, שאם ניקח &lt;span&gt;\( x\in A \)&lt;/span&gt; ו-&lt;span&gt;\( y\in-A \)&lt;/span&gt; ונסתכל על הסכום שלהם &lt;span&gt;\( x+y \)&lt;/span&gt; הוא בהכרח יהיה מספר שלילי, &lt;span&gt;\( x+y&amp;lt;0 \)&lt;/span&gt;. כלומר, אני צריך להראות ש-&lt;span&gt;\( x&amp;lt;-y \)&lt;/span&gt;. עכשיו, על &lt;span&gt;\( -y \)&lt;/span&gt; אני יודע דברים כי &lt;span&gt;\( y\in-A \)&lt;/span&gt;: ספציפית, אני יודע שקיים &lt;span&gt;\( r&amp;gt;0 \)&lt;/span&gt; כך ש-&lt;span&gt;\( -y-r\notin A \)&lt;/span&gt; וכאן כדאי לחשוב על &lt;span&gt;\( \notin A \)&lt;/span&gt; בתור “גדול מכל אברי &lt;span&gt;\( A \)&lt;/span&gt;” (כי כזכור, זה מה שתכונה 2 אומרת). כלומר, &lt;span&gt;\( x&amp;lt;-y-r&amp;lt;-y \)&lt;/span&gt; (אי השוויון הימני נובע מכך ש-&lt;span&gt;\( r&amp;gt;0 \)&lt;/span&gt;), וזה מה שרציתי.&lt;/p&gt;

&lt;p&gt;יפה מאוד, התקדמנו! סיימנו עם כל האקסיומות שנוגעות לפעולת החיבור לבדה (עדיין יש לנו דיסטריביוטיביות שמערבת חיבור וכפל). לאן עכשיו? עכשיו אנחנו יכולים לדבר על &lt;strong&gt;סדר&lt;/strong&gt;.&lt;/p&gt;

&lt;h2&gt;אקסיומות השדה הסדור ואקסיומת השלמות&lt;/h2&gt;

&lt;p&gt;כשעובדים עם חתכי דדקינד, קל להגדיר את יחס הסדר &lt;span&gt;\( A&amp;lt;B \)&lt;/span&gt; בצורה מפורשת: &lt;span&gt;\( A&amp;lt;B \)&lt;/span&gt; אם ורק אם &lt;span&gt;\( A\subset B \)&lt;/span&gt;, כקבוצות. אבל אני לא אנקוט בגישה הזו אלא אשאר נאמן לתיאור אקסיומות השדה דרך הקבוצה &lt;span&gt;\( P \)&lt;/span&gt; - קבוצת האיברים החיוביים. אני צריך להגדיר אותה, ואז להוכיח שתי אקסיומות:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;לכל &lt;span&gt;\( A\in\mathbb{F} \)&lt;/span&gt; בדיוק אחד מהבאים מתקיים: או ש-&lt;span&gt;\( A\in P \)&lt;/span&gt;, או ש-&lt;span&gt;\( -A\in P \)&lt;/span&gt;, או ש-&lt;span&gt;\( A=0 \)&lt;/span&gt;.&lt;/li&gt;


&lt;li&gt;אם &lt;span&gt;\( A,B\in P \)&lt;/span&gt; אז &lt;span&gt;\( A+B\in P \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;אלו האקסיומות שאפשר לנסח עם חיבור בלבד; בשביל האחרונה אנחנו צריכים גם כפל, אז נשמור אותה עד אחרי הגדרת הכפל.&lt;/p&gt;

&lt;p&gt;מה &lt;span&gt;\( P \)&lt;/span&gt; צריך להיות? אינטואיטיבית, זה כל ה-&lt;span&gt;\( A \)&lt;/span&gt;-ים שמקיימים &lt;span&gt;\( 0&amp;lt;A \)&lt;/span&gt;, כלומר כל ה-&lt;span&gt;\( A \)&lt;/span&gt;-ים ש”נקודת הקצה הימנית” שלהם גדולה מ-0. עכשיו, כזכור &lt;span&gt;\( 0 \)&lt;/span&gt; מיוצג אצלנו על ידי החתך &lt;span&gt;\( A_{0}=\left\{ q\in\mathbb{Q}\ |\ q&amp;lt;0\right\}  \)&lt;/span&gt; אז כל מי שגדול ממנו הולך להכיל את 0; למה לא להגדיר את &lt;span&gt;\( P \)&lt;/span&gt; ככה?&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;&lt;span&gt;\( P=\left\{ A\in\mathbb{F}\ |\ 0\in A\right\}  \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;כאשר בהגדרה של &lt;span&gt;\( P \)&lt;/span&gt; 0 הוא כמובן המספר הרציונלי 0 ולא החתך &lt;span&gt;\( A_{0} \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;עכשיו בואו נוכיח את הטריכוטומיה: ניקח &lt;span&gt;\( A \)&lt;/span&gt;. נניח ש-&lt;span&gt;\( A\ne0 \)&lt;/span&gt;, אז יש שתי אפשרויות:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;או שיש &lt;span&gt;\( a\in A \)&lt;/span&gt; שמקיים &lt;span&gt;\( 0&amp;lt;a \)&lt;/span&gt;, ולכן מתכונה 2 של חתכים &lt;span&gt;\( 0\in A \)&lt;/span&gt; ולכן &lt;span&gt;\( A\in P \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;או שלכל &lt;span&gt;\( a\in A \)&lt;/span&gt; מתקיים &lt;span&gt;\( a&amp;lt;0 \)&lt;/span&gt;. במקרה הזה, בגלל ש-&lt;span&gt;\( A\ne0 \)&lt;/span&gt; ו&lt;strong&gt;כל&lt;/strong&gt; האיברים של 0 הם שליליים, אז קיים &lt;span&gt;\( q&amp;lt;0 \)&lt;/span&gt; כך ש-&lt;span&gt;\( q\notin A \)&lt;/span&gt;. איך זה עוזר לי? אני רוצה להוכיח ש-&lt;span&gt;\( -A\in P \)&lt;/span&gt;, כלומר ש-&lt;span&gt;\( 0\in-A \)&lt;/span&gt;, כלומר שקיים &lt;span&gt;\( r&amp;gt;0 \)&lt;/span&gt; כך ש-&lt;span&gt;\( -0-r\notin A \)&lt;/span&gt;, אז אני פשוט אגדיר &lt;span&gt;\( r=-q \)&lt;/span&gt; וסיימתי.&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;זה היה פשוט; מה בדבר חיבור של חיוביים שאמור לצאת גם כן חיובי? זה אפילו עוד יותר קל: אם &lt;span&gt;\( A,B\in P \)&lt;/span&gt; אז &lt;span&gt;\( 0\in A,0\in B \)&lt;/span&gt; ולכן &lt;span&gt;\( 0=0+0\in A+B \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;אם כן, מה עוד נשאר לנו? ראשית, בואו ניזכר במה שאמרתי קודם: הייתי יכול להגדיר את &lt;span&gt;\( A&amp;lt;B \)&lt;/span&gt; על ידי &lt;span&gt;\( A\subset B \)&lt;/span&gt;. האמנם? ראשית, שימו לב שלכל שני חתכים &lt;span&gt;\( A,B \)&lt;/span&gt; או שמתקיים &lt;span&gt;\( A\subseteq B \)&lt;/span&gt; או שמתקיים &lt;span&gt;\( B\subseteq A \)&lt;/span&gt;. למה? ובכן, אם &lt;span&gt;\( A\ne B \)&lt;/span&gt; אז בלי הגבלת הכלליות, יש &lt;span&gt;\( b\in B \)&lt;/span&gt; כך ש-&lt;span&gt;\( b\notin A \)&lt;/span&gt;. עכשיו, אם היה &lt;span&gt;\( a\in A \)&lt;/span&gt; כך ש-&lt;span&gt;\( b&amp;lt;a \)&lt;/span&gt; אז מתכונה 2 היינו מקבלים ש-&lt;span&gt;\( b\in A \)&lt;/span&gt;; מכאן שלכל &lt;span&gt;\( a\in A \)&lt;/span&gt; מתקיים &lt;span&gt;\( a&amp;lt;b \)&lt;/span&gt; אבל אז מתכונה 2 נובע ש-&lt;span&gt;\( a\in B \)&lt;/span&gt; לכל &lt;span&gt;\( a\in A \)&lt;/span&gt;, כלומר &lt;span&gt;\( A\subseteq B \)&lt;/span&gt;. אז אנחנו יודעים שתמיד יש יחס של הכלה בין הקבוצות, אבל למה הוא תואם את יחס הסדר? אם &lt;span&gt;\( A\subset B \)&lt;/span&gt; אז ניקח &lt;span&gt;\( b\in B \)&lt;/span&gt; כך ש-&lt;span&gt;\( b\notin A \)&lt;/span&gt;. מתכונה 3 של חתכים, קיים &lt;span&gt;\( c\in B \)&lt;/span&gt; כך ש-&lt;span&gt;\( b&amp;lt;c \)&lt;/span&gt;. נסמן &lt;span&gt;\( r=c-b \)&lt;/span&gt; וקיבלנו ש-&lt;span&gt;\( c-r=b\notin A \)&lt;/span&gt;, כלומר &lt;span&gt;\( -c\in-A \)&lt;/span&gt;, כך ש-&lt;span&gt;\( 0=c-c\in B-A \)&lt;/span&gt; ולכן &lt;span&gt;\( B-A\in P \)&lt;/span&gt;, כלומר &lt;span&gt;\( A&amp;lt;B \)&lt;/span&gt;. הכיוון ההפוך (&lt;span&gt;\( A&amp;lt;B \)&lt;/span&gt; גורר &lt;span&gt;\( A\subset B \)&lt;/span&gt;) דומה.&lt;/p&gt;

&lt;p&gt;יופי. איך זה עוזר לנו? ובכן, בניגוד למה שהלך בבניה של קנטור, כאן אנחנו הולכים להוכיח את אקסיומת השלמות די בקלות בזכות התכונה הזו. כדאי להזכיר גם כאן, כמו שעשיתי אצל קנטור, למה התכונה הזו לא נובעת מאליה - הרי מראש &lt;strong&gt;בניתי&lt;/strong&gt; את החתכים בתור קבוצות של של איברים שמגיעים “עד” החסם העליון שלהם; אבל העניין הוא שבניתי קבוצות של &lt;strong&gt;מספרים רציונליים&lt;/strong&gt; ואילו אקסיומת השלמות עכשיו אומרת משהו לא על רציונליים, אלא על קבוצות של ממשיים, כלומר על &lt;strong&gt;קבוצות של חתכים&lt;/strong&gt;. בנסיון לפתור בעיה עם קבוצות של רציונליים, יצרתי בעיה קשה יותר, שמערבת קבוצות של חתכים ולא סתם של רציונליים; אלא שהבניה שלי חזקה מספיק כדי להתמודד עם זה.&lt;/p&gt;

&lt;p&gt;מה שאני צריך להוכיח הוא&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;אם &lt;span&gt;\( S\subseteq\mathbb{F} \)&lt;/span&gt; היא קבוצה לא ריקה וחסומה מלעיל, אז &lt;span&gt;\( \sup S \)&lt;/span&gt; קיים.&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;בהינתן &lt;span&gt;\( S \)&lt;/span&gt; כזו, איך אני אבנה פורמלית את החתך שיהיה &lt;span&gt;\( \sup S \)&lt;/span&gt;? אצל קנטור הבניה שלי הייתה די מסובכת, אבל כאן הבניה היא טריוויאלית לגמרי, ותהיה מאוד מוכרת לכל מי שלמדו קורס בתורת הקבוצות: נגדיר &lt;span&gt;\( B=\bigcup S \)&lt;/span&gt;, כלומר &lt;span&gt;\( B \)&lt;/span&gt; היא הקבוצה שאבריה הם האיחוד של כל קבוצות &lt;span&gt;\( S \)&lt;/span&gt;; &lt;span&gt;\( a\in B \)&lt;/span&gt; אם ורק אם קיים &lt;span&gt;\( A\in S \)&lt;/span&gt; כך ש-&lt;span&gt;\( a\in A \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;כרגיל, השאלה הראשונה אחרי בניה כזו היא למה &lt;span&gt;\( B \)&lt;/span&gt; הוא חתך בכלל. הוא לא ריק כי הוא איחוד של קבוצות לא ריקות (זכרו ש-&lt;span&gt;\( S \)&lt;/span&gt; לא ריקה אז היא כוללת לפחות חתך אחד, והוא לא ריק כי הוא חתך). למה ש-&lt;span&gt;\( B \)&lt;/span&gt; לא יהיה כל &lt;span&gt;\( \mathbb{Q} \)&lt;/span&gt;? כאן נכנסת הדרישה ש-&lt;span&gt;\( S \)&lt;/span&gt; תהיה חסומה מלעיל. כלומר, קיים חתך &lt;span&gt;\( C \)&lt;/span&gt; כך ש-&lt;span&gt;\( A\le C \)&lt;/span&gt; לכל &lt;span&gt;\( A\in S \)&lt;/span&gt; , ולכן כפי שראינו &lt;span&gt;\( A\subseteq C \)&lt;/span&gt; לכל &lt;span&gt;\( A\in S \)&lt;/span&gt; כך שגם &lt;span&gt;\( B\subseteq C \)&lt;/span&gt;, אבל מכיוון ש-&lt;span&gt;\( C \)&lt;/span&gt; הוא חתך אז &lt;span&gt;\( C\ne\mathbb{Q} \)&lt;/span&gt; וזה גורר שגם &lt;span&gt;\( B\ne\mathbb{Q} \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;כדי לראות סגירות כלפי מטה, נניח ש-&lt;span&gt;\( b\in B \)&lt;/span&gt; וניקח &lt;span&gt;\( a&amp;lt;b \)&lt;/span&gt; כלשהו. מכיוון ש-&lt;span&gt;\( b\in B \)&lt;/span&gt; אז קיים &lt;span&gt;\( A\in S \)&lt;/span&gt; כך ש-&lt;span&gt;\( b\in A \)&lt;/span&gt;, ומכיוון ש-&lt;span&gt;\( a&amp;lt;b \)&lt;/span&gt; ו-&lt;span&gt;\( A \)&lt;/span&gt; חתך אז &lt;span&gt;\( a\in A \)&lt;/span&gt; ומכיוון ש-&lt;span&gt;\( A\subseteq B \)&lt;/span&gt; אז &lt;span&gt;\( a\in B \)&lt;/span&gt; - טיעון תורת-קבוצתי סטנדרטי ופשוט. אותו הדבר עבור תכונה 3: מכיוון ש-&lt;span&gt;\( b\in A \)&lt;/span&gt; אז מתכונה 3 עבור &lt;span&gt;\( A \)&lt;/span&gt; קיים &lt;span&gt;\( a\in A \)&lt;/span&gt; כך ש-&lt;span&gt;\( b&amp;lt;a \)&lt;/span&gt;, ומכיוון ש-&lt;span&gt;\( a\in B \)&lt;/span&gt; סיימנו. אז &lt;span&gt;\( B \)&lt;/span&gt; הוא חתך; רק נשאר להראות שהוא חסם עליון של &lt;span&gt;\( S \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;זה ש-&lt;span&gt;\( B \)&lt;/span&gt; הוא חסם &lt;strong&gt;מלעיל&lt;/strong&gt; זה ברור: &lt;span&gt;\( A\subseteq B \)&lt;/span&gt; לכל &lt;span&gt;\( A\in S \)&lt;/span&gt; ולכן &lt;span&gt;\( A\le B \)&lt;/span&gt; לכל &lt;span&gt;\( A\in S \)&lt;/span&gt;, וזו בדיוק ההגדרה של חסם מלעיל. רק נותר להראות ש-&lt;span&gt;\( B \)&lt;/span&gt; היא החסם מלעיל המינימלי. אז בואו ניקח חתך &lt;span&gt;\( C \)&lt;/span&gt; &lt;strong&gt;כלשהו&lt;/strong&gt; כך ש-&lt;span&gt;\( C&amp;lt;B \)&lt;/span&gt;, כלומר &lt;span&gt;\( C\subset B \)&lt;/span&gt;. זה אומר שיש &lt;span&gt;\( b\in B \)&lt;/span&gt; כך ש-&lt;span&gt;\( b\notin C \)&lt;/span&gt;, כלומר קיים &lt;span&gt;\( A\in S \)&lt;/span&gt; כך ש-&lt;span&gt;\( b\in A \)&lt;/span&gt; עכשיו, תזכרו מה ראינו קודם: בהכרח מתקיים &lt;span&gt;\( A\subseteq C \)&lt;/span&gt; או &lt;span&gt;\( C\subseteq A \)&lt;/span&gt;. מכיוון שיש ב-&lt;span&gt;\( A \)&lt;/span&gt; איבר שאין ב-&lt;span&gt;\( C \)&lt;/span&gt;, מה שחייב לקרות הוא &lt;span&gt;\( C\subset A \)&lt;/span&gt;, כלומר &lt;span&gt;\( C&amp;lt;A \)&lt;/span&gt; ולכן &lt;span&gt;\( C \)&lt;/span&gt; אינו חסם מלעיל של &lt;span&gt;\( S \)&lt;/span&gt;. במילים אחרות: אם &lt;span&gt;\( C \)&lt;/span&gt; הוא חסם מלעיל של &lt;span&gt;\( S \)&lt;/span&gt; הוא לא יכול לקיים &lt;span&gt;\( C&amp;lt;B \)&lt;/span&gt; אז בהכרח מתקיים &lt;span&gt;\( B\le C \)&lt;/span&gt;, וזה בדיוק מה שמראה ש-&lt;span&gt;\( B \)&lt;/span&gt; הוא חסם עליון.&lt;/p&gt;

&lt;p&gt;זהו, זה היה ממש קל! אז מה בעצם העוקץ? מה מסובך בבניה הזו של דדקינד? ובכן, הכפל. זה יהיה קצת לא נעים.&lt;/p&gt;

&lt;h2&gt;הכפל. זה יהיה קצת לא נעים&lt;/h2&gt;

&lt;p&gt;למה שהכפל יהיה לא נעים? שתי סיבות. ראשית, להבדיל מחיבור, כאן ההגדרה הנאיבית לא עובדת. להגדיר &lt;span&gt;\( A\cdot B\triangleq\left\{ ab\ |\ a\in A,b\in B\right\}  \)&lt;/span&gt; לא הולך לתת לנו אפילו חתך. למשל, אם &lt;span&gt;\( A,B \)&lt;/span&gt; שניהם שליליים, אז המכפלה של כל זוג איברים מתוכם תהיה מספר חיובי - ואין כזה דבר, חתך שאין בו שליליים (כי מרגע ש-&lt;span&gt;\( a \)&lt;/span&gt; כלשהו בחתך, גם כל מספר שקטן ממנו בחתך). אבל לא נורא, את הבעיה הזו אפשר לתקן על ידי כך שדורשים במפורש סגירות כלפי מטה, כלומר מגדירים &lt;span&gt;\( A\cdot B\triangleq\left\{ q\in\mathbb{Q}\ |\ \exists a\in A,b\in B:q\le ab\right\}  \)&lt;/span&gt;. כלומר - לוקחים מכפלות, ולכל מכפלה כזו מכניסים אל &lt;span&gt;\( AB \)&lt;/span&gt; את מי שברור שצריכים להיות שם - המספרים שקטנים או שווים למכפלה.&lt;/p&gt;

&lt;p&gt;זה עדיין לא עובד.&lt;/p&gt;

&lt;p&gt;זה לא עובד, כי מספרים שליליים הם יצורים מוזרים למדי. יש את הקטע הזה &lt;a href=&quot;https://gadial.net/2017/07/30/minus_minus/&quot;&gt;שמכפלה של שני שליליים היא מספר חיובי&lt;/a&gt;, וזה יוביל באופן בלתי נמנע לבעיות. בואו נסתכל למשל על החתך &lt;span&gt;\( A_{1}=\left\{ q\in\mathbb{Q}\ |\ q&amp;lt;1\right\}  \)&lt;/span&gt;. הוא מייצג את 1 והיינו מצפים שיתקיים &lt;span&gt;\( A_{1}\cdot A_{1}=A_{1} \)&lt;/span&gt;, אבל הרי &lt;span&gt;\( -2\in A_{1} \)&lt;/span&gt;, למשל, אז על פי ההגדרה שנתתי למעלה, &lt;span&gt;\( 4=\left(-2\right)\cdot\left(-2\right)\in A_{1}\cdot A_{1} \)&lt;/span&gt;. אבל זה לא ייגמר שם - אפשר לקבל כל מספר רציונלי גדול כרצוננו על ידי כפל של המינוס שלו במינוס 1. אז מה שנקבל בסוף יהיה &lt;span&gt;\( A_{1}\cdot A_{1}=\mathbb{Q} \)&lt;/span&gt;, כלומר אפילו לא מקבלים חתך. נראה שהדרך ההגיונית היחידה להגדיר כפל היא פשוט לא להרשות למספרים השליליים להשתתף. אבל אם הם לא משתתפים, מה יקרה למשל עם &lt;span&gt;\( A_{-1}\cdot A_{-1} \)&lt;/span&gt;? זו מכפלה של שתי קבוצות שהאיברים &lt;strong&gt;היחידים&lt;/strong&gt; שלהן הם שליליים. אז המכפלה תהיה קבוצה ריקה? גם זה לא חתך. בקיצור, עסק ביש.&lt;/p&gt;

&lt;p&gt;נקודת האור בכל הסיפור הזה היא שכל עוד אנחנו מסתכלים רק על מספרים &lt;strong&gt;חיוביים&lt;/strong&gt;, הכל עובד כמו שצריך. זה מאפשר לי להתחיל את הגדרת הכפל עבור חתכים חיוביים, ולהתקדם משם. אז הנה ההגדרה הראשונית:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;אם &lt;span&gt;\( A,B&amp;gt;0 \)&lt;/span&gt; אז &lt;span&gt;\( A\cdot B\triangleq\left\{ q\in\mathbb{Q}\ |\ \exists a&amp;gt;0\in A,b&amp;gt;0\in B:q\le ab\right\}  \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;כלומר, עבור &lt;span&gt;\( A,B \)&lt;/span&gt; חיוביים אנחנו כופלים את כל האיברים &lt;strong&gt;החיוביים&lt;/strong&gt; שלהם, ואז לוקחים את כל מה שקטן או שווה לזה. למה זה יוצא חתך? זה לא ריק כי אם &lt;span&gt;\( A,B \)&lt;/span&gt; חיוביים אז יש בהם &lt;span&gt;\( a,b&amp;gt;0 \)&lt;/span&gt; ולכן &lt;span&gt;\( ab\in AB \)&lt;/span&gt;. זה לא &lt;span&gt;\( \mathbb{Q} \)&lt;/span&gt; כי &lt;span&gt;\( A,B \)&lt;/span&gt; חתכים ולכן קיימים &lt;span&gt;\( q,p \)&lt;/span&gt; שלא שייכים אליהם וזה כזכור אומר ש-&lt;span&gt;\( a&amp;lt;q,b&amp;lt;p \)&lt;/span&gt; &lt;strong&gt;לכל&lt;/strong&gt; &lt;span&gt;\( a\in A,b\in B \)&lt;/span&gt; ולכן &lt;span&gt;\( ab&amp;lt;qp \)&lt;/span&gt; &lt;strong&gt;לכל&lt;/strong&gt; האיברים &lt;span&gt;\( a,b \)&lt;/span&gt; הללו כך שכל אברי &lt;span&gt;\( AB \)&lt;/span&gt; קטנים מ-&lt;span&gt;\( qp \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;תכונה 2, של הסגירות כלפי מטה, נובעת מיידית מההגדרה של &lt;span&gt;\( AB \)&lt;/span&gt;. נותרה רק תכונה 3: אם &lt;span&gt;\( q\in AB \)&lt;/span&gt; אז יש &lt;span&gt;\( a\in A,b\in B \)&lt;/span&gt; כך ש-&lt;span&gt;\( q\le ab \)&lt;/span&gt;. מכיוון ש-&lt;span&gt;\( A,B \)&lt;/span&gt; חתכים אז יש &lt;span&gt;\( a^{\prime}\in A,b^{\prime}\in B \)&lt;/span&gt; כך ש-&lt;span&gt;\( a&amp;lt;a^{\prime},b&amp;lt;b^{\prime} \)&lt;/span&gt; ולכן &lt;span&gt;\( q\le ab&amp;lt;a^{\prime}b^{\prime} \)&lt;/span&gt; וקיבלנו את תכונה 3. אז אמנם לא היה קל למצוא הגדרה שנותנת חתך, אבל עכשיו שהצטמצמנו קצת היה קל להוכיח שבהגדרה המצומצמת מקבלים אחד כזה.&lt;/p&gt;

&lt;p&gt;עכשיו אפשר לעבור לקומוטטיביות ואסוציאטיביות:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;&lt;span&gt;\( A\cdot B=B\cdot A \)&lt;/span&gt; &lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( \left(A\cdot B\right)\cdot C=A\cdot\left(B\cdot C\right) \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;ההוכחות מאוד דומות למה שראינו על חיבור. קומוטטיביות נובעת מייד מזה ש-&lt;span&gt;\( q\le ab \)&lt;/span&gt; אם ורק אם &lt;span&gt;\( q\le ba \)&lt;/span&gt; (וזה בזכות הקומוטטיביות של הרציונליים). אסוציאטיביות, כרגיל, מרגישה קצת יותר טריקית אז אני אעשה אותה בצורה יותר מפורשת:&lt;/p&gt;

&lt;p&gt;נניח ש-&lt;span&gt;\( q\in\left(A\cdot B\right)\cdot C \)&lt;/span&gt;, אז קיימים &lt;span&gt;\( x\in A\cdot B \)&lt;/span&gt; ו-&lt;span&gt;\( c\in C \)&lt;/span&gt;, חיוביים שניהם, כך ש-&lt;span&gt;\( q\le xc \)&lt;/span&gt;. זה אומר שעבור &lt;span&gt;\( x \)&lt;/span&gt; קיימים &lt;span&gt;\( a\in A,b\in B \)&lt;/span&gt; חיוביים כך ש-&lt;span&gt;\( x\le ab \)&lt;/span&gt;. לכן &lt;span&gt;\( q\le\left(ab\right)c=a\left(bc\right) \)&lt;/span&gt; כשהשוויון נובע מהאסוציאטיביות של מספרים רציונליים. מכיוון ש-&lt;span&gt;\( b,c \)&lt;/span&gt; שניהם חיוביים אז &lt;span&gt;\( bc\in B\cdot C \)&lt;/span&gt; (כי עבור &lt;span&gt;\( b,c \)&lt;/span&gt; עצמם מתקיים ש-&lt;span&gt;\( bc\le bc \)&lt;/span&gt;) ולכן &lt;span&gt;\( q\le a\left(bc\right) \)&lt;/span&gt; תואם את ההגדרה של &lt;span&gt;\( q\in A\cdot\left(B\cdot C\right) \)&lt;/span&gt;, והכיוון השני דומה.&lt;/p&gt;

&lt;p&gt;עכשיו אפשר סוף סוף לערבב את החיבור והכפל:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;&lt;span&gt;\( A\cdot\left(B+C\right)=A\cdot B+A\cdot C \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;אבל שימו לב: רק בהנחה ש-&lt;span&gt;\( A,B,C&amp;gt;0 \)&lt;/span&gt; אחרת המכפלות &lt;span&gt;\( AB,AC \)&lt;/span&gt; לא יהיו מוגדרות היטב. מרגע ש-&lt;span&gt;\( B,C&amp;gt;0 \)&lt;/span&gt; אנחנו מקבלים ש-&lt;span&gt;\( B+C&amp;gt;0 \)&lt;/span&gt; (את זה הוכחנו כבר) ולכן גם המכפלה &lt;span&gt;\( A\left(B+C\right) \)&lt;/span&gt; מוגדרת היטב. עכשיו אני אוכיח את הדיסטריביוטיביות בשיטה הסטנדרטית של הכלה דו-כיוונית:&lt;/p&gt;

&lt;p&gt;ראשית, אם &lt;span&gt;\( x\in A\left(B+C\right) \)&lt;/span&gt; זה אומר שקיימים &lt;span&gt;\( a\in A \)&lt;/span&gt; חיובי ו-&lt;span&gt;\( y\in B+C \)&lt;/span&gt; חיובי כך ש-&lt;span&gt;\( x\le ay \)&lt;/span&gt;. עכשיו הקטע הטריקי: אם אני סתם אומר שמ-&lt;span&gt;\( y\in B+C \)&lt;/span&gt; נובע שקיימים &lt;span&gt;\( b\in B,c\in C \)&lt;/span&gt; כך ש-&lt;span&gt;\( y\in b+c \)&lt;/span&gt; זה &lt;strong&gt;לא מספיק טוב&lt;/strong&gt; כי ייתכן למשל ש-&lt;span&gt;\( b \)&lt;/span&gt; הוא שלילי (למשל, אם &lt;span&gt;\( B=C=\left(-\infty,5\right) \)&lt;/span&gt; ואני לוקח &lt;span&gt;\( y=3 \)&lt;/span&gt; ו-&lt;span&gt;\( b=-1,c=4 \)&lt;/span&gt;). לא, אני צריך שיתקיים &lt;span&gt;\( b,c&amp;gt;0 \)&lt;/span&gt; כדי להמשיך, אז אני אעשה “תיקון” קטן. בואו נניח בלי הגבלת הכלליות ש-&lt;span&gt;\( b&amp;lt;0 \)&lt;/span&gt; ו-&lt;span&gt;\( c&amp;gt;0 \)&lt;/span&gt;. אני רוצה להגדיל קצת את הערך של &lt;span&gt;\( b \)&lt;/span&gt; עד שיהפוך לחיובי. כל מה שאני אוסיף ל-&lt;span&gt;\( b \)&lt;/span&gt; יצטרך לרדת מ-&lt;span&gt;\( c \)&lt;/span&gt; - האם אני בטוח שזה לא יהפוך את &lt;span&gt;\( c \)&lt;/span&gt; לשלילי? ובכן, מכיוון שאני יודע ש-&lt;span&gt;\( b+c&amp;gt;0 \)&lt;/span&gt; זה אומר ש-&lt;span&gt;\( c&amp;gt;-b \)&lt;/span&gt;, כלומר אני יכול לחסר את כל הערך המוחלט של &lt;span&gt;\( b \)&lt;/span&gt; מ-&lt;span&gt;\( c \)&lt;/span&gt; ועדיין ישאר לי עודף - וזה חשוב, כי אני אצטרך את העודף הזה, כי אני לא רוצה להגדיל את &lt;span&gt;\( b \)&lt;/span&gt; עד שיהפוך ל-0 אלא עד שיהפוך ל”משהו חיובי קטן”. כמה קטן? קטן ככה ש:&lt;/p&gt;

&lt;ol&gt; &lt;li&gt;הוא עדיין שייך אל &lt;span&gt;\( B \)&lt;/span&gt;.&lt;/li&gt;


&lt;li&gt;אם אני מחסר מ-&lt;span&gt;\( c \)&lt;/span&gt; &lt;strong&gt;גם&lt;/strong&gt; את הערך המוחלט של &lt;span&gt;\( b \)&lt;/span&gt; וגם אותו אני עדיין מקבל משהו חיובי.&lt;/li&gt;

&lt;/ol&gt;

&lt;p&gt;כלומר, זה טיעון טיפה מורכב יחסית לכמה שזה אמור להיות פשוט. מה שאני עושה הוא זה: ראשית, בגלל ש-&lt;span&gt;\( B&amp;gt;0 \)&lt;/span&gt; אז &lt;span&gt;\( 0\in B \)&lt;/span&gt; ולכן מתכונה 3 קיים &lt;span&gt;\( \varepsilon_{1}&amp;gt;0 \)&lt;/span&gt; כך ש-&lt;span&gt;\( \varepsilon_{1}\in B \)&lt;/span&gt;. שנית, בגלל ש-&lt;span&gt;\( c&amp;gt;-b \)&lt;/span&gt; קיים &lt;span&gt;\( \varepsilon_{2}&amp;gt;0 \)&lt;/span&gt; כך ש-&lt;span&gt;\( c&amp;gt;-b+\varepsilon_{2} \)&lt;/span&gt;. עכשיו אני אבחר &lt;span&gt;\( \varepsilon=\min\left\{ \varepsilon_{1},\varepsilon_{2}\right\}  \)&lt;/span&gt;. בגלל ש-&lt;span&gt;\( \varepsilon\le\varepsilon_{1}\in B \)&lt;/span&gt; קיבלנו שגם &lt;span&gt;\( \varepsilon\in B \)&lt;/span&gt;, ובגלל ש-&lt;span&gt;\( \varepsilon\le\varepsilon_{2} \)&lt;/span&gt; קיבלנו ש-&lt;span&gt;\( c&amp;gt;-b+\varepsilon \)&lt;/span&gt; ולכן &lt;span&gt;\( 0&amp;lt;c+b-\varepsilon&amp;lt;c \)&lt;/span&gt; כך ש-&lt;span&gt;\( c+b-\varepsilon\in C \)&lt;/span&gt;, וקיבלנו&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( y=b+c=\varepsilon+\left(c+b-\varepsilon\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;וזו הצגה של &lt;span&gt;\( y \)&lt;/span&gt; בתור סכום של שני חיוביים מ-&lt;span&gt;\( B,C \)&lt;/span&gt;. זה מאפשר לי לחזור להוכחה של הדיסטריביוטיביות: ראיתי שקיימים &lt;span&gt;\( a\in A,b\in B,c\in C \)&lt;/span&gt; חיוביים כולם כך ש-&lt;span&gt;\( x\le a\left(b+c\right)=ab+ac \)&lt;/span&gt; כשהמעבר האחרון נובע מדיסטריביוטיביות הרציונליים. החיוביות של &lt;span&gt;\( a,b,c \)&lt;/span&gt; פירושה ש-&lt;span&gt;\( ab\in AB \)&lt;/span&gt; ו-&lt;span&gt;\( ac\in AC \)&lt;/span&gt; ולכן קיבלתי ש-&lt;span&gt;\( x\le z \)&lt;/span&gt; כאשר &lt;span&gt;\( z=ab+ac\in AB+AC \)&lt;/span&gt; ומכך ש-&lt;span&gt;\( AB+AC \)&lt;/span&gt; הוא חתך ומתכונה 2 אני אקבל ש-&lt;span&gt;\( x\in AC+AC \)&lt;/span&gt;. זה משלים את הכיוון הזה של ההוכחה.&lt;/p&gt;

&lt;p&gt;בכיוון השני, נניח ש-&lt;span&gt;\( x\in AB+AC \)&lt;/span&gt;, כלומר יש &lt;span&gt;\( a_{1},a_{2}\in A \)&lt;/span&gt; ו-&lt;span&gt;\( b,c \)&lt;/span&gt;, חיוביים כולם, כך ש-&lt;span&gt;\( x=y+z \)&lt;/span&gt; עבור &lt;span&gt;\( y\le a_{1}b \)&lt;/span&gt; ו-&lt;span&gt;\( z\le a_{2}c \)&lt;/span&gt;. נניח בלי הגבלת הכלליות ש-&lt;span&gt;\( a_{1}\le a_{2} \)&lt;/span&gt;, כלומר &lt;span&gt;\( a_{1}=a_{2}-\varepsilon \)&lt;/span&gt;, אז&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( x\le a_{1}b+a_{2}c=a_{2}b+a_{2}c-\varepsilon b=a_{2}\left(b+c\right)-\varepsilon b\le a_{2}\left(b+c\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;מכיוון ש-&lt;span&gt;\( b,c \)&lt;/span&gt; שניהם חיוביים כך גם &lt;span&gt;\( b+c \)&lt;/span&gt; ולכן &lt;span&gt;\( a_{2}\left(b+c\right)\in A\left(B+C\right) \)&lt;/span&gt;, וקיבלנו ש-&lt;span&gt;\( x\in A\left(B+C\right) \)&lt;/span&gt;. זה מסיים את הכיוון הזה של ההוכחה ומסיים עם דיסטריביוטיביות.&lt;/p&gt;

&lt;p&gt;נשארנו עם שלושה דברים שצריך להוכיח על כפל:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;אם &lt;span&gt;\( A,B\in P \)&lt;/span&gt; אז &lt;span&gt;\( A\cdot B\in P \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;קיים איבר שמסומן ב-&lt;span&gt;\( 1 \)&lt;/span&gt; כך ש-&lt;span&gt;\( 0\ne1 \)&lt;/span&gt; ו-&lt;span&gt;\( A\cdot1=A \)&lt;/span&gt; לכל &lt;span&gt;\( A \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;לכל &lt;span&gt;\( A\ne0 \)&lt;/span&gt; קיים איבר שמסומן ב-&lt;span&gt;\( A^{-1} \)&lt;/span&gt; ונקרא &lt;strong&gt;ההופכי&lt;/strong&gt; של &lt;span&gt;\( A \)&lt;/span&gt; כך ש-&lt;span&gt;\( A\cdot A^{-1}=1 \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;את התכונה הראשונה טריוויאלי להוכיח: אם &lt;span&gt;\( A&amp;gt;0,B&amp;gt;0 \)&lt;/span&gt; אז כפי שראינו קיימים &lt;span&gt;\( a\in A,b\in B \)&lt;/span&gt; ששניהם גדולים מ-0, ובגלל ש-&lt;span&gt;\( 0&amp;lt;ab \)&lt;/span&gt; אז &lt;span&gt;\( 0\in AB \)&lt;/span&gt; וזה מסיים את ההוכחה. למרבה השמחה, זה מסיים לגמרי עם יחס הסדר &lt;span&gt;\( P \)&lt;/span&gt;; לא נצטרך לחזור לשם אחרי שנגדיר כפל בצורה מלאה על כל החתכים, כי בכל מקרה את התכונה הזו היה צריך להוכיח רק עבור חתכים חיוביים.&lt;/p&gt;

&lt;p&gt;עכשיו נעבור להגדרת 1. כמו עם 0, אנחנו כבר יודעים מי בעצם אמור להיות החתך המתאים ל-1: &lt;span&gt;\( A_{1}=\left\{ q\in\mathbb{Q}\ |\ q&amp;lt;1\right\}  \)&lt;/span&gt;. ברור ש-&lt;span&gt;\( A_{1}\ne A_{0} \)&lt;/span&gt; כי &lt;span&gt;\( 0\in A_{1} \)&lt;/span&gt; אבל &lt;span&gt;\( 0\notin A_{0} \)&lt;/span&gt;, אבל למה &lt;span&gt;\( A\cdot A_{1}=A \)&lt;/span&gt; לכל &lt;span&gt;\( A \)&lt;/span&gt; חיובי? כיוון אחד הוא קל: אם &lt;span&gt;\( a\in A\cdot A_{1} \)&lt;/span&gt; אז &lt;span&gt;\( a\le a^{\prime}\cdot q \)&lt;/span&gt; כך ש-&lt;span&gt;\( a^{\prime}\in A \)&lt;/span&gt; וגם &lt;span&gt;\( q&amp;lt;1 \)&lt;/span&gt;; אבל בגלל ש-&lt;span&gt;\( q&amp;lt;1 \)&lt;/span&gt; נקבל &lt;span&gt;\( a\le a^{\prime}\cdot q&amp;lt;a^{\prime} \)&lt;/span&gt; והסגירות כלפי מטה של &lt;span&gt;\( A \)&lt;/span&gt; נותנת לנו &lt;span&gt;\( a\in A \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;הכיוון השני טריקי יותר. ראשית, אם &lt;span&gt;\( a\in A \)&lt;/span&gt; מקיים &lt;span&gt;\( a\le0 \)&lt;/span&gt; אז ברור ש-&lt;span&gt;\( a\in A\cdot A_{1} \)&lt;/span&gt; כי &lt;span&gt;\( 0\in A,A_{1} \)&lt;/span&gt;. לכן אפשר להניח מראש ש-&lt;span&gt;\( a&amp;gt;0 \)&lt;/span&gt;. במקרה הזה, מנין לנו ש-&lt;span&gt;\( a\in A\cdot A_{1} \)&lt;/span&gt;? הרי אין &lt;span&gt;\( q\in A_{1} \)&lt;/span&gt; שעבורו &lt;span&gt;\( a\cdot q=a \)&lt;/span&gt;, בשביל זה נצטרך &lt;span&gt;\( q \)&lt;/span&gt; גדול מדי (כי ה-&lt;span&gt;\( q \)&lt;/span&gt; הזה הוא פשוט 1…). אבל אפשר להתחכם - במקום להתחיל עם &lt;span&gt;\( a \)&lt;/span&gt; ולכפול אותו במשהו, להתחיל עם מישהו קצת יותר גדול מ-&lt;span&gt;\( a \)&lt;/span&gt;; תכונה 3 של חתכים נותנת לנו קיום של &lt;span&gt;\( x\in A \)&lt;/span&gt; כך ש-&lt;span&gt;\( a&amp;lt;x \)&lt;/span&gt;. אני רוצה למצוא &lt;span&gt;\( q \)&lt;/span&gt; כך ש-&lt;span&gt;\( qx=a \)&lt;/span&gt;, כלומר &lt;span&gt;\( q=\frac{a}{x} \)&lt;/span&gt; (אין בעיה לחלק ב-&lt;span&gt;\( x \)&lt;/span&gt; כי &lt;span&gt;\( 0&amp;lt;a&amp;lt;x \)&lt;/span&gt;). מכיוון ש-&lt;span&gt;\( 0&amp;lt;a&amp;lt;x \)&lt;/span&gt; אז &lt;span&gt;\( 0&amp;lt;q&amp;lt;1 \)&lt;/span&gt; ולכן &lt;span&gt;\( q\in A_{1} \)&lt;/span&gt; וקיבלנו &lt;span&gt;\( a=x\cdot q\in A\cdot A_{1} \)&lt;/span&gt;. זה מסיים את ההוכחה: &lt;span&gt;\( A=A\cdot A_{1} \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;נשאר לטפל בהופכי, ושוב יש לנו שאלה של הגדרה: בהינתן &lt;span&gt;\( A&amp;gt;0 \)&lt;/span&gt;, איך נכון להגדיר את &lt;span&gt;\( A^{-1} \)&lt;/span&gt;? הגדרת נגדי בחיבור הייתה טריקית ומעצבנת; האם בכפל אפשר סתם להגדיר בצורה “הטבעית” &lt;span&gt;\( A^{-1}\triangleq\left\{ a^{-1}\ |\ a\in A,a&amp;gt;0\right\}  \)&lt;/span&gt;? ובכן, ממש לא! תחשבו למשל ש-&lt;span&gt;\( A=\left(-\infty,3\right) \)&lt;/span&gt; אז היינו מצפים שיתקיים &lt;span&gt;\( A^{-1}=\left(-\infty,\frac{1}{3}\right) \)&lt;/span&gt; אבל מכיוון ש-&lt;span&gt;\( 1\in A \)&lt;/span&gt;, אם נהפוך אותו נקבל ש-&lt;span&gt;\( 1\in A^{-1} \)&lt;/span&gt; וזה ממש לא אמור לקרות. יותר גרוע מזה, ככל שניקח איברים קרובים יותר ויותר ל-0 ב-&lt;span&gt;\( A \)&lt;/span&gt;, ההופכי שלהם ישאף לאינסוף - יוצא שנקבל את כל &lt;span&gt;\( \mathbb{Q} \)&lt;/span&gt;. לא, מה שאנחנו צריכים לעשות הוא כמו עם הנגדי - להסתכל לא על &lt;span&gt;\( A \)&lt;/span&gt; אלא על &lt;strong&gt;כל מי שלא &lt;/strong&gt;ב-&lt;span&gt;\( A \)&lt;/span&gt;. אז אולי נגדיר &lt;span&gt;\( A^{-1}\triangleq\left\{ b^{-1}\ |\ b\notin A\right\}  \)&lt;/span&gt;? זה כמעט יעבוד, אבל שוב יש לנו את הבעיה הזו עם נקודת הקצה שאנחנו לא רוצים שתהיה שייכת לחתך. זה מוביל אותנו להגדרה&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;&lt;span&gt;\( A^{-1}\triangleq\left\{ q\in\mathbb{Q}\ |\ \exists b\notin A:q&amp;lt;b^{-1}\right\}  \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;ראשית, למה &lt;span&gt;\( A^{-1} \)&lt;/span&gt; הוא חתך? בגלל ש-&lt;span&gt;\( A\ne\mathbb{Q} \)&lt;/span&gt; ו-&lt;span&gt;\( 0&amp;lt;A \)&lt;/span&gt; קיים &lt;span&gt;\( b&amp;gt;0 \)&lt;/span&gt; כך ש-&lt;span&gt;\( b\notin A \)&lt;/span&gt; ולכן ב-&lt;span&gt;\( A^{-1} \)&lt;/span&gt; יש את כל מי שקטן יותר מ-&lt;span&gt;\( b^{-1} \)&lt;/span&gt;, כך ש-&lt;span&gt;\( A^{-1}\ne\emptyset \)&lt;/span&gt;. מצד שני, קיים &lt;span&gt;\( a\in A \)&lt;/span&gt; כך ש-&lt;span&gt;\( a&amp;gt;0 \)&lt;/span&gt; ולכן &lt;strong&gt;לכל&lt;/strong&gt; &lt;span&gt;\( x\notin A \)&lt;/span&gt; מתקיים &lt;span&gt;\( a&amp;lt;x \)&lt;/span&gt;, כלומר &lt;span&gt;\( a^{-1}&amp;gt;x^{-1} \)&lt;/span&gt;, ולכן &lt;span&gt;\( a^{-1}\notin A^{-1} \)&lt;/span&gt; כך ש-&lt;span&gt;\( A^{-1}\ne\mathbb{Q} \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;תכונת הסגירות כלפי מטה נובעת מההגדרה (אם &lt;span&gt;\( p&amp;lt;q \)&lt;/span&gt; ו-&lt;span&gt;\( q\in A^{-1} \)&lt;/span&gt; אז קיים &lt;span&gt;\( b \)&lt;/span&gt; מתאים כך ש-&lt;span&gt;\( q&amp;lt;b^{-1} \)&lt;/span&gt; ומטרנזיטיביות &lt;span&gt;\( p&amp;lt;b^{-1} \)&lt;/span&gt;). עבור תכונה 3, נניח ש-&lt;span&gt;\( q\in A^{-1} \)&lt;/span&gt;, אז קיים &lt;span&gt;\( b\notin A \)&lt;/span&gt; מתאים כך ש-&lt;span&gt;\( q&amp;lt;b^{-1} \)&lt;/span&gt; אבל מצפיפות הרציונליים נובע שקיים &lt;span&gt;\( p \)&lt;/span&gt; כך ש-&lt;span&gt;\( q&amp;lt;p&amp;lt;b^{-1} \)&lt;/span&gt; ולכן גם &lt;span&gt;\( p\in A^{-1} \)&lt;/span&gt;, וסיימנו.&lt;/p&gt;

&lt;p&gt;שנית, האם &lt;span&gt;\( A^{-1}&amp;gt;0 \)&lt;/span&gt;? בלי זה הכפל &lt;span&gt;\( A\cdot A^{-1} \)&lt;/span&gt; לא יהיה מוגדר בשלב הזה. אבל גם זה ברור - מכיוון ש-&lt;span&gt;\( A&amp;gt;0 \)&lt;/span&gt; אז &lt;span&gt;\( 0\in A \)&lt;/span&gt; ולכן אם &lt;span&gt;\( b\notin A \)&lt;/span&gt; אז &lt;span&gt;\( 0&amp;lt;b \)&lt;/span&gt; ולכן &lt;span&gt;\( 0&amp;lt;b^{-1} \)&lt;/span&gt;, כך ש-&lt;span&gt;\( 0\in A^{-1} \)&lt;/span&gt;, מה שמראה ש-&lt;span&gt;\( A^{-1}&amp;gt;0 \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;נשאר רק להראות ש-&lt;span&gt;\( A\cdot A^{-1}=1 \)&lt;/span&gt; וכרגיל נשתמש בהכלה דו כיוונית. בכיוון אחד, אם &lt;span&gt;\( x\in A\cdot A^{-1} \)&lt;/span&gt; אז יש &lt;span&gt;\( a\in A \)&lt;/span&gt; ו-&lt;span&gt;\( q\in A^{-1} \)&lt;/span&gt; כך ש-&lt;span&gt;\( x\le aq \)&lt;/span&gt;. על &lt;span&gt;\( q \)&lt;/span&gt; אנחנו יודעים ש-&lt;span&gt;\( q&amp;lt;b^{-1} \)&lt;/span&gt; עבור &lt;span&gt;\( b\notin A \)&lt;/span&gt;, ובגלל ש-&lt;span&gt;\( b\notin A \)&lt;/span&gt; זה אומר ש-&lt;span&gt;\( a&amp;lt;b \)&lt;/span&gt;, ולכן &lt;span&gt;\( ab^{-1}&amp;lt;1 \)&lt;/span&gt; וזה מסיים את הכיוון הזה כי &lt;span&gt;\( x\le aq&amp;lt;ab^{-1}&amp;lt;1 \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;בכיוון השני, נניח ש-&lt;span&gt;\( x&amp;lt;1 \)&lt;/span&gt; ונראה ש-&lt;span&gt;\( x\in AA^{-1} \)&lt;/span&gt;. כאן ההוכחה תסתבך ותהפוך לטכנית למדי ואני לא מכיר דרך אלגנטית להתחמק מזה. כדי להבין מה בעצם הבעיה, בואו נראה דוגמא: למשל, &lt;span&gt;\( A=\left(-\infty,3\right) \)&lt;/span&gt; ואז&lt;span&gt;\( A^{-1}=\left(-\infty,\frac{1}{3}\right) \)&lt;/span&gt; ונניח ש-&lt;span&gt;\( x=\frac{1}{2} \)&lt;/span&gt;. מה אני צריך לעשות? אני צריך למצוא שני איברים ב-&lt;span&gt;\( A \)&lt;/span&gt; וב-&lt;span&gt;\( A^{-1} \)&lt;/span&gt; שהמכפלה שלהם יוצאת &lt;span&gt;\( \frac{1}{2} \)&lt;/span&gt;. האם יש דרך “טבעית” לקבל אותם מתוך &lt;span&gt;\( \frac{1}{2} \)&lt;/span&gt; עצמו? אני לא רואה כזו; למשל, &lt;span&gt;\( \frac{1}{2}\notin A^{-1} \)&lt;/span&gt; אז אי אפשר סתם לבחור את &lt;span&gt;\( \frac{1}{2} \)&lt;/span&gt; ולכפול ב-1 שב-&lt;span&gt;\( A \)&lt;/span&gt;. מה שכן אפשר לעשות הוא לומר “אוקיי, בואו נבחר מ-&lt;span&gt;\( A \)&lt;/span&gt; איבר שממש קרוב ל-3 ומ-&lt;span&gt;\( A^{-1} \)&lt;/span&gt; איבר שממש קרוב אל &lt;span&gt;\( \frac{1}{3} \)&lt;/span&gt; ואז המכפלה שלהם תהיה ממש קרובה אל &lt;span&gt;\( 1 \)&lt;/span&gt; ומן הסתם גדולה מ-&lt;span&gt;\( \frac{1}{2} \)&lt;/span&gt;” וזה בדיוק מה שאני רוצה לעשות - אבל איך מפרמלים את ה”ממש קרוב ל-3” אם עבור חתך המספר שהוא מייצג לא נתון לנו באופן מפורש? האם יש דרך “נקייה” לעשות את זה? ובכן, כן, בערך.&lt;/p&gt;

&lt;p&gt;הרעיון הוא זה: &lt;span&gt;\( x&amp;lt;1 \)&lt;/span&gt; ולכן ראשית נמצא &lt;span&gt;\( n \)&lt;/span&gt; כך ש-&lt;span&gt;\( x&amp;lt;1-\frac{1}{n+1} \)&lt;/span&gt;. אנחנו יודעים שקיים &lt;span&gt;\( n \)&lt;/span&gt; כזה בזכות הארכימדיות של הרציונליים: אם נסתכל על &lt;span&gt;\( \frac{1}{1-x} \)&lt;/span&gt;, זה מספר רציונלי גדול מ-1 (כי המכנה שלו קטן מ-1 וגדול מ-0) ולכן קיים טבעי &lt;span&gt;\( n \)&lt;/span&gt; כך ש-&lt;span&gt;\( \frac{1}{1-x}-1&amp;lt;n \)&lt;/span&gt;, ועל ידי העברת אגפים נקבל &lt;span&gt;\( x&amp;lt;1-\frac{1}{n+1} \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;עכשיו נשים לב שלכל &lt;span&gt;\( m\ge n \)&lt;/span&gt; מתקיים &lt;span&gt;\( m+1\ge n+1 \)&lt;/span&gt; ולכן &lt;span&gt;\( \frac{1}{m+1}\le\frac{1}{n+1} \)&lt;/span&gt; ולכן &lt;span&gt;\( -\frac{1}{m+1}\ge-\frac{1}{n+1} \)&lt;/span&gt; ולכן&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( x&amp;lt;1-\frac{1}{n+1}\le1-\frac{1}{m+1}=\frac{m}{m+1} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;זה נותן לנו הערכה קצת יותר קונקרטית של הגודל של &lt;span&gt;\( x \)&lt;/span&gt; שאנחנו צריכים לעבור. עכשיו אפשר לבנות איבר של &lt;span&gt;\( A \)&lt;/span&gt; שיתקרב אל הקצה של &lt;span&gt;\( A \)&lt;/span&gt; “ממש קרוב”. הדרך לבנות איבר כזה היא לקחת איבר “ממש קטן” של &lt;span&gt;\( A \)&lt;/span&gt; ולהתחיל לחבר אותו לעצמו עד שנגיע ממש אל הנקודה שבה האיבר עדיין ב-&lt;span&gt;\( A \)&lt;/span&gt; אבל אם נחבר אותו לעצמו עוד פעם אחת כבר נצא מגבולות &lt;span&gt;\( A \)&lt;/span&gt; (ואז, אחרי שניקח את ההופכי שלנו, נגיע לתוך &lt;span&gt;\( A^{-1} \)&lt;/span&gt;).&lt;/p&gt;

&lt;p&gt;את האיבר הממש קטן שלנו נבנה כך: ראשית, בגלל ש-&lt;span&gt;\( A&amp;gt;0 \)&lt;/span&gt; קיים &lt;span&gt;\( a&amp;gt;0 \)&lt;/span&gt; כך ש-&lt;span&gt;\( a\in A \)&lt;/span&gt;. מכיוון ש-&lt;span&gt;\( a \)&lt;/span&gt; היה איבר שרירותי הוא לא הכי עוזר לנו, אבל אם נחלק אותו לפרוסות מספיק קטנות זה יהיה טוב: נסתכל על &lt;span&gt;\( 0&amp;lt;\frac{a}{n} \)&lt;/span&gt; ועכשיו ניקח מספר חיובי שקטן יותר מזה: &lt;span&gt;\( q&amp;lt;\frac{a}{n} \)&lt;/span&gt;. על פי תכונה 2 של חתכים, &lt;span&gt;\( q\in A \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;עכשיו נתחיל לחבר את &lt;span&gt;\( q \)&lt;/span&gt; לעצמו, כלומר להסתכל על מכפלות מהצורה &lt;span&gt;\( mq \)&lt;/span&gt; כך ש-&lt;span&gt;\( m \)&lt;/span&gt; הוא מספר טבעי. אנחנו יודעים שעבור &lt;span&gt;\( m=1 \)&lt;/span&gt;, &lt;span&gt;\( mq\in A \)&lt;/span&gt;; אנחנו גם יודעים שקיים &lt;span&gt;\( m \)&lt;/span&gt; כך ש-&lt;span&gt;\( mq\notin A \)&lt;/span&gt; אחרת היינו מקבלים ש-&lt;span&gt;\( A=\mathbb{Q} \)&lt;/span&gt; (לכל מספר רציונלי קיים &lt;span&gt;\( m \)&lt;/span&gt; כך ש-&lt;span&gt;\( mq \)&lt;/span&gt; גדול ממנו). אז בואו ניקח את &lt;span&gt;\( m \)&lt;/span&gt; להיות האיבר שמקיים ש-&lt;span&gt;\( mq\in A \)&lt;/span&gt; אבל &lt;span&gt;\( \left(m+1\right)q\notin A \)&lt;/span&gt;. שימו לב שבפרט צריך להתקיים &lt;span&gt;\( m\ge n \)&lt;/span&gt; כי אם היה מתקיים &lt;span&gt;\( m&amp;lt;n \)&lt;/span&gt; אז &lt;span&gt;\( m+1\le n \)&lt;/span&gt;, ולכן&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left(m+1\right)q&amp;lt;\frac{\left(m+1\right)a}{n}\le\frac{na}{n}=a\in A \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;בסתירה לכך ש-&lt;span&gt;\( \left(m+1\right)q\notin A \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;מכיוון ש-&lt;span&gt;\( m\ge n \)&lt;/span&gt; מתקיים, יש לנו את אי השוויון שהוכחנו קודם:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( x&amp;lt;\frac{m}{m+1} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;בואו נחלק את הכל באיבר הגדול ביותר שמצאנו ב-&lt;span&gt;\( A \)&lt;/span&gt;, כלומר ב-&lt;span&gt;\( mq \)&lt;/span&gt;, ונקבל:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \frac{x}{mq}&amp;lt;\frac{m}{m+1}\frac{1}{mq}=\frac{1}{\left(m+1\right)q} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ועכשיו, בגלל ש-&lt;span&gt;\( \left(m+1\right)q\notin A \)&lt;/span&gt; אז ב-&lt;span&gt;\( A^{-1} \)&lt;/span&gt; יש כל איבר ש&lt;strong&gt;קטן יותר&lt;/strong&gt; מההופכי שלו, כלומר שקטן יותר מ-&lt;span&gt;\( \frac{1}{\left(m+1\right)q} \)&lt;/span&gt;. זה עתה הראינו ש-&lt;span&gt;\( \frac{x}{mq} \)&lt;/span&gt; הוא איבר כזה, כלומר &lt;span&gt;\( \frac{x}{mq}\in A^{-1} \)&lt;/span&gt;, ויחד עם זה ש-&lt;span&gt;\( mq\in A \)&lt;/span&gt; קיבלנו ש-&lt;span&gt;\( x=\left(mq\right)\cdot\frac{x}{mq}\in A\cdot A^{-1} \)&lt;/span&gt;, מה שמסיים את ההוכחה.&lt;/p&gt;

&lt;h2&gt;כפל עם חתכים שליליים&lt;/h2&gt;

&lt;p&gt;הגענו אל הישורת האחרונה. הנה מה שאנחנו צריכים להוכיח:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;&lt;span&gt;\( A\cdot B=B\cdot A \)&lt;/span&gt; &lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( \left(A\cdot B\right)\cdot C=A\cdot\left(B\cdot C\right) \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( A\cdot\left(B+C\right)=A\cdot B+A\cdot C \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( A\cdot1=A \)&lt;/span&gt; לכל &lt;span&gt;\( A \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;לכל &lt;span&gt;\( A\ne0 \)&lt;/span&gt; קיים איבר שמסומן ב-&lt;span&gt;\( A^{-1} \)&lt;/span&gt; ונקרא &lt;strong&gt;ההופכי&lt;/strong&gt; של &lt;span&gt;\( A \)&lt;/span&gt; כך ש-&lt;span&gt;\( A\cdot A^{-1}=1 \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;את כל אלו הוכחנו כבר בהנחה ש-&lt;span&gt;\( A,B,C&amp;gt;0 \)&lt;/span&gt;, אבל עכשיו אנחנו רוצים לטפל בכל &lt;span&gt;\( A,B,C \)&lt;/span&gt;, כולל שליליים. הצעד הראשון הוא &lt;strong&gt;להגדיר&lt;/strong&gt; כפל שמעורבים בו חתכים שליליים, וכדי לעשות את זה אני רוצה להזכיר תכונה מהותית שמתקיימת בכל שדה: &lt;span&gt;\( -\left(-A\right)=A \)&lt;/span&gt;. התכונה הזו נובעת רק מאקסיומות החיבור של השדה, אז נוכל כבר עכשיו להוכיח שהיא מתקיימת עבור חתכים. ראשית נוכיח שמתקיים &lt;strong&gt;כלל הצמצום&lt;/strong&gt;, כלומר שאם &lt;span&gt;\( A+B=A+C \)&lt;/span&gt; אז &lt;span&gt;\( B=C \)&lt;/span&gt;. אינטואיטיבית, אנחנו “מחברים את &lt;span&gt;\( -A \)&lt;/span&gt; לשני האגפים” אבל בפועל צריך להיות זהירים ולהשתמש רק במה שאנחנו יודעים:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( B=0+B=\left(-A+A\right)+B=-A+\left(A+B\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עד כאן השתמשנו בכך ש-0 הוא אדיש, בכך שלכל &lt;span&gt;\( A \)&lt;/span&gt;, מתקיים &lt;span&gt;\( A+\left(-A\right)=0 \)&lt;/span&gt; (וגם בקומוטטיביות כי הפכתי את הסדר ביניהם) ובאסוציאטיביות (המעבר האחרון). עכשיו אני אשתמש בנתון ואקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( -A+\left(A+B\right)=-A+\left(A+C\right)=\left(-A+A\right)+C=0+C=C \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;אז קיבלתי שרשרת שוויונים שמראה ש-&lt;span&gt;\( B=C \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;עכשיו, אפשר להשתמש בכלל הצמצום כדי להראות שהנגדי הוא יחיד: שאם &lt;span&gt;\( A+B=0 \)&lt;/span&gt; אז &lt;span&gt;\( B=-A \)&lt;/span&gt;: הרי עבור &lt;span&gt;\( -A \)&lt;/span&gt; מתקיים &lt;span&gt;\( A+\left(-A\right)=0=A+B \)&lt;/span&gt; אז מצמצום ה-&lt;span&gt;\( A \)&lt;/span&gt; משני האגפים נישאר עם &lt;span&gt;\( -A=B \)&lt;/span&gt;. עכשיו, מכיוון ש-&lt;span&gt;\( \left(-A\right)+A=0 \)&lt;/span&gt; המסקנה היא ש-&lt;span&gt;\( A=-\left(-A\right) \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;את זה כאמור הוכחנו פורמלית עבור חתכים, אבל אחרי שמגדירים כפל אפשר לקחת את הכללים הללו הלאה. באופן כללי, אם יש לי שדה ואיברים &lt;span&gt;\( x,y \)&lt;/span&gt; בתוכו, אז מתקיים:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;&lt;span&gt;\( \left(-x\right)y=-\left(xy\right)=x\left(-y\right) \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( \left(-x\right)\left(-y\right)=xy \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;אני הולך &lt;strong&gt;להגדיר&lt;/strong&gt; את הכפל עבור חתכים שליליים בצורה שתבטיח שהדברים הללו יתקיימו (כי אם ההגדרה לא נותנת את הדברים הללו, מה שאני מגדיר לא יכול להיות שדה). איך מוכיחים אותם? אז למשל, כדי להוכיח את &lt;span&gt;\( \left(-x\right)y=-\left(xy\right) \)&lt;/span&gt; ראיתי עכשיו שאני צריך להוכיח &lt;span&gt;\( \left(-x\right)y+xy=0 \)&lt;/span&gt; ואת זה עושים עם דיסטריביוטיביות:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left(-x\right)y+xy=\left(-x+x\right)y=0\cdot y=0 \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כשאני משתמש בכך שכפל ב-0 מחזיר 0 (כי &lt;span&gt;\( 0\cdot y=\left(0+0\right)\cdot y=0\cdot y+0\cdot y \)&lt;/span&gt; ועכשיו משתמשים בכלל הצמצום).&lt;/p&gt;

&lt;p&gt;גם ההוכחה של &lt;span&gt;\( -\left(xy\right)=x\left(-y\right) \)&lt;/span&gt; דומה, ולכן נשאר רק להוכיח את &lt;span&gt;\( \left(-x\right)\left(-y\right)=xy \)&lt;/span&gt;. בשביל להוכיח את זה, ראשית נשתמש ב-&lt;span&gt;\( \left(-x\right)y=-\left(xy\right) \)&lt;/span&gt; רק כשאנחנו מחליפים את &lt;span&gt;\( y \)&lt;/span&gt; ב-&lt;span&gt;\( -y \)&lt;/span&gt; ונקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left(-x\right)\left(-y\right)=-\left(x\left(-y\right)\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו נשתמש ב-&lt;span&gt;\( x\left(-y\right)=-\left(xy\right) \)&lt;/span&gt; ונקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( -\left(x\left(-y\right)\right)=-\left(-\left(xy\right)\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ולסיום נשתמש בתכונה המהותית שבה התחלתי, כלומר ש-&lt;span&gt;\( -\left(-\left(xy\right)\right)=xy \)&lt;/span&gt;, וקיבלתי &lt;span&gt;\( \left(-x\right)\left(-y\right)=xy \)&lt;/span&gt;, כמו שרציתי.&lt;/p&gt;

&lt;p&gt;בשביל מה כל זה היה טוב? כי כזכור, עבור חתך &lt;span&gt;\( A \)&lt;/span&gt; יש שלוש אפשרויות: או ש-&lt;span&gt;\( A&amp;gt;0 \)&lt;/span&gt; (ואז כבר הגדרנו עליו כפל), או ש-&lt;span&gt;\( A=0 \)&lt;/span&gt; (ואז כפל בו פשוט יהיה 0) או ש-&lt;span&gt;\( -A&amp;gt;0 \)&lt;/span&gt; ואז כדי להגדיר כפל על &lt;span&gt;\( A \)&lt;/span&gt; אפשר להיעזר בכפל על &lt;span&gt;\( -A \)&lt;/span&gt; ולהגדיר בהתאם לכללים שזה עתה ראינו.&lt;/p&gt;

&lt;p&gt;בואו נכתוב במפורש את ההגדרה המלאה לכפל של &lt;span&gt;\( A,B \)&lt;/span&gt;. היא מתבססת בדיוק על החלוקה הזו למקרים אפשריים:&lt;/p&gt;

&lt;ol&gt; &lt;li&gt;אם &lt;span&gt;\( A=0 \)&lt;/span&gt; או &lt;span&gt;\( B=0 \)&lt;/span&gt; אז &lt;span&gt;\( AB\triangleq0 \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;אם &lt;span&gt;\( A,B&amp;gt;0 \)&lt;/span&gt; אז &lt;span&gt;\( AB\triangleq\left\{ q\in\mathbb{Q}\ |\ \exists a&amp;gt;0\in A,b&amp;gt;0\in B:q\le ab\right\}  \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;אם &lt;span&gt;\( A&amp;lt;0,B&amp;gt;0 \)&lt;/span&gt; אז &lt;span&gt;\( AB\triangleq-\left(\left(-A\right)B\right) \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;אם &lt;span&gt;\( A&amp;gt;0,B&amp;lt;0 \)&lt;/span&gt; אז &lt;span&gt;\( AB\triangleq-\left(A\left(-B\right)\right) \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;אם &lt;span&gt;\( A&amp;lt;0,B&amp;lt;0 \)&lt;/span&gt; אז &lt;span&gt;\( AB\triangleq\left(-A\right)\left(-B\right) \)&lt;/span&gt;&lt;/li&gt;

&lt;/ol&gt;

&lt;p&gt;בכל שלוש ההגדרות האחרונות ברשימה אני משתמש בהגדרה הקודמת, עבור כפל של חיוביים: מה שמוכפל בתוך הסוגריים הוא תמיד שני חתכים חיוביים, ואני בסך הכל לוקח את הנגדי של התוצאה במקרה שבו אחד מהחתכים חיובי והשני שלילי.&lt;/p&gt;

&lt;p&gt;זו ההגדרה, רק נותר להראות שהיא עובדת. זה כמובן מערב בדיקה של המון מקרים אז אני לא אוכיח את הכל, אבל בואו נראה את המהות של כל דבר.&lt;/p&gt;

&lt;p&gt;ראשית, קומוטטיביות.&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;&lt;span&gt;\( AB=BA \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;נסתכל למשל על המקרה &lt;span&gt;\( A&amp;lt;0,B&amp;gt;0 \)&lt;/span&gt;, אז&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( AB=-\left(\left(-A\right)B\right)=-\left(B\left(-A\right)\right)=BA \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;בואו נבין מה קרה פה: המעבר הראשון הוא פשוט ההגדרה. המעבר השני הוא שימוש בקומוטטיביות עבור מכפלה של שני חיוביים, שכבר הוכחתי. המעבר השלישי הוא שוב הההגדרה, אבל לא אותה הגדרה; ההגדרה הראשונה הייתה שורה 3 (כשהאיבר השמאלי במכפלה שלילי) וכאן אני משתמש בהגדרה שבשורה 4 (כשהאיבר הימני במכפלה שלילי).&lt;/p&gt;

&lt;p&gt;עכשיו לאסוציאטיביות:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;&lt;span&gt;\( \left(AB\right)C=A\left(BC\right) \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;למשל, אם &lt;span&gt;\( A&amp;lt;0,B&amp;gt;0,C&amp;lt;0 \)&lt;/span&gt;. אז&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left(AB\right)C=\left[-\left(\left(-A\right)B\right)\right]C \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כאן אני משתמש בהגדרה של שורה 3. עכשיו יש לי את הכפל של שני החיוביים &lt;span&gt;\( \left(-A\right)B \)&lt;/span&gt;, וכפל של שני חיוביים נותן חיובי (את זה כבר הוכחנו קודם) ולכן המינוס שלהם הוא שלילי, ולכן קיבלתי ביטוי מהצורה &lt;span&gt;\( XY \)&lt;/span&gt; כאשר &lt;span&gt;\( X&amp;lt;0 \)&lt;/span&gt; וגם &lt;span&gt;\( Y&amp;lt;0 \)&lt;/span&gt; (במקרה הזה &lt;span&gt;\( X=-\left[\left(-A\right)B\right] \)&lt;/span&gt; ואילו &lt;span&gt;\( Y=C \)&lt;/span&gt;) ולכן אותו אפשר לפתוח על פי שורה 5:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left[-\left(\left(-A\right)B\right)\right]C=\left(-\left[-\left(\left(-A\right)B\right)\right]\right)\left(-C\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;זה נראה די מזעזע אבל יש אור בקצה המנהרה - את הביטוי &lt;span&gt;\( -\left[-\left(\left(-A\right)B\right)\right] \)&lt;/span&gt; אנחנו יודעים לפשט עם הזהות &lt;span&gt;\( -\left(-A\right)=A \)&lt;/span&gt; שהראיתי בהתחלה: &lt;span&gt;\( -\left[-\left(\left(-A\right)B\right)\right]=\left(-A\right)B \)&lt;/span&gt; ולכן נקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left(-\left[-\left(\left(-A\right)B\right)\right]\right)\left(-C\right)=\left(\left(-A\right)B\right)\left(-C\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו יש לנו מכפלה מהצורה &lt;span&gt;\( \left(XY\right)Z \)&lt;/span&gt; רק שהפעם כל המוכפלים הם חיוביים, כי &lt;span&gt;\( A,C \)&lt;/span&gt; השליליים הוחלפו ב-&lt;span&gt;\( -A,-C \)&lt;/span&gt; החיוביים, אז אנחנו יכלום להשתמש באסוציאטיביות שכבר הוכחנו עבור חיוביים ולקבל&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left(\left(-A\right)B\right)\left(-C\right)=\left(-A\right)\left(B\left(-C\right)\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;הביטוי &lt;span&gt;\( B\left(-C\right) \)&lt;/span&gt; תואם את שורה 4 במובן הבא: אנחנו יודעים &lt;strong&gt;שהנגדי שלו&lt;/strong&gt; הוא &lt;span&gt;\( BC \)&lt;/span&gt;, אז בגלל היחידות של הנגדי שהוכחנו קודם אפשר לכתוב &lt;span&gt;\( B\left(-C\right)=-\left(BC\right) \)&lt;/span&gt; ולכן&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left(-A\right)\left(B\left(-C\right)\right)=\left(-A\right)\left(-\left(BC\right)\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;עכשיו שימו לב מה קורה פה: אנחנו יודעים ש-&lt;span&gt;\( A&amp;lt;0 \)&lt;/span&gt; כי מזה התחלנו, ובנוסף אנחנו יודעים ש-&lt;span&gt;\( BC&amp;lt;0 \)&lt;/span&gt; כי ראינו ש-&lt;span&gt;\( B\left(-C\right)=-\left(BC\right) \)&lt;/span&gt; ואגף שמאל הוא מכפלת שני חיוביים ולכן חיובי, ולכן &lt;strong&gt;הנגדי&lt;/strong&gt; של &lt;span&gt;\( BC \)&lt;/span&gt; הוא חיובי, ולכן &lt;span&gt;\( BC \)&lt;/span&gt; שלילי (באופן כללי שורות 3-4 בהגדרה מראות לנו שמכפלה של חיובי בשלילי היא שלילית). זה אומר ש-&lt;span&gt;\( \left(-A\right)\left(-\left(BC\right)\right) \)&lt;/span&gt; הוא ביטוי שהוא מכפלה של שני &lt;strong&gt;נגדיים&lt;/strong&gt; של שליליים - בדיוק מה שקורה באגף ימין של שורה 5, ולכן שווה לאגף שמאל:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left(-A\right)\left(-\left(BC\right)\right)=A\left(BC\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;וסיימנו סוף סוף - &lt;span&gt;\( \left(AB\right)C=A\left(BC\right) \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;זו הייתה הוכחה של מקרה אחד של האסוציאטיביות.&lt;/p&gt;

&lt;p&gt;מתוך 27 אפשרויות.&lt;/p&gt;

&lt;p&gt;כמובן, אני עושה כאן הגזמה קומית, 27 אפשרויות זה רק אם מביאים בחשבון כל אחת משלוש הסיטואציות האפשריות לכל אחד מהחתכים: &lt;span&gt;\( A&amp;gt;0 \)&lt;/span&gt; או &lt;span&gt;\( A=0 \)&lt;/span&gt; או &lt;span&gt;\( A&amp;lt;0 \)&lt;/span&gt;. אבל אם ולו אחד מהחתכים מקיים &lt;span&gt;\( A=0 \)&lt;/span&gt; אז המכפלה הסופית תצא 0 בשני האגפים והשוויון טריוויאלי, אז אין מה להוכיח פה, ואנחנו מצטמצמים אל “רק” 8 אפשרויות. מתוכן אחת היא האפשרות שכולם חיוביים שבה טיפלנו במפורש קודם, ועוד אחת ראינו כרגע, וכל היתר הן אותו דבר כמו מה שעשינו כרגע - שימוש זהיר בחוקי הצמצומים של מינוס ובהגדרות של הכפל במקרים שונים ומשונים. אני אוותר על יתר 6 המקרים אבל זה “תרגיל טוב” לנסות עצמאית אחד מהם.&lt;/p&gt;

&lt;p&gt;מה עכשיו? דיסטריביוטיביות.&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;&lt;span&gt;\( A\left(B+C\right)=AB+AC \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;דיסטריביוטיביות היא מקרה מעניין במיוחד כי &lt;span&gt;\( B+C \)&lt;/span&gt; הוא ביטוי שיכול לצאת גם חיובי וגם שלילי, תלוי בערכים הספציפיים של &lt;span&gt;\( B,C \)&lt;/span&gt;. אם &lt;span&gt;\( B,C&amp;gt;0 \)&lt;/span&gt; שניהם אז &lt;span&gt;\( B+C&amp;gt;0 \)&lt;/span&gt; באופן טריוויאלי ואם &lt;span&gt;\( B,C&amp;lt;0 \)&lt;/span&gt; אז &lt;span&gt;\( B+C&amp;lt;0 \)&lt;/span&gt; גם באופן טריוויאלי - בשני המקרים זה נובע ישירות מההגדרה של הסכום בתור קבוצת כל הסכומים. אבל אם למשל &lt;span&gt;\( B&amp;gt;0 \)&lt;/span&gt; ו-&lt;span&gt;\( C&amp;lt;0 \)&lt;/span&gt; הסכום יכול לצאת חיובי או שלילי. למשל אם &lt;span&gt;\( B=\left(-\infty,2\right) \)&lt;/span&gt; ו-&lt;span&gt;\( C=\left(-\infty,-3\right) \)&lt;/span&gt; הסכום יצא שלילי, &lt;span&gt;\( \left(-\infty,-1\right) \)&lt;/span&gt; ואילו אם &lt;span&gt;\( C=\left(-\infty,-1\right) \)&lt;/span&gt; הסכום יצא חיובי, &lt;span&gt;\( \left(-\infty,1\right) \)&lt;/span&gt;. איכשהו ההוכחה צריכה לעבוד בכל אחד משני המקרים הללו למרות שהם לכאורה “הפוכים”.&lt;/p&gt;

&lt;p&gt;נתחיל מהסיטואציה הקלה יותר - &lt;span&gt;\( A&amp;gt;0,B&amp;lt;0,C&amp;lt;0 \)&lt;/span&gt;. במקרה זה &lt;span&gt;\( B&amp;lt;0,C&amp;lt;0 \)&lt;/span&gt; ולכן &lt;span&gt;\( B+C&amp;lt;0 \)&lt;/span&gt; ולכן כל המכפלות &lt;span&gt;\( A\left(B+C\right),AB,AC \)&lt;/span&gt; מוגדרות לפי שורה 4:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( A\left(B+C\right)=-\left[A\left(-\left(B+C\right)\right)\right]=\left[A\left(-\left(B+C\right)\right)\right]=-\left[A\left(\left(-B\right)+\left(-C\right)\right)\right] \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;את המעבר האחרון צריך להצדיק; זה בעצם עוד חוק חיבור, &lt;span&gt;\( -\left(x+y\right)=\left(-x\right)+\left(-y\right) \)&lt;/span&gt;. בשביל להצדיק אותו אפשר להסתכל על הסכום&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left[\left(-x\right)+\left(-y\right)\right]+\left(x+y\right)=\left(-x\right)+\left[\left(-y\right)+\left(y+x\right)\right]= \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( =\left(-x\right)+\left[\left(-y+y\right)+x\right]=-x+x=0 \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ולהסיק ש-&lt;span&gt;\( \left(-x\right)+\left(-y\right) \)&lt;/span&gt; הוא הנגדי של &lt;span&gt;\( \left(x+y\right) \)&lt;/span&gt; - הכל פה הוא שימוש סטנדרטי באסוציאטיביות, קומוטטיביות והתכונות שראינו בהתחלה של החיבור. אז אפשר לחזור לדיסטריביוטיביות שלנו. הגענו לכך שבסוגריים יש לנו &lt;span&gt;\( A\left(\left(-B\right)+\left(-C\right)\right) \)&lt;/span&gt;, ומכיוון ש-&lt;span&gt;\( B,C&amp;lt;0 \)&lt;/span&gt; קיבלנו כאן ביטוי שתואם את הדיסטריביוטיביות במקרה שבו כל המעורבים הם חיוביים ואפשר להשתמש בכך שהוכחנו את המקרה הזה קודם:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( -\left[A\left(\left(-B\right)+\left(-C\right)\right)\right]=-\left[A\left(-B\right)+A\left(-C\right)\right]=-\left(A\left(-B\right)\right)+\left(-\left(A\left(-C\right)\right)\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;וביטוי כמו &lt;span&gt;\( -\left(A\left(-B\right)\right) \)&lt;/span&gt; הוא אגף ימין של כלל 4 ולכן מקבלים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( -\left(A\left(-B\right)\right)+\left(-\left(A\left(-C\right)\right)\right)=AB+AC \)&lt;/span&gt;. אז זה היה קל, ואם &lt;span&gt;\( A&amp;lt;0 \)&lt;/span&gt; זה יעבוד בערך אותו הדבר.&lt;/p&gt;

&lt;p&gt;אם כן, בואו נעבור לסיטואציה הבעייתית: &lt;span&gt;\( B&amp;lt;0,C&amp;gt;0 \)&lt;/span&gt; (ונניח ש-&lt;span&gt;\( A&amp;gt;0 \)&lt;/span&gt; אבל &lt;span&gt;\( A&amp;lt;0 \)&lt;/span&gt; יהיה דומה). כאן יש שלוש אפשרויות: או ש-&lt;span&gt;\( B+C&amp;gt;0 \)&lt;/span&gt;, או ש-&lt;span&gt;\( B+C=0 \)&lt;/span&gt;, או ש-&lt;span&gt;\( B+C&amp;lt;0 \)&lt;/span&gt;. נתחיל מ-&lt;span&gt;\( B+C=0 \)&lt;/span&gt;; במקרה הזה &lt;span&gt;\( C=-B \)&lt;/span&gt; ואז &lt;span&gt;\( A\left(B+C\right)=0 \)&lt;/span&gt; וכמו כן&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( AB+AC=AB+A\left(-B\right)=AB-AB=0 \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כשהמעבר הלפני אחרון נובע משורה 3 בהגדרה: &lt;span&gt;\( -\left(A\left(-B\right)\right)=AB \)&lt;/span&gt;, כלומר &lt;span&gt;\( A\left(-B\right)=-AB \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;עכשיו נניח ש-&lt;span&gt;\( B+C&amp;gt;0 \)&lt;/span&gt; ונשתמש בטריק כדי להעביר את הסיטואציה לדיסטריביוטיביות שמערבת רק חיוביים. הטריק הוא לכתוב &lt;span&gt;\( C=\left(B+C\right)+\left(-B\right) \)&lt;/span&gt;: ככה כתבנו את &lt;span&gt;\( C \)&lt;/span&gt; בתור סכום של שני חיוביים, ועכשיו נסתכל על&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( AC=A\left(\left(B+C\right)+\left(-B\right)\right)=A\left(B+C\right)+A\left(-B\right) \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כשהמעבר השני הוא שימוש בדיסטריביוטיביות על חיוביים. עכשיו , מכיוון ש-&lt;span&gt;\( B&amp;lt;0 \)&lt;/span&gt; אנחנו מקבלים מכלל 4 ש-&lt;span&gt;\( A\left(-B\right)=-AB \)&lt;/span&gt; ולכן קיבלנו&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( AC=A\left(B+C\right)-AB \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ועל ידי העברת אגפים מקבלים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( A\left(B+C\right)=AB+AC \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ושוב - יש שלל מקרים אחרים לטפל בהם אבל שום טכניקה חדשה, אז אני אברח מזה באלגנטיות.&lt;/p&gt;

&lt;p&gt;עכשיו צריך לטפל באיבר היחידה:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;&lt;span&gt;\( A\cdot1=A \)&lt;/span&gt; לכל &lt;span&gt;\( A \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;כבר הוכחנו את זה למקרה ש-&lt;span&gt;\( A&amp;gt;0 \)&lt;/span&gt; וזה ברור במקרה ש-&lt;span&gt;\( A=0 \)&lt;/span&gt;. אם &lt;span&gt;\( A&amp;lt;0 \)&lt;/span&gt; אז בגלל ש-&lt;span&gt;\( 1&amp;gt;0 \)&lt;/span&gt; נקבל &lt;span&gt;\( A\cdot1=-\left(\left(-A\right)\cdot1\right) \)&lt;/span&gt;. עבור &lt;span&gt;\( -A&amp;gt;0 \)&lt;/span&gt; כבר ראינו ש-&lt;span&gt;\( \left(-A\right)\cdot1=-A \)&lt;/span&gt; ולכן&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( A\cdot1=-\left(\left(-A\right)\cdot1\right)=-\left(-A\right)=A \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כפי שרצינו.&lt;/p&gt;

&lt;p&gt;נותר רק דבר אחד - הופכי:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;לכל &lt;span&gt;\( A\ne0 \)&lt;/span&gt; קיים איבר שמסומן ב-&lt;span&gt;\( A^{-1} \)&lt;/span&gt; ונקרא &lt;strong&gt;ההופכי&lt;/strong&gt; של &lt;span&gt;\( A \)&lt;/span&gt; כך ש-&lt;span&gt;\( A\cdot A^{-1}=1 \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;הראינו את זה עבור &lt;span&gt;\( A&amp;gt;0 \)&lt;/span&gt; ולא צריך לטפל במקרה &lt;span&gt;\( A=0 \)&lt;/span&gt;, אז נותר רק &lt;span&gt;\( A&amp;lt;0 \)&lt;/span&gt;. במקרה הזה נסמן &lt;span&gt;\( B=-A \)&lt;/span&gt;, אז &lt;span&gt;\( B&amp;gt;0 \)&lt;/span&gt; ולכן קיים &lt;span&gt;\( B^{-1} \)&lt;/span&gt; כך ש-&lt;span&gt;\( B\cdot B^{-1}=1 \)&lt;/span&gt;. עכשיו אני אגדיר &lt;span&gt;\( A^{-1}=-B^{-1} \)&lt;/span&gt;. שימו לב שבגלל ש-&lt;span&gt;\( B&amp;gt;0 \)&lt;/span&gt; גם &lt;span&gt;\( B^{-1}&amp;gt;0 \)&lt;/span&gt; כך ש-&lt;span&gt;\( A^{-1}&amp;lt;0 \)&lt;/span&gt; ולכן המכפלה &lt;span&gt;\( A\cdot A^{-1} \)&lt;/span&gt; תואמת את כלל מס’ 5: &lt;span&gt;\( AA^{-1}=\left(-A\right)\left(-A^{-1}\right)=BB^{-1}=1 \)&lt;/span&gt;, וסיימנו את כל מה שצריך להוכיח על חתכי דדקינד!&lt;/p&gt;</content><author><name></name></author><category term="מספרים ממשיים" /><summary type="html">מבוא</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://gadial.net/assets/img/main/default-card.png" /><media:content medium="image" url="http://gadial.net/assets/img/main/default-card.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">אז מה זה בעצם המספרים הממשיים? (חלק ד’: בונים את המספרים הממשיים עם סדרות קושי)</title><link href="http://gadial.net/2024/11/11/real_numbers_construction_cauchy_sequences/" rel="alternate" type="text/html" title="אז מה זה בעצם המספרים הממשיים? (חלק ד&apos;: בונים את המספרים הממשיים עם סדרות קושי)" /><published>2024-11-11T00:00:00+00:00</published><updated>2024-11-11T00:00:00+00:00</updated><id>http://gadial.net/2024/11/11/real_numbers_construction_cauchy_sequences</id><content type="html" xml:base="http://gadial.net/2024/11/11/real_numbers_construction_cauchy_sequences/">&lt;h2&gt;מבוא&lt;/h2&gt;

&lt;p&gt;סדרת הפוסטים שלי על המספרים הממשיים כבר אמרה המון דברים על המספרים הממשיים חוץ מדבר בסיסי אחד: מהם המספרים הממשיים. קיבלנו אינטואיציה וקיבלנו רשימת תכונות שאנחנו &lt;strong&gt;מצפים&lt;/strong&gt; שהמספרים הממשיים יקיימו, אבל לא קיבלו בניות קונקרטיות שלהם. בפוסט הזה סוף סוף נגיע להגדרה פורמלית: זו של קנטור שמסתמכת על &lt;strong&gt;סדרות&lt;/strong&gt;. בנוסף להגדרה הזו יש גם את ההגדרה של דדקינד שמסתמכת על &lt;strong&gt;חתכים&lt;/strong&gt;, אבל אני דוחה אותה לפוסט הבא כי ההוכחה שהיא עובדת היא טכנית להחריד (אפילו יותר מהדברים הטכניים להחריד שיהיו בהמשך הפוסט הזה) וסדר ההצגה של דברים בה הוא שונה, כך שבפוסט הזה אני אתמקד על הבניה של קנטור שהיא קצת יותר קלה לעיכול מבחינת הפרטים הטכניים.&lt;/p&gt;

&lt;p&gt;לפני שנתחיל, בואו ניזכר שוב מה היה האפיון שנתתי למספרים הממשיים: המספרים הממשיים הם &lt;strong&gt;השדה הסדור השלם&lt;/strong&gt;. כאשר “שדה”, “סדור” ו”שלם” כולם מוגדרים על ידי &lt;strong&gt;אקסיומות&lt;/strong&gt; (תכונות בסיסיות שאנחנו מצפים מהאובייקט שלנו לקיים אם הוא רוצה להיקרא “שדה”, “סדור”, “שלם”) והשימוש שלי בה’ הידיעה הוצדק על ידי הוכחה שיש בדיוק אובייקט אחד (עד כדי איזומורפיזם) שמקיים את כל האקסיומות הללו.&lt;/p&gt;

&lt;p&gt;זה אומר מה בעצם אני צריך לעשות בפוסט הזה והבא אחריו: לא סתם להציג בניה, אלא להסביר או אפילו להוכיח עד הסוף למה הבניה מקיימות את כל האקסיומות הללו (בכך זה שונה מאוד מפעמים אחרות שבהן הזכרתי את הבניות בבלוג; אף פעם לא הראיתי שהן מקיימות את האקסיומות, כלומר שהן עושות את מה שהן אמורות לעשות). לכן נתחיל עם להזכיר את רשימת כל האקסיומות:&lt;/p&gt;

&lt;p&gt;האובייקט הבסיסי שלנו מסומן ב-&lt;span&gt;\( \mathbb{F} \)&lt;/span&gt; והוא פשוט קבוצה. אנחנו אומרים שהוא &lt;strong&gt;שדה&lt;/strong&gt; אם בנוסף ל-&lt;span&gt;\( \mathbb{F} \)&lt;/span&gt; מוגדרות לנו שתי פונקציות בינאריות על &lt;span&gt;\( \mathbb{F} \)&lt;/span&gt; (פונקציות בינאריות: מקבלות שני קלטים ומחזירות פלט אחד) שמסומנות ב-“&lt;span&gt;\( + \)&lt;/span&gt;” וב-“&lt;span&gt;\( \cdot \)&lt;/span&gt;” כך שמתקיימות התכונות הבאות:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;&lt;span&gt;\( \left(A+B\right)+C=A+\left(B+C\right) \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( \left(A\cdot B\right)\cdot C=A\cdot\left(B\cdot C\right) \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( A+B=B+A \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( A\cdot B=B\cdot A \)&lt;/span&gt; &lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( A\cdot\left(B+C\right)=A\cdot B+A\cdot C \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;קיים איבר שמסומן ב-0 כך ש-&lt;span&gt;\( A+0=A \)&lt;/span&gt; לכל &lt;span&gt;\( A \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;לכל &lt;span&gt;\( A \)&lt;/span&gt; קיים איבר שמסומן ב-&lt;span&gt;\( -A \)&lt;/span&gt; ונקרא &lt;strong&gt;הנגדי&lt;/strong&gt; של &lt;span&gt;\( A \)&lt;/span&gt; כך ש-&lt;span&gt;\( A+\left(-A\right)=0 \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;קיים איבר שמסומן ב-&lt;span&gt;\( 1 \)&lt;/span&gt; כך ש-&lt;span&gt;\( 0\ne1 \)&lt;/span&gt; ו-&lt;span&gt;\( A\cdot1=A \)&lt;/span&gt; לכל &lt;span&gt;\( A \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;לכל &lt;span&gt;\( A\ne0 \)&lt;/span&gt; קיים איבר שמסומן ב-&lt;span&gt;\( A^{-1} \)&lt;/span&gt; ונקרא &lt;strong&gt;ההופכי&lt;/strong&gt; של &lt;span&gt;\( A \)&lt;/span&gt; כך ש-&lt;span&gt;\( A\cdot A^{-1}=1 \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;עבור שדה סדור דרשנו בנוסף את הקיום של קבוצה &lt;span&gt;\( P\subseteq\mathbb{F} \)&lt;/span&gt; שאינטואיטיבית אנחנו חושבים על אבריה בתור “המספרים החיוביים” שמקיימת:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;לכל &lt;span&gt;\( A\in\mathbb{F} \)&lt;/span&gt; בדיוק אחד מהבאים מתקיים: או ש-&lt;span&gt;\( A\in P \)&lt;/span&gt;, או ש-&lt;span&gt;\( -A\in P \)&lt;/span&gt;, או ש-&lt;span&gt;\( A=0 \)&lt;/span&gt;.&lt;/li&gt;


&lt;li&gt;אם &lt;span&gt;\( A,B\in P \)&lt;/span&gt; אז &lt;span&gt;\( A+B\in P \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;אם &lt;span&gt;\( A,B\in P \)&lt;/span&gt; אז &lt;span&gt;\( A\cdot B\in P \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;לבסוף, &lt;strong&gt;אקסיומת השלמות&lt;/strong&gt; הייתה האקסיומה הבאה:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;אם &lt;span&gt;\( A\subseteq\mathbb{F} \)&lt;/span&gt; היא קבוצה לא ריקה וחסומה מלעיל, אז &lt;span&gt;\( \sup A \)&lt;/span&gt; קיים.&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;בפוסט הקודם ראינו שהאקסיומה הזו &lt;strong&gt;שקולה&lt;/strong&gt; לזוג אקסיומות אחר:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;(ארכימדיות) לכל &lt;span&gt;\( A\in\mathbb{F} \)&lt;/span&gt; קיים &lt;span&gt;\( N\in\mathbb{N} \)&lt;/span&gt; כך ש-&lt;span&gt;\( A&amp;lt;N \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;(שלמות-קנטור) כל סדרת קושי מתכנסת&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;אני לא מסביר לעומק מה כל האקסיומות אומרות כי כבר דיברנו על זה בפירוט בפוסטים הקודמים ועוד נעשה את זה בפירוט בהמשך, כחלק מההוכחות עצמן. בואו נעבור לראות את הבניה עצמה.&lt;/p&gt;

&lt;h2&gt;הבניה של קנטור למספרים הממשיים&lt;/h2&gt;

&lt;p&gt;קנטור ודדקינד לוקחים שניהם בתור נקודת מוצא את הרציונליים, &lt;span&gt;\( \mathbb{Q} \)&lt;/span&gt;, ויש לכך סיבות טובות. ראשית, זה שדה סדור, כלומר אנחנו “כמעט שם” ורק נותרה לנו עוד אקסיומה אחת; אפשר להראות ש-&lt;span&gt;\( \mathbb{Q} \)&lt;/span&gt; יהיה מוכל בכל שדה סדור כך שהוא בסיס טוב לצאת ממנו; ועם הבניה של &lt;span&gt;\( \mathbb{Q} \)&lt;/span&gt; אין לנו שום בעיות והיא די פשוטה.&lt;/p&gt;

&lt;p&gt;מה שדדקינד וקנטור עושים, וזה רעיון מקסים שחוזר על עצמו שוב ושוב במתמטיקה, הוא לבנות את האובייקט החדש &lt;strong&gt;בתור&lt;/strong&gt; האובייקטים הקיים שכרגע חסר בו משהו. דדקינד אומר - יש לנו קבוצות של רציונליים שנראה שאמור להיות להן חסם עליון אבל אין? יופי, הקבוצות הללו &lt;strong&gt;יהיו&lt;/strong&gt; המספר הממשי שהוא החסם העליון הזה. קנטור אומר - יש לנו סדרות קושי שנראה שאמורות להתכנס לאנשהו אבל אין להן גבול? יופי, הסדרות הללו &lt;strong&gt;יהיו&lt;/strong&gt; המספר הממשי שהוא הגבול הזה. זה נראה כמו רמאות גמורה, אבל כשפורטים את זה לפרטים ברור שאין כאן שום רמאות והכל תקין מבחינה פורמלית. גם מבחינה רעיונית אפשר להבין את זה: האובייקט שממנו מתחילים, זה שמצביע על החסר, בעצם כולל את &lt;strong&gt;האינפורמציה&lt;/strong&gt; שנראית לנו רלוונטית עבור המספר החדש; לכן הוא האובייקט הכי מתאים כדי להגדיר את המספר החדש הזה.&lt;/p&gt;

&lt;p&gt;בואו נראה את הדוגמא הקלאסית עם המספר האי-רציונלי &lt;span&gt;\( \sqrt{2}=1.41421\ldots \)&lt;/span&gt;. זה מספר אי רציונלי, אבל יש סדרת מספרים רציונליים פשוטה ששואפת אליו: &lt;span&gt;\( 1,1.4,1.41,1.414,1.4142,1.41421,\ldots \)&lt;/span&gt;. לא קשה להראות שהסדרה הזו היא &lt;strong&gt;סדרת קושי&lt;/strong&gt; ולכן אם אנחנו רוצים שתתקיים שלמות-קנטור צריך להיות לה גבול ביקום המתמטי שלנו - אז אנחנו &lt;strong&gt;מגדירים&lt;/strong&gt; מספר חדש באמצעות הסדרה הזו. לכאורה המספר החדש הזה הולך להיות &lt;span&gt;\( \sqrt{2} \)&lt;/span&gt;, אבל אי אפשר סתם להגיד את זה - צריך להשתכנע שהמספר החדש שבנינו, אחרי שכופלים אותו בעצמו, יוצא שווה ל-2. כלומר צריך להבין איך מבצעים פעולות אלגבריות על האובייקטים החדשים שלנו, ומתי שני אובייקטים הם שווים, ואיך בכלל “2” מוגדר בגישה שלנו (ובכן, בעזרת הסדרה &lt;span&gt;\( 2,2,2,2,\ldots \)&lt;/span&gt;, למשל).&lt;/p&gt;

&lt;p&gt;לכאורה ההגדרה שלנו פשוטה: כל איבר של &lt;span&gt;\( \mathbb{F} \)&lt;/span&gt; יהיה סדרת קושי של רציונליים. אבל ההגדרה הזו לא מספיק טובה כי יכולות להיות &lt;strong&gt;הרבה&lt;/strong&gt; סדרות קושי שונות ש”מתכנסות לאותו איבר”. הדוגמא הקלאסית היא הסדרה הקבוצה &lt;span&gt;\( 1,1,1,\ldots \)&lt;/span&gt; והסדרה &lt;span&gt;\( 0.9,0.99,0.999,\ldots \)&lt;/span&gt; &lt;a href=&quot;https://gadial.net/2008/06/07/almost_1_is_one/&quot;&gt;שהקדשתי לה כבר פוסט&lt;/a&gt; , אבל הבעיה הרבה יותר עמוקה מזה. למשל, אפילו אם אני אקח את &lt;span&gt;\( 1,1,1\ldots \)&lt;/span&gt; לבדה ופתאום באיבר ה-54,527,822 אשנה אותו ל-42 וכל יתר הסדרה תהיה 1 - קיבלתי סדרת קושי שמתכנסת אל 1, אבל היא שונה מהסדרה שכולה 1-ים. ואפשר גם להסתכל על סדרה כמו &lt;span&gt;\( a_{n}=1-\frac{1}{2^{n}} \)&lt;/span&gt; שמתכנסת גם היא אל 1 אבל בצורה שונה, ועוד ועוד ועוד.&lt;/p&gt;

&lt;p&gt;מה שקנטור אומר הוא - אוקיי, אז בואו לא ניקח סדרת קושי אחת ספציפית בתור מספר ממשי; בואו ניקח את &lt;strong&gt;כל&lt;/strong&gt; הסדרות שמתכנסות לאותו מספר להיות המספר עצמו. פורמלית אנחנו יכולים לתאר את זה עם המושג של &lt;strong&gt;יחס שקילות&lt;/strong&gt; (מושג &lt;a href=&quot;https://gadial.net/2020/01/06/equivalence_relations/&quot;&gt;שיש לי עליו פוסט בבלוג&lt;/a&gt; וכאן אני אניח שהוא מוכר).&lt;/p&gt;

&lt;p&gt;איך מגדירים יחס שקילות שאומר “שתי סדרות הקושי הללו מתכנסות לאותו דבר” כשאין “דבר” שהן מתכנסות אליו? פשוט אומרים שהן מתקרבות מספיק אחת לשניה: אם &lt;span&gt;\( \left\{ a_{n}\right\} _{n=0}^{\infty},\left\{ b_{n}\right\} _{n=0}^{\infty} \)&lt;/span&gt; הן שתי סדרות קושי, נאמר שהן &lt;strong&gt;שקולות&lt;/strong&gt; אם לכל &lt;span&gt;\( \varepsilon&amp;gt;0 \)&lt;/span&gt; קיים &lt;span&gt;\( N \)&lt;/span&gt; כך שלכל &lt;span&gt;\( n&amp;gt;N \)&lt;/span&gt; מתקיים &lt;span&gt;\( \left|a_{n}-b_{n}\right|&amp;lt;\varepsilon \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;קל לראות שזה יחס שקילות: הוא רפלקסיבי כי &lt;span&gt;\( \left|a_{n}-a_{n}\right|=0 \)&lt;/span&gt; לכל &lt;span&gt;\( n \)&lt;/span&gt;; הוא סימטרי כי &lt;span&gt;\( \left|a_{n}-b_{n}\right|=\left|b_{n}-a_{n}\right| \)&lt;/span&gt; לכל &lt;span&gt;\( n \)&lt;/span&gt;. טרנזיטיביות היא טיפה יותר עבודה טכנית אבל שום דבר חכם במיוחד: אם &lt;span&gt;\( \left\{ a_{n}\right\} _{n=0}^{\infty},\left\{ b_{n}\right\} _{n=0}^{\infty} \)&lt;/span&gt; שקולות וגם &lt;span&gt;\( \left\{ b_{n}\right\} _{n=0}^{\infty},\left\{ c_{n}\right\} _{n=0}^{\infty} \)&lt;/span&gt; שקולות נראה ש-&lt;span&gt;\( \left\{ a_{n}\right\} _{n=0}^{\infty},\left\{ c_{n}\right\} _{n=0}^{\infty} \)&lt;/span&gt; שקולות על פי הגדרה. יהא &lt;span&gt;\( \varepsilon&amp;gt;0 \)&lt;/span&gt; כלשהו, אז קיים &lt;span&gt;\( N_{1} \)&lt;/span&gt; כך ש-&lt;span&gt;\( \left|a_{n}-b_{n}\right|&amp;lt;\frac{\varepsilon}{2} \)&lt;/span&gt; לכל &lt;span&gt;\( n&amp;gt;N_{1} \)&lt;/span&gt; וקיים &lt;span&gt;\( N_{2} \)&lt;/span&gt; כך ש-&lt;span&gt;\( \left|b_{n}-c_{n}\right|&amp;lt;\frac{\varepsilon}{2} \)&lt;/span&gt; לכל &lt;span&gt;\( n&amp;gt;N_{2} \)&lt;/span&gt; ולכן אם נגדיר &lt;span&gt;\( N=\max\left\{ N_{1},N_{2}\right\}  \)&lt;/span&gt; אז לכל &lt;span&gt;\( n&amp;gt;N \)&lt;/span&gt; מתקיים&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|a_{n}-c_{n}\right|=\left|a_{n}-b_{n}+b_{n}-c_{n}\right|\le\left|a_{n}-b_{n}\right|+\left|b_{n}-c_{n}\right|&amp;lt;\frac{\varepsilon}{2}+\frac{\varepsilon}{2}=\varepsilon \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;וזה מה שרצינו. אז יש לנו יחס שקילות, ואם יש לנו יחס שקילות יש לנו מחלקות שקילות, כלומר חלוקה של אוסף &lt;strong&gt;כל&lt;/strong&gt; סדרות הקושי הרציונליות לקבוצות כך שכל האיברים של קבוצה שקולים זה לזה ולא שקולים לאיברים של אף קבוצה אחרת. אוסף מחלקות השקילות הזה הוא מה שקנטור מגדיר בתור &lt;span&gt;\( \mathbb{F} \)&lt;/span&gt;. ושוב, טרם הגדרנו חיבור או כפל או איברים חיוביים, אז בינתיים אין לנו אקסיומות כלשהן להראות שמתקיימות, אבל כן קל לראות ש-&lt;span&gt;\( \mathbb{Q}\subseteq\mathbb{F} \)&lt;/span&gt; כי לכל רציונלי &lt;span&gt;\( x\in\mathbb{Q} \)&lt;/span&gt; פשוט ניקח את מחלקת השקילות של הסדרה &lt;span&gt;\( x,x,x,\ldots \)&lt;/span&gt;.&lt;/p&gt;

&lt;h2&gt;חיבור וכפל של סדרות קושי&lt;/h2&gt;

&lt;p&gt;הגישה הסטנדרטית כשבונים אובייקט חדש מתוך אובייקט קיים שבא להרחיב אותו הוא שלא מתחילים מאפס, ומשתמשים במבנה שיש לאובייקט הקיים כדי ליצור את המבנה של האובייקט החדש. אצלנו זה אומר שאת פעולות החיבור והכפל של ממשיים נגדיר באמצעות פעולות החיבור והכפל של רציונליים, שאנחנו כבר מכירים. ברור לנו לגמרי איך לחבר ולכפול כי אנחנו יודעים לחבר ולכפול סדרות: עושים את זה “איבר-איבר”. רק מה, יש לנו סיבוך בלתי נמנע שנובע מכך שאנחנו מגדירים את הממשיים לא בתור &lt;strong&gt;סדרות&lt;/strong&gt; אלא בתור &lt;strong&gt;מחלקות שקילות&lt;/strong&gt; של סדרות. עוד סיבוך נובע מכך שאנחנו לא סתם עובדים עם&lt;strong&gt; &lt;/strong&gt;סדרות אלא עם &lt;strong&gt;סדרות קושי&lt;/strong&gt; ולכן גם תוצאת החיבור והכפל צריכה להיות סדרת קושי. זה לא יהיה סיבוך נוראי אבל נצטרך טיפה לעבוד.&lt;/p&gt;

&lt;p&gt;קודם כל בואו נכניס לתמונה סימונים שיקלו עלינו את החיים. סימנתי סדרה עד כה ב-&lt;span&gt;\( \left\{ a_{n}\right\} _{n=0}^{\infty} \)&lt;/span&gt;, אבל בואו נחסוך כתיבה מיותרת ופשוט נסמן אותה ב-&lt;span&gt;\( a \)&lt;/span&gt;. עכשיו אפשר להגדיר סכום וכפל של סדרות באופן הבא:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;&lt;span&gt;\( a+b=c \)&lt;/span&gt; כאשר &lt;span&gt;\( c_{n}=a_{n}+b_{n} \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( a\cdot b=c \)&lt;/span&gt; כאשר &lt;span&gt;\( c_{n}=a_{n}\cdot b_{n} \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;כלומר, החיבור והכפל הם “נקודתיים”, איבר-איבר.&lt;/p&gt;

&lt;p&gt;עכשיו נעבור לדבר על מחלקות שקילות: דרך סטנדרטית לסמן מחלקת שקילות היא באמצעות &lt;strong&gt;נציג&lt;/strong&gt;: ניקח סדרה &lt;span&gt;\( a \)&lt;/span&gt; ונסמן&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( A=\left[a\right]\triangleq\left\{ a^{\prime}\ |\ a\sim a^{\prime}\right\}  \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כאשר אצלנו כזכור &lt;span&gt;\( a\sim a^{\prime} \)&lt;/span&gt; פירושו שלכל &lt;span&gt;\( \varepsilon&amp;gt;0 \)&lt;/span&gt; קיים &lt;span&gt;\( N \)&lt;/span&gt; כך שלכל &lt;span&gt;\( n&amp;gt;N \)&lt;/span&gt; מתקיים &lt;span&gt;\( \left|a_{n}-a_{n}^{\prime}\right|&amp;lt;\varepsilon \)&lt;/span&gt;. כלומר, אנחנו מתארים את המחלקה בתור “כל האיברים ששקולים אל &lt;span&gt;\( a \)&lt;/span&gt;” - במקרה הזה &lt;span&gt;\( a \)&lt;/span&gt; הוא &lt;strong&gt;הנציג&lt;/strong&gt; של המחלקה.&lt;/p&gt;

&lt;p&gt;בואו ניסגר על הסימונים שלנו. כשאני כותב &lt;span&gt;\( a_{n} \)&lt;/span&gt; אני כותב מספר רציונלי - איבר של הסדרה &lt;span&gt;\( \left\{ a_{n}\right\} _{n=0}^{\infty} \)&lt;/span&gt;. כשאני כותב &lt;span&gt;\( a \)&lt;/span&gt;, זה קיצור במקום לכתוב &lt;span&gt;\( \left\{ a_{n}\right\} _{n=0}^{\infty} \)&lt;/span&gt;, וכשאני כותב &lt;span&gt;\( A \)&lt;/span&gt; אני מתכוון למספר ממשי: מחלקת שקילות של סדרות קושי. כשאני כותב &lt;span&gt;\( A=\left[a\right] \)&lt;/span&gt; אני בוחר לייצג את &lt;span&gt;\( A \)&lt;/span&gt; באמצעות הנציג הקונקרטי &lt;span&gt;\( a \)&lt;/span&gt;, ולעתים קרובות אני לא אטרח לכתוב את &lt;span&gt;\( A \)&lt;/span&gt; במפורש אלא אכתוב פשוט &lt;span&gt;\( \left[a\right] \)&lt;/span&gt; מלכתחילה, שזו דרך לומר “המספר הממשי שאני מייצג כרגע עם &lt;span&gt;\( a \)&lt;/span&gt;”.&lt;/p&gt;

&lt;p&gt;עכשיו אפשר להגדיר חיבור וכפל של ממשיים, כלומר של מחלקות השקילות, על ידי נציגים:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;&lt;span&gt;\( \left[a\right]+\left[b\right]=\left[a+b\right] \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( \left[a\right]\cdot\left[b\right]=\left[a\cdot b\right] \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;כלומר: רוצים לחבר/לכפול שני ממשיים? קחו סדרת קירובים כלשהי לכל אחד מהם, חברו/כפלו את סדרת הקירובים והופס, קיבלתם סדרת קירובים למספר שהוא החיבור/כפל של הממשיים שהתחלתם איתם.&lt;/p&gt;

&lt;p&gt;עד כאן הכל טוב, אבל בכל פעם שבה מגדירים פונקציה על מחלקות שקילות שמתבססת על הנציגים שלהן, יש את הסכנה שעבור נציגים &lt;strong&gt;שונים&lt;/strong&gt; נקבל תוצאות &lt;strong&gt;שונות&lt;/strong&gt;, וזה יאמר שהפונקציה שאנחנו מגדירים היא &lt;strong&gt;לא מוגדרת היטב&lt;/strong&gt; כי על אותו הקלט (זוג ממשיים) היא יכולה להחזיר יותר מפלט אחד (כלומר, כמה ממשיים שונים) בהתאם לנציגים שאנחנו לוקחים.&lt;/p&gt;

&lt;p&gt;אז בואו נראה שזה לא יכול לקרות, בצורה הסטנדרטית. לכל מחלקה ניקח &lt;strong&gt;שני&lt;/strong&gt; נציגים, ונראה שהתוצאה זהה גם עבור זוג הנציגים הראשון וגם עבור זוג הנציגים השני.&lt;/p&gt;

&lt;p&gt;פורמלית, ניקח &lt;span&gt;\( a,a^{\prime} \)&lt;/span&gt; כך ש-&lt;span&gt;\( \left[a\right]=\left[a^{\prime}\right] \)&lt;/span&gt;, ניקח &lt;span&gt;\( b,b^{\prime} \)&lt;/span&gt; כך ש-&lt;span&gt;\( \left[b\right]=\left[b^{\prime}\right] \)&lt;/span&gt; ונוכיח ש:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;&lt;span&gt;\( \left[a+b\right]=\left[a^{\prime}+b^{\prime}\right] \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( \left[a\cdot b\right]=\left[a^{\prime}\cdot b^{\prime}\right] \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;נתחיל מהמקרה הראשון. אם “נקלף” את הרמה של מחלקות השקילות, נראה שמה שצריך להוכיח פה הוא בעצם שאם &lt;span&gt;\( a\sim a^{\prime} \)&lt;/span&gt; וגם &lt;span&gt;\( b\sim b^{\prime} \)&lt;/span&gt; אז &lt;span&gt;\( a+b\sim a^{\prime}+b^{\prime} \)&lt;/span&gt;. כלומר, נתחיל עם “יהי &lt;span&gt;\( \varepsilon&amp;gt;0 \)&lt;/span&gt;” כרגיל ונמצא &lt;span&gt;\( N \)&lt;/span&gt; כך שלכל &lt;span&gt;\( n&amp;gt;N \)&lt;/span&gt; מתקיים &lt;span&gt;\( \left|\left(a_{n}+b_{n}\right)-\left(a_{n}^{\prime}+b_{n}^{\prime}\right)\right|&amp;lt;\varepsilon \)&lt;/span&gt;. בשלב הזה אני מקווה שאנחנו ממש מתורגלים כבר בשטיק הזה. עושים:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|\left(a_{n}+b_{n}\right)-\left(a_{n}^{\prime}+b_{n}^{\prime}\right)\right|=\left|\left(a_{n}-a_{n}^{\prime}\right)+\left(b_{n}-b_{n}^{\prime}\right)\right|\le\left|a_{n}-a_{n}^{\prime}\right|+\left|b_{n}-b_{n}^{\prime}\right|&amp;lt;\frac{\varepsilon}{2}+\frac{\varepsilon}{2}=\varepsilon \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;כשהמעברים הללו עובדים עבור &lt;span&gt;\( N=\max\left\{ N_{1},N_{2}\right\}  \)&lt;/span&gt; כש-&lt;span&gt;\( N_{1} \)&lt;/span&gt; הוא מה שמבטיח &lt;span&gt;\( \left|a_{n}-a_{n}^{\prime}\right|&amp;lt;\frac{\varepsilon}{2} \)&lt;/span&gt; ו-&lt;span&gt;\( N_{2} \)&lt;/span&gt; מבטיח את זה עבור ה-&lt;span&gt;\( b \)&lt;/span&gt;-ים.&lt;/p&gt;

&lt;p&gt;כפל מצריך טריק אלגברי קטן:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|a_{n}b_{n}-a_{n}^{\prime}b_{n}^{\prime}\right|=\left|\left(a_{n}-a_{n}^{\prime}\right)b_{n}+a_{n}^{\prime}\left(b_{n}-b_{n}^{\prime}\right)\right|\le\left|b_{n}\right|\left|a_{n}-a_{n}^{\prime}\right|+\left|a_{n}^{\prime}\right|\left|b_{n}-b_{n}^{\prime}\right| \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;זה טיפה מסבך לנו את החיים כי לא מספיק לחסום את &lt;span&gt;\( \left|a_{n}-a_{n}^{\prime}\right| \)&lt;/span&gt; ואת &lt;span&gt;\( \left|b_{n}-b_{n}^{\prime}\right| \)&lt;/span&gt; כמו קודם: צריך לחסום גם את &lt;span&gt;\( \left|b_{n}\right| \)&lt;/span&gt; ואת &lt;span&gt;\( \left|a_{n}^{\prime}\right| \)&lt;/span&gt;. זו לא בעיה אמיתית כי סדרות קושי הן חסומות: אם &lt;span&gt;\( a \)&lt;/span&gt; היא סדרת קושי, אז קיים &lt;span&gt;\( N \)&lt;/span&gt; כל שלכל &lt;span&gt;\( n&amp;gt;N \)&lt;/span&gt; מתקיים &lt;span&gt;\( \left|a_{n}-a_{N}\right|&amp;lt;1 \)&lt;/span&gt;, כלומר&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|a_{n}\right|=\left|a_{n}-a_{N}+a_{N}\right|\le\left|a_{n}-a_{N}\right|+\left|a_{N}\right|&amp;lt;\left|a_{N}\right|+1 \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;לכן בכללי אפשר להניח שעבור &lt;span&gt;\( N \)&lt;/span&gt; גדול מספיק נקבל לכל &lt;span&gt;\( n&amp;gt;N \)&lt;/span&gt; ש-&lt;span&gt;\( \left|b_{n}\right|&amp;lt;M \)&lt;/span&gt; וגם &lt;span&gt;\( \left|a_{n}^{\prime}\right|&amp;lt;M \)&lt;/span&gt; עבור &lt;span&gt;\( M \)&lt;/span&gt; כלשהו. עכשיו נמצא &lt;span&gt;\( N \)&lt;/span&gt; גדול דיו כך שהאפקט הזה מתקיים &lt;strong&gt;וגם&lt;/strong&gt; &lt;span&gt;\( \left|a_{n}-a_{n}^{\prime}\right|&amp;lt;\frac{\varepsilon}{2M} \)&lt;/span&gt; &lt;strong&gt;וגם &lt;span&gt;\( &amp;lt;/strong&amp;gt;\left|b_{n}-b_{n}^{\prime}\right|&amp;lt;\frac{\varepsilon}{2M} \)&lt;/span&gt;, ולכן נקבל&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|a_{n}b_{n}-a_{n}^{\prime}b_{n}^{\prime}\right|=\le\left|b_{n}\right|\left|a_{n}-a_{n}^{\prime}\right|+\left|a_{n}^{\prime}\right|\left|b_{n}-b_{n}^{\prime}\right|&amp;lt;M\cdot\frac{\varepsilon}{2M}+M\cdot\frac{\varepsilon}{2M}=\varepsilon \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;מה שמסיים את ההוכחה שהחיבור והכפל מוגדרים היטב. למרבה השמחה, כדי להוכיח שהסכום והכפל של סדרות קושי הוא סדרת קושי אנחנו בעצם עושים &lt;strong&gt;את אותו דבר בדיוק&lt;/strong&gt; כך שטיפלנו בשתי הבעיות שלנו במחיר אחת. כדי לראות את זה, בואו נחשוב מה בעצם אנחנו רוצים להוכיח: שלכל &lt;span&gt;\( \varepsilon&amp;gt;0 \)&lt;/span&gt; קיים &lt;span&gt;\( N \)&lt;/span&gt; כך שאם &lt;span&gt;\( n,m&amp;gt;N \)&lt;/span&gt; אז&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;&lt;span&gt;\( \left|\left(a_{n}+b_{n}\right)-\left(a_{m}+b_{m}\right)\right|&amp;lt;\varepsilon \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( \left|\left(a_{n}b_{n}\right)-\left(a_{m}b_{m}\right)\right|&amp;lt;\varepsilon \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;תחליפו את &lt;span&gt;\( a_{m},b_{m} \)&lt;/span&gt; ב-&lt;span&gt;\( a_{n}^{\prime},b_{n}^{\prime} \)&lt;/span&gt; וחזרנו להוכחה שכבר ראינו. אותן טכניקות עובדות בדיוק; לב העניין הוא בכך שכמו ש-&lt;span&gt;\( a_{n},a_{n}^{\prime} \)&lt;/span&gt; קרובים מספיק עבור &lt;span&gt;\( n \)&lt;/span&gt;-ים גדולים מספיק, כך גם &lt;span&gt;\( a_{n},a_{m} \)&lt;/span&gt; קרובים מספיק עבור &lt;span&gt;\( n,m \)&lt;/span&gt;-ים גדולים מספיק. זה מסיים עבורנו את ההגדרה של חיבור וכפל של מספרים ממשיים בגישה של קנטור (אבל הפעם לא הגדרנו על הדרך מתי איבר הוא חיובי או מה המינוס של איבר, עוד נצטרך להגיע אל זה).&lt;/p&gt;

&lt;h2&gt;אסוציאטיביות, קומוטטיביות, דיסטריביוטיביות&lt;/h2&gt;

&lt;p&gt;הגדרנו את פעולות החיבור והכפל ועכשיו אפשר להוכיח שהן מקיימות את התכונות הבסיסיות שנדרשות מהן בשדה:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;&lt;span&gt;\( \left(A+B\right)+C=A+\left(B+C\right) \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( \left(A\cdot B\right)\cdot C=A\cdot\left(B\cdot C\right) \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( A+B=B+A \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( A\cdot B=B\cdot A \)&lt;/span&gt; &lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( A\cdot\left(B+C\right)=A\cdot B+A\cdot C \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;קיים איבר שמסומן ב-0 כך ש-&lt;span&gt;\( A+0=A \)&lt;/span&gt; לכל &lt;span&gt;\( A \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;מה שאנחנו יכולים להסתמך עליו הוא שכל התכונות הללו &lt;strong&gt;כבר נכונות&lt;/strong&gt; עבור הממשיים, &lt;span&gt;\( \mathbb{Q} \)&lt;/span&gt;, וזה הולך מאוד להקל עלינו.&lt;/p&gt;

&lt;p&gt;נוכיח למשל קומוטטיביות של חיבור. אני צריך להראות ש:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;&lt;span&gt;\( \left[a\right]+\left[b\right]=\left[b\right]+\left[a\right] \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;אבל זה קל: עבור שתי סדרות, &lt;span&gt;\( a+b \)&lt;/span&gt; היא הסדרה שהאיבר הכללי שלה הוא &lt;span&gt;\( a_{n}+b_{n} \)&lt;/span&gt;, אבל מקומוטטיביות הרציונליים, האיבר הכללי הזה שווה אל &lt;span&gt;\( b_{n}+a_{n} \)&lt;/span&gt; ולכן &lt;span&gt;\( a+b=b+a \)&lt;/span&gt; ולכן &lt;span&gt;\( \left[a+b\right]=\left[b+a\right] \)&lt;/span&gt;. כפל מתקבל באותו אופן בדיוק וגם דיסטריביוטיביות, אבל בואו נראה דיסטריביוטיביות במפורש כדי לא לדאוג שאנחנו מדלגים על משהו קריטי:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left[a\right]\cdot\left(\left[b\right]+\left[c\right]\right)=\left[a\right]\cdot\left[b+c\right]=\left[a\left(b+c\right)\right] \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;והאיבר הכללי של &lt;span&gt;\( a\left(b+c\right) \)&lt;/span&gt;, על פי הגדרת חיבור וכפל סדרות, הוא &lt;span&gt;\( a_{n}\left(b_{n}+c_{n}\right) \)&lt;/span&gt; ולכן, על פי דיסטריביוטיביות של רציונליים, שווה אל &lt;span&gt;\( a_{n}b_{n}+a_{n}c_{n} \)&lt;/span&gt; כלומר אל האיבר הכללי של &lt;span&gt;\( ab+ac \)&lt;/span&gt;, כמו שרצינו.&lt;/p&gt;

&lt;p&gt;גם עבור אסוציאטיביות זה בעצם אותו דבר אבל כדאי לראות את זה בזהירות. מה זה &lt;span&gt;\( \left(\left[a\right]+\left[b\right]\right)+\left[c\right] \)&lt;/span&gt;, על פי הגדרה? זה &lt;span&gt;\( \left[a+b\right]+\left[c\right] \)&lt;/span&gt;, כלומר זה &lt;span&gt;\( \left[\left(a+b\right)+c\right] \)&lt;/span&gt; ושוב אנחנו מתדרדרים לאסוציאטיביות ברמת האיבר הכללי: &lt;span&gt;\( \left(a_{n}+b_{n}\right)+c_{n}=a_{n}+\left(b_{n}+c_{n}\right) \)&lt;/span&gt; ומכאן מתקדמים כרגיל. אז עבור סדרות קושי הכל פשוט (עבור חתכי דדקינד השלב הזה יהיה גיהנום).&lt;/p&gt;

&lt;h2&gt;אדיש חיבורי וכפלי, נגדי, הופכי&lt;/h2&gt;

&lt;p&gt;עכשיו אנחנו רוצים להראות שמתקיימות האקסיומות הבאות:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;קיים איבר שמסומן ב-0 כך ש-&lt;span&gt;\( A+0=A \)&lt;/span&gt; לכל &lt;span&gt;\( A \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;לכל &lt;span&gt;\( A \)&lt;/span&gt; קיים איבר שמסומן ב-&lt;span&gt;\( -A \)&lt;/span&gt; ונקרא &lt;strong&gt;הנגדי&lt;/strong&gt; של &lt;span&gt;\( A \)&lt;/span&gt; כך ש-&lt;span&gt;\( A+\left(-A\right)=0 \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;קיים איבר שמסומן ב-&lt;span&gt;\( 1 \)&lt;/span&gt; כך ש-&lt;span&gt;\( 0\ne1 \)&lt;/span&gt; ו-&lt;span&gt;\( A\cdot1=A \)&lt;/span&gt; לכל &lt;span&gt;\( A \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;לכל &lt;span&gt;\( A\ne0 \)&lt;/span&gt; קיים איבר שמסומן ב-&lt;span&gt;\( A^{-1} \)&lt;/span&gt; ונקרא &lt;strong&gt;ההופכי&lt;/strong&gt; של &lt;span&gt;\( A \)&lt;/span&gt; כך ש-&lt;span&gt;\( A\cdot A^{-1}=1 \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;מכיוון שאנחנו מרחיבים את השדה &lt;span&gt;\( \mathbb{Q} \)&lt;/span&gt; מתבקש שה-0 וה-1 שלנו יהיו גם אלו של &lt;span&gt;\( \mathbb{Q} \)&lt;/span&gt;, כלומר ניקח את 0 להיות מחלקת השקילות של סדרת הקושי &lt;span&gt;\( 0,0,0,\ldots \)&lt;/span&gt; ואת &lt;span&gt;\( 1 \)&lt;/span&gt; להיות המחלקה של &lt;span&gt;\( 1,1,1,\ldots \)&lt;/span&gt;. אלו בבירור סדרות קושי; הן בבירור לא שקולות זו לזו מכיוון שההפרש ביניהן הוא 1 באופן קבוע; ולכל סדרה אחרת מתקיים &lt;span&gt;\( a+0=a \)&lt;/span&gt; ו-&lt;span&gt;\( a\cdot1=a \)&lt;/span&gt; פשוט כי ברציונליים, &lt;span&gt;\( a_{n}+0=a_{n} \)&lt;/span&gt; ו-&lt;span&gt;\( a_{1}\cdot1=a_{n} \)&lt;/span&gt;. אז יש לנו את האדישים שלנו.&lt;/p&gt;

&lt;p&gt;נגדי חיבורי יהיה קל גם כן: אם &lt;span&gt;\( A=\left[a\right] \)&lt;/span&gt; הוא מספר ממשי כלשהו, אני אגדיר &lt;span&gt;\( -A=\left[-a\right] \)&lt;/span&gt;. כרגיל, צריך להבהיר שזה מוגדר היטב, כלומר שאם &lt;span&gt;\( a\sim a^{\prime} \)&lt;/span&gt; אז &lt;span&gt;\( -a\sim-a^{\prime} \)&lt;/span&gt;; זה טריוויאלי כי המינוס הזה “נבלע” בתוך הערך המוחלט שמופיע בהגדרת השקילות. עכשיו נותר להראות ש-&lt;span&gt;\( A+\left(-A\right)=0 \)&lt;/span&gt; וזה למרבה השמחה קל מאוד כי אנחנו יכולים לבחור איזה נציג שאנחנו רוצים ל-&lt;span&gt;\( A \)&lt;/span&gt; ול-&lt;span&gt;\( -A \)&lt;/span&gt; בגלל שהוכחנו בעמל רב שהגדרת החיבור לא תלויה בנציג: אז נבחר &lt;span&gt;\( A=\left[a\right],-A=\left[-a\right] \)&lt;/span&gt; ולכן&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( A+\left(-A\right)=\left[a\right]+\left[-a\right]=\left[a-a\right]=\left[0\right]=0 \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;ומה עם הופכי? הדבר המתבקש הוא לעשות את אותו קונץ, כלומר להגדיר &lt;span&gt;\( A^{-1}=\left[a^{-1}\right] \)&lt;/span&gt; כש-&lt;span&gt;\( a^{-1} \)&lt;/span&gt; מתקבל מהסדרה &lt;span&gt;\( a \)&lt;/span&gt; על ידי היפוך של כל איבר ב-&lt;span&gt;\( a \)&lt;/span&gt;, ואז יתקיים &lt;span&gt;\( A\cdot A^{-1}=\left[a\right]\cdot\left[a^{-1}\right]=\left[aa^{-1}\right]=\left[1\right]=1 \)&lt;/span&gt;. אלא שכאן יש לנו בעיה: ראשית, כי הסדרה &lt;span&gt;\( a \)&lt;/span&gt; עלולה לכלול את 0, ואין לנו דרך להפוך אותו. אבל אפילו אם הסדרה לא כוללת את 0 בכלל עדיין יש לנו בעיה כי אנחנו צריכים ש-&lt;span&gt;\( a^{-1} \)&lt;/span&gt; תהיה &lt;strong&gt;סדרת קושי&lt;/strong&gt;. אם הסדרה &lt;span&gt;\( a \)&lt;/span&gt; “מצטופפת” סביב 0, אפילו אם היא לא נוגעת בו בכלל, הערכים של &lt;span&gt;\( a^{-1} \)&lt;/span&gt; “מתפוצצים” - הם נהיים כל כך גדולים שהסדרה כבר לא תהיה סדרת קושי.&lt;/p&gt;

&lt;p&gt;מה שאני רוצה להראות הוא שכל המקרים הבעייתיים הללו צצים רק במקרה שבו &lt;span&gt;\( a\sim0 \)&lt;/span&gt;. מה שאנחנו הולכים אוטוטו להראות כשנדבר על יחס הסדר על הממשיים הוא שלכל ממשי &lt;span&gt;\( A \)&lt;/span&gt; קיים נציג &lt;span&gt;\( a \)&lt;/span&gt; שמקיים אחד משלושת הדברים הבאים:&lt;/p&gt;

&lt;ol&gt; &lt;li&gt;&lt;span&gt;\( a\sim0 \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;קיים &lt;span&gt;\( M&amp;gt;0 \)&lt;/span&gt; כך ש-&lt;span&gt;\( a_{n}\ge M \)&lt;/span&gt; לכל &lt;span&gt;\( n&amp;gt;N \)&lt;/span&gt; (&quot;הסדרה חסומה חיובית הרחק מאפס&quot;)&lt;/li&gt;


&lt;li&gt;קיים &lt;span&gt;\( M&amp;gt;0 \)&lt;/span&gt; כך ש-&lt;span&gt;\( a_{n}\le-M \)&lt;/span&gt; לכל &lt;span&gt;\( n&amp;gt;N \)&lt;/span&gt; (&quot;הסדרה חסומה שלילית הרחק מאפס&quot;)&lt;/li&gt;

&lt;/ol&gt;

&lt;p&gt;זה משפט מועיל למדי כי הוא יאפשר לנו להגדיר את החיוביים בחלק הבא - אלו יהיו מן הסתם הממשיים שמיוצגים על ידי סדרה חסומה חיובית הרחק מאפס.&lt;/p&gt;

&lt;p&gt;עכשיו, אם סדרה מקיימת את קריטריון 2 או 3 &lt;span&gt;\( \left|a_{n}\right|\ge M&amp;gt;0 \)&lt;/span&gt; לכל אבריה ובפרט כל אבריה שונים מאפס, ולכן אפשר להגדיר סדרה חדשה, שנסמן &lt;span&gt;\( a^{-1} \)&lt;/span&gt;, שאבריה הם &lt;span&gt;\( a_{n}^{-1} \)&lt;/span&gt;. אבל למה זו סדרת קושי?&lt;/p&gt;

&lt;p&gt;ובכן, בואו ניקח שני איברים כלליים של הסדרה וננסה להבין מה ההפרש ביניהם:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|a_{n}^{-1}-a_{m}^{-1}\right|=\left|\frac{1}{a_{n}}-\frac{1}{a_{m}}\right|=\left|\frac{a_{m}-a_{n}}{a_{n}a_{m}}\right|=\frac{\left|a_{m}-a_{n}\right|}{\left|a_{n}\right|\left|a_{m}\right|}\le\frac{\left|a_{m}-a_{n}\right|}{M^{2}} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;זה פותר לנו את הבעיה: עבור &lt;span&gt;\( \varepsilon&amp;gt;0 \)&lt;/span&gt; כלשהו, נפעיל את קריטריון קושי של הסדרה המקורית כדי למצוא &lt;span&gt;\( N \)&lt;/span&gt; עבורו לכל &lt;span&gt;\( n,m&amp;gt;N \)&lt;/span&gt; מתקיים &lt;span&gt;\( \left|a_{n}-a_{m}\right|\le M^{2}\cdot\varepsilon \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;התקדמנו יפה! סיימנו את כל מה שצריך כדי להראות שהקבוצה שבנינו היא שדה, ועכשיו אפשר לדבר על סדר.&lt;/p&gt;

&lt;h2&gt;שדה סדור&lt;/h2&gt;

&lt;p&gt;עכשיו אנחנו רוצים להגדיר תת-קבוצה &lt;span&gt;\( P \)&lt;/span&gt; של השדה שלנו, ולהראות שמתקיים:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;לכל &lt;span&gt;\( A\in\mathbb{F} \)&lt;/span&gt; בדיוק אחד מהבאים מתקיים: או ש-&lt;span&gt;\( A\in P \)&lt;/span&gt;, או ש-&lt;span&gt;\( -A\in P \)&lt;/span&gt;, או ש-&lt;span&gt;\( A=0 \)&lt;/span&gt;.&lt;/li&gt;


&lt;li&gt;אם &lt;span&gt;\( A,B\in P \)&lt;/span&gt; אז &lt;span&gt;\( A+B\in P \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;אם &lt;span&gt;\( A,B\in P \)&lt;/span&gt; אז &lt;span&gt;\( A\cdot B\in P \)&lt;/span&gt;&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;ההגדרה לזה טמונה במשפט שציטטתי קודם: לכל ממשי &lt;span&gt;\( A \)&lt;/span&gt; קיים נציג &lt;span&gt;\( a \)&lt;/span&gt; שמקיים בדיוק אחד משלושת הדברים הבאים:&lt;/p&gt;

&lt;ol&gt; &lt;li&gt;&lt;span&gt;\( a\sim0 \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;קיים &lt;span&gt;\( M&amp;gt;0 \)&lt;/span&gt; כך ש-&lt;span&gt;\( a_{n}\ge M \)&lt;/span&gt; לכל &lt;span&gt;\( n&amp;gt;N \)&lt;/span&gt; (&quot;הסדרה חסומה חיובית הרחק מאפס&quot;)&lt;/li&gt;


&lt;li&gt;קיים &lt;span&gt;\( M&amp;gt;0 \)&lt;/span&gt; כך ש-&lt;span&gt;\( a_{n}\le-M \)&lt;/span&gt; לכל &lt;span&gt;\( n&amp;gt;N \)&lt;/span&gt; (&quot;הסדרה חסומה שלילית הרחק מאפס&quot;)&lt;/li&gt;

&lt;/ol&gt;

&lt;p&gt;כדי לראות את זה, בואו ניקח נציג כלשהו של &lt;span&gt;\( A \)&lt;/span&gt; ומכיוון ש-&lt;span&gt;\( a \)&lt;/span&gt; תפוס לתיאור הנציג המוצלח שאנחנו מחפשים, נקרא לו &lt;span&gt;\( a^{\prime} \)&lt;/span&gt;: &lt;span&gt;\( A=\left[a^{\prime}\right] \)&lt;/span&gt;. אם &lt;span&gt;\( a^{\prime}\sim0 \)&lt;/span&gt; אז סיימנו; נגדיר &lt;span&gt;\( a=a^{\prime} \)&lt;/span&gt; וחסל. אחרת, מה אני יודע על &lt;span&gt;\( a^{\prime} \)&lt;/span&gt;? ראשית, הוא סדרת קושי. שנית, הוא לא מקיים &lt;span&gt;\( a^{\prime}\sim0 \)&lt;/span&gt;. מה זה אומר? &lt;span&gt;\( a^{\prime}\sim0 \)&lt;/span&gt; אומר שלכל &lt;span&gt;\( \varepsilon&amp;gt;0 \)&lt;/span&gt; קיים &lt;span&gt;\( N&amp;gt;0 \)&lt;/span&gt; כך שלכל &lt;span&gt;\( m&amp;gt;N \)&lt;/span&gt; מתקיים &lt;span&gt;\( \left|a_{m}^{\prime}-0\right|&amp;lt;\varepsilon \)&lt;/span&gt;. אם אני אומר שזה לא מתקיים, אני לוקח את השלילה הלוגית של הטענה הזו: זה אומר ש&lt;strong&gt;קיים&lt;/strong&gt; &lt;span&gt;\( \varepsilon&amp;gt;0 \)&lt;/span&gt; כך ש&lt;strong&gt;לכל&lt;/strong&gt; &lt;span&gt;\( N&amp;gt;0 \)&lt;/span&gt; &lt;strong&gt;קיים&lt;/strong&gt; &lt;span&gt;\( m&amp;gt;N \)&lt;/span&gt; שעבורו מתקיים &lt;span&gt;\( \left|a_{m}^{\prime}\right|\ge\varepsilon \)&lt;/span&gt;. זה טוב, אבל לא מספיק למצוא איבר אחד - אני רוצה שכל האיברים של הסדרה החל ממקום מסוים יהיו מרוחקים מאפס. בשביל זה אני אשתמש בכך שזו סדרת קושי, ולכן עבור &lt;span&gt;\( \frac{\varepsilon}{2} \)&lt;/span&gt; קיים &lt;span&gt;\( N \)&lt;/span&gt; כך שלכל &lt;span&gt;\( n,m&amp;gt;N \)&lt;/span&gt; מתקיים &lt;span&gt;\( \left|a_{n}^{\prime}-a_{m}^{\prime}\right|&amp;lt;\frac{\varepsilon}{2} \)&lt;/span&gt;, ובמילים אחרות: &lt;span&gt;\( a_{m}^{\prime}-\frac{\varepsilon}{2}&amp;lt;a_{n}^{\prime}&amp;lt;a_{m}^{\prime}+\frac{\varepsilon}{2} \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;עכשיו, אם &lt;span&gt;\( a_{m}^{\prime} \)&lt;/span&gt; הוא חיובי אז מ-&lt;span&gt;\( \left|a_{m}^{\prime}\right|\ge\varepsilon \)&lt;/span&gt; נקבל &lt;span&gt;\( a_{m}^{\prime}\ge\varepsilon \)&lt;/span&gt;, כלומר &lt;span&gt;\( a_{n}^{\prime}&amp;gt;a_{m}^{\prime}-\frac{\varepsilon}{2}\ge\frac{\varepsilon}{2} \)&lt;/span&gt;. אם לעומת זאת &lt;span&gt;\( a_{m}^{\prime} \)&lt;/span&gt; שלילי אז &lt;span&gt;\( a_{m}^{\prime}\le-\varepsilon \)&lt;/span&gt; ולכן &lt;span&gt;\( a_{n}^{\prime}&amp;lt;a_{m}^{\prime}+\frac{\varepsilon}{2}\le-\frac{\varepsilon}{2} \)&lt;/span&gt;. בכל מקרה קיבלנו ש-&lt;span&gt;\( \left|a_{n}^{\prime}\right|\ge\frac{\varepsilon}{2} \)&lt;/span&gt; לכל &lt;span&gt;\( n&amp;gt;N \)&lt;/span&gt;, ונשאר רק לסמן &lt;span&gt;\( M=\frac{\varepsilon}{2} \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;עדיין לא סיימתי; מצאתי מקום &lt;span&gt;\( N \)&lt;/span&gt; שהחל ממנו, &lt;span&gt;\( a^{\prime} \)&lt;/span&gt; עונה לקריטריונים, אבל אני לא רוצה שזה יהיה &lt;strong&gt;החל ממקום מסויים&lt;/strong&gt; אלא לכל אברי הסדרה - אז אני אגדיר סדרה חדשה שפשוט מתחילה מאותו המקום המסוים. פורמלית, אני מגדיר &lt;span&gt;\( a_{n}=a_{N+n}^{\prime} \)&lt;/span&gt;, ואז מובטח לי שאכן &lt;span&gt;\( a_{n}\ge M \)&lt;/span&gt; או לכל &lt;span&gt;\( n \)&lt;/span&gt; (או &lt;span&gt;\( a_{n}\le-M \)&lt;/span&gt; לכל &lt;span&gt;\( n \)&lt;/span&gt;), וברור ש-&lt;span&gt;\( a_{n} \)&lt;/span&gt; היא עדיין סדרת קושי כי היא הסיפא של סדרת קושי.&lt;/p&gt;

&lt;p&gt;עכשיו ברור איך להגדיר את &lt;span&gt;\( P \)&lt;/span&gt; שלנו: היא תכלול את כל הממשיים &lt;span&gt;\( A \)&lt;/span&gt; שקיים להם נציג שמקיים את קריטריון 2.&lt;/p&gt;

&lt;p&gt;נשאר להוכיח את שלוש האקסיומות. בשביל הראשונה, בואו ניקח &lt;span&gt;\( A \)&lt;/span&gt; כלשהו ונציג &lt;span&gt;\( A=\left[a\right] \)&lt;/span&gt; כלשהו. אם &lt;span&gt;\( a\sim0 \)&lt;/span&gt; אז &lt;span&gt;\( A=0 \)&lt;/span&gt;; אם &lt;span&gt;\( a \)&lt;/span&gt; מקיים את קריטריון 2 אז &lt;span&gt;\( A\in P \)&lt;/span&gt;; נשאר להראות שאם &lt;span&gt;\( a \)&lt;/span&gt; מקיים את קריטריון 3 אז &lt;span&gt;\( -A\in P \)&lt;/span&gt;, אבל זה מובן מאליו: &lt;span&gt;\( -A=\left[-a\right] \)&lt;/span&gt; ואם &lt;span&gt;\( a_{n}\ge M \)&lt;/span&gt; לכל &lt;span&gt;\( n \)&lt;/span&gt; אז &lt;span&gt;\( -a_{n}\le-M \)&lt;/span&gt; לכל &lt;span&gt;\( n \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;בשביל שתי האקסיומות האחרות צריך להראות בעצם שאם &lt;span&gt;\( a,b \)&lt;/span&gt; סדרות שמקיימות את קריטריון 2, אז גם &lt;span&gt;\( a+b \)&lt;/span&gt; וגם &lt;span&gt;\( ab \)&lt;/span&gt; מקיימות את קריטריון 2. בשני המקרים נשתמש בקריטריון 2 כדי לקבל קיום של &lt;span&gt;\( M_{a},M_{b}&amp;gt;0 \)&lt;/span&gt;כך ש-&lt;span&gt;\( a_{n}\ge M_{a} \)&lt;/span&gt; ו-&lt;span&gt;\( b_{n}\ge M_{b} \)&lt;/span&gt; לכל &lt;span&gt;\( n \)&lt;/span&gt;. עכשיו נחבר/נכפול את אי השוויונים ונקבל שלכל &lt;span&gt;\( n \)&lt;/span&gt; מתקיים &lt;span&gt;\( a_{n}+b_{n}\ge M_{a}+M_{b} \)&lt;/span&gt; ו-&lt;span&gt;\( a_{n}b_{n}\ge M_{a}M_{b} \)&lt;/span&gt; וסיימנו בזכות העובדה ש-&lt;span&gt;\( M_{a}+M_{b}&amp;gt;0 \)&lt;/span&gt; וגם &lt;span&gt;\( M_{a}M_{b}&amp;gt;0 \)&lt;/span&gt; - כלומר, תכונות 2,3 עבור הממשיים שאנחנו בונים נובעות בסופו של דבר מכך שהן מתקיימות עבור הרציונליים &lt;span&gt;\( M_{a},M_{b} \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;עכשיו אפשר לשאול את עצמנו מתי, עבור שני ממשיים &lt;span&gt;\( A,B \)&lt;/span&gt;, מתקיים &lt;span&gt;\( A&amp;lt;B \)&lt;/span&gt;. כזכור, מרגע שהגדרנו את &lt;span&gt;\( P \)&lt;/span&gt; אנחנו מקבלים את &lt;span&gt;\( &amp;lt; \)&lt;/span&gt; “בחינם”: &lt;span&gt;\( A&amp;lt;B \)&lt;/span&gt; על פי הגדרה אם &lt;span&gt;\( B-A\in P \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;אז הגדרה יש לנות אבל לא יזיק אם יהיה לנו גם משפט שמקל עלינו להוכיח בפועל שמתקיים &lt;span&gt;\( A&amp;lt;B \)&lt;/span&gt; וכאן המצב יהיה טיפה טריקי. מה &lt;strong&gt;שהייתי רוצה&lt;/strong&gt; להוכיח הוא שאם מצאתי נציגים &lt;span&gt;\( a,b \)&lt;/span&gt; ל-&lt;span&gt;\( A,B \)&lt;/span&gt; כך ש-&lt;span&gt;\( a_{n}&amp;lt;b_{n} \)&lt;/span&gt; לכל &lt;span&gt;\( n \)&lt;/span&gt; החל ממקום מסוים, אז &lt;span&gt;\( A&amp;lt;B \)&lt;/span&gt;, אלא שזה פשוט &lt;strong&gt;לא נכון&lt;/strong&gt;: תסתכלו על הסדרות &lt;span&gt;\( a_{n}=0 \)&lt;/span&gt; ו-&lt;span&gt;\( b_{n}=\frac{1}{n} \)&lt;/span&gt; למשל שמייצגות שתיהן את 0. מה &lt;strong&gt;שכן נכון&lt;/strong&gt; הוא שאם &lt;span&gt;\( a_{n}\le b_{n} \)&lt;/span&gt; החל ממקום מסוים, אז &lt;span&gt;\( A\le B \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;בואו נוכיח את זה. כלומר, יש לנו שתי סדרות &lt;span&gt;\( a,b \)&lt;/span&gt; ואני מניח ש-&lt;span&gt;\( a_{n}\le b_{n} \)&lt;/span&gt; החל ממקום מסוים. אז הסדרה &lt;span&gt;\( b_{n}-a_{n} \)&lt;/span&gt; היא נציג של &lt;span&gt;\( B-A \)&lt;/span&gt;. אם נסתכל על ההוכחה של הטענה הקודמת, הראינו שכל נציג של מספר ממשי הוא או שקול לאפס, או חסום הרחק מאפס החל ממקום מסוים. אם &lt;span&gt;\( b_{n}-a_{n}\sim0 \)&lt;/span&gt; אז &lt;span&gt;\( B-A=0 \)&lt;/span&gt;, כלומר &lt;span&gt;\( B=A \)&lt;/span&gt;; אחרת, &lt;span&gt;\( b_{n}-a_{n} \)&lt;/span&gt; חסום הרחק מאפס החל ממקום מסוים, וכמו כן &lt;span&gt;\( a_{n}\le b_{n} \)&lt;/span&gt; החל ממקום מסוים, כלומר &lt;span&gt;\( b_{n}-a_{n}\ge0 \)&lt;/span&gt; החל ממקום מסוים, ולכן &lt;span&gt;\( b_{n}-a_{n} \)&lt;/span&gt; חסום &lt;strong&gt;חיובית&lt;/strong&gt; הרחק מאפס החל ממקום מסוים, כלומר &lt;span&gt;\( B-A&amp;gt;0 \)&lt;/span&gt; וקיבלנו &lt;span&gt;\( A&amp;lt;B \)&lt;/span&gt;. זה מסיים את ההוכחה הזו.&lt;/p&gt;

&lt;p&gt;עוד דבר שאנחנו יכולים לדבר עליו עכשיו הוא ערך מוחלט. כזכור, הגדרנו&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|A\right|=\begin{cases} A &amp;amp; A\ge0\\ -A &amp;amp; A&amp;lt;0 \end{cases} \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;מושג הערך המוחלט מתקבל “בחינם” מרגע שיש לנו את &lt;span&gt;\( P \)&lt;/span&gt;, ובזכות אקסיומות השדה הסדור אנחנו גם מקבלים את התכונות המועילות שלו, למשל אי שוויון המשולש &lt;span&gt;\( \left|A+B\right|\le\left|A\right|+\left|B\right| \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;סיימנו עם השדה הסדור! עכשיו אנחנו מגיעים סוף סוף למטרה שלשמה התכנסנו.&lt;/p&gt;

&lt;h2&gt;אקסיומת השלמות&lt;/h2&gt;

&lt;p&gt;בפוסט הקודם ראינו שעבור אקסיומת השלמות אנחנו יכולים להסתפק בלהוכיח שני דברים:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;(ארכימדיות) לכל &lt;span&gt;\( A\in\mathbb{F} \)&lt;/span&gt; קיים &lt;span&gt;\( N\in\mathbb{N} \)&lt;/span&gt; כך ש-&lt;span&gt;\( A\le N \)&lt;/span&gt;&lt;/li&gt;


&lt;li&gt;(שלמות-קנטור) כל סדרת קושי מתכנסת&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;שלמות-קנטור נראית כמו משהו שטבעי יותר להוכיח מאשר את אקסיומת השלמות, כי כל הבנייה של קנטור את המספרים הממשיים מכוונת אליה: אנחנו לוקחים את האובייקט הבסיסי של סדרת קושי ו”מכריחים” את הגבול שלו להתקיים על ידי כך שאנחנו בונים אותו. בפועל העניינים לא כל כך פשוטים ותכף אסביר גם למה, אבל לפני זה בואו נטפל בארכימדיות.&lt;/p&gt;

&lt;p&gt;בואו ניקח &lt;span&gt;\( A=\left[a\right] \)&lt;/span&gt; ממשי כלשהו עם נציג שרירותי &lt;span&gt;\( a \)&lt;/span&gt;. כל סדרת קושי של רציונליים היא חסומה, כלומר קיים &lt;span&gt;\( q \)&lt;/span&gt; רציונלי כך ש-&lt;span&gt;\( a_{k}\le q \)&lt;/span&gt; לכל &lt;span&gt;\( k \)&lt;/span&gt;. עכשיו אני אשתמש בארכימדיות של הרציונליים ואקבל שקיים &lt;span&gt;\( n \)&lt;/span&gt; טבעי כך ש-&lt;span&gt;\( q\le n \)&lt;/span&gt;. אני אגדיר את הממשי &lt;span&gt;\( N \)&lt;/span&gt; על ידי הסדרה הקבועה &lt;span&gt;\( n,n,n,\ldots \)&lt;/span&gt; - לא קשה להראות ש-&lt;span&gt;\( N \)&lt;/span&gt; הוא טבעי, כלומר הוא איבר של השדה &lt;span&gt;\( \mathbb{F} \)&lt;/span&gt; שלנו שאפשר לכתוב בתור &lt;span&gt;\( 1+1+\ldots+1 \)&lt;/span&gt;. עכשיו, מכיוון ש-&lt;span&gt;\( a_{k}\le n \)&lt;/span&gt; לכל &lt;span&gt;\( k \)&lt;/span&gt;, מהמשפט שהראיתי קודם נובע ש-&lt;span&gt;\( A\le N \)&lt;/span&gt;. אז ארכמדיות היה קל.&lt;/p&gt;

&lt;p&gt;למה ששלמות-קנטור תהיה בעייתית? ניקח סדרת קושי &lt;span&gt;\( a \)&lt;/span&gt;, אז &lt;span&gt;\( A=\left[a\right] \)&lt;/span&gt; הוא הגבול שלה, לא? ככה בנינו את הממשיים. אבל הנה העניין: &lt;span&gt;\( a \)&lt;/span&gt; היא סדרת קושי של &lt;strong&gt;מספרים רציונליים&lt;/strong&gt; ושלמות-קנטור שאנחנו רוצים להוכיח מדברת על התכנסות של סדרות קושי של &lt;strong&gt;מספרים ממשיים&lt;/strong&gt;, כלומר על סדרות קושי של מחלקות שקילות של סדרות קושי של מספרים רציונליים. זה הולך להיות טיפה יותר טריקי.&lt;/p&gt;

&lt;p&gt;הסיטואציה הזו צצה די הרבה במתמטיקה: יש לנו אובייקט מתמטי ש”חסר בו” משהו, אז אנחנו מרחיבים אותו בצורה שבאופן מובהק מטפלת במה שהיה חסר קודם - אלא שאחרי ההרחבה, האובייקט שלנו יותר גדול ומסובך, ויש סיכוי שעכשיו חסרים בו דברים &lt;strong&gt;חדשים&lt;/strong&gt;, שלא היו במסגרת ההתייחסות שלנו קודם ולכן לא יכלו להיות חסרים. בניה חכמה היא בניה שמצליחה למנוע מהבעיה הזו להיווצר. &lt;a href=&quot;https://gadial.net/2023/07/27/continuum_hypothesis_forcing_intro/&quot;&gt;ראינו לא מזמן בבלוג&lt;/a&gt; סוג מרשים במיוחד של בניה חכמה שכזו - &lt;strong&gt;כפייה&lt;/strong&gt; בתורת הקבוצות האקסיומטית. יש עוד דוגמאות קלילות יותר, למשל &lt;strong&gt;המשפט היסודי של האלגברה&lt;/strong&gt;: הרעיון שם הוא שגם במספרים ממשיים עדיין “חסרים דברים” - למשל, פתרון למשוואה הפולינומית &lt;span&gt;\( x^{2}+1=0 \)&lt;/span&gt;. אז מרחיבים את הממשיים אל &lt;strong&gt;המספרים המרוכבים&lt;/strong&gt; ואז קורה הקסם ש&lt;strong&gt;כל&lt;/strong&gt; משוואה פולינומית היא פתירה; לא רק המשוואות שקודם לא היו פתירות, אלו שהמקדמים שלהן הם מספרים ממשיים, אלא גם כל המשוואות הפולינומיות החדשות שקיבלנו, עכשיו כשהמקדמים יכולים להיות גם מרוכבים.&lt;/p&gt;

&lt;p&gt;פורמלית, מה שאנחנו צריכים לעשות הוא זה: לקחת סדרה &lt;span&gt;\( A_{1},A_{2},A_{3},\ldots \)&lt;/span&gt; כש-&lt;span&gt;\( A_{n}\in\mathbb{F} \)&lt;/span&gt; ולהוכיח שאם הסדרה הזו היא סדרת קושי, אז קיים &lt;span&gt;\( B \)&lt;/span&gt; כך ש-&lt;span&gt;\( \lim_{n\to\infty}A_{n}=B \)&lt;/span&gt;. איך נבנה את &lt;span&gt;\( B \)&lt;/span&gt;? אנחנו צריכים לבנות סדרה של רציונליים, &lt;span&gt;\( \left\{ b_{n}\right\} _{n=1}^{\infty} \)&lt;/span&gt; ואנחנו צריכים שהסדרה הזו תהיה סדרת קושי, ובנוסף שהיא “תתקרב” אל סדרת ה-&lt;span&gt;\( A_{n} \)&lt;/span&gt;-ים כרצוננו. זה מייד מזכיר תכונה שנקראת &lt;strong&gt;צפיפות&lt;/strong&gt; הרציונליים: שעבור כל מספר ממשי, קיים מספר רציונלי שקרוב אליו כרצוננו. ראינו כבר תכונה &lt;strong&gt;אחרת&lt;/strong&gt; שנקראה צפיפות - שבין כל שני ממשיים קיים רציונלי - אבל אני לא אכנס כאן לשאלה עד כמה התכונות הללו קשורות, אלא פשוט אוכיח פורמלית את תכונת הצפיפות שאני רוצה עכשיו.&lt;/p&gt;

&lt;p&gt;אני רוצה להראות שאם &lt;span&gt;\( A \)&lt;/span&gt; הוא מספר ממשי, אז קיים רציונלי &lt;span&gt;\( q \)&lt;/span&gt; שקרוב אליו כרצוננו. פורמלית, אם &lt;span&gt;\( \varepsilon&amp;gt;0 \)&lt;/span&gt; אז קיים &lt;span&gt;\( Q\in\mathbb{Q} \)&lt;/span&gt; כך ש-&lt;span&gt;\( \left|Q-A\right|\le\varepsilon \)&lt;/span&gt;. שימו לב שכל המעורבים פה הם מספרים ממשיים: גם &lt;span&gt;\( A \)&lt;/span&gt;, גם &lt;span&gt;\( Q \)&lt;/span&gt; (שהולך להיות מיוצג על ידי סדרה קבועה של מספר רציונלי ספציפי) וגם &lt;span&gt;\( \varepsilon \)&lt;/span&gt;. אבל שזה ש-&lt;span&gt;\( \varepsilon \)&lt;/span&gt; הוא ממשי ולא בהכרח רציונלי זה מעצבן, כי זה אומר שאני צריך לתאר אותו עם סדרה במקום פשוט עם קבוע, אז נתבסס על זה שכבר הוכחתי ארכימדיות: זה אומר שקיים &lt;span&gt;\( N \)&lt;/span&gt; טבעי כך ש-&lt;span&gt;\( \frac{1}{\varepsilon}\le N \)&lt;/span&gt;, כלומר &lt;span&gt;\( \frac{1}{N}\le\varepsilon \)&lt;/span&gt;, ואם נראה שמשהו קטן מ-&lt;span&gt;\( \frac{1}{N} \)&lt;/span&gt; (הרציונלי) אז הוא בוודאי קטן גם מ-&lt;span&gt;\( \varepsilon \)&lt;/span&gt;, אז אני יכול פשוט להניח מכאן והלאה ש-&lt;span&gt;\( \varepsilon \)&lt;/span&gt; רציונלי.&lt;/p&gt;

&lt;p&gt;איפה כדאי לחפש את &lt;span&gt;\( q \)&lt;/span&gt;? ובכן, זה קל: מכיוון ש-&lt;span&gt;\( A \)&lt;/span&gt; הוא מספר ממשי, הוא בנוי &lt;strong&gt;מתוך&lt;/strong&gt; הרציונליים, כלומר כדאי לחפש את &lt;span&gt;\( q \)&lt;/span&gt; בתוך נציג &lt;span&gt;\( A=\left[a\right] \)&lt;/span&gt; של &lt;span&gt;\( A \)&lt;/span&gt;. הנציג הזה הוא סדרת קושי של רציונליים, אז עבור &lt;span&gt;\( \varepsilon&amp;gt;0 \)&lt;/span&gt; רציונלי קיים &lt;span&gt;\( N \)&lt;/span&gt; כך שלכל &lt;span&gt;\( n&amp;gt;N \)&lt;/span&gt; מתקיים &lt;span&gt;\( \left|a_{N}-a_{n}\right|&amp;lt;\varepsilon \)&lt;/span&gt;. עכשיו אני אגדיר את &lt;span&gt;\( Q \)&lt;/span&gt; בתור המספר הממשי שמיוצג על ידי הסדרה הקבועה &lt;span&gt;\( q_{n}=a_{N} \)&lt;/span&gt;, ובואו נראה מה קיבלנו. אמרתי קודם שכדי להוכיח &lt;span&gt;\( A\le B \)&lt;/span&gt; עבור ממשיים, מספיק להראות שעבור נציגים שלהם מתקיים &lt;span&gt;\( a_{n}\le b_{n} \)&lt;/span&gt; החל ממקום מסוים. אצלנו הסיטואציה טיפה יותר מורכבת: אגף שמאל של &lt;span&gt;\( \left|Q-A\right|\le\varepsilon \)&lt;/span&gt; כולל את הביטוי &lt;span&gt;\( \left|Q-A\right| \)&lt;/span&gt; בזמן שאגף ימין הוא עדיין פשוט וכולל רק את &lt;span&gt;\( \varepsilon \)&lt;/span&gt;, שמיוצג על ידי הסדרה הקבועה &lt;span&gt;\( \varepsilon_{n}=\varepsilon \)&lt;/span&gt;. כשאני יורד לרמת הנציגים אני מקבל &lt;span&gt;\( \left|q_{n}-a_{n}\right|&amp;lt;\varepsilon_{n} \)&lt;/span&gt;, וזה הולך לתת לי את &lt;span&gt;\( \left|Q-A\right|\le\varepsilon \)&lt;/span&gt; אם אני רק אשתכנע שהסדרה &lt;span&gt;\( \left|q_{n}-a_{n}\right| \)&lt;/span&gt; היא נציג של המספר הממשי &lt;span&gt;\( \left|Q-A\right| \)&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;את זה יחסית קל להראות: אם &lt;span&gt;\( Q\ge A \)&lt;/span&gt; אז &lt;span&gt;\( \left|Q-A\right|=Q-A \)&lt;/span&gt; וכמו כן בגלל ש-&lt;span&gt;\( Q-A\ge0 \)&lt;/span&gt; אז החל ממקום מסוים, &lt;span&gt;\( q_{n}-a_{n}\ge0 \)&lt;/span&gt;, כלומר &lt;span&gt;\( \left|q_{n}-a_{n}\right|=q_{n}-a_{n} \)&lt;/span&gt; וזו אכן סדרה שמייצגת את &lt;span&gt;\( Q-A \)&lt;/span&gt;. אם &lt;span&gt;\( Q&amp;lt;A \)&lt;/span&gt; אז &lt;span&gt;\( \left|Q-A\right|=A-Q \)&lt;/span&gt; ומכיוון ש-&lt;span&gt;\( Q-A&amp;lt;0 \)&lt;/span&gt; החל ממקום מסוים &lt;span&gt;\( q_{n}-a_{n}\le0 \)&lt;/span&gt;, כלומר &lt;span&gt;\( \left|q_{n}-a_{n}\right|=a_{n}-q_{n} \)&lt;/span&gt; וגם את הכיוון הזה סיימנו. זה מסיים את הוכחת תכונת הצפיפות.&lt;/p&gt;

&lt;p&gt;עכשיו, אם נסתכל על מה שהוכחנו, בעצם ראינו משהו חזק יותר מאשר “סתם” צפיפות: ראינו שלכל מספר ממשי &lt;span&gt;\( A \)&lt;/span&gt; ונציג שלו &lt;span&gt;\( a \)&lt;/span&gt;, אברי הנציג קרובים אל &lt;span&gt;\( A \)&lt;/span&gt; כרצוננו. זה נשמע כמעט מובן מאליו, אז הנה המשמעות הפורמלית: לכל &lt;span&gt;\( \varepsilon&amp;gt;0 \)&lt;/span&gt; קיים &lt;span&gt;\( N \)&lt;/span&gt; כך שאם &lt;span&gt;\( n&amp;gt;N \)&lt;/span&gt; אז &lt;span&gt;\( \left|a_{n}-A\right|\le\varepsilon \)&lt;/span&gt;. גם בתכונה המחוזקת הזו תכף אשתמש.&lt;/p&gt;

&lt;p&gt;חזרה אל הטענה המקורית שאני רוצה להוכיח: &lt;span&gt;\( \left\{ A_{n}\right\} _{n=1}^{\infty} \)&lt;/span&gt; היא סדרת קושי של ממשיים שאני מחפש לה גבול. אני אבנה מספר ממשי &lt;span&gt;\( B=\left[b\right] \)&lt;/span&gt; באופן הבא: לכל &lt;span&gt;\( n \)&lt;/span&gt;, מתכונת הצפיפות של הרציונליים קיים רציונלי &lt;span&gt;\( b_{n} \)&lt;/span&gt; כך ש-&lt;span&gt;\( \left|b_{n}-A_{n}\right|\le\frac{1}{n} \)&lt;/span&gt;. זהו, זו כל ההגדרה.&lt;/p&gt;

&lt;p&gt;עכשיו קל להוכיח ש-&lt;span&gt;\( \lim_{n\to\infty}A_{n}=B \)&lt;/span&gt;. יהא &lt;span&gt;\( \varepsilon&amp;gt;0 \)&lt;/span&gt; כלשהו, אז אני יודע שקיימים:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;&lt;span&gt;\( N_{1} \)&lt;/span&gt; כך שלכל &lt;span&gt;\( n&amp;gt;N_{1} \)&lt;/span&gt; מתקיים &lt;span&gt;\( \left|b_{n}-B\right|\le\frac{\varepsilon}{2} \)&lt;/span&gt; (זו תכונת הצפיפות ה&quot;מחוזקת&quot;)&lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( N_{2} \)&lt;/span&gt; כך ש-&lt;span&gt;\( \frac{1}{N_{2}}&amp;lt;\frac{\varepsilon}{2} \)&lt;/span&gt;, ולכן לכל &lt;span&gt;\( n&amp;gt;N_{2} \)&lt;/span&gt; מתקיים &lt;span&gt;\( \left|b_{n}-A_{n}\right|\le\frac{1}{n}\le\frac{1}{N_{2}}&amp;lt;\frac{\varepsilon}{2} \)&lt;/span&gt; (כי כך בנינו את ה-&lt;span&gt;\( b_{n} \)&lt;/span&gt;-ים).&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;נגדיר &lt;span&gt;\( N=\max\left\{ N_{1},N_{2}\right\}  \)&lt;/span&gt; וקיבלנו שלכל &lt;span&gt;\( n&amp;gt;N \)&lt;/span&gt; מתקיים:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|A_{n}-B\right|=\left|A_{n}-b_{n}+b_{n}-B\right|\le\left|A_{n}-b_{n}\right|+\left|b_{n}-B\right|&amp;lt;\frac{\varepsilon}{2}+\frac{\varepsilon}{2}=\varepsilon \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;האם סיימנו? ובכן, עוד לא! כי קפצתי באלגנטיות על שלב קריטי בדרך: הגדרתי את &lt;span&gt;\( B \)&lt;/span&gt; באמצעות הסדרה &lt;span&gt;\( b_{1},b_{2},b_{3},\ldots \)&lt;/span&gt; אבל בשום מקום לא הוכחתי שזו &lt;strong&gt;סדרת קושי&lt;/strong&gt;. ודי ברור שטרם סיימתי את ההוכחה, כי בעצם לא השתמשתי בשום שלב בכך שסדרת הממשיים, &lt;span&gt;\( A_{1},A_{2},A_{3},\ldots \)&lt;/span&gt; היא סדרת קושי. אבל בואו נחשוב שניה בהגיון - אם היא לא הייתה סדרת קושי, אז סדרת ה-&lt;span&gt;\( b_{n} \)&lt;/span&gt;–ים הזו הייתה סדרה אקראית של מספרים שקרובים ל-&lt;span&gt;\( A_{1},A_{2},A_{3} \)&lt;/span&gt; וכן הלאה אבל אין שום סיבה שיהיו קרובים זה לזה, כי ה-&lt;span&gt;\( A_{n} \)&lt;/span&gt;-ים הללו לא קרובים זה לזה.&lt;/p&gt;

&lt;p&gt;הנה מה שנעשה: בהינתן &lt;span&gt;\( \varepsilon&amp;gt;0 \)&lt;/span&gt;, אני יודע שקיימים:&lt;/p&gt;

&lt;ul&gt; &lt;li&gt;&lt;span&gt;\( N_{1} \)&lt;/span&gt; כך שאם &lt;span&gt;\( n,m&amp;gt;N_{1} \)&lt;/span&gt; אז &lt;span&gt;\( \left|A_{n}-A_{m}\right|&amp;lt;\frac{\varepsilon}{3} \)&lt;/span&gt; (כי ה-&lt;span&gt;\( A_{n} \)&lt;/span&gt;-ים הם סדרת קושי).&lt;/li&gt;


&lt;li&gt;&lt;span&gt;\( N_{2} \)&lt;/span&gt; כך ש-&lt;span&gt;\( \frac{1}{N_{2}}&amp;lt;\frac{\varepsilon}{3} \)&lt;/span&gt; ולכן עבור &lt;span&gt;\( n,m&amp;gt;N_{2} \)&lt;/span&gt; מתקיים &lt;span&gt;\( \left|b_{n}-A_{n}\right|&amp;lt;\frac{\varepsilon}{3} \)&lt;/span&gt; וגם &lt;span&gt;\( \left|b_{m}-A_{m}\right|&amp;lt;\frac{\varepsilon}{3} \)&lt;/span&gt; (כי כך בנינו את ה-&lt;span&gt;\( b_{n} \)&lt;/span&gt;-ים).&lt;/li&gt;

&lt;/ul&gt;

&lt;p&gt;ניקח &lt;span&gt;\( N=\max\left\{ N_{1},N_{2}\right\}  \)&lt;/span&gt; ואז לכל &lt;span&gt;\( n,m&amp;gt;N \)&lt;/span&gt;:&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \left|b_{n}-b_{m}\right|=\left|b_{n}-A_{n}+A_{n}-A_{m}+A_{m}-b_{m}\right|\le \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \le\left|b_{n}-A_{n}\right|+\left|A_{n}-A_{m}\right|+\left|A_{m}-b_{m}\right|&amp;lt; \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;\( \frac{\varepsilon}{3}+\frac{\varepsilon}{3}+\frac{\varepsilon}{3}=\varepsilon \)&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;וזה.. מסיים את הכל… אני חושב? אין לי אף מקור שמציג את הדברים ברמות הפירוט שאליה נכנסתי כאן (כדי לשכנע את עצמי אחת ולתמיד שהכל עובד) אז בטח יש לי שלל טעויות - אבל היי, נראה לי שבגדול ככה זה הולך! עוד פינה שסגרתי לעצמי אחרי עשרים שנים בערך!&lt;/p&gt;</content><author><name></name></author><category term="מספרים ממשיים" /><summary type="html">מבוא</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://gadial.net/assets/img/main/default-card.png" /><media:content medium="image" url="http://gadial.net/assets/img/main/default-card.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry></feed>