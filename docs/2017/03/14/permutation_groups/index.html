<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>חבורות של תמורות - לא מדויק</title>
    
    
    <!-- KaTeX for math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>

    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', 'David', 'Tahoma', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
        }
        
        /* Top navigation bar */
        .top-nav {
            background: #2c3e50;
            padding: 15px 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .top-nav .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
        }
        
        .top-nav .site-title {
            font-size: 1.5em;
            font-weight: bold;
            color: white;
            text-decoration: none;
            white-space: nowrap;
        }
        
        .top-nav .nav-links {
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .top-nav .nav-links a {
            color: #ecf0f1;
            text-decoration: none;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background 0.2s;
            white-space: nowrap;
        }
        
        .top-nav .nav-links a:hover {
            background: #34495e;
        }
        
        .top-nav .search-box {
            display: flex;
            gap: 5px;
        }
        
        .top-nav .search-box input {
            padding: 5px 10px;
            border: none;
            border-radius: 4px;
            font-size: 0.9em;
            min-width: 150px;
        }
        
        .top-nav .search-box button {
            padding: 5px 15px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .top-nav .search-box button:hover {
            background: #2980b9;
        }
        
        
        body {
            line-height: 1.8;
        }
        
        .container {
            max-width: 800px;
            margin: 20px auto;
            background: white;
            padding: 40px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
        }
        
        header {
            margin-bottom: 40px;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 20px;
        }
        
        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .post-meta {
            color: #7f8c8d;
            font-size: 0.9em;
        }
        
        .post-meta .date {
            margin-left: 15px;
        }
        
        .post-meta .categories,
        .post-meta .tags {
            display: inline;
        }
        
        .post-meta .categories a,
        .post-meta .tags a {
            color: #3498db;
            text-decoration: none;
            margin: 0 5px;
        }
        
        .post-meta .categories a:hover,
        .post-meta .tags a:hover {
            text-decoration: underline;
        }
        
        article {
            font-size: 1.1em;
        }
        
        article h2 {
            margin-top: 30px;
            margin-bottom: 15px;
            color: #34495e;
            font-size: 1.8em;
        }
        
        article h3 {
            margin-top: 25px;
            margin-bottom: 12px;
            color: #34495e;
            font-size: 1.4em;
        }
        
        article p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        article ul, article ol {
            margin-right: 30px;
            margin-bottom: 15px;
        }
        
        article li {
            margin-bottom: 8px;
        }
        
        article code {
            background-color: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        
        article pre {
            background-color: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin-bottom: 20px;
            direction: ltr;
            text-align: left;
        }
        
        article pre code {
            background-color: transparent;
            padding: 0;
            color: inherit;
        }
        
        /* Image styles - responsive and contained */
        article img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 20px auto;
        }
        
        /* Math rendering styles */
        .math {
            direction: ltr;
        }
        
        span.math {
            direction: ltr;
        }
        
        /* Override RTL for KaTeX */
        .katex {
            direction: ltr;
            unicode-bidi: embed;
        }
        
        div.math {
            display: block;
            text-align: center;
            padding: 15px 0;
            direction: ltr;
        }
        
        /* RTL adjustments for code blocks */
        .highlight {
            direction: ltr;
            text-align: left;
        }
        
        footer {
            margin-top: 60px;
            padding-top: 20px;
            border-top: 1px solid #e0e0e0;
            text-align: center;
            color: #95a5a6;
            font-size: 0.9em;
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2em;
            }
            
            article {
                font-size: 1em;
            }
        }
        
        /* Post navigation */
        .post-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            padding-top: 30px;
            border-top: 2px solid #e0e0e0;
            gap: 20px;
        }
        
        .post-navigation .nav-link {
            flex: 1;
            text-decoration: none;
            color: #2c3e50;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 5px;
            transition: background 0.2s;
        }
        
        .post-navigation .nav-link:hover {
            background: #e9ecef;
        }
        
        .post-navigation .nav-prev {
            text-align: right;
        }
        
        .post-navigation .nav-next {
            text-align: left;
        }
        
        .post-navigation .nav-label {
            font-size: 0.85em;
            color: #7f8c8d;
            display: block;
            margin-bottom: 5px;
        }
        
        .post-navigation .nav-title {
            font-weight: bold;
            font-size: 1.1em;
        }

    </style>
</head>
<body>
    <nav class="top-nav">
        <div class="nav-container">
            <a href="/" class="site-title">לא מדויק</a>
            <div class="nav-links">
                <a href="/">דף הבית</a>
                <a href="/random.html">פוסט אקראי</a>
                <a href="/post_list.html">כל הפוסטים</a>
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="חיפוש...">
                    <button onclick="searchPosts()">חפש</button>
                </div>
            </div>
        </div>
    </nav>
    
    
    <div class="container">
        <header>
            <h1>חבורות של תמורות</h1>
            <div class="post-meta">
                <span class="date">2017-03-14</span>
                
                <span class="categories">
                    | קטגוריות:
                    
                    <a href="/categories/אלגברה מופשטת.html">אלגברה מופשטת</a>
                    
                </span>
                
                
                <span class="tags">
                    | תגיות:
                    
                    <a href="/tags/תמורות.html">תמורות</a>
                    
                </span>
                
            </div>
        </header>
        
        <article>
            <h2>מבוא</h2>
<p>עד כה בסדרת הפוסטים שלי על תורת החבורות ראינו תוצאות אבסטרקטיות שנכונות לכל החבורות (או לכל החבורות הסופיות), ובתור דוגמא ראינו את חבורת השלמים. הבעיה היא שזו דוגמא פשוטה <strong>מדי</strong>: ראינו שהשלמים הם חבורה ציקלית, וגם החבורות שמוגדרות באמצעותה (תתי-החבורות וחבורות המנה שלה) הן ציקליות. חבורות ציקליות הן מאוד פשוטות וכבר הבנו את המבנה שלהן עד הסוף; אם כן, בשביל מה צריך את כל תורת החבורות? ברור שאנחנו חייבים לראות עוד דוגמאות קונקרטיות לחבורות, וכאלו שהן מסובכות יותר, כדי שיהיה טעם בכל העסק הזה. את הפוסט הזה אני הולך להקדיש כולו להצגה של מה שהוא ככל הנראה סוג החבורות החשוב ביותר: חבורות של <strong>תמורות</strong> (פרמוטציות). בהמשך הפוסט נראה שבמובן מסויים, זו גם הדוגמה הכללית ביותר, כי על כל חבורה אפשר לחשוב בתור חבורת תמורות, כפי שעל פי חבורה ציקלית היה אפשר לחשוב בתור חבורה של שלמים מודולו משהו.</p>
<p>מה זו תמורה? בהינתן קבוצה <span class="math">\(X\)</span> כלשהי, <strong>תמורה</strong> של <span class="math">\(X\)</span> היא פשוט פונקציה <span class="math">\(\sigma:X\to X\)</span> שהיא חח"ע ועל. כלומר, היא <strong>מערבבת</strong> את האיברים של <span class="math">\(X\)</span>. כעת, אנחנו יודעים <strong>להרכיב</strong> פונקציות: <span class="math">\(\sigma\cdot\tau\)</span> היא הפונקציה שמוגדרת על ידי "קודם נפעיל את <span class="math">\(\tau\)</span> ואז נפעיל את <span class="math">\(\sigma\)</span>, כלומר <span class="math">\(\sigma\tau\left(x\right)=\sigma\left(\tau\left(x\right)\right)\)</span>. עם פעולת ההרכבה, אוסף כל התמורות של <span class="math">\(X\)</span> מהווה חבורה. איבר היחידה הוא תמורת הזהות, <span class="math">\(\text{Id}:X\to X\)</span> שהוא הפונקציה שמקיימת <span class="math">\(\text{Id}\left(x\right)=x\)</span> לכל <span class="math">\(x\in X\)</span>, ולכל תמורה <span class="math">\(\sigma\)</span> ההופכית שלה היא פשוט הפונקציה ההפוכה <span class="math">\(\sigma^{-1}\)</span> (קיימת כזו כי <span class="math">\(\sigma\)</span> חח"ע ועל). לכן אנחנו מקבלים חבורה. את חבורת כל התמורות של <span class="math">\(X\)</span> מסמנים ב-<span class="math">\(S_{X}\)</span> וקוראים לה <strong>החבורה הסימטרית</strong> של <span class="math">\(X\)</span>. במקרה הפרטי החשוב שבו <span class="math">\(X=\left\{ 1,2,\dots,n\right\} \)</span> משתמשים גם בסימון <span class="math">\(S_{n}\)</span> (במקום לכתוב <span class="math">\(S_{\left\{ 1,2,\dots,n\right\} }\)</span>).</p>
<p>זהו, עכשיו אנחנו יודעים בדיוק מהן חבורות של תמורות, אבל מן הסתם אנחנו לא באמת "מרגישים" מה קורה איתן ולמה הן מעניינות ואיך חבורות כאלו נראות וכדומה. אז יתר הפוסט יוקדש לבחינה יותר טכנית של החבורות הללו. לטעמי, מה שנעשה בהמשך הפוסט הוא קריטי לחלוטין - בערך כמו לדעת לחבר ולחסר ולכפול ולחלק מספרים שלמים. אני אתמקד בחבורה <span class="math">\(S_{n}\)</span>, עבור <span class="math">\(n\)</span> טבעי כללי ולפעמים עבור מקרים קונקרטיים שלו. אפשר הרי תמיד למספר את האיברים של כל קבוצה סופית <span class="math">\(X\)</span> ולכן לדבר רק על <span class="math">\(S_{n}\)</span> לא מגביל אותנו, כל עוד אנחנו מתעניינים רק בתמורות של קבוצה סופית (וזה מה שנעשה הפעם).</p>
<p>לפני שנתחיל לדבר על ההיבטים הטכניים של <span class="math">\(S_{n}\)</span>, בואו נשתכנע ש<strong>כל</strong> חבורה איזומורפית לחבורת תמורות כלשהי. תהא <span class="math">\(G\)</span> חבורה (סופית, לא סופית, אבלית, לא אבלית, מה שתרצו). זכרו שאחד מהדברים הראשונים שראינו על חבורות הוא שעבור <span class="math">\(a\in G\)</span> כלשהו, הפעולה "כפל ב-<span class="math">\(a\)</span>" היא חד-חד-ערכית ועל: אם <span class="math">\(ab=ac\)</span> אז <span class="math">\(b=c\)</span>, וכמו כן לכל <span class="math">\(c\in G\)</span> קיים <span class="math">\(b\in G\)</span> כך ש-<span class="math">\(ab=c\)</span> (<span class="math">\(b=a^{-1}c\)</span>). מכאן שהפונקציה <span class="math">\(\sigma_{a}:G\to G\)</span> המוגדרת על ידי <span class="math">\(\sigma_{a}\left(b\right)=ab\)</span> היא תמורה של <span class="math">\(G\)</span>. מכאן שיש לנו פונקציה <span class="math">\(f:G\to S_{G}\)</span> המוגדרת על ידי <span class="math">\(f\left(a\right)=\sigma_{a}\)</span>. קל לראות שזו פונקציה חח"ע, כי אם <span class="math">\(\sigma_{a}=\sigma_{b}\)</span> אז בפרט <span class="math">\(a=\sigma_{a}\left(e\right)=\sigma_{b}\left(e\right)=b\)</span>. קל גם לראות שהיא הומומורפיזם, כי <span class="math">\(f\left(ab\right)=\sigma_{ab}=\sigma_{a}\sigma_{b}=f\left(a\right)f\left(b\right)\)</span> שהרי על פי הגדרה, <span class="math">\(\sigma_{ab}\left(x\right)=abx=a\left(bx\right)=a\sigma_{b}\left(x\right)=\sigma_{a}\left(\sigma_{b}\left(x\right)\right)\)</span>. אז אם לסכם: הראנו הומומורפיזם חח"ע מ-<span class="math">\(G\)</span> אל <span class="math">\(S_{G}\)</span> ומכאן ש-<span class="math">\(G\)</span> איזומורפית לתת-חבורה של <span class="math">\(S_{G}\)</span>.</p>
<p>האם התוצאה הזו אומרת שאפשר לשכוח מחבורות ומספיק להתעסק רק בתמורות? לא, כי כפי שכבר אמרתי בעבר, גם אם שתי חבורות הן איזומורפיות זה לא אומר שאין חשיבות לשיטות ייצוג שונות שלהן. מה שקל בשיטת ייצוג אחת עשוי להיות קשה באחרת. לכן טוב מאוד שאנחנו מודעים לכך שאפשר לחשוב על כל חבורה בתור חבורת תמורות; אבל זה לא אומר שמעכשיו נרצה לתת מונופול רק לדרך החשיבה הזו. בשביל מה?</p>
<h2>פירוק למעגלים</h2>
<p>הדבר הראשון שאני רוצה לעשות כשאני בא לדבר על <span class="math">\(S_{n}\)</span> הוא למצוא דרך טובה <strong>לתאר</strong> פרמוטציות. שיטת סימון טובה היא המפתח לכל מה שעושים אחר כך. במקרה הנוכחי, שיטות הסימון שאראה הומצאו על ידי קושי. השיטה הראשונה היא פשוט לכתוב שתי רשימות של מספרים, האחת ממויינת והשניה מתאימה למה שהתמורה עושה. למשל:</p>
<p><span class="math">\(\left(\begin{array}{cccc} 1 & 2 & 3 & 4\\ 2 & 4 & 3 & 1 \end{array}\right)\)</span></p>
<p>מה שמתואר לעיל הוא התמורה שמעבירה את 1 ל-2, את 2 ל-4, את 3 ל-3 ואת 4 ל-1. כדי לראות לאן התמורה מעבירה מספר כלשהו פשוט מחפשים אותו בשורה העליונה ובודקים מי המספר שמתחתיו בשורה התחתונה. זו שיטת סימון לא רעה אבל היא מרגישה קצת מסורבלת - בשביל מה בעצם צריך את השורה העליונה? תמיד יהיה כתוב בה אותו דבר. השורה התחתונה היא לב העניין. למה לא לכתוב פשוט <span class="math">\(\left(2\ 4\ 3\ 1\right)\)</span> וחסל? ובכן, כי אז יותר קשה במבט חטוף להבין לאן, למשל, 3 עובר: אם יש לנו תמורה ארוכה יחסית, אז צריך להתחיל לספור את האיברים בסוגריים כדי לוודא שהגענו לאיבר עם האינדקס הנכון, וזה קצת מעצבן. לכן אנחנו דבקים בשיטה למעלה של לכתוב שתי שורות. למרבה המזל, יש לנו דרך <strong>אחרת לגמרי</strong> לתאר תמורות שהיא הרבה יותר קומפקטית: מה שנקרא <strong>פירוק למעגלים</strong> של התמורה.</p>
<p>הרעיון ב"מעגל" הוא זה: אם נפעיל את התמורה על איבר כלשהו, ואז על הפלט שקיבלנו, ואז שוב ושוב, בסוף נחזור לאיבר שהתחלנו ממנו (בתנאי שהקבוצה <span class="math">\(X\)</span> שלנו סופית - כזכור, רק על זה אנחנו מדברים). למשל, עבור התמורה שלנו <span class="math">\(\sigma\left(1\right)=2\)</span> ו-<span class="math">\(\sigma\left(2\right)=4\)</span> ו-<span class="math">\(\sigma\left(4\right)=1\)</span> - הופס, חזרנו לאיבר שהתחלנו ממנו. ראינו אם כן שאפשר לחשוב על חלק ממה שהתמורה עושה בתור "ללכת על המעגל" <span class="math">\(1\to2\to4\to1\)</span>.</p>
<p>למה זה תמיד עובד? ובכן, בואו ניקח <span class="math">\(a\)</span> כלשהו ונסתכל על <span class="math">\(a,\sigma\left(a\right),\sigma^{2}\left(a\right),\dots\)</span> וכן הלאה. יש לנו סדרה אינסופית של איברים אבל כמות הפלטים האפשרית של הפונקציה היא סופית (כי <span class="math">\(X\)</span> סופית) ולכן יהיה איבר שמופיע פעמיים בסדרה. כלומר, קיימים <span class="math">\(n,k\)</span> כך ש-<span class="math">\(n&lt;k\)</span> ו-<span class="math">\(\sigma^{n}\left(a\right)=\sigma^{k}\left(n\right)\)</span>, כלומר <span class="math">\(\sigma^{k-n}\left(a\right)=a\)</span>. קיבלנו ש-<span class="math">\(a\)</span> מופיע פעמיים בסדרה, ושזה קורה לפני כל איבר אחר שמופיע פעמיים (למה?). זה קצת מזכיר את הניתוח של חבורות ציקליות שעשינו בפוסט קודם, ולא במקרה.</p>
<p>אם כן, ראינו שאת מה שכל תמורה עושה אפשר לתאר בעזרת <strong>מעגלים</strong>. בואו ניתן סימון קומפקטי למעגלים. את המעגל <span class="math">\(1\to2\to4\to1\)</span> אפשר לתאר פשוט בתור <span class="math">\(\left(1\ 2\ 4\right)\)</span>. זהירות, לא להתבלבל עם צורת הסימון הקודמת שלנו! <span class="math">\(\left(1\ 2\ 4\right)\)</span> <strong>לא</strong> אומר שהאיבר 1 עובר ל-1 והאיבר 2 עובר ל-2 וכדומה; הדרך הנכונה לקרוא מעגל היא להסתכל על אחד מהמספרים בו, ואז לומר שהתמורה מעבירה אותו אל המספר שמימין אליו (או במקרה של המספר הימני ביותר במעגל, מעבירה אותו לאיבר השמאלי ביותר במעגל). כמובן, אפשר לתאר אותו מעגל בכמה דרכים שונות, למשל <span class="math">\(\left(2\ 4\ 1\right)\)</span> מתאר את אותו מעגל כמו <span class="math">\(\left(1\ 2\ 4\right)\)</span>; אבל לא להתבלבל - <span class="math">\(\left(1\ 4\ 2\right)\)</span> <strong>אינו</strong> אותו מעגל כמו <span class="math">\(\left(2\ 4\ 1\right)\)</span> כי למשל 1 עובר ל-4 במעגל הראשון אבל עובר ל-2 במעגל השני.</p>
<p>כעת, התמורה <span class="math">\(\left(\begin{array}{cccc} 1 & 2 & 3 & 4\\ 2 & 4 & 3 & 1 \end{array}\right)\)</span> מורכבת בעצם משני מעגלים: האחד הוא <span class="math">\(\left(1\ 2\ 4\right)\)</span> מיודענו, והשני הוא <span class="math">\(\left(3\right)\)</span> - מעגל בן איבר בודד. המוסכמה היא שאין צורך לכתוב מעגלים כאלו בכלל. לכן את התמורה <span class="math">\(\left(\begin{array}{cccc} 1 & 2 & 3 & 4\\ 2 & 4 & 3 & 1 \end{array}\right)\)</span> פשוט כותבים בתור <span class="math">\(\left(1\ 2\ 4\right)\)</span> וחסל.</p>
<p>בואו נראה עכשיו דוגמה נוספת עם תמורה מסובכת יותר: <span class="math">\(\sigma=\left(\begin{array}{cccccccc} 1 & 2 & 3 & 4 & 5 & 6 & 7 & 8\\ 5 & 2 & 1 & 8 & 3 & 4 & 7 & 6 \end{array}\right)\)</span>. אני רוצה למצוא את הייצוג של התמורה הזו בתור מעגלים. מה אני עושה? פשוט מאוד: אני בוחר מספר כלשהו באופן שרירותי, נאמר 1, ומתחיל לכתוב את המעגל שבו 1 נמצא. כלומר, אני מתחיל לכתוב "<span class="math">\((1\)</span>" ואז מרים את הראש, מסתכל על <span class="math">\(\sigma\)</span> ורואה לאן 1 עובר. הוא עובר ל-5 אז אני כותב 5 ליד 1 במעגל: "<span class="math">\((1\ 5\)</span>". עכשיו אני שוב מרים את הראש, רואה ש-5 עובר ל-3 וכותב "<span class="math">\((1\ 5\ 3\)</span>", ואחר כך מרים שוב את הראש ורואה ש-3 חזר אל 1. ברגע הזה אני סוגר את הסוגריים: קיבלנו את המעגל <span class="math">\(\left(1\ 5\ 3\right)\)</span>. עדיין לא סיימתי לכתוב את כל התמורה; טיפלתי רק באיברים 1,5,3. עכשיו אני עובר אל המספר הבא שטרם טיפלתי בו - במקרה שלנו, 2. אני רואה ש-2 עובר לעצמו כך שאני לא טורח לכתוב את זה בכלל. מי המספר הבא שטרם טיפלתי בו? 4, שעובר ל-8 שעובר ל-6 שעובר ל-4, אז אני מוסיף את המעגל <span class="math">\(\left(4\ 8\ 6\right)\)</span>, ולכן בינתיים כתובה לי התמורה <span class="math">\(\left(1\ 5\ 3\right)\left(4\ 8\ 6\right)\)</span>. המספר הבא שטרם טיפלתי בו הוא 7 שעובר לעצמו ולכן אני לא כותב אותו, וסיימנו; לא נותרו מספרים שטרם טיפלתי בהם. לכן הייצוג בעזרת מעגלים של התמורה <span class="math">\(\sigma\)</span> הוא <span class="math">\(\left(1\ 5\ 3\right)\left(4\ 8\ 6\right)\)</span>. אין ספק שזה ייצוג קומפקטי יותר, ועדיין אפשר לדעת בקלות לאן עובר כל מספר (רוצים לדעת לאן 3 עובר? תחפשו אותו במעגל ותבדקו מי מימינו).</p>
<p>המעגלים שמצאתי נקראים <strong>מעגלים זרים</strong> כי אין להם מספרים משותפים. למעשה, כל המעגלים מהווים <strong>חלוקה</strong> של הקבוצה <span class="math">\(\left\{ 1,\dots,n\right\} \)</span>, בדומה לאופן שבו קוסטים של תת-חבורה הם חלוקה של כל אברי החבורה. כלומר, יש לנו כאן יחס שקילות מאחורי הקלעים. אתאר אותו באופן פורמלי רק בעתיד, כשנדבר על מושג בשם "פעולה של חבורה על קבוצה"; המעגלים הם מחלקות השקילות שלו. לשיטת ההצגה הזו קוראים "ייצוג באמצעות מעגלים זרים".</p>
<h2>מכפלת חילופים</h2>
<p>את הרעיון הזה אפשר לקחת קדימה עוד קצת. מה זה <span class="math">\(\left(1\ 2\right)\left(1\ 3\right)\)</span>? יש לנו כאן שני מעגלים, אבל הם לא מעגלים זרים כי 1 משותף לשניהם. אפשר לחשוב על הדבר הזה בתור מה שמקבלים כשלוקחים את התמורה <span class="math">\(\sigma\)</span> שמעבירה את 1 ל-2 ואת 2 ל-1 ואת 3 לעצמו, וכופלים אותה בתמורה <span class="math">\(\tau\)</span> שמעבירה את 1 ל-3 ואת 3 ל-1 ואת 2 לעצמו. אם כן, <span class="math">\(\left(1\ 2\right)\left(1\ 3\right)\)</span> היא תמורה, אבל מה הייצוג שלה בעזרת מעגלים זרים? איך נמצא אותו?</p>
<p>ובכן, קודם כל ננסה להבין איך התמורה <span class="math">\(\left(1\ 2\right)\left(1\ 3\right)\)</span> פועלת על 1. המוסכמה שלנו הייתה שכשכופלים שתי תמורות, מתקבלת התמורה שאופן הפעולה שלה הוא קודם כל להפעיל את התמורה ה<strong>ימנית</strong> במכפלה על הקלט, ואז להפעיל את התמורה השמאלית במכפלה על התוצאה. כלומר, כדי לדעת לאן <span class="math">\(\left(1\ 2\right)\left(1\ 3\right)\)</span> מעבירה את 1, אנחנו קודם כל מפעילים את <span class="math">\(\left(1\ 3\right)\)</span> על 1, מקבלים 3, ואז שואלים את עצמנו לאן <span class="math">\(\left(1\ 2\right)\)</span> מעבירה את 3. היא מעבירה אותו לעצמו, ולכן קיבלנו שהתמורה כולה מעבירה את 1 ל-3. עכשיו אפשר לעשות את אותו הדבר גם עבור 3 וכן הלאה. כך נקבל את הייצוג של התמורה החדשה באמצעות מעגלים זרים: <span class="math">\(\left(1\ 2\right)\left(1\ 3\right)=\left(1\ 3\ 2\right)\)</span> (תוודאו שזה אכן נכון).</p>
<p>מה שראינו כאן הוא את האופן שבו אפשר לחשב את התוצאה של <strong>כפל</strong> שתי תמורות - ואפשר לחשב גם כפל של שלוש או יותר באותו האופן. בתור אימון, בואו נחשב את <span class="math">\(\left(1\ 3\right)\left(1\ 2\right)\)</span>. אנחנו מתחילים שוב עם 1, ורואים שהוא עובר ל-2 ואז נשאר שם. ואנחנו רואים ש-2 עובר ל-1 ואחר כך עובר ל-3. ואנחנו רואים ש-3 עובר לעצמו בהתחלה ואחר כך ל-1. לכן קיבלנו <span class="math">\(\left(1\ 3\right)\left(1\ 2\right)=\left(1\ 2\ 3\right)\)</span>. שימו לב ש-<span class="math">\(\left(1\ 2\ 3\right)\ne\left(1\ 3\ 2\right)\)</span>, כך שאנחנו רואים פה שכפל תמורות <strong>אינו קומוטטיבי</strong>. חבורות של תמורות הן באופן כללי לא אבליות, ולכן הן מעניינות (למרות שכמובן, יש גם חבורות אבליות שאבריהן הן תמורות, למשל קחו את תת-החבורה שנוצרת על ידי <span class="math">\(\left(1\ 2\ 3\right)\)</span> ב-<span class="math">\(S_{3}\)</span>). מה שכן קומוטטיבי הוא מכפלה של שני מעגלים <strong>זרים</strong> (נסו להסביר לעצמכם למה).</p>
<p>המשוואה <span class="math">\(\left(1\ 3\right)\left(1\ 2\right)=\left(1\ 2\ 3\right)\)</span> מעניינת גם כי היא מראה לנו שאפשר לכתוב מעגל של שלושה איברים בתור מכפלה של שני <strong>חילופים</strong> - חילוף זו בסך הכל תמורה של שני איברים שמחליפים מקום. האם אפשר לעשות את זה גם למעגלים גדולים יותר? באופן כללי, האם אפשר לכתוב כל תמורה בתור מכפלה של חילופים? מן הסתם ברור לנו שכן (רוב אלגוריתמי המיון מבצעים חילופים מקומיים שכאלו וזה מוביל למערך מסודר בסופו של דבר בלי קשר לכמה המערך המקורי היה מבולגן), אבל איך? אפשר לנחש שהכללה לא רעה של הדוגמה תהיה <span class="math">\(\left(1\ 4\right)\left(1\ 3\right)\left(1\ 2\right)=\left(1\ 2\ 3\ 4\right)\)</span> - תבדקו ותראו שזה עובד. מכאן הדרך קצרה אל משהו כללי: <span class="math">\(\left(1\ n\right)\left(1\ n-1\right)\cdots\left(1\ 3\right)\left(1\ 2\right)=\left(1\ 2\ \dots\ n\right)\)</span>. למה זה עובד? פשוט מאוד: אם <span class="math">\(1&lt;k&lt;n\)</span> אז הוא מופיע בדיוק בחילוף אחד: <span class="math">\(\left(1\ k\right)\)</span>. מי שמופיע ממש לפניו הוא <span class="math">\(\left(1\ k+1\right)\)</span>. מכאן שהפעולה של התמורה על <span class="math">\(k\)</span> היא זו: ראשית מעבירה אותו ל-1 ואחר כך מעבירה אותו משם אל <span class="math">\(k+1\)</span> ושם הוא נותר. זה בדיוק מתאים למעגל <span class="math">\(\left(1\ 2\ \dots\ n\right)\)</span>. עבור <span class="math">\(k=n\)</span> יש רק חילוף אחד: <span class="math">\(\left(1\ n\right)\)</span>, ולכן אכן <span class="math">\(n\)</span> יעבור אל 1. אבל מה לגבי 1 עצמו? הוא הרי מופיע בכל החילופים. איך זה מסתדר? זה דווקא החלק הקל ביותר כאן: רק החילוף הראשון משפיע עליו. הוא מעביר את 1 ל-2 וזהו; מכיוון ש-2 לא מופיע בחילופים שאחר כך, כאן נגמר הסיפור מבחינתו.</p>
<p>ל-1 עצמו אין מעמד קדוש כאן. היינו יכולים להשתמש בכל מספר אחר שמופיע במעגל באותה מידה. גם אין סיבה שהמספרים יהיו מסודרים מ-1 עד <span class="math">\(n\)</span>, זה סתם מפשט את הכתיבה. הניסוח הכללי ביותר הוא זה: אם <span class="math">\(\left(a_{1}\ a_{2}\ \dots\ a_{n}\right)\)</span> הוא מעגל, אז <span class="math">\(\left(a_{1}\ a_{2}\ \dots\ a_{n}\right)=\left(a_{1}\ a_{n}\right)\left(a_{1}\ a_{n-1}\right)\dots\left(a_{1}\ a_{2}\right)\)</span>. כעת, מכיוון שכל תמורה אפשר לכתוב בתור מכפלת מעגלים זרים, המסקנה היא שכל תמורה אפשר לכתוב גם בתור מכפלת חילופים.</p>
<p>האם יש עוד דרכים להציג תמורה בתור מכפלת חילופים פרט לזו שהצגתי? בוודאי. למשל, <span class="math">\(\left(1\ 2\ 3\ 4\right)=\left(1\ 2\right)\left(2\ 3\right)\left(3\ 4\right)\)</span> - באופן כללי <span class="math">\(\left(a_{1}\ a_{2}\ \dots\ a_{n}\right)=\left(a_{1}\ a_{2}\right)\left(a_{2}\ a_{3}\right)\dots\left(a_{n-1}\ a_{n}\right)\)</span>. הרעיון פה הוא שכל איבר פרט ל-<span class="math">\(a_{n}\)</span> מתחלף קודם כל עם האיבר שגדול ממנו, ואז כבר לא יזוז עוד; רק <span class="math">\(a_{n}\)</span> מתחלף על ההתחלה עם איבר שקטן ממנו, ואז מתחלף שוב ושוב ושוב עד שבסוף הוא מגיע אל <span class="math">\(a_{1}\)</span>. זו שיטת הצגה נוספת של מעגלים שיכולה להיות שימושים לעתים.</p>
<p>מה זהה בשתי שיטות ההצגה שלנו? <strong>מספר</strong> החילופים. בשתיהן כדי לייצג מעגל על <span class="math">\(n\)</span> איברים נזקקנו לבדיוק <span class="math">\(n-1\)</span> חילופים. האם <strong>כל</strong> הצגה של מעגל על <span class="math">\(n\)</span> איברים תהיה בהכרח בת <span class="math">\(n-1\)</span> חילופים? התשובה שלילית, כי אפשר להוסיף חילופים "מיותרים" שמבטלים זה את זה. למשל <span class="math">\(\left(1\ 2\ 3\right)=\left(1\ 3\right)\left(1\ 2\right)\left(2\ 3\right)\left(3\ 2\right)\)</span>. מה שכן, אנחנו רואים כאן שכדי להוסיף חילופים "מיותרים" אני צריך להוסיף <strong>זוגות</strong> של חילופים - אחד שמקלקל והשני שמתקן אותו. אם כן, יש תחושה שמשהו בכל זאת נשמר כאן: <strong>בכל פירוק </strong>של <span class="math">\(\sigma\)</span> למכפלת חילופים, <strong>הזוגיות של מספר החילופים זהה</strong>. לתמורה שבפירוק כזה שלה יש מספר זוגי של חילופים קוראים <strong>תמורה זוגית</strong> ולתמורה שבה המספר הוא אי זוגי קוראים <strong>תמורה אי זוגית</strong>. ראינו כבר שמעגל מאורך <span class="math">\(n\)</span> ניתן לייצוג על ידי <span class="math">\(n-1\)</span> חילופים, ולכן הכלל הוא <strong>מעגל מאורך זוגי הוא תמורה אי זוגית ומעגל מאורך אי זוגי הוא תמורה זוגית</strong>. עכשיו אפשר לדעת עבור תמורה כללית מה היא: מפרקים אותה למעגלים זרים ובודקים אם יש מספר אי זוגי של מעגלים מאורך זוגי. אם יש, התמורה אי זוגית; אחרת, היא זוגית. לפעמים נהוג לסמן <span class="math">\(\text{sign}\left(\sigma\right)=1\)</span> אם <span class="math">\(\sigma\)</span> זוגית ו-<span class="math">\(\text{sign}\left(\sigma\right)=-1\)</span> אם היא אי זוגית.</p>
<p>המשפט שציטטתי לעיל, לפיו בכל פירוק של <span class="math">\(\sigma\)</span> למכפלת חילופים הזוגיות של מספר החילופים זהה, הוא לא משפט טריוויאלי כלל; נחזור אליו בסוף הפוסט. בינתיים, הנה יישום פשוט ונחמד במיוחד שלו: משחק ה-15. הזכרתי את המשחק הזה <a href="http://www.gadial.net/2007/04/23/invariants_15_game_domino/">בפוסט הראשון בבלוג</a> והוכחתי שם שהוא לא פתיר; עם תורת החבורות אפשר לתת ניסוח קצת יותר אלגנטי של הפתרון.</p>
<p>ראשית, תזכורת קטנה על מה מדובר:</p>
<p><a href="/img/2007/04/220px-15-puzzle-loyd.svg_.png" rel="attachment wp-att-1169"><img class="aligncenter size-full wp-image-1169" src="/img/2007/04/220px-15-puzzle-loyd.svg_.png" alt="220px-15-puzzle-loyd.svg" width="220" height="220" /></a></p>
<p>המשחק בנוי על לוח <span class="math">\(4\times4\)</span> עם 15 לוחיות ממוספרות ועוד לוחית אחת חסרה. בכל צעד אנחנו מזיזים לוחית כלשהי אל המקום הפנוי של הלוחית החסרה - רעיונית, אנחנו מבצעים חילוף בין הלוחית שהזזנו ובין הלוחית החסרה. באופן הזה מתערבבים המספרים שעל הלוח, והיעד הוא להגיע ממצב של לוח מסודר למצב של לוח מסודר פרק להחלפה בין ה-14 וה-15 (זה מה שרואים באיור).</p>
<p>למה זה בלתי אפשרי? ובכן, בואו נחשוב על הלוח בתור תמורה חד ממדית של המספרים מ-1 עד 16, שהיא מה שמתקבל אם נקרא את השורות של הלוח אחת אחת. את הלוחית הריקה נסמן בתור לוחית מס' 16. עכשיו כל צעד במשחק הוא כפל של התמורה הנוכחית בחילוף מהצורה <span class="math">\(\left(16\ n\right)\)</span> כך ש-<span class="math">\(1\le n\le15\)</span>. התמורה ההתחלתית היא תמורת הזהות ולכן זוגית, ולכן המצב של הלוח שבו החלפנו רק את 14 ו-15 הוא תמורה אי זוגית. מכאן שב<strong>כל</strong> משחק שמוביל למצב הזה של הלוח יהיה מספר צעדים <strong>אי זוגי</strong>. מצד שני, קל לראות שאם אנחנו רוצים שלוחית מס' 16 תהיה בקצה הימני-תחתון של הלוח גם בסיום, חייב להיות מספר מהלכים זוגי - למשל, אם נצבע את המשבצות של הלוח בשחור ולבן (עוד תעלול שהוזכר בפוסט ההוא, ביחס לחידה אחרת) נראה שכל צעד מעביר את לוחית 16 מלבן לשחור וההיפך. לכן חייבים מספר זוגי של צעדים כדי שהלוחית תגיע למשבצת באותו הצבע של המשבצת שממנה היא התחילה.</p>
<p>לסיום החלק הזה, הנה משחק נחמד נוסף שאפשר לבצע עם ייצוג תמורה באמצעות חילופים. נסתכל על המעגל <span class="math">\(\left(1\ 2\ \dots\ n\right)\)</span>. קודם ייצגנו את המעגל הזה על ידי מכפלה של חילופים שכולם היו <strong>בין איברים מתוך המעגל</strong>. אבל מה אם אנחנו רוצים סדרה של חילופים שבכל אחד מהם משתתף רק איבר אחד מהמעגל, והאיבר האחר בחילוף <strong>בכלל לא מופיע במעגל</strong>? האם זה אפשרי?</p>
<p>בואו נוסיף איבר חדש, <span class="math">\(x\)</span>, וננסה לכתוב את המעגל בעזרת חילופים שכל אחד מהם מערב את <span class="math">\(x\)</span>. אם סתם נכתוב <span class="math">\(\left(x\ n\right)\left(x\ n-1\right)\cdots\left(x\ 2\right)\left(x\ 1\right)\)</span> נקבל את המעגל <span class="math">\(\left(x\ 1\ 2\ \dots\ n\right)\)</span>. אנחנו צריכים דרך כלשהי "לנטרל" את <span class="math">\(x\)</span> מתוך המעגל. מה בעצם מקולקל במעגל? כל האיברים עוברים לאן שהם צריכים פרט ל-<span class="math">\(n\)</span> שהולך אל <span class="math">\(x\)</span> ול-<span class="math">\(x\)</span> שהלך ל-1. אם אני רוצה לתקן, אני רוצה ש-<span class="math">\(n\)</span> יילך אל <span class="math">\(1\)</span>, ולכן אם כרגע <span class="math">\(n\)</span> הולך אל <span class="math">\(x\)</span> כדאי לי לכפול משמאל ב-<span class="math">\(\left(x\ 1\right)\)</span>. ואכן, <span class="math">\(\left(x\ 1\right)\left(x\ 1\ 2\ \dots\ n\right)=\left(1\ \dots\ n\right)\)</span>.</p>
<p>הפתרון הזה הוא כמובן חוקי, אבל זה קל מדי - בואו נסבך עוד יותר את הדרישות שלנו. כרגע השתמשנו ב-<span class="math">\(\left(x\ 1\right)\)</span> <strong>פעמיים</strong>, בהתחלה ובסוף. מה אם אסור לנו להשתמש בו יותר באופן מפורש? בואו נראה שיטה אחרת שבה אנחנו נעזרים ב<strong>איבר חדש נוסף</strong> <span class="math">\(y\)</span> שמאפשר לנו להמנע משימוש באותו חילוף פעמיים.</p>
<p>הרעיון הוא זה: נניח שכבר בנינו שני מעגלים:</p>
<p><span class="math">\(\left(x\ 1\ \dots\ k\right)\)</span></p>
<p><span class="math">\(\left(y\ k+1\ \dots\ n\right)\)</span></p>
<p>כאשר <span class="math">\(1\le k\le n\)</span> הוא איבר כלשהו. את המעגלים הללו אנחנו כבר יודעים לייצר על ידי חילופים של <span class="math">\(x,y\)</span> עם האיברים המתאימים. מה שנרצה לעשות הוא "להדביק" את שני המעגלים הללו יחד תוך שאנחנו גוזרים את נקודות ההתחלה, <span class="math">\(x,y\)</span>. נוכל לעשות זאת על ידי כפל בשתי התמורות הבאות:</p>
<p><span class="math">\(\left(y\ 1\right)\)</span></p>
<p><span class="math">\(\left(x\ k+1\right)\)</span></p>
<p>דהיינו, אנחנו יוצרים את התמורה הכללית <span class="math">\(\left(x\ k+1\right)\left(y\ 1\right)\left(y\ k+1\ \dots\ n\right)\left(x\ 1\ \dots\ k\right)\)</span>. קל לראות שזה עובד ונותן לנו את <span class="math">\(\left(x\ y\right)\left(1\ \dots\ n\right)\)</span>. עכשיו אפשר לבטל את החילוף האחרון על ידי כפל ב-<span class="math">\(\left(x\ y\right)\)</span>.</p>
<p>המשחק הקטן הזה הוא פחות שרירותי משנראה במבט ראשון - הוא הופיע בפרק של הסדרה פיוצ'רמה בתור תסבוכת מציאותית מאוד (מציאותית בהתחשב בכך שזו סדרת מד"ב מופרעת) שהדמויות היו צריכות לפתור, והפתרון הזה אכן הופיע לשבריר שניה בפרק. כתבתי על הדבר המאוד מוצלח הזה פוסט <a href="http://www.gadial.net/2010/09/14/futurama_and_group_theory/">כאן</a>.</p>
<h2>הצמדות</h2>
<p>חבורות של תמורות נותנות לי הזדמנות להציג סוף סוף מושג כללי חדש שעד כה היה זנוח בצללים מכיוון שהוא חסר משמעות עבור חבורות אבליות: <strong>הצמדה</strong> של איברים. באופן כללי, אם <span class="math">\(G\)</span> היא חבורה כלשהי ו-<span class="math">\(a,b\)</span> איברים, אז ההצמדה של <span class="math">\(b\)</span> על ידי <span class="math">\(a\)</span> היא האיבר <span class="math">\(aba^{-1}\)</span>. אם החבורה היא אבלית אז <span class="math">\(aba^{-1}=aa^{-1}b=b\)</span> ולכן הצמדה לא עושה שום דבר, אבל בחבורות כלליות היא עושה דברים מעניינים.</p>
<p>אם להיות הגונים, כבר דיברתי על הצמדה של תתי-חבורות: תת-חבורה הייתה נורמלית <span class="math">\(N\)</span> אם ורק אם ההצמדה שלה על ידי כל איבר של <span class="math">\(G\)</span> החזירה את <span class="math">\(N\)</span>. אבל הדיון הזה נותר אבסטרקטי כי לא היו לנו דוגמאות קונקרטיות לחבורות שבהן הצמדה עושה דברים מעניינים ברמת האיברים. ובכן, חבורות של תמורות נותנות לנו דוגמאות קונקרטיות שכאלו.</p>
<p>מה בכלל הרעיון בהצמדה? כדאי לחשוב על אברי החבורה שלנו בתור אובייקטים שמתארים <strong>פעולה</strong> כלשהי על מרחב כלשהו. עבור תמורות הפעולה היא לערבב את אברי הקבוצה; עבור טרנספורמציות לינאריות מעל <span class="math">\(\mathbb{R}^{2}\)</span> הפעולה היא להזיז דברים במישור - למשל, לסובב/לשקף. כשאני מצמיד את <span class="math">\(b\)</span> על ידי <span class="math">\(a\)</span> אני אומר "הממ, מעניין איך הפעולה ש-<span class="math">\(b\)</span> מתאר תשתנה אם אני אשנה את <strong>נקודת המבט שלי</strong> אפעיל את <span class="math">\(b\)</span> בתוך נקודת המבט החדשה, ואז אחזור לנקודת המבט המקורית". הנה דרך מאוד פשוטה לראות את זה: פתחו תמונה לא סימטרית כלשהי בעורך התמונות החביב עליכם. סובבו אותה ב-90 מעלות ימינה. רואים מה קיבלתם? יופי. עכשיו תחזרו לתמונה המקורית ותבצעו את הדבר הבא: קודם בצעו <strong>שיקוף</strong> אופקי; אחר כך סובבו ב-90 מעלות ימינה; אחר כך בצעו שוב שיקוף אופקי (ש"מתקן" את השיקוף המקורי). מה קיבלתם? התוצאה הסופית היא סיבוב של התמונה המקורית ב-90 מעלות <strong>שמאלה</strong>. ההצמדה של "סיבוב ב-90 מעלות ימינה" על ידי "שיקוף אופקי" גורמת לפעולה הזו להפוך לפעולה "סיבוב ב-90 מעלות שמאלה".</p>
<p>נחזור לתמורות. ניקח תמורה <span class="math">\(\sigma\)</span> כלשהי. מה הצמדה על ידי <span class="math">\(\sigma\)</span> תעשה לתמורה אחרת? קל יותר להתחיל עם דוגמא מאשר עם הסבר מפורש. בואו ניקח את המעגל <span class="math">\(\left(1\ 2\ 3\right)\)</span>. הצמדה על ידי <span class="math">\(\sigma\)</span> תשנה אותו באופן הבא: <span class="math">\(\sigma\left(1\ 2\ 3\right)\sigma^{-1}=\left(\sigma\left(1\right)\ \sigma\left(2\right)\ \sigma\left(3\right)\right)\)</span>. למשל, אם <span class="math">\(\sigma=\left(1\ 4\right)\left(2\ 3\right)\)</span> אז <span class="math">\(\sigma\left(1\ 2\ 3\right)\sigma^{-1}=\left(4\ 3\ 2\right)\)</span>. דהיינו, אנחנו לוקחים את המעגל המקורי ומחליפים כל מספר <span class="math">\(k\)</span> שמופיע בו במספר שאליו <span class="math">\(\sigma\)</span> שולחת את <span class="math">\(k\)</span>.</p>
<p>המשפט הכללי הוא: אם <span class="math">\(\tau=\left(a_{1}\ \dots\ a_{n}\right)\)</span> הוא מעגל כלשהו, אז <span class="math">\(\sigma\tau\sigma^{-1}=\left(\sigma\left(a_{1}\right)\ \dots\ \sigma\left(a_{n}\right)\right)\)</span>. איך מוכיחים את זה? על ידי חישוב מפורש. מכיוון ש-<span class="math">\(\sigma\)</span> היא תמורה של <span class="math">\(X\)</span>, לכל איבר <span class="math">\(x\in X\)</span> יש מקור, נסמן אותו <span class="math">\(b\)</span>: <span class="math">\(\sigma\left(b\right)=x\)</span>. עכשיו יש שתי אפשרויות: או ש-<span class="math">\(b\)</span> מופיע במעגל <span class="math">\(\tau\)</span> או שלא. אם הוא לא מופיע במעגל, אז זה אומר ש-<span class="math">\(\tau\)</span> לא משנה אותו: <span class="math">\(\tau\left(b\right)=b\)</span>. לכן <span class="math">\(\sigma\tau\sigma^{-1}\left(x\right)=\sigma\left(\tau\left(\sigma^{-1}\left(\sigma\left(b\right)\right)\right)\right)=\sigma\tau\left(b\right)=\sigma\left(b\right)=x\)</span> וקיבלנו ש-<span class="math">\(x\)</span> עובר לעצמו גם ב-<span class="math">\(\sigma\tau\sigma^{-1}\)</span>.</p>
<p>לעומת זאת, אם <span class="math">\(b\)</span> כן מופיע במעגל, נסמן <span class="math">\(b=a_{i}\)</span> עבור האינדקס <span class="math">\(i\)</span> המתאים. כעת: <span class="math">\(\sigma\tau\sigma^{-1}\left(x\right)=\sigma\tau\left(a_{i}\right)=\sigma\left(a_{i+1}\right)\)</span> וקיבלנו ש-<span class="math">\(x=\sigma\left(a_{i}\right)\)</span> עובר אל <span class="math">\(\sigma\left(a_{i+1}\right)\)</span> (ובמקרה שבו <span class="math">\(i=n\)</span>, אז <span class="math">\(\sigma\left(a_{n}\right)\)</span> עובר אל <span class="math">\(\sigma\left(a_{1}\right)\)</span>). זה הכל. ההוכחה עצמה היא מאוד פשוטה, כשזוכרים את המשפט; ואחרי שמבינים את המשפט קל לזכור גם אותו (מה שקשה לי לזכור הוא האם הצמדה כאן היא <span class="math">\(\sigma\tau\sigma^{-1}\)</span> או <span class="math">\(\sigma^{-1}\tau\sigma\)</span>, כפי שכותבים הצמדה לפעמים; בצורת הכתיב השניה המעגל שנקבל בסוף יהיה <span class="math">\(\left(\sigma^{-1}\left(a_{1}\right)\ \dots\ \sigma^{-1}\left(a_{n}\right)\right)\)</span>).</p>
<p>תיארנו כאן הצמדה של מעגל בודד, אבל תמורה כללית היא מכפלה של כמה מעגלים זרים. אז מה עושים? הנה תכונה כללית של הצמדה: הצמדה של מכפלה היא מכפלת ההצמדות. פורמלית: <span class="math">\(ab_{1}b_{2}a^{-1}=ab_{1}a^{-1}ab_{2}a^{-1}=\left(ab_{1}a^{-1}\right)\left(ab_{2}a^{-1}\right)\)</span>. כלומר, אפשר לעשות תעלול ו"לשתול בתוך המכפלה" צמדים מהצורה <span class="math">\(aa^{-1}\)</span> שמבטלים זה את זה. אם כן, כדי לדעת מהי ההצמדה של תמורה כללית מוצאים פירוק שלה למעגלים ומצמידים כל מעגל בנפרד, וסיימנו.</p>
<p>המסקנה שאנחנו מקבלים פה היא לא טריוויאלית. ראשית, אנחנו רואים שכל שתי תמורות שהן מעגלים הן צמודות זו לזו אם ורק אם המעגלים הם בדיוק מאותו האורך (כי הצמדה לא משנה את האורך של מעגל, אבל היא יכולה לשנות באופן שרירותי את האיברים שמופיעים בו). מכאן ששתי תמורות כלליות הן צמודות אם ורק אם בפירוק שלהן למעגלים זרים, לכל אורך אפשרי של מעגל, אותו מספר של מעגלים מהאורך הזה מופיע בשני הפירוקים. המשפט האחרון הוא מסורבל, אז הנה דרך יותר נוחה לנסח אותו: נגדיר את <strong>המבנה המעגלי</strong> של תמורה <span class="math">\(\sigma\)</span> בתור סדרה ממויינת של מספרים טבעיים שמתאימים לאורכי המעגלים בפירוק (היחיד) של <span class="math">\(\sigma\)</span> למכפלת מעגלים זרים. למשל, אם <span class="math">\(\sigma\in S_{8}\)</span> היא התמורה <span class="math">\(\left(2\ 3\ 4\right)\left(5\ 6\right)\left(7\ 8\right)\)</span> אז המבנה המעגלי שלה הוא הסדרה <span class="math">\(1,2,2,3\)</span> שבא לומר שיש לנו מעגל אחד מאורך 1 (<span class="math">\(\left(1\right)\)</span> שלא כתבתי במפורש), שניים מאורך 2 (<span class="math">\(\left(5\ 6\right)\)</span> ו-<span class="math">\(\left(7\ 8\right)\)</span>) ואחד מאורך 3 ((<span class="math">\(2\ 3\ 4\)</span>)). כעת, שתי תמורות הן צמודות אם ורק אם יש להן את אותו מבנה מעגלי (לפעמים מתארים מבנה מעגלי גם על ידי סדרה שבה האיבר באינדקס <span class="math">\(k\)</span> אומר כמה מעגלים מאורך <span class="math">\(k\)</span> יש לנו, אבל אני אוהב את שיטת הייצוג הזו הרבה פחות).</p>
<p>למשל ב-<span class="math">\(S_{4}\)</span> התמורות הן על ארבעה איברים. מה המבנים המעגליים האפשריים? זה בעצם שקול לשאלה מה הדרכים השונות לכתוב את 4 כסכום של טבעיים חיוביים. כל דרך נותנת לנו מבנה מעגלים שונה. פתרונות אפשריים נותנים לנו את המבנה המעגלי <span class="math">\(1,1,1,1\)</span> (מתאים לתמורת הזהות), את המבנה המעגלי <span class="math">\(1,1,2\)</span> (מתאים לחילוף בודד), את המבנה המעגלי <span class="math">\(2,2\)</span> (מתאים ל-<span class="math">\(\left(1\ 2\right)\left(3\ 4\right)\)</span> למשל), את <span class="math">\(1,3\)</span> (מתאים למשל ל-<span class="math">\(\left(1\ 2\ 3\right)\)</span>) ואת <span class="math">\(4\)</span> (מתאים למשל ל-<span class="math">\(\left(1\ 2\ 3\ 4\right)\)</span>). אנחנו רואים, אם כך, למשל שכל האיברים בקבוצה <span class="math">\(\left\{ \left(1\ 2\right)\left(3\ 4\right),\left(1\ 3\right)\left(2\ 4\right)(,\left(1\ 4\right)\left(2\ 3\right)\right\} \)</span> הם צמודים. שימו לב שהקבוצה הזו היא לא תת-חבורה; באופן כללי <strong>מחלקות צמידות</strong> שכאלו הן לא תת-חבורות ורוב תת-החבורות לא סגורות להצמדה. זה דבר חיובי - זה אומר שהנה, יש לנו עוד דרך חדשה ומעניינת לפרק חבורות (לא אבליות) לגורמים. אני אדבר על זה יותר בהמשך, כשאגיע לפעולה של חבורה על קבוצה.</p>
<h2>ולסיום, המשפט על הפירוק לחילופים</h2>
<p>אנחנו רוצים לראות עכשיו הוכחה לטענה שלי לפיה בכל פירוק של תמורה למכפלת חילופים, מספר החילופים הוא תמיד זוגי או שהוא תמיד אי זוגי. כל ההוכחות שאני מכיר הן בבסיסן אותו הדבר (או שהן מסתמכות על המושג של <strong>דטרמיננטה</strong> של מטריצה שבתורו מסתמך על מושג הזוגיות של תמורות שהוא לא מוגדר היטב בלי המשפט הזה) וההתלבטות הייתה האם להציג גרסה מפושטת של ההוכחה שמפספסת חלק מהרעיון או את ההוכחה שנותנת את התמונה הרחבה יותר. בסוף החלטתי ללכת על ההוכחה שנותנת את התמונה הרחבה יותר, ואני מקווה שכל מי ששרד עד כאן ישרוד גם את ההוכחה הזו, שהיא בסופו של דבר די נחמדה.</p>
<p>ההוכחה בנויה על שלושה שלבים:</p>
<ol>
    <li>מגדירים פונקציה <span class="math">\(\varepsilon:S_{n}\to\left\{ 1,-1\right\} \)</span> בצורה שנראית קצת מוזרה במבט ראשון.</li>
    <li>מוכיחים שהפונקציה הזו היא הומומורפיזם (כאן <span class="math">\(\left\{ 1,-1\right\} \)</span> היא חבורה ביחס לפעולת הכפל הרגילה).</li>
    <li>מוכיחים שעל כל חילוף, <span class="math">\(\varepsilon\)</span> מחזירה <span class="math">\(-1\)</span>.</li>
</ol>
<p>בהינתן שלושת אלו, התוצאה שהזכרתי לעיל נובעת מעצמה: אם <span class="math">\(\sigma=\tau_{1}\cdots\tau_{k}\)</span> כאשר <span class="math">\(\tau_{1},\dots,\tau_{k}\)</span> הם חילופים, אז <span class="math">\(\varepsilon\left(\sigma\right)=\varepsilon\left(\tau_{1}\right)\cdots\varepsilon\left(\tau_{k}\right)=\left(-1\right)^{k}\)</span>, ומכאן שאם יש ל-<span class="math">\(\sigma\)</span> הצגה בתור <span class="math">\(k_{1}\)</span> חילופים וגם בתור <span class="math">\(k_{2}\)</span> חילופים אז <span class="math">\(\left(-1\right)^{k_{1}}=\left(-1\right)^{k_{2}}\)</span>, דהיינו <span class="math">\(k_{1}\equiv k_{2}\left(\text{mod 2}\right)\)</span>.</p>
<p>השיטה של שימוש ב-<span class="math">\(\varepsilon\)</span> היא בעלת יתרון נוסף - היא מאפשרת לנו להגדיר בקלות תת-חבורה <span class="math">\(A_{n}\triangleq\ker\varepsilon\)</span> ומכיוון שהיא מוגדרת כגרעין, גם ברור שהיא נורמלית. החבורה הזו - "חבורת התמורות הזוגיות", ובאנגלית Alternating Group, היא בעלת חשיבות גדולה בזכות עצמה וכנראה שעוד נדבר עליה בעתיד.</p>
<p>נותר רק להסביר איך <span class="math">\(\varepsilon\)</span> מוגדרת. הנה הגדרה חצי פורמלית: <span class="math">\(\varepsilon\left(\sigma\right)\)</span> שווה ל-<span class="math">\(-1\)</span> בחזקת <strong>מספר הפרות הסדר</strong> שב-<span class="math">\(\sigma\)</span>. מה זו הפרת סדר? זה כל זוג מספרים <span class="math">\(1\le i&lt;j\le n\)</span> כך ש-<span class="math">\(\sigma\left(i\right)&gt;\sigma\left(j\right)\)</span>. כלומר, מספרים שאם הרשימה הייתה ממויינת היו צריכים להופיע בסדר הפוך. לדוגמא, ברשימה <span class="math">\(2,1,5,3,4\)</span> ברור לנו שהעובדה ש-2 בא לפני 1 היא "קלקול" של המיון של הרשימה, אבל 2 לא עושה צרות עם איברים אחרים ברשימה. לעומת זאת, 5 עושה צרות גם עם 3 וגם עם 4 והוא צריך להופיע אחרי שניהם. סך הכל יש לנו פה 3 הפרות סדר.</p>
<p>כל זה טוב ויפה, אבל זו לא הגדרה פורמלית כל כך. היא בוודאי יותר "קומבינטורית" באופיה מאשר אלגברית. הנה דרך פורמלית אלגברית להגדיר את זה שאני מקווה שלא תפחיד אתכם יותר מדי. בואו נגדיר איברים <span class="math">\(x_{1},\dots,x_{n}\)</span>. את האיברים הללו אפשר לחבר ולחסר ולכפול: אנחנו מקבלים <strong>פולינום במספר משתנים</strong> באופן הזה. פולינום בשני משתנים קל לנו להבין, למשל אני מקווה שלכולם נוח עם <span class="math">\(xy+y+3x\)</span> וכדומה. אז כאן יש לנו את אותו דבר רק עם <span class="math">\(n\)</span> משתנים שונים.</p>
<p>מה שעושים כעת הוא להסתכל על הפולינום הבא: <span class="math">\(\Delta=\prod_{1\le i&lt;j\le n}\left(x_{i}-x_{j}\right)\)</span>. הנה דוגמא לפולינום הזה עבור <span class="math">\(n=4\)</span>:</p>
<p><span class="math">\(\Delta=\left(x_{1}-x_{2}\right)\left(x_{1}-x_{3}\right)\left(x_{1}-x_{4}\right)\left(x_{2}-x_{3}\right)\left(x_{2}-x_{4}\right)\left(x_{3}-x_{4}\right)\)</span></p>
<p>כעת, תהא <span class="math">\(\sigma\)</span> תמורה כלשהי. נגדיר <span class="math">\(\sigma\left(x_{i}\right)=x_{\sigma\left(i\right)}\)</span>. אפשר לראות (כאן אני מנפנף בידיים קצת!) שעכשיו מתקיים:</p>
<p><span class="math">\(\sigma\left(\Delta\right)=\prod_{1\le i&lt;j\le n}\left(x_{\sigma\left(i\right)}-x_{\sigma\left(j\right)}\right)\)</span></p>
<p>מכיוון ש-<span class="math">\(\sigma\)</span> היא חח"ע ועל, נובע שלכל זוג <span class="math">\(1\le i&lt;j\le n\)</span> או ש-<span class="math">\(x_{i}-x_{j}\)</span> או ש-<span class="math">\(x_{j}-x_{i}\)</span> יופיע היכן שהוא ב-<span class="math">\(\sigma\left(\Delta\right)\)</span>, ומכאן ש-<span class="math">\(\frac{\sigma\left(\Delta\right)}{\Delta}=\pm1\)</span>. מכאן שאפשר להגדיר <span class="math">\(\varepsilon\left(\sigma\right)=\frac{\sigma\left(\Delta\right)}{\Delta}\)</span>. יש בהגדרה המוזרה הזו אלגנטיות גדולה מאוד, אבל אני לא ארחיב על זה הפעם (למי שכן מכיר, שימו לב כמה זה דומה למה שקורה במשפט הילברט 90).</p>
<p>עיקר הקושי בהוכחה שלנו הוא להראות ש-<span class="math">\(\varepsilon\)</span> היא הומומורפיזם. אנחנו לוקחים תמורות <span class="math">\(\sigma,\tau\)</span> כלשהן וצריכים להסתכל על תמורת ההרכבה שלהן ומה שהיא עושה ל-<span class="math">\(\Delta\)</span>, דהיינו לחשב את <span class="math">\(\frac{\left(\tau\sigma\right)\left(\Delta\right)}{\Delta}\)</span> ולהראות שזה יוצא <span class="math">\(\varepsilon\left(\tau\right)\varepsilon\left(\sigma\right)\)</span>.</p>
<p>כבר ראינו ש-<span class="math">\(\varepsilon\left(\sigma\right)=\frac{\sigma\left(\Delta\right)}{\Delta}\)</span> ולכן על ידי כפל ב-<span class="math">\(\Delta\)</span> נקבל ש-<span class="math">\(\sigma\left(\Delta\right)=\varepsilon\left(\sigma\right)\Delta\)</span>. כעת, על פי הגדרה, <span class="math">\(\left(\tau\sigma\right)\left(\Delta\right)=\tau\left(\sigma\left(\Delta\right)\right)=\tau\left(\varepsilon\left(\sigma\right)\Delta\right)=\varepsilon\left(\sigma\right)\tau\left(\Delta\right)=\varepsilon\left(\sigma\right)\varepsilon\left(\tau\right)\Delta\)</span> וסיימנו (בשביל הצדקה פורמלית ממש אולי צריך לעבוד עוד טיפה).</p>
<p>לסיום, אנחנו רוצים לחשב את <span class="math">\(\varepsilon\)</span> על חילוף <span class="math">\(\sigma\)</span> כלשהו. אם ננסה לטפל ב-<span class="math">\(\sigma=\left(i\ j\right)\)</span> עבור <span class="math">\(i,j\)</span> כלליים זה יצריך מאיתנו קצת פנקסנות כי הרבה גורמים הולכים להשתנות בצורה רלוונטית. לכן בואו נטפל ב-<span class="math">\(\left(1\ 2\right)\)</span> קודם כל. ברור ש-<span class="math">\(\varepsilon\left(\left(1\ 2\right)\right)=-1\)</span> כי הגורם <span class="math">\(x_{1}-x_{2}\)</span> יתהפך ל-<span class="math">\(x_{2}-x_{1}\)</span> בעוד שאר הגורמים (שהם תמיד מהצורה <span class="math">\(\left(x_{1}-x_{k}\right)\)</span> ו-<span class="math">\(\left(x_{2}-x_{k}\right)\)</span>) לא יתהפכו. עכשיו, בואו ננצל את זה שכבר הוכחנו ש-<span class="math">\(\varepsilon\)</span> הוא הומומורפיזם כדי לטפל בתמורה <span class="math">\(\left(i\ j\right)\)</span> כלשהי: נגדיר <span class="math">\(\tau=\left(1\ i\right)\left(2\ j\right)\)</span>, אז <span class="math">\(\left(1\ 2\right)=\tau\left(i\ j\right)\tau\)</span> (בדקו זאת!) ולכן <span class="math">\(-1=\varepsilon\left(\left(1\ 2\right)\right)=\varepsilon\left(\tau\right)^{2}\varepsilon\left(i\ j\right)=\varepsilon\left(i\ j\right)\)</span>.</p>
<p>ההוכחה הזו טכנית, כפי שהיה רוב הפוסט הזה, אבל אני חושב שיש הרבה אלגנטיות בטכניקה הזו. ככה זה עם תמורות באופן כללי, גם בהמשך.</p>
        </article>
        
        <!-- Post Navigation -->
        
        <nav class="post-navigation">
            
            <a href="/2017/04/19/direct_product_and_abelian_groups/" class="nav-link nav-next">
                <span class="nav-label">→ פוסט חדש יותר</span>
                <span class="nav-title">בואו נדבר על מכפלות של חבורות וחבורות אבליות</span>
            </a>
            
            
            
            <a href="/2017/03/06/group_isomorphism_theorems/" class="nav-link nav-prev">
                <span class="nav-label">פוסט ישן יותר ←</span>
                <span class="nav-title">משפטי האיזומורפיזם של חבורות</span>
            </a>
            
        </nav>
        
        
        <footer>
            <p>בלוג מתמטיקה בעברית</p>
        </footer>
    </div>

    
    <script>
        function searchPosts() {
            const searchTerm = document.getElementById('searchInput').value;
            if (searchTerm.trim()) {
                window.location.href = '/post_list.html?search=' + encodeURIComponent(searchTerm);
            }
        }
        
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchPosts();
            }
        });
    </script>
    
    
    <!-- Auto-render KaTeX math -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            renderMathInElement(document.body, {
                delimiters: [
                    {left: "\\[", right: "\\]", display: true},
                    {left: "\\(", right: "\\)", display: false}
                ],
                throwOnError: false
            });
        });
    </script>

</body>
</html>