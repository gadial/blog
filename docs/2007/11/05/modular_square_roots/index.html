<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ועכשיו למשהו מסובך יותר - הוצאת שורש ריבועי! - לא מדויק</title>
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    
    <meta name="description" content="לא מדויק - בלוג על מתמטיקה ומדעי המחשב" />
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://gadial.net/2007/11/05/modular_square_roots/">
    <meta property="og:title" content="ועכשיו למשהו מסובך יותר - הוצאת שורש ריבועי!">
    <meta property="og:description" content="לא מדויק - בלוג על מתמטיקה ומדעי המחשב">
    <meta property="og:site_name" content="לא מדויק">
    

<meta property="og:image" content="http://gadial.net/img/main/default-card.png" />


        
    <!-- Twitter -->
    

<meta name="twitter:card" content="summary">


    <meta name="twitter:url" content="https://gadial.net/2007/11/05/modular_square_roots/">
    <meta name="twitter:description" content="לא מדויק - בלוג על מתמטיקה ומדעי המחשב">
    <meta name="twitter:site" content="@" />
    <meta property="twitter:title" content="ועכשיו למשהו מסובך יותר - הוצאת שורש ריבועי!">
    

<meta property="twitter:image" content="http://gadial.net/img/main/default-card.png" />


    
    <!-- RSS Feed -->
    <link rel="alternate" type="application/rss+xml" title="לא מדויק - RSS Feed" href="/feed.xml">
       
    
    <!-- KaTeX for math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>
    <link rel="stylesheet" href="/css/main.css">

    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', 'David', 'Tahoma', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
        }
        
        /* Top navigation bar */
        .top-nav {
            background: #2c3e50;
            padding: 15px 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .top-nav .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
        }
        
        .top-nav .site-title {
            font-size: 1.5em;
            font-weight: bold;
            color: white;
            text-decoration: none;
            white-space: nowrap;
        }
        
        .top-nav .nav-links {
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .top-nav .nav-links a {
            color: #ecf0f1;
            text-decoration: none;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background 0.2s;
            white-space: nowrap;
        }
        
        .top-nav .nav-links a:hover {
            background: #34495e;
        }
        
        .top-nav .search-box {
            display: flex;
            gap: 5px;
        }
        
        .top-nav .search-box input {
            padding: 5px 10px;
            border: none;
            border-radius: 4px;
            font-size: 0.9em;
            min-width: 150px;
        }
        
        .top-nav .search-box button {
            padding: 5px 15px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .top-nav .search-box button:hover {
            background: #2980b9;
        }
        
        /* Hamburger menu button */
        .menu-toggle {
            display: none;
            background: none;
            border: none;
            font-size: 1.8em;
            color: white;
            cursor: pointer;
            padding: 0;
            line-height: 1;
        }
        
        .menu-toggle:hover {
            opacity: 0.8;
        }
        
        /* Mobile responsive */
        @media (max-width: 768px) {
            .top-nav .nav-container {
                flex-direction: column;
                align-items: stretch;
            }
            
            .top-nav .site-title {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 0;
                padding: 10px 0;
            }
            
            .menu-toggle {
                display: block;
            }
            
            /* Hide nav links by default on mobile */
            .top-nav .nav-links {
                display: none;
                flex-direction: column;
                width: 100%;
                margin-top: 10px;
            }
            
            /* Show when expanded */
            .top-nav .nav-links.expanded {
                display: flex;
            }
            
            .top-nav .nav-links > a {
                text-align: center;
                padding: 12px;
                border-top: 1px solid rgba(255, 255, 255, 0.2);
            }
            
            .top-nav .search-box {
                width: 100%;
                flex-direction: column;
                margin-top: 10px;
                padding-top: 10px;
                border-top: 1px solid rgba(255, 255, 255, 0.2);
            }
            
            .top-nav .search-box input {
                width: 100%;
                margin-bottom: 5px;
                min-width: 0;
            }
            
            .top-nav .search-box button {
                width: 100%;
            }
        }
        
        /* Blockquote styling */
        blockquote {
            background: #f9f9f9;
            border-right: 5px solid #ccc;
            margin: 1.5em 10px;
            padding: 0.75em 16px;
            position: relative;
            font-style: italic;
        }
        
        blockquote:before {
            content: '"';
            position: absolute;
            top: -10px;
            right: 8px;
            font-size: 3.5em;
            color: #ccc;
            line-height: 1;
        }
        
        blockquote p {
            display: block;
            margin: 0 0 0.75em 0;
        }
        
        blockquote p:last-child {
            margin-bottom: 0;
        }
        
        
    </style>
</head>
<body>
    <nav class="top-nav">
        <div class="nav-container">
            <div class="site-title">
                <a href="/" style="color: white; text-decoration: none;">לא מדויק</a>
                <button class="menu-toggle" onclick="toggleMobileMenu()" aria-label="תפריט">
                    ☰
                </button>
            </div>
            <div class="nav-links" id="navLinks">
                <a href="/">דף הבית</a>
                <a href="/random.html">פוסט אקראי</a>
                <a href="/post_list.html">כל הפוסטים</a>
                <a href="/categories/">קטגוריות</a>
                <a href="/lecture_notes.html">סיכומי הרצאות</a>
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="חיפוש...">
                    <button onclick="searchPosts()">חפש</button>
                </div>
            </div>
        </div>
    </nav>
    
    
    <div class="container">
        <!-- Post Navigation -->
        
        <nav class="post-navigation">
            
            <a href="/2007/10/31/finding_square_roots/" class="nav-link nav-prev">
                <span class="nav-label">פוסט ישן יותר →</span>
                <span class="nav-title">אז איך באמת מוצאים שורש ריבועי?</span>
            </a>
            

            
            <a href="/2007/11/10/modular_square_roots_hardness/" class="nav-link nav-next">
                <span class="nav-label">← פוסט חדש יותר</span>
                <span class="nav-title">אוף, כל הקטע עם השורש הריבועי באמת יוצא מסובך</span>
            </a>
            
        </nav>
        
        
        <header>
            <h1>ועכשיו למשהו מסובך יותר - הוצאת שורש ריבועי!</h1>
            <div class="post-meta">
                <span class="date">2007-11-05</span>
                
                <span class="categories">
                    | קטגוריות:
                    
                    <a href="/categories/תורת המספרים.html">תורת המספרים</a>
                    
                    <a href="/categories/תורת הסיבוכיות.html">תורת הסיבוכיות</a>
                    
                </span>
                
                
            </div>
        </header>
        
        <article>
            <p><a href="http://www.gadial.net/2007/10/31/finding_square_roots/">בפוסט הקודם</a> דיברתי על מספר שיטות למציאת שורש ריבועי. מה שלא אמרתי במפורש בשום מקום הוא מהי "זירת המשחק" שלי - שהייתה, באופן מובלע, <a href="http://he.wikipedia.org/wiki/%D7%A9%D7%93%D7%94_%D7%94%D7%9E%D7%A1%D7%A4%D7%A8%D7%99%D7%9D_%D7%94%D7%9E%D7%9E%D7%A9%D7%99%D7%99%D7%9D">המספרים הממשיים</a>. בממשיים יש שורשים למספרים כמו 2 (שאין להם שורש רציונלי), ולכן אפשר להוציא בהם שורש לכל מספר טבעי - וזה מה שאנחנו עושים בדרך כלל. למספרים שליליים לא יכלתי להוציא שורש, אבל ההרחבה עבורם אינה מסובכת (עבור מינוס x, הוצא שורש ל-x וכפול את התוצאה ב<a href="http://he.wikipedia.org/wiki/%D7%9E%D7%A1%D7%A4%D7%A8_%D7%9E%D7%93%D7%95%D7%9E%D7%94">מספר המדומה</a> i). אגב, כל השיטות שלי נתנו למעשה רק <strong>קירוב רציונלי</strong> לשורש, כך שכלל לא חרגתי מגבולות ארגז החול של <a href="http://he.wikipedia.org/wiki/%D7%9E%D7%A1%D7%A4%D7%A8_%D7%A8%D7%A6%D7%99%D7%95%D7%A0%D7%9C%D7%99">המספרים הרציונליים</a>.</p>
<p>אלא שהמספרים הממשיים/מרוכבים/רציונליים רחוקים מלהיות סוף הסיפור. אפשר להגדיר מושג של שורש לכל קבוצה שיש בה מושג של כפל - וכאלו יש רבות ושונות. בפוסט הזה אני רוצה לדבר על קבוצה קצת אחרת, שבה בעיית השורש היא שונה לגמרי, וקשה הרבה יותר. בפוסט הקודם דיברתי על פירוק לגורמים ראשוניים של מספר בתור דוגמה לשיטה אפשרית אחת להוצאת שורש; אז זו הייתה דרך מסובכת לעשות משהו פשוט. עבור הקבוצה שאדבר עליה הפעם, פירוק לגורמים (אם כי <strong>לא</strong> של מי שמוציאים לו שורש) הוא, במובן מסויים, הדרך הפשוטה ביותר הידועה להוצאת שורש - ולמעשה, שתי הבעיות שקולות בקושי החישובי שלהן. מכיוון שלעת עתה בעיית הפירוק לגורמים נחשבת קשה, התוצאה היא בעיה קשה "חדשה" - ומכאן קצרה הדרך לשימושים ב<a href="http://he.wikipedia.org/wiki/%D7%A7%D7%A8%D7%99%D7%A4%D7%98%D7%95%D7%9C%D7%95%D7%92%D7%99%D7%94">קריפטוגרפיה</a>.</p>
<p>את הקבוצה שאני רוצה לדבר עליה <a href="http://www.gadial.net/2007/07/31/fiat_shamir_intro/">כבר הזכרתי פעם</a> - <a href="http://he.wikipedia.org/wiki/%D7%97%D7%91%D7%95%D7%A8%D7%AA_%D7%90%D7%95%D7%99%D7%9C%D7%A8">חבורת אוילר</a> מודולו <span class="math">\(n\)</span>. הזכרתי אותה באותו הקשר בדיוק - של הקושי בהוצאת שורשים. עם זאת, אז השתמשתי בבעיה כדי להדגים <a href="http://he.wikipedia.org/wiki/%D7%94%D7%95%D7%9B%D7%97%D7%94_%D7%91%D7%90%D7%A4%D7%A1_%D7%99%D7%93%D7%A2">פרוטוקול אפס-ידע</a>; הפעם אדבר על משהו קצת שונה.</p>
<p>תזכורת קצרה לגבי מהי חבורת אוילר: אנו לוקחים את כל המספרים הטבעיים בין 0 ובין <span class="math">\(n\)</span> (לא כולל), כאשר <span class="math">\(n\)</span> הוא מספר טבעי כלשהו. אנו משנים קצת את הגדרת הכפל עבורם - כופלים שני מספרים כרגיל, אבל אחר כך מחלקים את התוצאה ב-<span class="math">\(n\)</span> ולוקחים את השארית. כך למשל עבור <span class="math">\(n=7\)</span>, נקבל תוצאה מוזרה כמו <span class="math">\(3\cdot 5=1\)</span>. כלומר, כאן 5 הוא ה"הופכי" של 3 - המכפלה של שניהם נותנת 1. במילים אחרות, בקבוצה הזו מתקיימת התכונה המשונה של <span class="math">\(5=3^{-1}\)</span></p>
<p>כדי שהקבוצה עם פעולת הכפל הזו תהיה זכאית למילה "<a href="http://he.wikipedia.org/wiki/%D7%97%D7%91%D7%95%D7%A8%D7%94_%28%D7%9E%D7%91%D7%A0%D7%94_%D7%90%D7%9C%D7%92%D7%91%D7%A8%D7%99%29">חבורה</a>", צריך לבצע סיכול ממוקד של חלק מאיבריה. הסיבה לכך היא ש"חבורה" הוא שם למבנה עם פעולת כפל שלכל איבר בה יש הופכי. לכן צריך להעיף מהקבוצה כל מספר שאין לו הופכי - ומתברר שלמספר אין הופכי אם ורק אם יש מחלק משותף גדול מ-1 לו ול-<span class="math">\(n\)</span> (נתתי רמז לגבי איך מוכיחים זאת בפוסט הקודם ההוא).</p>
<p>אם כן, יש לנו את חבורת אוילר. עבור מספר ראשוני p, חבורת אוילר מודולו p היא פשוטה במיוחד - כל המספרים הטבעיים (לא כולל אפס) שקטנים מ-p (למה?). מכיוון שיש כפל אפשר לדבר על שורש - למשל, אם נביט בחבורת אוילר מודולו 7, וניקח למשל את 3 ונעלה אותו בריבוע - נקבל את השארית של חלוקת 9 ב-7, כלומר 2. מכאן ששורש ריבועי אחד של 2 הוא 3. השורש השני הוא 4 (אתגר: איך גיליתי זאת מייד, בלי לחשב, רק מתוך הידיעה ששורש אחד של 2 הוא 3?), וניתן להוכיח שבאופן כללי, בחבורה מודולו ראשוני יהיו רק שני שורשים ולא יותר מכך (הסיבה לכך היא שהחבורה, אם מכניסים גם את 0 פנימה הופכת ל<a href="http://he.wikipedia.org/wiki/%D7%A9%D7%93%D7%94_%28%D7%9E%D7%91%D7%A0%D7%94_%D7%90%D7%9C%D7%92%D7%91%D7%A8%D7%99%29"><strong>שדה</strong></a> - אפשר להגדיר עליה פעולת חיבור ש"תסתדר טוב" עם הכפל - וזה לא נכון בחבורות אוילר שאינן מודולו ראשוני).</p>
<p>בדומה לכך שלא לכל המספרים הטבעיים יש שורש טבעי, כך גם ישנם איברים בחבורת אוילר בלי שורש (למשל - בחבורה מודולו 7, האם יש ל-3 שורש?). אפשר לבצע כאן הרחבה על ידי "הוספת" שורשים, בדומה לתהליך שכבר ראינו בעבר (עם בניית המרוכבים, למשל), אבל זה לא קשור לעניין שאני רוצה לעסוק בו. השאלה "האם לאיבר בחבורה יש שורש?" היא שאלה מעניינת בזכות עצמה, ואיבר שיש לו שורש שכזה זכה לשם מיוחד - "<a href="http://he.wikipedia.org/wiki/%D7%A9%D7%90%D7%A8%D7%99%D7%AA_%D7%A8%D7%99%D7%91%D7%95%D7%A2%D7%99%D7%AA">שארית ריבועית</a>" (שארית, כי אנו עוסקים בשאריות של חלוקה ב-n, וריבועית - כי היא ריבוע של איבר אחר).</p>
<p>הבדיקה האם איבר הוא שארית ריבועית מודולו ראשוני מסויים אינה קשה במיוחד, בזכות "<a href="http://he.wikipedia.org/wiki/%D7%9E%D7%A9%D7%A4%D7%98_%D7%94%D7%94%D7%93%D7%93%D7%99%D7%95%D7%AA_%D7%94%D7%A8%D7%99%D7%91%D7%95%D7%A2%D7%99%D7%AA">משפט ההדדיות הריבועית</a>" שהוכיח <a href="http://he.wikipedia.org/wiki/%D7%A7%D7%A8%D7%9C_%D7%A4%D7%A8%D7%99%D7%93%D7%A8%D7%99%D7%9A_%D7%92%D7%90%D7%95%D7%A1">גאוס</a> (אחד מהמשפטים האהובים עליו, אם לשפוט לפי זה שהוא כינה אותו "משפט הזהב" , ומצא לו שש הוכחות שונות). המשפט עצמו (ובפרט השימוש בו) הוא טכני למדי ולא אכנס אליו כעת - אולי בעתיד.</p>
<p>אז לבדוק האם למספר יש שורש (מודולו ראשוני) זה לא קשה. מה עם מציאת שורש שכזה? כאן אנחנו נכנסים למים עמוקים בהרבה. מסתבר שעבור חלק מהראשוניים, הוצאת שורש היא קלה מאוד - ממש טריוויאלית, ואילו עבור אחרים זה מסובך בהרבה. ההפרדה מתבצעת על פי השארית שהראשוני משאיר בחלוקה ב-4.</p>
<p>ראשית, נשים לב שהשארית הזו היא בהכרח 1 או 3, כי מספר אי זוגי שמחולק במספר זוגי משאיר שארית אי זוגית, וכל הראשוניים פרק ל-2 אי זוגיים (המקרה של 2 טריוויאלי ולא עוסקים בו). המקרה הפשוט הוא זה שבו השארית היא 3, והקשה הוא זה שבו היא 1. זו לא הדוגמה היחידה מתורת המספרים שבה הראשוניים מתחלקים באופן הזה: למשל, <a href="http://he.wikipedia.org/wiki/%D7%9E%D7%A9%D7%A4%D7%98_%D7%A4%D7%A8%D7%9E%D7%94_%D7%A2%D7%9C_%D7%A1%D7%9B%D7%95%D7%9D_%D7%A9%D7%9C_%D7%A9%D7%A0%D7%99_%D7%A8%D7%99%D7%91%D7%95%D7%A2%D7%99%D7%9D">משפט ידוע</a> ששיער <a href="http://he.wikipedia.org/wiki/%D7%A4%D7%99%D7%99%D7%A8_%D7%93%D7%94_%D7%A4%D7%A8%D7%9E%D7%94">פרמה</a> (והוכיח <a href="http://he.wikipedia.org/wiki/%D7%9C%D7%90%D7%95%D7%A0%D7%A8%D7%93_%D7%90%D7%95%D7%99%D7%9C%D7%A8">אוילר</a>) הוא שראשוני אי זוגי ניתן לכתיבה כסכום של שני ריבועים אם ורק אם הוא שקול ל-1 מודולו 4. (למשל, 13 ניתן להצגה כסכום הריבועים 4 ו-9, אבל לכו תציגו את 19 באופן דומה).</p>
<p>כדי להציג את הפתרון הפשוט במקרה שבו הראשוני שקול ל-3 מודולו 4, צריך לציין עובדה בסיסית על שאריות ריבועיות: אם <span class="math">\(a\)</span> הוא שארית ריבועית מודולו <span class="math">\(p\)</span>, אז מתקיים <span class="math">\(a^{\frac{p-1}{2}}=1\)</span> (השוויון הוא בחבורת אוילר המתאימה, כמובן). צריך לשים לב לכך ש-<span class="math">\(\frac{p-1}{2}\)</span> הוא מספר שלם, כי <span class="math">\(p\)</span> הוא כאמור אי זוגי, ולכן אם מפחיתים ממנו 1, מקבלים מספר זוגי (ולמה זה חשוב? כי בחבורת אוילר אין משמעות בדרך כלל לחזקה שאינה מספר שלם).<br />
הסיבה שבגללה התוצאה נכונה היא משפט אחר, "<a href="http://he.wikipedia.org/wiki/%D7%94%D7%9E%D7%A9%D7%A4%D7%98_%D7%94%D7%A7%D7%98%D7%9F_%D7%A9%D7%9C_%D7%A4%D7%A8%D7%9E%D7%94">המשפט הקטן של פרמה</a>", שאומר (בערך) שבחבורת אוילר מודולו <span class="math">\(p\)</span> ראשוני מתקיים תמיד, לכל מספר, ש-<span class="math">\(a^{p-1}=1\)</span>. לא אוכיח את המשפט כאן - עושים זאת בכל קורס סטנדרטי בתורת החבורות, אחרי היכרות כלשהי עם המשפטים והמושגים הבסיסיים (בהינתן שהם ידועים, ההוכחה מיידית - יישום מסקנה מ<a href="http://he.wikipedia.org/wiki/%D7%9E%D7%A9%D7%A4%D7%98_%D7%9C%D7%92%D7%A8%D7%90%D7%A0%D7%96%27_%28%D7%AA%D7%95%D7%A8%D7%AA_%D7%94%D7%97%D7%91%D7%95%D7%A8%D7%95%D7%AA%29">משפט לגראנז'</a> לחבורה הכפלית מודולו <span class="math">\(p\)</span>). למה זה מוכיח זאת? כי אם יש <span class="math">\(b\)</span> כך ש-<span class="math">\(b^2=a\)</span>, אז מתקבלת שרשרת המשוואות הבאה:</p>
<p><span class="math">\(a^{\frac{p-1}{2}}=(b^2)^{\frac{p-1}{2}}=b^{p-1}=1\)</span></p>
<p>עכשיו, הדרך למציאת שורש היא טריוויאלית. אם <span class="math">\(a\)</span> הוא שארית ריבועית מודולו <span class="math">\(p\)</span> ששקול ל-3 מודולו 4, אז בפרט <span class="math">\(p+1\)</span> מתחלק ב-4, ואז הברנש הבא הוא שורש: <span class="math">\(b=a^{\frac{p+1}{4}}\)</span>. למה? כי אם נעלה את <span class="math">\(b\)</span> בריבוע, נקבל:</p>
<p><span class="math">\(b^2=a^{\frac{p+1}{2}}=a\cdot a^{\frac{p-1}{2}}=a\cdot 1=a\)</span></p>
<p>והעניין הזה תם ונשלם.</p>
<p>עכשיו, אחרי שהתשתי אתכם עם המקרה הפשוט, אני יכול להגיד באלגנטיות "גם למקרה השני יש פתרון יעיל, הוא מסובך ולא אציג אותו מתוך רחמים עליכם". אלא שבפועל, גם אני לא ממש מכיר פתרון משביע רצון. אני מכיר פתרון יעיל אחד (מסובך יותר מהפתרון למקרה הפשוט, אבל לא כל כך נורא), אבל הוא <strong>הסתברותי</strong>. אמנם, הוא אלגוריתם הסתברותי מהסוג שמכונה "<a href="http://he.wikipedia.org/wiki/%D7%90%D7%9C%D7%92%D7%95%D7%A8%D7%99%D7%AA%D7%9D_%D7%90%D7%A7%D7%A8%D7%90%D7%99">אלגוריתם לאס-וגאס</a>" - אלגוריתם שתמיד עונה תשובה נכונה, והעוקץ במקרה שלו נובע מכך שקיימת הסתברות כלשהי שהוא לא יהיה יעיל (ייקח יותר מדי זמן). בפועל, כולם משתמשים בשיטה הזו ולא דווח על נפילות מטוסים. עם זאת, טהרנים כמוני עשויים לרצות אלגוריתם לא הסתברותי שכן יהיה יעיל - בחיפוש קצר מצאתי <a href="http://www.jstor.org/view/00255718/di970594/97p00836/0">מאמר</a> שטוען שעלה בידו לעשות זאת, אבל ההכרות שלי עם <a href="http://he.wikipedia.org/wiki/%D7%A2%D7%A7%D7%95%D7%9D_%D7%90%D7%9C%D7%99%D7%A4%D7%98%D7%99">עקומים אליפטיים</a> בפרט ותורת המספרים בכלל היא שטחית מכדי שאבדוק זאת בעצמי.</p>
<p>ומה עם הוצאת שורש מודולו <span class="math">\(n\)</span> כללי, לאו דווקא ראשוני? ואיך זה קשור לקריפטוגרפיה, חוץ מפרוטוקול אפס-הידע שכבר הראיתי? את זה נשאיר לפעם הבאה.</p>
        </article>
        
        <footer>
            <p>© כל הזכויות שמורות לגדי אלכסנדרוביץ'</p>
        </footer>
    </div>

    
    <script>
        function toggleMobileMenu() {
            const navLinks = document.getElementById('navLinks');
            navLinks.classList.toggle('expanded');
        }
        
        function searchPosts() {
            const searchTerm = document.getElementById('searchInput').value;
            if (searchTerm.trim()) {
                window.location.href = '/post_list.html?search=' + encodeURIComponent(searchTerm);
            }
        }
        
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchPosts();
            }
        });
    </script>
    
    
    <!-- Auto-render KaTeX math -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            renderMathInElement(document.body, {
                delimiters: [
                    {left: "\\[", right: "\\]", display: true},
                    {left: "\\(", right: "\\)", display: false}
                ],
                throwOnError: false
            });
        });
    </script>

</body>
</html>