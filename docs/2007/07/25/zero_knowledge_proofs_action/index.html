<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>על משת”פים ונבוטים בראש, והקשר שלהם להוכחות אפס-ידע - לא מדויק</title>
    <link rel="icon" type="image/x-icon" href="/new_site/favicon.ico">
    
    
    <!-- KaTeX for math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>

    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', 'David', 'Tahoma', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
        }
        
        /* Top navigation bar */
        .top-nav {
            background: #2c3e50;
            padding: 15px 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .top-nav .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
        }
        
        .top-nav .site-title {
            font-size: 1.5em;
            font-weight: bold;
            color: white;
            text-decoration: none;
            white-space: nowrap;
        }
        
        .top-nav .nav-links {
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .top-nav .nav-links a {
            color: #ecf0f1;
            text-decoration: none;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background 0.2s;
            white-space: nowrap;
        }
        
        .top-nav .nav-links a:hover {
            background: #34495e;
        }
        
        .top-nav .search-box {
            display: flex;
            gap: 5px;
        }
        
        .top-nav .search-box input {
            padding: 5px 10px;
            border: none;
            border-radius: 4px;
            font-size: 0.9em;
            min-width: 150px;
        }
        
        .top-nav .search-box button {
            padding: 5px 15px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .top-nav .search-box button:hover {
            background: #2980b9;
        }
        
        /* Blockquote styling */
        blockquote {
            background: #f9f9f9;
            border-right: 5px solid #ccc;
            margin: 1.5em 10px;
            padding: 0.75em 16px;
            position: relative;
            font-style: italic;
        }
        
        blockquote:before {
            content: '"';
            position: absolute;
            top: -10px;
            right: 8px;
            font-size: 3.5em;
            color: #ccc;
            line-height: 1;
        }
        
        blockquote p {
            display: block;
            margin: 0 0 0.75em 0;
        }
        
        blockquote p:last-child {
            margin-bottom: 0;
        }
        
        
        body {
            line-height: 1.8;
        }
        
        .container {
            max-width: 800px;
            margin: 20px auto;
            background: white;
            padding: 40px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
        }
        
        header {
            margin-bottom: 40px;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 20px;
        }
        
        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .post-meta {
            color: #7f8c8d;
            font-size: 0.9em;
        }
        
        .post-meta .date {
            margin-left: 15px;
        }
        
        .post-meta .categories,
        .post-meta .tags {
            display: inline;
        }
        
        .post-meta .categories a,
        .post-meta .tags a {
            color: #3498db;
            text-decoration: none;
            margin: 0 5px;
        }
        
        .post-meta .categories a:hover,
        .post-meta .tags a:hover {
            text-decoration: underline;
        }
        
        article {
            font-size: 1.1em;
        }
        
        article h2 {
            margin-top: 30px;
            margin-bottom: 15px;
            color: #34495e;
            font-size: 1.8em;
        }
        
        article h3 {
            margin-top: 25px;
            margin-bottom: 12px;
            color: #34495e;
            font-size: 1.4em;
        }
        
        article p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        article ul, article ol {
            margin-right: 30px;
            margin-bottom: 15px;
        }
        
        article li {
            margin-bottom: 8px;
        }
        
        article code {
            background-color: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        
        article pre {
            background-color: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin-bottom: 20px;
            direction: ltr;
            text-align: left;
        }
        
        article pre code {
            background-color: transparent;
            padding: 0;
            color: inherit;
        }
        
        /* Image styles - responsive and contained */
        article img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 20px auto;
        }
        
        /* Math rendering styles */
        .math {
            direction: ltr;
        }
        
        span.math {
            direction: ltr;
        }
        
        /* Override RTL for KaTeX */
        .katex {
            direction: ltr;
            unicode-bidi: embed;
        }
        
        div.math {
            display: block;
            text-align: center;
            padding: 15px 0;
            direction: ltr;
        }
        
        /* RTL adjustments for code blocks */
        .highlight {
            direction: ltr;
            text-align: left;
        }
        
        footer {
            margin-top: 60px;
            padding-top: 20px;
            border-top: 1px solid #e0e0e0;
            text-align: center;
            color: #95a5a6;
            font-size: 0.9em;
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2em;
            }
            
            article {
                font-size: 1em;
            }
        }
        
        /* Post navigation */
        .post-navigation {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #e0e0e0;
            gap: 20px;
        }
        
        .post-navigation .nav-link {
            flex: 1;
            text-decoration: none;
            color: #2c3e50;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 5px;
            transition: background 0.2s;
        }
        
        .post-navigation .nav-link:hover {
            background: #e9ecef;
        }
        
        .post-navigation .nav-prev {
            text-align: right;
        }
        
        .post-navigation .nav-next {
            text-align: left;
        }
        
        .post-navigation .nav-label {
            font-size: 0.85em;
            color: #7f8c8d;
            display: block;
            margin-bottom: 5px;
        }
        
        .post-navigation .nav-title {
            font-weight: bold;
            font-size: 1.1em;
        }

    </style>
</head>
<body>
    <nav class="top-nav">
        <div class="nav-container">
            <a href="/new_site/" class="site-title">לא מדויק</a>
            <div class="nav-links">
                <a href="/new_site/">דף הבית</a>
                <a href="/new_site/random.html">פוסט אקראי</a>
                <a href="/new_site/post_list.html">כל הפוסטים</a>
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="חיפוש...">
                    <button onclick="searchPosts()">חפש</button>
                </div>
            </div>
        </div>
    </nav>
    
    
    <div class="container">
        <!-- Post Navigation -->
        
        <nav class="post-navigation">
            
            <a href="/new_site/2007/07/21/zero_knowledge_proofs_intro/" class="nav-link nav-prev">
                <span class="nav-label">פוסט ישן יותר →</span>
                <span class="nav-title">מוכיחים את הלא נודע</span>
            </a>
            

            
            <a href="/new_site/2007/07/31/fiat_shamir_intro/" class="nav-link nav-next">
                <span class="nav-label">← פוסט חדש יותר</span>
                <span class="nav-title">שורש, ההוכחה (חלק א’)</span>
            </a>
            
        </nav>
        
        
        <header>
            <h1>על משת”פים ונבוטים בראש, והקשר שלהם להוכחות אפס-ידע</h1>
            <div class="post-meta">
                <span class="date">2007-07-25</span>
                
                <span class="categories">
                    | קטגוריות:
                    
                    <a href="/categories/קריפטולוגיה.html">קריפטולוגיה</a>
                    
                    <a href="/categories/תורת הסיבוכיות.html">תורת הסיבוכיות</a>
                    
                </span>
                
                
            </div>
        </header>
        
        <article>
            <p>בפוסט הקודם הצגתי הוכחות אפס-ידע תוך נסיון להתחמק מהפרטים הטכניים. הפעם ובפעם הבאה אנסה להציג גם את הפרטים הללו, תוך סיכון ממשי לאבד את שני הקוראים שעדיין מצליחים לעקוב. ארצה לעשות שני דברים: להסביר באופן כללי מה הרעיון שמאחורי ההגדרה הפורמלית של הוכחה באפס-ידע, וכיצד "עובדת" מערכת ההוכחה שהצגתי בפעם הקודמת ועוסקת בהוצאת שורש ריבועי בחבורה כפלית מודולו n.</p>
<p>אז ראשית, כיצד ניתן להראות באופן פורמלי שמערכת הוכחה היא אפס-ידע? כיצד ניתן לפרמל את המושג של "המוודא לא מגלה שום דבר חדש תוך כדי ההוכחה, פרט לדבר שמנסים להוכיח"? התשובה היא שהוכחה נחשבת הוכחת אפס-ידע אם אפשר "לזייף" אותה בצורה שתצליח לשטות במי שצופה בה מן הצד.</p>
<p>המחשה נפלאה לבעייתיות מצבו של "הצופה מן הצד" סיפק המרצה שלי לקריפטוגרפיה שהציג בפנינו קטע מראיון עם הפסנתרן והמנצח <a href="http://he.wikipedia.org/wiki/%D7%93%D7%A0%D7%99%D7%90%D7%9C_%D7%91%D7%90%D7%A8%D7%A0%D7%91%D7%95%D7%99%D7%9D">דניאל בארנבוים</a>. בארנבוים נודע בכך שהוא זוכר בעל פה את יצירותיהם של מוצארט, בטהובן וברהמס. המראיין החליט "לבחון" אותו, וביקש ממנו לנגן יצירה אחת או שתיים, ובארנבוים עשה זאת בהצלחה, אך ליגלג: "האם נראה לך שהצופים לא יחשבו שנתת לי את השאלות מראש?"</p>
<p>ואכן, זו בדיוק הבעייתיות, שמצביעה על החשיבות של ה<strong>אינטראקטיביות</strong> בהוכחה. סתם לראות את בארנבוים מנגן שתי יצירות לא ישכנע אותנו שהוא זוכר את כל היצירות של מוצארט בעל פה; מה שמשכנע אותנו הוא הידיעה ששתי היצירות הללו נבחרו באקראי, ומבלי שבארנבוים יהיה מסוגל להתכונן אליהן מראש. אנחנו חושבים "באותה המידה ששתי היצירות הללו נבחרו, יכלו להיבחר אחרות; ואם בארנבוים לא יודע לנגן הכל, קרוב לודאי שהוא היה נופל". אלא שכאמור, אין לנו שום שיכנוע מוחלט בכך. אם בארנבוים והמראיין אכן חברו כדי להונות את הצופים, הם יכלו לעשות זאת בקלות.</p>
<p>מתי אפשר לתפוס את בארנבוים בשקר? אם הוא מתחיל לחזור על עצמו. נניח שכעבור שנה אנו רואים עוד ראיון עם בארנבוים (לא היה ולא נברא, אבל נניח), ובו עושים לו את אותו ה"מבחן", ושואלים אותו בדיוק על <strong>אותן</strong> יצירות - אז כבר נרגיש שמשהו מסריח פה. הדבר דומה לפרשיית "מלחמות היהודים" ומשה קצב, ששייכת לימים שבהם טרם נקשר שמו של קצב לפרשיות "בוגרות" יותר - בראיון חגיגי לרגל ראש השנה (או משהו בסגנון) נשאל קצב מה הספר שמונח כעת לצד מיטתו, וענה "מלחמות היהודים", כיאה לנשיא משכיל ומחובר לשורשיו. כעבור מספר שנים, בראיון דומה, הוא נשאל את אותה השאלה, וענה את אותה התשובה... כמובן שלא הוגן ללעוג לנשיא שעיסוקיו הרבים מונעים ממנו להתקדם בספר שהוא ממילא עב כרס, ולכן הדוגמה הזו היא בגדר אסוציאציה אישית שלי בלבד.</p>
<p>אם כן, הוכחה היא הוכחת אפס-ידע אם אפשר "לזייף" אותה מבלי שהיא תיפול בצורה דומה לזו שלעיל. חשוב להבהיר שב"זיוף" איני מתכוון דווקא ל"אפשר להוכיח שמשהו שגוי הוא נכון" - כי שוב, ההוכחה מיועדת לשכנע רק את המוודא, ולא אף מתבונן מהצד - אלא גם למצב שבו המוכיח אולי מנסה להוכיח משהו נכון, אבל פשוט אין לו את הידע הנוסף או כוח החישוב הנוסף שיש למוכיח בדרך כלל. למשל: בהינתן גרף עם 3-צביעה, מנסים לזייף פרוטוקול הוכחה בצורה כזו שיראה למתבונן מהצד שהמוכיח אכן מוכיח בצורה משכנעת למוודא שהוא מכיר את 3 הצביעה הזו, למרות שבפועל המוכיח לא יודע כלום.</p>
<p>ל"מוכיח" כזה קוראים <strong>סימולטור</strong>. הגדרתו הפורמלית של סימולטור היא מסובכת למדי ולא אוכל להציג את כולה, אבל הרעיון הוא כזה: סימולטור הוא ברנש שתפקידו, בהינתן מקרה כלשהו שבו מערכת ההוכחה אמורה לטפל, ליצור "תעתיק" של פרוטוקול ההוכחה (כלומר, מי אמר מה למי) שייראה אמין לצופה מן הצד, כש"אמין" פירושו שגם אם יבקשו מהסימולטור שוב ושוב ליצור פרוטוקול, הוא יצור אותם בהתפלגות זהה לזו של פרוטוקול "אמיתי", שבו המוודא ממציא את השאלות שלו באקראי.</p>
<p>במקרה של בארנבוים, הנה דוגמה לסימולטור לא מוצלח במיוחד: בארנבוים עצמו שולט על צוותי הצילום של התוכנית, ובכל פעם שבה המראיין מבקש ממנו לנגן יצירה שהוא לא יודע, הוא רץ אליו, מחטיף לו מהלומה בראש בעזרת נבוט, צועק על צוות הצילום שיזרוק את הסרט הנוכחי לעזאזל, מעיר את המראיין (שלא זוכר כלום ממה שקרה כרגע), ומבקש ממנו שוב שיתן לו אתגר. אחרי כמה חזרות על הפרוצדורה הזו תהיה לבארנבוים קלטת וידאו שבה מראים את המראיין שואל אותו כמה שאלות, אקראיות לכאורה, ובארנבוים מנגן אותן בהצלחה. אם נבוא מחר לבארנבוים ונבקש ממנו עוד קלטת הוא יוכל לרוץ ולהכין חדשה בצורה דומה. הבעיה מתחילה אם הוא יודע לנגן אך ורק את אותן חמש יצירות - אם המראיין יבקש ממנו משהו אחר, בארנבוים ייאלץ "לאתחל" את השאלה שוב ושוב, ובסופו של דבר יגמור עם קלטת דומה לקודמת, וכל אחד יזהה את הזיוף. אפילו אם בארנבוים מכיר מגוון רחב של יצירות, מי שיבקש ממנו קלטות רבות יתחיל לחשוד, כשישים לב שיש יצירות מסויימות של מוצארט שהמראיין אף פעם לא שואל עליהן, ואילו יצירות אחרות חוזרות שוב ושוב.</p>
<p>המגבלה העיקרית שמושתת על הסימולטור היא הדרישה שמבחינה חישובית הוא לא יהיה חזק יותר מהמוודא - כלומר, אין לו את הידע הנוסף של המוכיח, וגם אין לו זמן "לאתחל" (נבוט בראש, החרמת סרט הצילום, וכו') את השאלה של המוודא שוב ושוב עד שתגיע שאלה מוצלחת.</p>
<p>חשוב לציין שוב - מושג הסימולטור הוא מושג קשה ומורכב יחסית, ולא הצגתי אותו כאן בצורה מדוייקת כלל. המטרה שלי היא בעיקר לתת "תחושה" של המושג (וככל הנראה, זוהי בעיקר תחושתי הסובייקטיבית), ולכן יש לנהוג במשנה זהירות.</p>
<p>בואו נעבור להדגמה של סימולטורים לשני הפרוטוקולים שכבר ראינו: זה של איפה אפי, וזה של ה-3-צביעה.</p>
<p>סימולטור למקרה של איפה אפי הוא קל. הסימולטור יציג לנו קלטת וידאו "מבושלת", שבה המוודא (שהוא בעצם משת"ף שנשכר על ידי הסימולטור תמורת בצע כסף) מציג בפני ה"מוכיח" את התמונה שבה יש לחפש את אפי, והמוכיח שם עליה את הנייר הגדול עם החור בתוכו, ומפנה את המצלמה הצידה לרגע (כמו שקורה תמיד בהוכחה הזו, שבה גם למוודא אסור להסתכל בשלב הזה). כשאף אחד לא יסתכל, המוכיח הרמאי ישלוף מכיסו תמונה של אפי, יכניס אותה בזריזות מתחת לחור, ויציג את התוצאה בגאווה למוודא. היכן ההבדל בין זה ובין הוכחה "אמיתית" שבהוכחה אמיתית המוודא יערוך חיפוש גופני מלא על המוכיח, ואילו במקרה שלנו אמנם המוודא יעשה חיפוש דומה לעיני המצלמה, אולם מכיוון שהסימולטור שכר אותו לצורך "בישול" הקלטת, למרות שהמוודא ישים לב למשהו חשוד בכיס של המוכיח הוא לא יגיד על כך מאומה. צופה מן הצד שמביט בקלטת לא יוכל להבדיל בין הסיטואציה הזו לסיטואציית הוכחה "אמיתית", שבה המוודא כן מחפש רמאויות ופשוט לא מוצא.</p>
<p>גם הסימולטור לבעית ה-3-צביעה אינו מסובך במיוחד. גם כאן הסימולטור ישתמש במוודא משת"ף. הוא יבקש מהמוודא לבחור צמתים באקראי מהגרף כפי שעושה כל מוודא אחר, אבל לאחר שהמוודא יבחר, הסימולטור יעצור לרגע את ההקלטה, ירים את הכיסוי של הצמתים, יחשוף שמתחתיו אין לצמתים צבע בכלל, יצבע את שניהם בצבעים שונים באופן אקראי, יחזיר את הכיסוי ויתחיל מחדש את ההקלטה (יסיר את הכיסוי ויחשוף "למרבה הפלא" שני צמתים הצבועים בצבעים שונים). המוודא המשת"ף יראה את כל הפרוצדורה הזו לנגד עיניו ולא יצייץ. התוצאה? קלטת וידאו שנראית כמו פרוטוקול אמיתי, תודות ליכולות העריכה של הסימולטור.</p>
<p>כל זה נשמע קצת מגוחך. קלטות וידאו, נבוט בראש, מוודא משת"ף - מה לאלו ולמתמטיקה? האמת היא שההבדל קטן ממה שניתן לחשוב. סימולטור מנוסח בפורמליזם מתמטי מדוייק של מכונות חישוב, אולם הפעולות שהוא נוקט בהן דומות מאוד לאלו שתיארתי לעיל: הוא מייצר "תעתיק" של הפרוטוקול שהוא פשוט טקסט ארוך שמתאר את ההודעות שנשלחו מהמוודא למוכיח ולהפך - זו קלטת הוידאו, והוא מסוגל לערוך אותו כרצונו, העיקר שהתוצאה תהיה משביעת רצון מבחינת המתבונן מן הצד. הנבוט בראש גם הוא ניתן לפורמליזם: הסימולטור מפעיל את מכונת החישוב של המוודא, ואם היא לא נתנה לו את התוצאה שהוא התעניין בה, הוא מאתחל אותה ומפעיל אותה מחדש. גם המוודא המשת"ף הוא בסך הכל דרך ציורית לתיאור העובדה שבפרוטוקול שהסימולטור מייצר הוא רשאי לכתוב מה שבא לו בתור דברי המוודא - כל עוד זה ייראה אמין - ולכן אפשר לחשוב שיש מוודא "עושה דברו" שמשתתף ביצירת התעתיק.</p>
<p>אבל רגע לפני הסוף, עולה השאלה הבסיסית - למה בעצם הוכחה שבה יש סימולטור שכזה היא הוכחה באפס-ידע? התשובה טמונה במגבלה של הסימולטור: כזכור, הוא אינו חזק יותר מהמוודא מבחינה חישובית. אם במהלך הוכחה נחשף למוודא פריט ידע שלא היה לו קודם (כלומר, משהו שלמוודא <strong>בלתי אפשרי לחשב</strong>) - וזה המאפיין של הוכחות שאינן אפס-ידע - הרי שגם בתעתיק של הוכחה מזוייפת יש לצפות שפריט הידע הזה יופיע. אלא שסימולטור, כאמור, אינו מסוגל לייצר פריט שכזה - אחרת גם המוודא היה יכול ואז לא היה נכון לומר שפריט הידע הזה לא היה קיים אצל המוודא כבר קודם.<br />
בפעם הבאה: קץ לנפנופי הידיים: תיאור פורמלי ומדוייק עד הסוף של מערכת הוכחה באפס-ידע - במקרה הזה, זו שדיברתי עליה כבר בפעם הקודמת, עם הוצאת השורש מודולו n.</p>
        </article>
        
        <footer>
            <p>© כל הזכויות שמורות לגדי אלכסנדרוביץ'</p>
        </footer>
    </div>

    
    <script>
        function searchPosts() {
            const searchTerm = document.getElementById('searchInput').value;
            if (searchTerm.trim()) {
                window.location.href = '/new_site/post_list.html?search=' + encodeURIComponent(searchTerm);
            }
        }
        
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchPosts();
            }
        });
    </script>
    
    
    <!-- Auto-render KaTeX math -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            renderMathInElement(document.body, {
                delimiters: [
                    {left: "\\[", right: "\\]", display: true},
                    {left: "\\(", right: "\\)", display: false}
                ],
                throwOnError: false
            });
        });
    </script>

</body>
</html>