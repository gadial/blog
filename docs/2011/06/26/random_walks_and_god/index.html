<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>מהמרים כושלים, שיכורים בביוב, ואלוהים - לא מדויק</title>
    <link rel="icon" type="image/x-icon" href="/new_blog/favicon.ico">
    
    
    <!-- KaTeX for math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>

    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', 'David', 'Tahoma', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
        }
        
        /* Top navigation bar */
        .top-nav {
            background: #2c3e50;
            padding: 15px 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .top-nav .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
        }
        
        .top-nav .site-title {
            font-size: 1.5em;
            font-weight: bold;
            color: white;
            text-decoration: none;
            white-space: nowrap;
        }
        
        .top-nav .nav-links {
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .top-nav .nav-links a {
            color: #ecf0f1;
            text-decoration: none;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background 0.2s;
            white-space: nowrap;
        }
        
        .top-nav .nav-links a:hover {
            background: #34495e;
        }
        
        .top-nav .search-box {
            display: flex;
            gap: 5px;
        }
        
        .top-nav .search-box input {
            padding: 5px 10px;
            border: none;
            border-radius: 4px;
            font-size: 0.9em;
            min-width: 150px;
        }
        
        .top-nav .search-box button {
            padding: 5px 15px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .top-nav .search-box button:hover {
            background: #2980b9;
        }
        
        /* Mobile responsive */
        @media (max-width: 768px) {
            .top-nav .nav-container {
                flex-direction: column;
                align-items: stretch;
            }
            
            .top-nav .site-title {
                text-align: center;
                margin-bottom: 10px;
            }
            
            .top-nav .nav-links {
                flex-direction: column;
                width: 100%;
            }
            
            .top-nav .nav-links a {
                text-align: center;
                padding: 8px;
            }
            
            .top-nav .search-box {
                width: 100%;
                flex-direction: column;
            }
            
            .top-nav .search-box input {
                width: 100%;
                margin-bottom: 5px;
                min-width: 0;
            }
            
            .top-nav .search-box button {
                width: 100%;
            }
        }
        
        /* Blockquote styling */
        blockquote {
            background: #f9f9f9;
            border-right: 5px solid #ccc;
            margin: 1.5em 10px;
            padding: 0.75em 16px;
            position: relative;
            font-style: italic;
        }
        
        blockquote:before {
            content: '"';
            position: absolute;
            top: -10px;
            right: 8px;
            font-size: 3.5em;
            color: #ccc;
            line-height: 1;
        }
        
        blockquote p {
            display: block;
            margin: 0 0 0.75em 0;
        }
        
        blockquote p:last-child {
            margin-bottom: 0;
        }
        
        
        body {
            line-height: 1.8;
        }
        
        .container {
            max-width: 800px;
            margin: 20px auto;
            background: white;
            padding: 40px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
        }
        
        header {
            margin-bottom: 40px;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 20px;
        }
        
        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .post-meta {
            color: #7f8c8d;
            font-size: 0.9em;
        }
        
        .post-meta .date {
            margin-left: 15px;
        }
        
        .post-meta .categories,
        .post-meta .tags {
            display: inline;
        }
        
        .post-meta .categories a,
        .post-meta .tags a {
            color: #3498db;
            text-decoration: none;
            margin: 0 5px;
        }
        
        .post-meta .categories a:hover,
        .post-meta .tags a:hover {
            text-decoration: underline;
        }
        
        article {
            font-size: 1.1em;
        }
        
        article h2 {
            margin-top: 30px;
            margin-bottom: 15px;
            color: #34495e;
            font-size: 1.8em;
        }
        
        article h3 {
            margin-top: 25px;
            margin-bottom: 12px;
            color: #34495e;
            font-size: 1.4em;
        }
        
        article p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        article ul, article ol {
            margin-right: 30px;
            margin-bottom: 15px;
        }
        
        article li {
            margin-bottom: 8px;
        }
        
        article code {
            background-color: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        
        article pre {
            background-color: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin-bottom: 20px;
            direction: ltr;
            text-align: left;
        }
        
        article pre code {
            background-color: transparent;
            padding: 0;
            color: inherit;
        }
        
        /* Image styles - responsive and contained */
        article img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 20px auto;
        }
        
        /* Math rendering styles */
        .math {
            direction: ltr;
        }
        
        span.math {
            direction: ltr;
        }
        
        /* Override RTL for KaTeX */
        .katex {
            direction: ltr;
            unicode-bidi: embed;
        }
        
        /* Force KaTeX content to wrap by overriding its internal structure */
        .katex-html {
            display: inline !important;
            white-space: normal !important;
        }
        
        .katex .base {
            display: inline !important;
            white-space: normal !important;
        }
        
        .katex .mord,
        .katex .mbin,
        .katex .mrel,
        .katex .mopen,
        .katex .mclose,
        .katex .mpunct,
        .katex .minner {
            display: inline !important;
            white-space: normal !important;
        }
        
        div.math {
            display: block;
            text-align: center;
            padding: 15px 0;
            direction: ltr;
        }
        
        /* RTL adjustments for code blocks */
        .highlight {
            direction: ltr;
            text-align: left;
        }
        
        footer {
            margin-top: 60px;
            padding-top: 20px;
            border-top: 1px solid #e0e0e0;
            text-align: center;
            color: #95a5a6;
            font-size: 0.9em;
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2em;
            }
            
            article {
                font-size: 1em;
            }
        }
        
        /* Post navigation */
        .post-navigation {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #e0e0e0;
            gap: 20px;
        }
        
        .post-navigation .nav-link {
            flex: 1;
            text-decoration: none;
            color: #2c3e50;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 5px;
            transition: background 0.2s;
        }
        
        .post-navigation .nav-link:hover {
            background: #e9ecef;
        }
        
        .post-navigation .nav-prev {
            text-align: right;
        }
        
        .post-navigation .nav-next {
            text-align: left;
        }
        
        .post-navigation .nav-label {
            font-size: 0.85em;
            color: #7f8c8d;
            display: block;
            margin-bottom: 5px;
        }
        
        .post-navigation .nav-title {
            font-weight: bold;
            font-size: 1.1em;
        }

    </style>
</head>
<body>
    <nav class="top-nav">
        <div class="nav-container">
            <a href="/new_blog/" class="site-title">לא מדויק</a>
            <div class="nav-links">
                <a href="/new_blog/">דף הבית</a>
                <a href="/new_blog/random.html">פוסט אקראי</a>
                <a href="/new_blog/post_list.html">כל הפוסטים</a>
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="חיפוש...">
                    <button onclick="searchPosts()">חפש</button>
                </div>
            </div>
        </div>
    </nav>
    
    
    <div class="container">
        <!-- Post Navigation -->
        
        <nav class="post-navigation">
            
            <a href="/new_blog/2011/06/19/secretary_problem/" class="nav-link nav-prev">
                <span class="nav-label">פוסט ישן יותר →</span>
                <span class="nav-title">בעיית המזכירה, ואיך זה קשור למספרים הרמוניים</span>
            </a>
            

            
            <a href="/new_blog/2011/06/29/partitions_and_ramanujan/" class="nav-link nav-next">
                <span class="nav-label">← פוסט חדש יותר</span>
                <span class="nav-title">חלוקות וההשערה של רמנוג&#39;אן</span>
            </a>
            
        </nav>
        
        
        <header>
            <h1>מהמרים כושלים, שיכורים בביוב, ואלוהים</h1>
            <div class="post-meta">
                <span class="date">2011-06-26</span>
                
                <span class="categories">
                    | קטגוריות:
                    
                    <a href="/categories/הסתברות.html">הסתברות</a>
                    
                    <a href="/categories/מתמטיקה בראי התקשורת.html">מתמטיקה בראי התקשורת</a>
                    
                </span>
                
                
                <span class="tags">
                    | תגיות:
                    
                    <a href="/tags/התרוששות המהמר.html">התרוששות המהמר</a>
                    
                    <a href="/tags/נוסחאות נסיגה.html">נוסחאות נסיגה</a>
                    
                    <a href="/tags/שרשראות מרקוב.html">שרשראות מרקוב</a>
                    
                    <a href="/tags/תוצאות לא אינטואיטיביות.html">תוצאות לא אינטואיטיביות</a>
                    
                </span>
                
            </div>
        </header>
        
        <article>
            <p>הטריגר לפוסט הזה הוא המאמר <a href="http://www.ynet.co.il/articles/0,7340,L-4086098,00.html">הבא</a> ב-Ynet שמנסה לשכנע אותנו שיש אלוהים <strong>בגלל</strong> שיש אבולוציה. אבל נחכה עם החלק הלא מתמטי לסוף - הסיבה שאני כותב את הפוסט הזה היא שהוא מזכיר שם תוצאה מתמטית קטנה ונחמדה שהיא פתח לתחום מעניין או שניים ומזמן רציתי לכתוב עליה. התוצאה הזו נקראת לעתים "התרוששות המהמר" (Gambler's Ruin), אף כי לא תמיד קוראים לה כך, ולפעמים קוראים בשם "התרוששות המהמר" גם לדברים אחרים.</p>
<p>במה העניין? נניח שאתם נכנסים לקזינו הוגן. "הוגן", במובן זה שהסיכוי שלכם להרוויח בסיבוב כלשהו זהה לסיכוי שלכם להפסיד בו. ואתם מהמרים ומהמרים כאילו אין מחר. ונניח גם שהקזינו לא יכול להתרושש אף פעם - לא משנה איזה סכום תרוויחו, יש לו כיסוי לכך. המסקנה המתמטית: אתם הולכים להתרושש, ובגדול. מובטח לכם, בהסתברות של 100 אחוז, שאם תהמרו לעד, בסוף תפסידו הכל.</p>
<p>אותי התוצאה הזו הפתיעה למדי, אבל אני משער שלחלקכם היא מרגישה מובנת מאליה - מי שמהמר עד אינסוף, ברור שיפסיד הכל בסופו של דבר, לא? אלא שגם האינטואיציה הזו לא נכונה, כי אם הקזינו מוטה לטובתכם, ואפילו אם זה אומר רק שיש לכם הסתברות של 51 לזכות בכל סיבוב, הרי שיש לכם סיכוי כלשהו להמשיך עם משחק ההימורים לנצח מבלי להפסיד הכל. אבל בקזינו הוגן (וגם, כצפוי, קזינו שמוטה לרעתכם, כפי שקורה במציאות) מובטח לכם להפסיד.</p>
<p>נשאלת השאלה, איך מוכיחים את זה מתמטית, ואפילו איך ממדלים את זה. לצורך פשטות נניח שבכל הימור אתם מרוויחים או מפסידים שקל, בהסתברות <span class="math">\(p\)</span> (כאשר הקזינו הוגן, <span class="math">\(p=\frac{1}{2}\)</span>). אז אפשר למדל את הסיטואציה הזו בתור <strong>הילוך אקראי</strong> - הילוך שכזה הוא סדרה של "מצבים", שמכל אחד מהם עוברים באופן אקראי למצב הבא בתור. כאן כל מצב מאופיין על ידי כמות הכסף שלנו, כלומר יש מצב לכל מספר טבעי (מצב מס' 0 הוא זה שבו יש לנו אפס שקלים, מצב מס' 1 הוא זה שבו יש לנו שקל אחד וכדומה). אם אנחנו במצב <span class="math">\(n\)</span>, אז בהסתברות חצי אנו עוברים למצב <span class="math">\(n-1\)</span> ובהסתברות חצי למצב <span class="math">\(n+1\)</span>. המצב החריג היחיד הוא מצב 0, שממנו אין שום יציאה, אבל ממילא לא נתעניין בגורל הילוך מקרי מרגע שהוא כבר הגיע למצב 0, אלא רק בהסתברות שלו להגיע למצב 0 אם הוא התחיל במקום אחר.</p>
<p>כרגיל, אנחנו רק מגרדים פה את קצה הקרחון של תורה עמוקה יותר. באופן כללי סיטואציה כזו, שבה אנחנו נמצאים בתוך אחד מבין קבוצה של "מצבים", ובוחרים באקראי את המצב הבא על פי הגרלה שתלויה אך ורק במצב הנוכחי שלנו (להבדיל מהגרלה שתלויה גם ב"היסטוריה" שלנו - למשל, המצב שבו היינו מייד לפני המצב הנוכחי) - נקראת <strong>שרשרת מרקוב</strong> (ליתר דיוק - שרשרת מרקוב בדידה בזמן בדיד, אבל נעזוב את זה). לשרשראות מרקוב תורה יפה וכללית משלהן, שלא אציג כאן. אציג רק את המשפט שרלוונטי לענייננו, זה שנוגע ל"זמני פגיעה" במצבים.</p>
<p>מרקוב אומר - קחו שרשרת. וכעת קחו קבוצת מצבים <span class="math">\(A\)</span>, שאתם רוצים לדעת מה ההסתברות "לפגוע" בהם אם התחלתם ממצב <span class="math">\(i\)</span> כלשהו. נסמן ב-<span class="math">\(h_{i}^{A}\)</span> את ההסתברות הזו (לפגוע ב-<span class="math">\(A\)</span> מתישהו אם התחלתם מ-<span class="math">\(i\)</span>). ברור ש-<span class="math">\(h_{i}^{A}=1\)</span> אם <span class="math">\(i\in A\)</span>; ולא קשה לראות שעבור <span class="math">\(i\notin A\)</span> צריך להתקיים <span class="math">\(h_{i}^{A}=\sum_{j}p_{ij}h_{j}^{A}\)</span> כאשר <span class="math">\(p_{ij}\)</span> הוא ההסתברות לעבור מהמצב <span class="math">\(i\)</span> למצב <span class="math">\(j\)</span> (הסתברות שיכולה להיות גם 0).</p>
<p>את ה"לא קשה לראות" הזה כדאי להסביר עוד קצת. בפוסט הקודם, שעסק בבעיית המזכירה, השתמשתי בנוסחת ההסתברות השלמה; גם כאן הנוסחה שלעיל היא פשוט שימוש בנוסחת ההסתברות השלמה, כאשר האירועים שמחלקים את המרחב שלנו הם מהצורה "מ-<span class="math">\(i\)</span> אני אעבור אל <span class="math">\(j\)</span>". אם כבר ידוע שעברת ל-<span class="math">\(j\)</span>, אז ההסתברות שתפגע ב-<span class="math">\(A\)</span> היא בדיוק ההסתברות <span class="math">\(h_{j}^{A}\)</span> - ההסתברות שתפגע ב-<span class="math">\(A\)</span> אם אתה מתחיל מ-<span class="math">\(j\)</span>. כאן אני משתמש בצורה חזקה בכך שלשרשרת מרקוב אין זכרון, ולכן ההסתברות שלך לפגוע ב-<span class="math">\(A\)</span> אם <strong>עברת</strong> אל <span class="math">\(j\)</span> זהה להסתברות שלך לפגוע ב-<span class="math">\(A\)</span> אם <strong>התחלת</strong> ב-<span class="math">\(j\)</span> - אין חשיבות להיסטוריה.</p>
<p>יופי. כעת בא מרקוב ואומר שהפתרון האי שלילי המינימלי למערכת המשוואות שנתנו עבור ה-<span class="math">\(h_{i}^{A}\)</span> הוא גם מה שקורה בפועל בשרשרת. זו לא טענה טריוויאלית לחלוטין וההוכחה שלה טיפה טכנית ולכן לא אציג אותה כרגע, אבל היא מן הסתם נמצאת בכל ספר לימוד בנושא (אני מקווה...). בואו נעבור ליישם אותה על המקרה שלנו.</p>
<p>במקרה שלנו, הנוסחה יוצאת פשוטה למדי. ראשית, <span class="math">\(A\)</span> תכיל רק את מצב מס' 0, ונרשום <span class="math">\(h_{i}\)</span> בלי ה-<span class="math">\(A\)</span> למעלה כי זה סתם מיותר. כעת, מערכת המשוואות שלנו כוללת רק משוואות מהצורה הבאה: <span class="math">\(h_{i}=ph_{i+1}+qh_{i-1}\)</span>, כאשר <span class="math">\(p\)</span> הוא ההסתברות לנצח בהימור של הסיבוב הנוכחי ולהרוויח שקל אחד ו-<span class="math">\(q\)</span> היא ההסתברות להפסיד. מכיוון שאו שמנצחים או שמפסידים, <span class="math">\(p+q=1\)</span>. כמו כן, <span class="math">\(h_{0}=1\)</span>, כמובן.</p>
<p>אם נרשום את המשוואה שלמעלה בצורה טיפה שונה, נקבל <span class="math">\(ph_{i+1}=h_{i}-qh_{i-1}\)</span>. זוהי <strong>נוסחת נסיגה</strong>, ואנחנו יודעים לפתור נוסחאות כאלו בקלות עוד <a href="http://www.gadial.net/2009/07/01/finding_fibonacci_formula/">מימי פיבונאצ'י העליזים בבלוג</a>. בואו נזכיר את הרעיון בקצרה - בהינתן משוואת נסיגה <span class="math">\(a_{n}=\alpha a_{n-1}+\beta a_{n-2}\)</span> אנחנו "מנחשים" (ניחוש מושכל, כמובן) שיש למשוואה פתרון מהצורה <span class="math">\(h_{n}=\lambda^{n}\)</span>, מציבים את הפתרון בנוסחת הנסיגה, מקבלים <span class="math">\(\lambda^{n}=\alpha\lambda^{n-1}+\beta\lambda^{n-2}\)</span>, מחלקים ב-<span class="math">\(\lambda^{n-2}\)</span> (תוך הנחה ש-<span class="math">\(\lambda\ne0\)</span> אחרת הפתרון "לא מעניין") ומקבלים משוואה ריבועית <span class="math">\(\lambda^{2}=\alpha\lambda+\beta\)</span>. למשוואה הזו אנחנו מוצאים את שני הפתרונות <span class="math">\(\lambda_{1},\lambda_{2}\)</span> שנותנים לנו שני פתרונות לנוסחת הנסיגה, ואז קורה קסם - מתברר שכל פתרון אחר למשוואה ניתן לכתיבה כצירוף לינארי של שניהם, כלומר <span class="math">\(a_{n}=A\lambda_{1}^{n}+B\lambda_{2}^{n}\)</span> הוא פתרון כללי לנוסחת הנסיגה. כל שנותר לעשות הוא להציב את תנאי ההתחלה של המשוואה כדי לגלות את ערכם של הקבועים <span class="math">\(A,B\)</span>.</p>
<p>אז זו התיאוריה הכללית, והיא עבדה נפלא במקרה של פיבונאצ'י. במקרה שלנו תכף נראה שנצטרך להיות טיפה יותר מתוחכמים.</p>
<p>ראשית, מהי המשוואה הריבועית שמתקבלת מהנוסחה <span class="math">\(ph_{i+1}=h_{i}-qh_{i-1}\)</span>? אחרי העברת אגפים והצבה וחלוקה וכל זה נקבל <span class="math">\(p\lambda^{2}-\lambda+q=0\)</span>. פתרון על פי נוסחת השורשים מניב <span class="math">\(\lambda_{1,2}=\frac{1\pm\sqrt{1-4pq}}{2p}\)</span> שלא נראה יפה במיוחד. מה עושים?</p>
<p>ובכן, ידוע לנו ש-<span class="math">\(p+q=1\)</span>, בואו נשתמש בזה! אפשר להעלים את <span class="math">\(q\)</span> לחלוטין מהתמונה על ידי ההצבה <span class="math">\(q=1-p\)</span>, ואז לקבל מתחת לשורש את הביטוי <span class="math">\(1-4p\left(1-p\right)\)</span>, ששווה ל-<span class="math">\(4p^{2}-4p+1\)</span>, ששווה ל-<span class="math">\(\left(2p-1\right)^{2}\)</span>. כאן זה עדיין תעלול של בית ספר תיכון. אחרי הוצאת השורש נקבל <span class="math">\(\lambda_{1,2}=\frac{1\pm\left(2p-1\right)}{2p}\)</span>, ולכן שני הפתרונות הם 1 ו-<span class="math">\(\frac{1}{p}-1\)</span>. את השני אפשר לכתוב בצורה קצת יותר יפה לטעמנו: <span class="math">\(\frac{1}{p}-1=\frac{1-p}{p}=\frac{q}{p}\)</span>. רואים? לא שכחנו את <span class="math">\(q\)</span>; כשהוא עוזר לנו להבין דברים, מחזירים אותו.</p>
<p>אולי שמתם לב כבר למשהו מוזר שקורה כאן - אם <span class="math">\(p=q\)</span> (וזה, כמובן, המקרה שהכי מעניין אותנו - קזינו הוגן), אז לא קיבלנו שני פתרונות אלא את אותו הפתרון - <span class="math">\(\lambda=1\)</span> - פעמיים. זה תוקע אותנו לגמרי - כל הרעיון היה שאנחנו מצליחים למצוא שני פתרונות בלתי תלויים שמהם אפשר להרכיב כל פתרון. אז מה עושים במקרה הזה? סבלנות, בואו נטפל קודם כל במקרה שבו אנחנו כבר יודעים איך לטפל.</p>
<p>אם כן, אם <span class="math">\(p\ne q\)</span> קיבלנו שהפתרון הכללי לנוסחת הנסיגה הוא מהצורה <span class="math">\(h_{n}=A\cdot1^{n}+B\cdot\left(\frac{q}{p}\right)^{n}=A+B\left(\frac{q}{p}\right)^{n}\)</span>. יש לנו תנאי התחלה אחד: <span class="math">\(h_{0}=1\)</span>; אבל רגע, יש לפתרון שתי דרגות חופש (גם הערך של <span class="math">\(A\)</span> וגם הערך של <span class="math">\(B\)</span> לא ידועים), אז צריך שני תנאי התחלה! כלומר, אין לנו בכלל דרך למצוא פתרון יחיד למשוואה. מה עושים? נראה ששוב התיאוריה מאכזבת אותנו.</p>
<p>כאן מרקוב עוזר לנו. כזכור, מרקוב אומר שהפתרון ה"נכון" לנוסחת הנסיגה - זה שבאמת מתאר את מה שקורה בשרשרת, הוא <strong>הפתרון האי שלילי המינימלי</strong>. "מינימלי" כאן פירושו שאם <span class="math">\(k_{n}\)</span> הוא פתרון אי שלילי אחר לנוסחת הנסיגה, אז <span class="math">\(h_{n}\le k_{n}\)</span> לכל <span class="math">\(n\)</span>. בנוסף, יש לנו עוד יתרון - אנחנו יודעים שהפתרונות של הנוסחה מייצגים <strong>הסתברות</strong> ולכן <span class="math">\(h_{n}\le1\)</span> לכל <span class="math">\(n\)</span>. כל המידע הנוסף הזה יספיק לנו כדי לאתר את הפתרון המדויק בכל אחד מהמקרים.</p>
<p>כעת, אם <span class="math">\(q&gt;p\)</span> (כלומר, הקזינו מוטה <strong>לרעת</strong> השחקן) אז <span class="math">\(\left(\frac{q}{p}\right)^{n}\)</span> שואף לאינסוף כאשר <span class="math">\(n\)</span> שואף לאינסוף. זה אומר שאלא אם <span class="math">\(B=0\)</span>, כאשר נשאיף את <span class="math">\(n\)</span> לאינסוף נקבל ערך לא הגיוני של <span class="math">\(h_{n}\)</span> (או שיהיה קטן מאפס או שיהיה גדול מ-1). לכן <span class="math">\(h_{n}=A\)</span> במקרה זה. אבל ידוע ש-<span class="math">\(h_{0}=1\)</span> ולכן <span class="math">\(A=1\)</span>. לכן הפתרון של נוסחת הנסיגה במקרה זה הוא "לא משנה מאיפה מתחילים, בהסתברות 1 נתרושש". לא מפתיע עד כדי כך בהתחשב בכך שכאן היתרון הוא של הקזינו.</p>
<p>אם <span class="math">\(q&lt;p\)</span> היתרון הוא לצד השחקן הפעם ומכיוון ש-<span class="math">\(\left(\frac{q}{p}\right)^{n}\)</span> שואף לאפס אי אפשר להשתמש בתעלול של קודם. אם כן, הבה וננסה להשתמש בתנאי ההתחלה <span class="math">\(h_{0}=1\)</span> כדי לשפר קצת את יכולת הניתוח שלנו: <span class="math">\(h_{0}=A+B\cdot\left(\frac{q}{p}\right)^{0}=A+B\)</span>, ולכן <span class="math">\(B=1-A\)</span>, ולכן הפתרון הכללי הוא מהצורה <span class="math">\(h_{n}=A+\left(1-A\right)\left(\frac{q}{p}\right)^{n}\)</span>. פתיחת סוגריים והוצאת גורם משותף ואנחנו מקבלים <span class="math">\(h_{n}=\left(\frac{q}{p}\right)^{n}+A\left(1-\left(\frac{q}{p}\right)^{n}\right)\)</span>. כאשר <span class="math">\(n\)</span> שואף לאינסוף הפתרון שואף ל-<span class="math">\(A\)</span>, ולכן <span class="math">\(0\le A\)</span> בהכרח (אחרת היינו מקבלים שהחל ממקום כלשהו כל הפתרונות הם שליליים). אם כן, הפתרון הוא מהצורה "<span class="math">\(\left(\frac{q}{p}\right)^{n}\)</span> ועוד משהו אי שלילי". אבל אמרנו שהפתרון הנכון הוא המינימלי, והמינימלי מתקבל כשאותו "משהו אי שלילי" שווה לאפס, ולכן הפתרון הוא <span class="math">\(h_{n}=\left(\frac{q}{p}\right)^{n}\)</span>. המהלך האחרון - השימוש במינימליות - הוא ממש מקסים לטעמי.</p>
<p>אם כן, במקרה הנוכחי אנחנו רואים שהתכנסות לאפס איננה הכרחית, והיא דועכת אקספוננציאלית ככל שסכום הכסף שלנו גדל. במילים אחרות, הגעה לאפס כלל איננה מובנת מאליה; כאשר לקזינו יש יתרון, אנחנו מגיעים לאפס בצורה מאוד חזקה (הסתברות 1). כאשר לנו יש יתרון אנחנו מתרחקים מאפס בצורה חזקה למדי (דעיכה אקספוננציאלית לאפס של הסיכוי להגיע לאפס). קו הגבול בין שתי הסיטואציות הללו אינו שייך באופן מובהק לאף צד, אבל מחוסר הסימטריה של שתי התוצאות (הרי במקרה שבו לנו יש יתרון, עדיין זה לא אומר שהסתברות ההפסד שלנו היא 0) כבר אפשר לנחש שהיתרון יהיה של הקזינו גם במקרה ה"מאוזן". ואכן, זה מה שנחשב כרגע, אבל לפני כן אנחנו חייבים להתמודד עם בעיה כללית שצצה בפתרון נוסחאות נסיגה (וגם בפתרון משוואות דיפרנציאליות; הדמיון איננו מקרי) - מה קורה כשלמשוואה האופיינית יש שורש יחיד?</p>
<p>נתחיל מהסוף - אם למשוואה יש שורש יחיד <span class="math">\(\lambda\)</span>, אז <span class="math">\(a_{n}=\lambda^{n}\)</span> הוא פתרון אבל גם <span class="math">\(a_{n}=n\lambda^{n}\)</span> הוא פתרון (להבדיל מהמקרה של שני שורשים). בואו נוכיח את זה, ובצורה כללית.</p>
<p>אז בואו ניקח נוסחת נסיגה <span class="math">\(a_{n}=\alpha a_{n-1}+\beta a_{n-2}\)</span> (לאלו מכם שתוהים למה אני יכול להניח שהמקדם של <span class="math">\(a_{n}\)</span> הוא 1 - אם הוא לא, פשוט נחלק בו, הוא לא יכול להיות 0). מנוסחת הנסיגה הזו נובעת המשוואה <span class="math">\(x^{2}-\alpha x-\beta=0\)</span>; נניח שיש למשוואה הזו רק שורש יחיד, <span class="math">\(\lambda\)</span>, אז עולה מכך השוויון <span class="math">\(x^{2}-\alpha x-\beta=\left(x-\lambda\right)^{2}\)</span>. על ידי פתיחה והשוואת מקדמים מקבלים ש-<span class="math">\(\alpha=2\lambda\)</span> ו-<span class="math">\(\beta=-\lambda^{2}\)</span> (אלו הן בעצם <strong>נוסחאות וייטה</strong>). במילים אחרות, את נוסחת הנסיגה המקורית ניתן לכתוב כ-<span class="math">\(a_{n}=2\lambda a_{n-1}-\lambda^{2}a_{n-2}\)</span>.</p>
<p>כעת, הבה ונבדוק מה קורה לפתרון המוצע שלנו, <span class="math">\(a_{n}=n\lambda^{n}\)</span>, כאשר מציבים אותו במשוואה - באגף ימין מתקבל:</p>
<p><span class="math">\(2\lambda\left(n-1\right)\lambda^{n-1}-\lambda^{2}\left(n-2\right)\lambda^{n-2}=\lambda^{n}\left[2n-2-n+2\right]=n\lambda^{n}\)</span></p>
<p>וזו התוצאה הצפויה.</p>
<p>הייתי שמח לתת אינטואיציה יותר טובה פרט ל"תראו כמה יפה המשוואות מסתדרות", אבל אין לי - אולי למישהו אחר יש. השורה התחתונה היא שבמקרה של שורש יחיד למשוואה, יש לנו דרך אחרת (פשוטה ביותר) לקבל פתרון נוסף מתוך הפתרון הקיים - דרך שלא עובדת במקרה של שני שורשים.</p>
<p>חזרה לענייננו - אם הפתרון היחיד הוא <span class="math">\(h_{n}=1\)</span> הרי שגם <span class="math">\(h_{n}=n\)</span> יהיה פתרון, ולכן הפתרון הכללי למקרה שבו <span class="math">\(p=q\)</span> יהיה <span class="math">\(h_{n}=A+Bn\)</span>. כמקודם כך גם כאן זה מכריח את <span class="math">\(B\)</span> להיות 0 אחרת עבור <span class="math">\(n\)</span> גדול דיו נקבל פתרון גדול מ-1 או קטן מ-0. לכן הפתרון הוא <span class="math">\(h_{n}=A\)</span> ומתנאי ההתחלה <span class="math">\(h_{0}=1\)</span> נקבל <span class="math">\(A=1\)</span>, כלומר הפתרון היחיד הוא שוב <span class="math">\(h_{n}=1\)</span>, ולכן גם במקרה שבו <span class="math">\(p=q\)</span>, לא משנה מה הסכום ההתחלתי שלך - בסוף תתרושש בודאות.</p>
<p>כאן מסתיים החלק המתמטי של הפוסט ואני יכול לשוב אל הטריגר לכתיבתו - מאמר של "הרב ד"ר מיכאל אברהם" באתר של Ynet שבו הוא מנסה לטעון שהאבולוציה דווקא מחזקת את האמונה בקיום אלוהים (ליתר דיוק, המאמר מוצג כקטע מספרו החדש של הרב ד"ר אברהם, אותו לא קראתי). המאמר נפתח ב:</p>
<blockquote>האבולוציה היא תהליך שיש לו כיוון, מגמה. מחומר דומם והיולי, חסר כל תכונות, זה שנוצר במפץ הגדול, אנו מגיעים ליצורים חיים ומורכבים שנראים גם תכליתיים. סטיבן ג'יי גולד, שעומד על הקושי העקרוני הזה, מציע לו הסבר באמצעות <strong>משל השיכור</strong>.

הוא מסביר שייתכן מצב שבו תהליך שמתנהל בכיוונים אקראיים ובאופן לא מתוכנן יוליך לתוצאה הכרחית קבועה מראש, כמו הופעת יצורים מורכבים. כדי להבין זאת, אומר לנו גולד, עלינו לדמיין מצב שבו שיכור יוצא מהפאב אל המדרכה הרחבה שלפניו, משמאלו ניצב קיר הפאב ומימינו מדרכה, ומעבר למדרכה ישנה תעלת ביוב עמוקה.

השיכור מתחיל לזגזג פעם לכיוון הקיר ופעם לכיוון המדרכה, כלומר בכיוון אקראי. אך בסופו של דבר, אם ניתן לו די זמן, נמצא אותו, ללא ספק, מתגולל בתעלת הביוב. הקיר מייצג כמובן את האילוצים של הברירה הטבעית, והאקראיות בבחירת הצדדים היא היווצרות המוטציות. המשחק בין שני אלו יוצר את התוצאה הצפויה מראש.</blockquote>
<p>לרוע המזל איני יודע לאיזה ספר של גולד הרב ד"ר אברהם מתייחס, כך שאיני יודע איך בדיוק גולד מתאר את משל השיכור; אבל למיטב הבנתי, זהו פשוט ניסוח אחר (שכבר שמעתי בעבר במקומות נוספים) של התרוששות המהמר, בהבדל אחד - <strong>לשיכור אין קיר﻿</strong>. השיכור מוזמן להתרחק מהתעלה עד כמה שירצה, זה לא משנה לו - כל עוד הוא פונה שמאלה או ימינה באותה הסתברות, הוא יתרושש - כלומר, ייפול לתעלה מתישהו. קיר, במקרה שלנו, רק משחק לרעתו, מכיוון שהוא מאלץ את השיכור להישאר תמיד במרחק חסום מהתעלה.</p>
<p>עם זאת, ולכן אני מצטער על כך שאיני יודע איך בדיוק גולד השתמש באנלוגיה הזו, השיכור-בתעלה היא אנלוגיה מסוכנת מכיוון שהיא דורשת אקראיות של 50-50. אם השיכור נוטה יותר ללכת לכיוון קיר הפאב מאשר לכיוון התעלה, לא מובטח לנו במאה אחוזים שהוא יגיע לתעלה. לכן לא צריך לקחת את השיכור בתור מודל מתמטי שבא לתאר את האבולוציה, אלא סתם בתור סיפור נחמד על "הנה סיטואציה שבה תהליך אקראי מתכנס באופן בטוח לחלוטין לתוצאה מסויימת; היי, גם האבולוציה, בדרכה שלה, היא כזו!".</p>
<p>אני לא יכול להתאפק מלהביא את הביקורת של הרב ד"ר אברהם על הטיעון של גולד למעלה, וזאת למרות שהביקורת הזו עוזבת לגמרי את המתרושש שלנו:</p>
<blockquote>הבעייתיות במשל הזה, נעוצה בשתי רמות שונות: ראשית, הבעיה העיקרית היא שהקיר שלאורכו מתקדם השיכור עשוי מנייר. יתר על כן, מאחורי הקיר הזה יש תהום שכל באיה לא ישובון. כל הליכה לכיוון הלא שריד אבולוציונית (כלומר לכיוון הקיר) מוליכה לקצה מת (Dead end) של התהליך, כלומר להיכחדותו של היצור או של צאצאיו האבולוציוניים (נפילה של השיכור לתהום שמאחורי הקיר, במשל).

כל צעד אבולוציוני שיוצר מוטציה לא חיה מוליך להפסקה מוחלטת של התהליך, שקוטעת את כל השרשרת האבולוציונית. בתהליך האבולוציוני אין לנו קיר שדואג לזה שבכל פעם השיכור ישוב מחדש למסלול. אם באחד מהשלבים במשך ההיסטוריה לא נוצרת מוטציה שרידה, התהליך כולו נפסק סופית.

אם כן, במשל המתוקן, הקיר שלאורך המדרכה עשוי מנייר. כל פעם שהשיכור נופל עליו הוא קורע אותו ונופל לתהום שמאחוריו. כעת אפשר לשער: מה הסיכוי, במקרה כזה, שהשיכור המתנהל באקראי יגיע בסופו של דבר לתעלת הביוב?</blockquote>
<p>על הטיעון הזה אני יכול להגיד - או שאני לא מבין כלום באבולוציה, או שהרב ד"ר אברהם לא מבין כלום באבולוציה (או ששנינו לא מבינים בה כלום). אנסה להסביר כמיטב הבנתי (וצריך לקחת בחשבון שאכן איני מבין כלום באבולוציה, שכן אינני ביולוג ולא למדתי את הנושא בצורה מסודרת מעולם).</p>
<p>אם כן, אין ספק שצעד אבולוציוני שיוצר "מוטציה לא חיה" מוביל להפסקת התהליך מבחינת המוטציה המסכנה הזו. האם הוא עוצר את התהליך האבולוציוני כולו? ודאי שלא. הבעיה כאן היא שהרב ד"ר אברהם מנסה לטעון שבאבולוציה, כל אינדיבידואל הוא שיכור שמתהלך לו לבד; ואילו גולד (בכך אני בטוח לחלוטין) חושב על השיכור לכל הפחות כעל אוכלוסייה של מין כלשהו. אם עוברים לרזולוציה הזו, הטיעון של הרב ד"ר אברהם כבר לא תקף; זה שחלק מהפרטים באוכלוסייה יוולדו עם פגם גנטי שיגרום להם להיוולד מתים זה עצוב וטרגי אבל כל עוד הם היוצאים מן הכלל (ומכיוון שהם מוטציות, הם היוצאים מן הכלל) הם לא יגרמו למות האוכלוסייה כולה. כאן מתגלה דווקא כוחו של התהליך הזה: פרטים שנולדים עם מוטציה "גרועה" שפוגעת בשרידות שלהם, קרוב לודאי שלא יזכו להעביר את המוטציה הזו הלאה ולהפיץ אותה בקרב האוכלוסייה. כלומר, המוטציות שכן מתפשטות באוכלוסייה הן כאלו ש<strong>אינן פוגעת ביכולת העברת המוטציה הלאה</strong>. כדאי לזכור שרוב המוטציות לא מתבטאות לא לחיוב ולא לשלילה באופן מיידי, כך שכבר ברור שמודל השיכור (שבו כל צעד או שמקדם או שמרחיק אותנו) הוא לא באמת תיאור טוב במיוחד לכל הסיפור.</p>
<p>השיכור של הרב ד"ר אברהם יפול לתהום שכל באיה לא ישובון רק אם באוכלוסייה תתפשט מוטציה כזו שמצד אחד משפרת את יכולת ההתרבות של הפרטים שיש להם אותה, ומצד שני "תוקעת" אותם. אני יכול להעלות בדמיוני מוטציות כאלו - למשל, המוטציה "תחייה חיי נצח אבל כשתתרבה לא יהיו לך מוטציות", שמצד אחד משפרת מאוד את יכולת השרידות של החיה אבל מצד שני מונעת כל שינוי מכאן והלאה (זה לא הורג את הפרט, אבל זה כן מכניס את האבולוציה של האוכלוסיה למבוי סתום). זו כמובן מוטציה מגוחכת לחלוטין והביולוגים יהרגו אותי על כך שהזכרתי אותה ובוודאי יש דוגמאות יותר טובות שאיני חושב עליהן. בכל מקרה לא נראה לי שהרב ד"ר אברהם מדבר על זה בכלל אלא דווקא על מוטציות כושלות שהורגות את הפרטים שלוקים בהן (כמובן שבעולמנו האכזר יש עוד דברים פרט למוטציות שיכולים להשמיד לחלוטין אוכלוסיות - תשאלו את הדינוזאורים - אבל גם זה לא טיעון שהרב ד"ר אברהם העלה בכלל וזה בוודאי לא קשור להילוך השיכור).</p>
<p>בהמשך הרב ד"ר אברהם מביא עוד טיעונים שלדעתי אפילו יותר מבורחשים וממילא כבר מאבדים כל קשר למתמטיקה שבבסיס הפוסט הזה ולכן לא אמשיך להתייחס אליהם. רק על דבר אחד נוסף אני חייב להתלונן - בחירת הכותרת של העורך של Ynet. אז נכון, הרב ד"ר אברהם בחר לקרוא לספרו "אלוהים משחק בקוביות", אבל לתת כותרת של "האם איינשטיין טעה?" למאמר שכלל אינו מדבר על תורת הקוונטיים, שהיא ההקשר שבו איינשטיין אמר את הציטוט המפורסם שלו על הקוביות - ובכן, זה כבר עובר את גבול ה"מביך ברמות בלתי נתפסות" ויוצא מהצד השני.</p>
        </article>
        
        <footer>
            <p>© כל הזכויות שמורות לגדי אלכסנדרוביץ'</p>
        </footer>
    </div>

    
    <script>
        function searchPosts() {
            const searchTerm = document.getElementById('searchInput').value;
            if (searchTerm.trim()) {
                window.location.href = '/new_blog/post_list.html?search=' + encodeURIComponent(searchTerm);
            }
        }
        
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchPosts();
            }
        });
    </script>
    
    
    <!-- Auto-render KaTeX math -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            renderMathInElement(document.body, {
                delimiters: [
                    {left: "\\[", right: "\\]", display: true},
                    {left: "\\(", right: "\\)", display: false}
                ],
                throwOnError: false
            });
        });
    </script>

</body>
</html>