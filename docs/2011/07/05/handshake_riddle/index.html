<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>חידת לחיצות ידיים - לא מדויק</title>
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://gadial.net/2011/07/05/handshake_riddle/">
    <meta property="og:title" content="חידת לחיצות ידיים">
    <meta property="og:description" content="לא מדויק - בלוג על מתמטיקה ומדעי המחשב">
    <meta property="og:site_name" content="לא מדויק">
    
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:url" content="https://gadial.net/2011/07/05/handshake_riddle/">
    <meta name="twitter:title" content="חידת לחיצות ידיים">
    <meta name="twitter:description" content="לא מדויק - בלוג על מתמטיקה ומדעי המחשב">
    
    
    
    <!-- KaTeX for math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>

    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', 'David', 'Tahoma', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
        }
        
        /* Top navigation bar */
        .top-nav {
            background: #2c3e50;
            padding: 15px 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .top-nav .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
        }
        
        .top-nav .site-title {
            font-size: 1.5em;
            font-weight: bold;
            color: white;
            text-decoration: none;
            white-space: nowrap;
        }
        
        .top-nav .nav-links {
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .top-nav .nav-links a {
            color: #ecf0f1;
            text-decoration: none;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background 0.2s;
            white-space: nowrap;
        }
        
        .top-nav .nav-links a:hover {
            background: #34495e;
        }
        
        .top-nav .search-box {
            display: flex;
            gap: 5px;
        }
        
        .top-nav .search-box input {
            padding: 5px 10px;
            border: none;
            border-radius: 4px;
            font-size: 0.9em;
            min-width: 150px;
        }
        
        .top-nav .search-box button {
            padding: 5px 15px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .top-nav .search-box button:hover {
            background: #2980b9;
        }
        
        /* Hamburger menu button */
        .menu-toggle {
            display: none;
            background: none;
            border: none;
            font-size: 1.8em;
            color: white;
            cursor: pointer;
            padding: 0;
            line-height: 1;
        }
        
        .menu-toggle:hover {
            opacity: 0.8;
        }
        
        /* Mobile responsive */
        @media (max-width: 768px) {
            .top-nav .nav-container {
                flex-direction: column;
                align-items: stretch;
            }
            
            .top-nav .site-title {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 0;
                padding: 10px 0;
            }
            
            .menu-toggle {
                display: block;
            }
            
            /* Hide nav links by default on mobile */
            .top-nav .nav-links {
                display: none;
                flex-direction: column;
                width: 100%;
                margin-top: 10px;
            }
            
            /* Show when expanded */
            .top-nav .nav-links.expanded {
                display: flex;
            }
            
            .top-nav .nav-links > a {
                text-align: center;
                padding: 12px;
                border-top: 1px solid rgba(255, 255, 255, 0.2);
            }
            
            .top-nav .search-box {
                width: 100%;
                flex-direction: column;
                margin-top: 10px;
                padding-top: 10px;
                border-top: 1px solid rgba(255, 255, 255, 0.2);
            }
            
            .top-nav .search-box input {
                width: 100%;
                margin-bottom: 5px;
                min-width: 0;
            }
            
            .top-nav .search-box button {
                width: 100%;
            }
        }
        
        /* Blockquote styling */
        blockquote {
            background: #f9f9f9;
            border-right: 5px solid #ccc;
            margin: 1.5em 10px;
            padding: 0.75em 16px;
            position: relative;
            font-style: italic;
        }
        
        blockquote:before {
            content: '"';
            position: absolute;
            top: -10px;
            right: 8px;
            font-size: 3.5em;
            color: #ccc;
            line-height: 1;
        }
        
        blockquote p {
            display: block;
            margin: 0 0 0.75em 0;
        }
        
        blockquote p:last-child {
            margin-bottom: 0;
        }
        
        
        body {
            line-height: 1.8;
        }
        
        .container {
            max-width: 800px;
            margin: 20px auto;
            background: white;
            padding: 40px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
        }
        
        header {
            margin-bottom: 40px;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 20px;
        }
        
        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .post-meta {
            color: #7f8c8d;
            font-size: 0.9em;
        }
        
        .post-meta .date {
            margin-left: 15px;
        }
        
        .post-meta .categories,
        .post-meta .tags {
            display: inline;
        }
        
        .post-meta .categories a,
        .post-meta .tags a {
            color: #3498db;
            text-decoration: none;
            margin: 0 5px;
        }
        
        .post-meta .categories a:hover,
        .post-meta .tags a:hover {
            text-decoration: underline;
        }
        
        article {
            font-size: 1.1em;
        }
        
        article h2 {
            margin-top: 30px;
            margin-bottom: 15px;
            color: #34495e;
            font-size: 1.8em;
        }
        
        article h3 {
            margin-top: 25px;
            margin-bottom: 12px;
            color: #34495e;
            font-size: 1.4em;
        }
        
        article p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        article ul, article ol {
            margin-right: 30px;
            margin-bottom: 15px;
        }
        
        article li {
            margin-bottom: 8px;
        }
        
        article code {
            background-color: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        
        article pre {
            background-color: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin-bottom: 20px;
            direction: ltr;
            text-align: left;
        }
        
        article pre code {
            background-color: transparent;
            padding: 0;
            color: inherit;
        }
        
        /* Image styles - responsive and contained */
        article img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 20px auto;
        }
        
        /* Math rendering styles */
        .math {
            direction: ltr;
        }
        
        span.math {
            direction: ltr;
        }
        
        /* Override RTL for KaTeX */
        .katex {
            direction: ltr;
            unicode-bidi: embed;
        }
        
        /* Force KaTeX content to wrap by overriding its internal structure */
        .katex-html {
            display: inline !important;
            white-space: normal !important;
        }
        
        .katex .base {
            display: inline !important;
            white-space: normal !important;
        }
        
        .katex .mord,
        .katex .mbin,
        .katex .mrel,
        .katex .mopen,
        .katex .mclose,
        .katex .mpunct,
        .katex .minner {
            display: inline !important;
            white-space: normal !important;
        }
        
        div.math {
            display: block;
            text-align: center;
            padding: 15px 0;
            direction: ltr;
        }
        
        /* RTL adjustments for code blocks */
        .highlight {
            direction: ltr;
            text-align: left;
        }
        
        footer {
            margin-top: 60px;
            padding-top: 20px;
            border-top: 1px solid #e0e0e0;
            text-align: center;
            color: #95a5a6;
            font-size: 0.9em;
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2em;
            }
            
            article {
                font-size: 1em;
            }
            
            /* Hide post navigation on mobile */
            .post-navigation {
                display: none;
            }
        }
        
        /* Post navigation */
        .post-navigation {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #e0e0e0;
            gap: 20px;
        }
        
        .post-navigation .nav-link {
            flex: 1;
            text-decoration: none;
            color: #2c3e50;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 5px;
            transition: background 0.2s;
        }
        
        .post-navigation .nav-link:hover {
            background: #e9ecef;
        }
        
        .post-navigation .nav-prev {
            text-align: right;
        }
        
        .post-navigation .nav-next {
            text-align: left;
        }
        
        .post-navigation .nav-label {
            font-size: 0.85em;
            color: #7f8c8d;
            display: block;
            margin-bottom: 5px;
        }
        
        .post-navigation .nav-title {
            font-weight: bold;
            font-size: 1.1em;
        }

    </style>
</head>
<body>
    <nav class="top-nav">
        <div class="nav-container">
            <div class="site-title">
                <a href="/" style="color: white; text-decoration: none;">לא מדויק</a>
                <button class="menu-toggle" onclick="toggleMobileMenu()" aria-label="תפריט">
                    ☰
                </button>
            </div>
            <div class="nav-links" id="navLinks">
                <a href="/">דף הבית</a>
                <a href="/random.html">פוסט אקראי</a>
                <a href="/post_list.html">כל הפוסטים</a>
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="חיפוש...">
                    <button onclick="searchPosts()">חפש</button>
                </div>
            </div>
        </div>
    </nav>
    
    
    <div class="container">
        <!-- Post Navigation -->
        
        <nav class="post-navigation">
            
            <a href="/2011/06/29/partitions_and_ramanujan/" class="nav-link nav-prev">
                <span class="nav-label">פוסט ישן יותר →</span>
                <span class="nav-title">חלוקות וההשערה של רמנוג&#39;אן</span>
            </a>
            

            
            <a href="/2011/07/11/biometric_database_2/" class="nav-link nav-next">
                <span class="nav-label">← פוסט חדש יותר</span>
                <span class="nav-title">בואו נדבר עוד קצת על המאגר הביומטרי</span>
            </a>
            
        </nav>
        
        
        <header>
            <h1>חידת לחיצות ידיים</h1>
            <div class="post-meta">
                <span class="date">2011-07-05</span>
                
                <span class="categories">
                    | קטגוריות:
                    
                    <a href="/categories/משחקים וחידות מתמטיות.html">משחקים וחידות מתמטיות</a>
                    
                </span>
                
                
                <span class="tags">
                    | תגיות:
                    
                    <a href="/tags/חידות.html">חידות</a>
                    
                    <a href="/tags/קצר וטוב.html">קצר וטוב</a>
                    
                </span>
                
            </div>
        </header>
        
        <article>
            <p>קיבלתי מייל מקורא שהפנה את תשומת לבי לחידה מקסימה שאפשר למצוא <a href="http://www.cet.ac.il/math/newsletter/messages.asp?Asp=403&FID=67017&Index=003w">כאן</a>, אם כי פשוט אציג אותה מחדש, בניסוח פמיניסטי:</p>
<p>לארוחת ערב אצל גברת כהן ובעלה מגיעים ארבעה זוגות אורחים. בכניסה יש המולה רבה ומוחלפות לחיצות יד. לא כולם לוחצים אחד לשני את היד, ובוודאי שאף אחד לא לוחץ לא לעצמו ולא לבן/בת זוגו. אחרי שכולם יושבים לשולחן גברת כהן שואלת את הנוכחים כמה פעמים הם לחצו ידיים ומקבלת מהם 9 תשובות שונות. השאלה: כמה ידיים לחץ <strong>מר</strong> כהן?</p>
<p>מה שנחמד בחידה הזו בראש ובראשונה היא שהיא נראית כמו חידת "דמיין שאתה נוהג ברכבת שיוצאת מתל אביב לחיפה במהירות 80 קמ"ש. מה שמו של נהג הקטר?" שבהן הפתרון הוא התחכמות, <strong>אבל</strong> אין כאן שום התחכמות והפתרון הוא מתמטי לחלוטין ונובע היטב מתנאי השאלה. הבה ונראה איך מתמודדים עם חידה כזו, אבל לפני כן אני ממליץ לכולם לנסות ולפתור אותה - זו באמת חידה קלה יחסית.</p>
<p>לבינתיים, הנה שעשועים בחסות <a href="http://www.smbc-comics.com">SMBC</a>:</p>
<p><strong><a href="/img/2011/07/smbc-handshake.gif"><img class="alignnone size-full wp-image-1217" title="smbc handshake" src="/img/2011/07/smbc-handshake.gif" alt="" width="504" height="566" /></a><br />
</strong></p>
<p>טוב, הדבר הראשון שעושים הוא לשכוח לרגע את מר כהן ולנסות להבין איך סיטואציית לחיצות הידיים בכלל הגיונית. אילו תשובות אנשים בכלל יכולים לתת לשאלה "כמה ידיים לחצת"? מספר שהוא בין 0 ל-8. למה רק 8? כי אדם לא לוחץ ידיים לא לעצמו ולא לבן זוגו. כעת, מכיוון שיש 9 תשובות, אז התשובות הן בהכרח <span class="math">\(0,1,2,3,4,5,6,7,8\)</span>. אוקיי, נסמן את האנשים על פי המספרים הללו.</p>
<p>כעת אפשר לנסות ולהתחיל לצייר דיאגרמות שמתארות את לחיצות הידיים. אם נתחיל מ-1 נגלה שיש לנו המון חופש פעולה וזה מבלבל ואנחנו לא רוצים את זה - ההפך, אנחנו רוצים כמה שפחות חופש פעולה - לראות מה <strong>מתחייב</strong> מהנתונים. אז בואו נתחיל מ-8. נניח שהוא לחץ ידיים לכל האנשים מ-0 ועד 7, אז... היי, רגע, איך הוא יכל ללחוץ יד למר 0 אם מר 0 בכלל לא לחץ ידיים? מסקנה, מר 8 היה חייב ללחוץ את ידי האדם היחיד שלא אמר כלום - גברת כהן. בנוסף לכך, הוא לחץ את ידי כל יתר האנשים.</p>
<p>בואו נעבור כעת למר 7. מר 7 לחץ את היד של מר 8; למי עוד הוא יכול ללחוץ ידיים? לא למר 0, אבל גם לא למר 1, שהרי מר 1 כבר לחץ את היד של מר 8 ו"נשרף"! ומר 7 חייב ללחוץ את הידיים של עוד 6 אנשים. מבין הלא שרופים יש לנו את <span class="math">\(2,3,4,5,6\)</span>, שהם רק חמישה; לכן שוב, נלחצה ידה של גברת כהן.</p>
<p>אני מניח שהעיקרון ברור כעת; למרות זאת, העסק יכול להיות מבלבל למדי ומי שהתבלבל, יכול לנקוט בטריק העתיק ביותר בפתרון חידות ולהסתכל על מקרה פשוט יותר. האם אנחנו מצפים שהחידה תשתנה מהותית אם במקום שיבואו לבקר ארבעה זוגות, יבוא לבקר רק זוג אחד? אולי היא תשתנה, אבל על פניו זה לא סביר כל כך. אז בואו קודם כל נפתור את המקרה הזה. כאן יש לנו את האנשים <span class="math">\(0,1,2\)</span> ואת גברת כהן; וברור שמר 2 לחץ את ידו של מר 1, ואת ידה של גברת כהן. אז לצייר את "דיאגרמת לחיצות הידיים" במקרה הזה, זה קל, ואפשר כבר לחשוב הלאה - איך המידע הזה עוזר לנו לדעת כמה ידיים לחץ מר כהן?</p>
<p>ובכן, אנחנו יודעים שמר 2 לחץ ידיים לגברת כהן, אז הוא לא מר כהן; יותר מזה, הוא לחץ יד עם מר 1, אז הוא גם לא בן זוגו של מר 1 (כן, תראו איך אנחנו מסתבכים עם השימוש החופשי שלנו במגדר...), ולכן מר 2 הוא <strong>בהכרח</strong> בן הזוג של מר 0. לכן נשאר רק מר 1, וזהו מר כהן.</p>
<p>זה כבר נותן לנו רעיון איך לפתור את המקרה המסובך יותר (אני מקווה). מר 8 לחץ ידיים לגברת כהן, אז הוא לא מר כהן, והאדם היחיד שהוא לא לחץ את ידו הוא מר 0, אז הם בני זוג, ומרגע זה שניהם "נשרפו" מבחינתנו. עברנו למר 7 - הוא לחץ ידיים לכל מי שנשאר פרט למר 1, ולכן שניהם בני זוג. ומר 6? לחץ לכל מי שנשאר פרט למר 2. ומר 5? לחץ לכל מי שנשאר פרט למר 3. ומר 4? או, הנה, עלינו על מר כהן. מר 4 לחץ ידיים לכל המרים שלפניו - מר 8, מר 7, מר 6 ומר 5. בנוסף, ארבעת אלו הם בני הזוג של מר 0, מר 1, מר 2 ומר 3; לכן למר 4 נותר רק להיות בן הזוג של גברת כהן - כלומר, הוא מר כהן המדובר. והנה כך הפתרון נובע מאליו.</p>
<p>ומה קורה אם באים <span class="math">\(n\)</span> זוגות? ראינו כי כאשר <span class="math">\(n=1\)</span> אז התשובה היא "1"; וראינו כי כאשר <span class="math">\(n=4\)</span>, אז התשובה היא "4". אני מותיר לכם את המלאכה המורכבת של ניחוש והוכחת התשובה עבור המקרה הכללי...</p>
        </article>
        
        <footer>
            <p>© כל הזכויות שמורות לגדי אלכסנדרוביץ'</p>
        </footer>
    </div>

    
    <script>
        function toggleMobileMenu() {
            const navLinks = document.getElementById('navLinks');
            navLinks.classList.toggle('expanded');
        }
        
        function searchPosts() {
            const searchTerm = document.getElementById('searchInput').value;
            if (searchTerm.trim()) {
                window.location.href = '/post_list.html?search=' + encodeURIComponent(searchTerm);
            }
        }
        
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchPosts();
            }
        });
    </script>
    
    
    <!-- Auto-render KaTeX math -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            renderMathInElement(document.body, {
                delimiters: [
                    {left: "\\[", right: "\\]", display: true},
                    {left: "\\(", right: "\\)", display: false}
                ],
                throwOnError: false
            });
        });
    </script>

</body>
</html>