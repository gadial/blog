<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>משפט טורן והולדת תורת הגרפים האקסטרמלית - לא מדויק</title>
    <link rel="icon" type="image/x-icon" href="/blog/favicon.ico">
    
    
    <!-- KaTeX for math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>

    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', 'David', 'Tahoma', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
        }
        
        /* Top navigation bar */
        .top-nav {
            background: #2c3e50;
            padding: 15px 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .top-nav .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
        }
        
        .top-nav .site-title {
            font-size: 1.5em;
            font-weight: bold;
            color: white;
            text-decoration: none;
            white-space: nowrap;
        }
        
        .top-nav .nav-links {
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .top-nav .nav-links a {
            color: #ecf0f1;
            text-decoration: none;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background 0.2s;
            white-space: nowrap;
        }
        
        .top-nav .nav-links a:hover {
            background: #34495e;
        }
        
        .top-nav .search-box {
            display: flex;
            gap: 5px;
        }
        
        .top-nav .search-box input {
            padding: 5px 10px;
            border: none;
            border-radius: 4px;
            font-size: 0.9em;
            min-width: 150px;
        }
        
        .top-nav .search-box button {
            padding: 5px 15px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .top-nav .search-box button:hover {
            background: #2980b9;
        }
        
        /* Hamburger menu button */
        .menu-toggle {
            display: none;
            background: none;
            border: none;
            font-size: 1.8em;
            color: white;
            cursor: pointer;
            padding: 0;
            line-height: 1;
        }
        
        .menu-toggle:hover {
            opacity: 0.8;
        }
        
        /* Mobile responsive */
        @media (max-width: 768px) {
            .top-nav .nav-container {
                flex-direction: column;
                align-items: stretch;
            }
            
            .top-nav .site-title {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 0;
                padding: 10px 0;
            }
            
            .menu-toggle {
                display: block;
            }
            
            /* Hide nav links by default on mobile */
            .top-nav .nav-links {
                display: none;
                flex-direction: column;
                width: 100%;
                margin-top: 10px;
            }
            
            /* Show when expanded */
            .top-nav .nav-links.expanded {
                display: flex;
            }
            
            .top-nav .nav-links > a {
                text-align: center;
                padding: 12px;
                border-top: 1px solid rgba(255, 255, 255, 0.2);
            }
            
            .top-nav .search-box {
                width: 100%;
                flex-direction: column;
                margin-top: 10px;
                padding-top: 10px;
                border-top: 1px solid rgba(255, 255, 255, 0.2);
            }
            
            .top-nav .search-box input {
                width: 100%;
                margin-bottom: 5px;
                min-width: 0;
            }
            
            .top-nav .search-box button {
                width: 100%;
            }
        }
        
        /* Blockquote styling */
        blockquote {
            background: #f9f9f9;
            border-right: 5px solid #ccc;
            margin: 1.5em 10px;
            padding: 0.75em 16px;
            position: relative;
            font-style: italic;
        }
        
        blockquote:before {
            content: '"';
            position: absolute;
            top: -10px;
            right: 8px;
            font-size: 3.5em;
            color: #ccc;
            line-height: 1;
        }
        
        blockquote p {
            display: block;
            margin: 0 0 0.75em 0;
        }
        
        blockquote p:last-child {
            margin-bottom: 0;
        }
        
        
        body {
            line-height: 1.8;
        }
        
        .container {
            max-width: 800px;
            margin: 20px auto;
            background: white;
            padding: 40px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
        }
        
        header {
            margin-bottom: 40px;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 20px;
        }
        
        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .post-meta {
            color: #7f8c8d;
            font-size: 0.9em;
        }
        
        .post-meta .date {
            margin-left: 15px;
        }
        
        .post-meta .categories,
        .post-meta .tags {
            display: inline;
        }
        
        .post-meta .categories a,
        .post-meta .tags a {
            color: #3498db;
            text-decoration: none;
            margin: 0 5px;
        }
        
        .post-meta .categories a:hover,
        .post-meta .tags a:hover {
            text-decoration: underline;
        }
        
        article {
            font-size: 1.1em;
        }
        
        article h2 {
            margin-top: 30px;
            margin-bottom: 15px;
            color: #34495e;
            font-size: 1.8em;
        }
        
        article h3 {
            margin-top: 25px;
            margin-bottom: 12px;
            color: #34495e;
            font-size: 1.4em;
        }
        
        article p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        article ul, article ol {
            margin-right: 30px;
            margin-bottom: 15px;
        }
        
        article li {
            margin-bottom: 8px;
        }
        
        article code {
            background-color: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        
        article pre {
            background-color: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin-bottom: 20px;
            direction: ltr;
            text-align: left;
        }
        
        article pre code {
            background-color: transparent;
            padding: 0;
            color: inherit;
        }
        
        /* Image styles - responsive and contained */
        article img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 20px auto;
        }
        
        /* Math rendering styles */
        .math {
            direction: ltr;
        }
        
        span.math {
            direction: ltr;
        }
        
        /* Override RTL for KaTeX */
        .katex {
            direction: ltr;
            unicode-bidi: embed;
        }
        
        /* Force KaTeX content to wrap by overriding its internal structure */
        .katex-html {
            display: inline !important;
            white-space: normal !important;
        }
        
        .katex .base {
            display: inline !important;
            white-space: normal !important;
        }
        
        .katex .mord,
        .katex .mbin,
        .katex .mrel,
        .katex .mopen,
        .katex .mclose,
        .katex .mpunct,
        .katex .minner {
            display: inline !important;
            white-space: normal !important;
        }
        
        div.math {
            display: block;
            text-align: center;
            padding: 15px 0;
            direction: ltr;
        }
        
        /* RTL adjustments for code blocks */
        .highlight {
            direction: ltr;
            text-align: left;
        }
        
        footer {
            margin-top: 60px;
            padding-top: 20px;
            border-top: 1px solid #e0e0e0;
            text-align: center;
            color: #95a5a6;
            font-size: 0.9em;
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2em;
            }
            
            article {
                font-size: 1em;
            }
            
            /* Hide post navigation on mobile */
            .post-navigation {
                display: none;
            }
        }
        
        /* Post navigation */
        .post-navigation {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #e0e0e0;
            gap: 20px;
        }
        
        .post-navigation .nav-link {
            flex: 1;
            text-decoration: none;
            color: #2c3e50;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 5px;
            transition: background 0.2s;
        }
        
        .post-navigation .nav-link:hover {
            background: #e9ecef;
        }
        
        .post-navigation .nav-prev {
            text-align: right;
        }
        
        .post-navigation .nav-next {
            text-align: left;
        }
        
        .post-navigation .nav-label {
            font-size: 0.85em;
            color: #7f8c8d;
            display: block;
            margin-bottom: 5px;
        }
        
        .post-navigation .nav-title {
            font-weight: bold;
            font-size: 1.1em;
        }

    </style>
</head>
<body>
    <nav class="top-nav">
        <div class="nav-container">
            <div class="site-title">
                <a href="/blog/" style="color: white; text-decoration: none;">לא מדויק</a>
                <button class="menu-toggle" onclick="toggleMobileMenu()" aria-label="תפריט">
                    ☰
                </button>
            </div>
            <div class="nav-links" id="navLinks">
                <a href="/blog/">דף הבית</a>
                <a href="/blog/random.html">פוסט אקראי</a>
                <a href="/blog/post_list.html">כל הפוסטים</a>
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="חיפוש...">
                    <button onclick="searchPosts()">חפש</button>
                </div>
            </div>
        </div>
    </nav>
    
    
    <div class="container">
        <!-- Post Navigation -->
        
        <nav class="post-navigation">
            
            <a href="/blog/2011/08/31/conway_soldier_problem/" class="nav-link nav-prev">
                <span class="nav-label">פוסט ישן יותר →</span>
                <span class="nav-title">חידת החיילים של קונווי</span>
            </a>
            

            
            <a href="/blog/2011/09/12/euclidean_algorithm_and_rings/" class="nav-link nav-next">
                <span class="nav-label">← פוסט חדש יותר</span>
                <span class="nav-title">האלגוריתם האוקלידי וחוגים אוקלידיים</span>
            </a>
            
        </nav>
        
        
        <header>
            <h1>משפט טורן והולדת תורת הגרפים האקסטרמלית</h1>
            <div class="post-meta">
                <span class="date">2011-09-02</span>
                
                <span class="categories">
                    | קטגוריות:
                    
                    <a href="/categories/קומבינטוריקה.html">קומבינטוריקה</a>
                    
                    <a href="/categories/תורת הגרפים.html">תורת הגרפים</a>
                    
                </span>
                
                
                <span class="tags">
                    | תגיות:
                    
                    <a href="/tags/גרפים.html">גרפים</a>
                    
                    <a href="/tags/משפט טורן.html">משפט טורן</a>
                    
                    <a href="/tags/תורת הגרפים האקסטרמלית.html">תורת הגרפים האקסטרמלית</a>
                    
                    <a href="/tags/תורת רמזי.html">תורת רמזי</a>
                    
                </span>
                
            </div>
        </header>
        
        <article>
            <p><a href="http://www.gadial.net/2011/08/03/ramsey_theorem/">לא מזמן</a> כתבתי פוסט על משפט רמזי שעסק בשאלה כמה גדולה צריכה להיות קבוצת ילדים על מנת שתיווצר בה קבוצה מגודל מסויים שכולם בה חברים או כולם בה לא חברים. זה היה מקרה פרטי של השאלה שבה עוסקים בתורת רמזי - כמה גדול צריך להיות אובייקט מתמטי כלשהו לפני שתצוץ בו תכונה מסויימת.</p>
<p>הפעם אני רוצה לעסוק בתחום דומה בקומבינטוריקה (תת-תחום של תורת רמזי? המעמד הרשמי לא ממש חשוב) - תורת הגרפים האקסטרמלית. כפי שניתן לנחש, האובייקטים שלנו כאן הם <a href="http://www.gadial.net/2008/05/06/eulerian_graphs/">גרפים</a> (אבל נו באמת - איזה אובייקט ביקום לא ניתן לתיאור על ידי גרף?) ואנחנו רוצים להבין את תכונותיהם של הגרפים הקיצוניים ביותר שמקיימים (או שלא מקיימים) תכונה כלשהי. באופן קצת יותר קונקרטי, עבור תכונה <span class="math">\(\Phi\)</span> כלשהי של גרפים, שאלה מרכזית היא זו: מה המספר המקסימלי של קשתות שגרף עם <span class="math">\(n\)</span> צמתים יכול להכיל ועדיין לקיים את התכונה <span class="math">\(\Phi\)</span>? המספר הזה מסומן לרוב כ-<span class="math">\(\text{ex}\left(n,\Phi\right)\)</span> (אפשר לחשוב עליו כפונקציה של <span class="math">\(n\)</span> עם פרמטר <span class="math">\(\Phi\)</span>). לא תמיד אפשר לדעת במדויק את <span class="math">\(\text{ex}\left(n,\Phi\right)\)</span>, כמובן, ולרוב מסתפקים בהערכה.</p>
<p>המקרה המעניין הראשון הוא זה שבו <span class="math">\(\Phi\)</span> היא התכונה "להכיל תת-גרף מסויים". אז אנחנו שואלים את השאלה הקלאסית של תורת רמזי - מתי אובייקט הוא גדול דיו כדי שמבנה מסויים יצוץ בתוכו לבטח? ומשפט טורן מטפל בתת גרף פשוט במיוחד: קליק. קליק מגודל <span class="math">\(t\)</span>, שאותו אסמן ב-<span class="math">\(K_{t}\)</span>, הוא פשוט קבוצה של <span class="math">\(t\)</span> צמתים שכולם מחוברים אלה לאלה בקשתות. שימו לב להבדל בין זה ומשפט רמזי, שמדבר על מספר ה<strong>צמתים</strong> שצריך להיות בגרף לפני שיצוץ בו קליק מגודל מסויים או קבוצה בלתי תלויה מגודל מסויים; כאן מספר הצמתים <span class="math">\(n\)</span> קבוע ונתון מראש ואנחנו רוצים לדעת מה מספר הקשתות; ולהבדיל ממשפט רמזי, כאן אנחנו יודעים את <span class="math">\(\text{ex}\left(n,K_{t}\right)\)</span> במדויק וגם יודעים בדיוק איך הגרפים הקיצוניים (בעלי המספר המקסימלי של קשתות ש<strong>אינם</strong> מכילים את <span class="math">\(K_{t}\)</span>) נראים.</p>
<p>בואו נתחיל עם מקרה פרטי שהיה ידוע בימיו של טורן - <span class="math">\(K_{3}\)</span>, משולש. השאלה הראשונה, שעליה אתם יכולים לחשוב בעצמכם, היא איך אפשר לבנות גרף "גדול" (כלומר, עם הרבה קשתות - <span class="math">\(n\)</span> קבוע, זוכרים?) שעדיין לא יכיל משולש. אספיילר אותה כעת מייד אז מי שרוצה לחשוב בעצמו, שיפסיק לקרוא.</p>
<p>התעלול הוא להשתמש במה שנקרא "גרף דו צדדי". גרף דו צדדי הוא כזה שניתן לחלק את צמתיו לשתי קבוצות - הטובים והרעים - כך שכל צומת שייך לאחת מהקבוצות, וכל קשת בהכרח מחברת בין טוב ורע; אין קשת בין שני טובים, או קשת בין שני רעים. בגרף כזה לא יכול להיות משולש, כי בקבוצה של שלושה קודקודים יש שני טובים (שאינם מחוברים בקשת) או שני רעים (שאינם מחוברים בקשת). מצד שני, בגלל שאנחנו יודעים שבגרף דו צדדי מובטח לנו שלא יהיה משולש אנחנו יכולים להתפרע ולהוסיף כמה קשתות שבא לנו כל עוד הן לא מחברות שני טובים או שני רעים. באופן כללי אם יש <span class="math">\(a\)</span> טובים ו-<span class="math">\(b\)</span> רעים וכל טוב מחובר לרע בקשת יהיו לנו <span class="math">\(ab\)</span> קשתות בגרף. מכיוון ש-<span class="math">\(n=a+b\)</span>, זה אומר שיהיו לנו <span class="math">\(a\left(n-a\right)=na-a^{2}\)</span> קשתות בגרף, והשאלה היא איזה ערך של <span class="math">\(a\)</span> ייתן לנו את המקסימום. <a href="http://www.gadial.net/2011/01/16/derivative_and_extremal_problems_1-2/">קצת חשבון דיפרנציאלי</a> (אני לא אומר שאין דרכים אחרות, ועוד נראה כאלו) נותן בקלות את התשובה הלא מפתיעה - <span class="math">\(a=\frac{n}{2}\)</span> (אם <span class="math">\(n\)</span> אי זוגי מעגלים כלפי מטה או מעלה, זה לא משנה). כלומר המספר המקסימלי של קשתות מתקבל כאשר מחלקים את הגרף לשתי קבוצות שוות של צמתים, ואז יהיו <span class="math">\(\frac{n^{2}}{4}\)</span> קשתות. כלומר, <span class="math">\(\text{ex}\left(n,K_{3}\right)=\frac{n^{2}}{4}\)</span>. כל זה היה ידוע בימיו של טורן; המשפט שלו הוא פשוט הכללה רדיקלית שנותנת את <span class="math">\(\text{ex}\left(n,K_{t}\right)\)</span>לכל <span class="math">\(t\)</span>.</p>
<p>כדי לפשט טיפה את הסימונים מכאן ואילך אניח שאנחנו מנסים למצוא את <span class="math">\(\text{ex}\left(n,K_{t+1}\right)\)</span>; עוד שניה יהיה ברור לכולם למה עדיף לדבר על <span class="math">\(t+1\)</span> כאן.</p>
<p>הצעד הראשון הוא לנסות ולבנות גרפים גדולים ככל האפשר שאינם מכילים קליק מגודל <span class="math">\(t+1\)</span>. ממש מתבקש להכליל כאן את הרעיון שכבר הצגתי - במקום גרף דו-צדדי, לקחת גרף <span class="math">\(t\)</span> צדדי, כלומר כזה שבו הצמתים מחולקים ל-<span class="math">\(t\)</span> קבוצות ואין קשת בין שני חברי אותה קבוצה (אבל כל צומת מקבוצה מסויימת יכול להיות מחובר לכל צומת מכל קבוצה אחרת). ההוכחה שאין בגרף כזה קליק מגודל <span class="math">\(t+1\)</span> זהה: אם יש <span class="math">\(t+1\)</span> צמתים יש לפחות שני צמתים מאותה קבוצה (זהו עקרון שובך היונים בפעולה) ולכן זוג צמתים בלי קשת ביניהם).</p>
<p>כמקודם, די ברור שכדאי לבחור את כל הקבוצות מאותו הגודל בדיוק, ככל שזה אפשרי. למי שזה בכל זאת לא ברור לו, הנה הוכחה בנפנוף ידיים: אם בקבוצה של הטובים יש יותר צמתים מבקבוצה של הרעים, ו-<span class="math">\(v\)</span> הוא צומת בקבוצה של הרעים, רק נאבד קשתות אם נעביר אותו לקבוצה של הטובים: מספר הקשתות שנאבד הוא כמספר הקשתות שבהן <span class="math">\(v\)</span> חובר לטובים (עכשיו הוא לא יהיה מסוגל להיות מחובר אליהן), כלומר כמספר הטובים; ומספר הקשתות שנרוויח הוא כמספר הרעים <strong>פחות אחד</strong> כי הם איבדו את <span class="math">\(v\)</span>. כלומר, הפסדנו יותר משהרווחנו. כעת, אם <span class="math">\(v\)</span> שייך לטובים דווקא אז כשנעביר אותו נאבד קשתות כמספר הרעים, ונרוויח קשתות כמספר הטובים פחות אחד. במקרה הגרוע ביותר לא הרווחנו כלום (אם ההפרש בין הקבוצות הוא בדיוק אחד) ואחרת הרווחנו.</p>
<p>לצורך פשטות נניח מכאן ואילך ש-<span class="math">\(t\)</span> מחלק את <span class="math">\(n\)</span>, אחרת סתם הסימונים שלנו יהיו מסורבלים בהרבה. במקרה הזה, כל הקבוצות יהיו מאותו גודל - <span class="math">\(\frac{n}{t}\)</span>. כמה קשתות יהיו? כמו שראינו קודם, בין כל שתי קבוצות של צמתים מחברות <span class="math">\(\frac{n^{2}}{t^{2}}\)</span> קשתות; ויש לנו <span class="math">\({t \choose 2}=\frac{t\left(t-1\right)}{2}\)</span> זוגות (למי שלא מכיר את הסימון הזה - <a href="http://www.gadial.net/2010/06/22/newton_binom/">נעים להכיר</a>). לכן יש בסך הכל <span class="math">\(\frac{t\left(t-1\right)}{2}\cdot\frac{n^{2}}{t^{2}}=\frac{t-1}{t}\frac{n^{2}}{2}=\left(1-\frac{1}{t}\right)\frac{n^{2}}{2}\)</span> קשתות.</p>
<p>כעת אפשר לנסח את משפט טורן. פורמלית, הוא אומר ש-<span class="math">\(\text{ex}\left(n,K_{t+1}\right)=\left(1-\frac{1}{t}\right)\frac{n^{2}}{2}\)</span>, אבל ניסוחים כאלו הם אחד מהדברים השנואים עלי במתמטיקה. לא כי הוא לא נכון או לא מדויק או כל דבר אחר, אלא כי אם זה מה שתראו למישהו מבחוץ הוא לא יבין את הקטע. אוקיי, אז יש לנו איזו נוסחה לא יפה במיוחד עבור <span class="math">\(\text{ex}\left(n,K_{t+1}\right)\)</span>, אז מה? הפואנטה כאן לטעמי היא שמשפט טורן אומר שהגרפים האקסטרמליים במקרה הזה הם אכן הגרפים ה-<span class="math">\(t\)</span> צדדיים שבנינו - דרך הרבה יותר ציורית ויפה להבין את המספר <span class="math">\(\left(1-\frac{1}{t}\right)\frac{n^{2}}{2}\)</span> (כמובן, לערך המספרי יש חשיבות ביישומים של המשפט). כך זה תמיד במתמטיקה - המטרה היא לא איזו נוסחה סגורה מפוצצת, אלא ה<strong>הבנה של התופעה</strong> שמאחורי הנוסחה (הבנה שלא תהיה שלמה עד שההוכחות לא יסייעו לנו להבין <strong>למה</strong> הגרפים ה-<span class="math">\(t\)</span> צדדיים הם אכן אקסטרמליים).</p>
<p>אני רוצה להציג שלוש הוכחות למשפט. הראשונה של טורן עצמו שהיא פשוטה ויפה וברורה. השניה של אלון וספנסר שהיא קסם וודו מוחלט, אבל ממחישה יפה את כוחה של השיטה ההסתברותית (שאלון וספנסר כתבו את הספר עליה, תרתי משמע). והשלישית היא אלמנטרית לחלוטין, מבהירה מיידית ובצורה מוחלטת למה הגרפים ה-<span class="math">\(t\)</span> צדדיים הם האקסטרימליים, ולא ברור מי המציא אותה. כל ההוכחות מגיעות מהספר <a href="http://en.wikipedia.org/wiki/Proofs_from_THE_BOOK">Proofs from THE BOOK</a> שכולל גם שתי הוכחות שלא אראה כאן.</p>
<p>ראשית, ניסוח מדויק של המשפט שכוחו יפה גם ל-<span class="math">\(n\)</span> שלא מתחלק על ידי <span class="math">\(t\)</span>: אם <span class="math">\(G\)</span> הוא גרף בעל <span class="math">\(n\)</span> צמתים ואין בו קליק מגודל <span class="math">\(t+1\)</span> (כאשר <span class="math">\(t\ge2\)</span>), אז מספר הקשתות ב-<span class="math">\(G\)</span> הוא לא יותר מ-<span class="math">\(\left(1-\frac{1}{t}\right)\frac{n^{2}}{2}\)</span>.</p>
<p>נתחיל עם טורן. טורן מוכיח את המשפט באינדוקציה על <span class="math">\(n\)</span>, כש-<span class="math">\(t\)</span> קבוע. כל עוד <span class="math">\(n\le t\)</span> אז לא משנה אילו קשתות יהיו בגרף, לא יוכל להיות בו קליק מגודל <span class="math">\(t+1\)</span> כי אין מספיק צמתים; לכן צריך לוודא שמספר הקשתות הכולל בגרף לא יכול לעלות על החסם. מספר הקשתות המקסימלי האפשרי בגרף עם <span class="math">\(n\)</span> צמתים הוא <span class="math">\(\frac{n\left(n-1\right)}{2}\)</span>, ובעזרת אי השוויון <span class="math">\(n\le t\)</span> מקבלים:</p>
<p><span class="math">\(\frac{n\left(n-1\right)}{2}\le\left(t-1\right)\frac{n}{2}\le\frac{t-1}{t}\cdot\frac{n^{2}}{2}=\left(1-\frac{1}{t}\right)\frac{n^{2}}{2}\)</span></p>
<p>כך שעם זה סיימנו. החלק המעניין הוא לטפל במקרה שבו <span class="math">\(n&gt;t\)</span>. מספיק להראות שבגרף עם מספר קשתות מקסימלי (ביחס לתכונה "לא מכיל את <span class="math">\(K_{t+1}\)</span>) מתקיים החסם הנדרש, כי לכל גרף אחר אפשר להוסיף קשתות עד שמגיעים לגרף מקסימלי שכזה. גרף מקסימלי שכזה בהכרח יכיל את <span class="math">\(K_{t}\)</span> (כי אם לא, הוא לא היה מקסימלי; הוספה של קשת לא הייתה יכול ליצור את <span class="math">\(K_{t+1}\)</span> כי מ-<span class="math">\(K_{t+1}\)</span> אפשר לקבל את <span class="math">\(K_{t}\)</span> על ידי הסרה של קשת אחת וסילוק אחד הצמתים שמחוברים אליה). הרעיון הוא כעת לחלק את הגרף לשני חלקים: <span class="math">\(A\)</span> תהיה קבוצת הצמתים של הקליק מגודל <span class="math">\(t\)</span> הזה, ו-<span class="math">\(B\)</span> תהיה קבוצת שאר הצמתים.</p>
<p>ב-<span class="math">\(A\)</span> יש בדיוק <span class="math">\({t \choose 2}\)</span> קשתות שהרי בין כל זוג צמתים שם יש קשת. על <span class="math">\(B\)</span> אנחנו יכולים להשתמש בהנחת האינדוקציה כי מספר הצמתים בה קטן מ-<span class="math">\(n\)</span>, כך שאנחנו יודעים שיש בה לכל היותר <span class="math">\(\left(1-\frac{1}{t}\right)\frac{\left(n-t\right)^{2}}{2}\)</span> קשתות. אילו עוד קשתות יכולות להתקיים בגרף? כאלו שמחברות את <span class="math">\(A\)</span> עם <span class="math">\(B\)</span>. כל צומת ב-<span class="math">\(B\)</span> יכולה להתחבר כמעט לכל הצמתים של <span class="math">\(A\)</span>, אבל רק כמעט; אם היא תתחבר לכל הצמתים של <span class="math">\(A\)</span>, אז היא יחד עם <span class="math">\(A\)</span> יהוו קליק מגודל <span class="math">\(t+1\)</span>. לכן כל צומת מ-<span class="math">\(B\)</span> מחוברת בקשת לכל היותר ל-<span class="math">\(t-1\)</span> צמתים מ-<span class="math">\(A\)</span>. אלו כל האבחנות שצריך, והיתר הוא חשבון מכולת. אנחנו מקבלים שמספר הקשתות הכולל בגרף חסום על ידי:</p>
<p><span class="math">\({t \choose 2}+\left(1-\frac{1}{t}\right)\frac{\left(n-t\right)^{2}}{2}+\left(n-t\right)\left(t-1\right)\)</span></p>
<p>אחרי סידור מחדש קטן מקבלים שזה שווה ל:</p>
<p><span class="math">\(\left(t-1\right)\left[\frac{t}{2}+\frac{\left(n-t\right)^{2}}{2t}+\left(n-t\right)\right]=\left(t-1\right)\left[\frac{t}{2}+\frac{\left(n-t\right)\left(n+t\right)}{2t}\right]\)</span></p>
<p><span class="math">\(=\left(t-1\right)\left[\frac{t^{2}+n^{2}-t^{2}}{2t}\right]=\left(1-\frac{1}{t}\right)\frac{n^{2}}{2}\)</span></p>
<p>כמו קסם, קיבלנו לבסוף בדיוק את החסם שרצינו.</p>
<p>כמובן, אין כאן שום קסם אמיתי, זה היופי בהוכחה הזו - התוצאה חייבת להתקבל, אין מנוס מכך. יש לנו כאן דוגמה קלאסית להוכחה באינדוקציה: ראשית, טורן מזהה מרכיב כלשהו ש<strong>חייב</strong> להופיע בגרף אקסטרימלי כלשהו (<span class="math">\(K_{t}\)</span>). האבחנה הזו היא המפתח לנצחון, ומאותו רגע ההמשך מתבקש: לפרק את הגרף, למתוח כמה קשתות שרק אפשר בין הרכיבים, ולהשתמש בהנחת האינדוקציה על מה שנשאר. בעצם טורן מראה כאן ש-<span class="math">\(\text{ex}\left(n,K_{t+1}\right)\)</span> מקיים את נוסחת הנסיגה <span class="math">\(\text{ex}\left(n,K_{t+1}\right)=\text{ex}\left(n-t,K_{t+1}\right)+{t \choose 2}+\left(n-t\right)\left(t-1\right)\)</span> עבור <span class="math">\(n&gt;t\)</span>, רק שכאן אין לנו צורך לפתור את הנוסחה הזו כי כבר היה לנו ניחוש מוצלח לגבי הערך של <span class="math">\(\text{ex}\left(n,K_{t+1}\right)\)</span> מלכתחילה (בסיטואציות קומבינטוריות אחרות לא יהיה לנו כזה ואז נוסחת נסיגה שכזו תעזור גם להבין מה בדיוק הערך שאנחנו מחפשים).</p>
<p>נעבור כעת להוכחה השניה, של אלון וספנסר. הם לוקחים גרף כלשהו <span class="math">\(G\)</span> בעל <span class="math">\(n\)</span> צמתים שמסומנים לצורך נוחות ב-<span class="math">\(v_{1},\dots,v_{n}\)</span>, מסמנים ב-<span class="math">\(d_{i}\)</span> את הדרגה של הצומת <span class="math">\(v_{i}\)</span>, כלומר מספר הקשתות שמחוברות אליו. כעת, אם נסמן ב-<span class="math">\(\omega\left(G\right)\)</span> את גודל הקליק הגדול ביותר ב-<span class="math">\(G\)</span>, אלון וספנסר טוענים שמתקיים:</p>
<p><span class="math">\(\omega\left(G\right)\ge\sum_{i=1}^{n}\frac{1}{n-d_{i}}\)</span></p>
<p>זו טענה דטרמיניסטית למהדרין, ומרגע שיש לנו אותה המשך ההוכחה נובע באופן טבעי. קודם נראה איך הטענה הזו מסיימת את ההוכחה, ואז נעבור להוכיח אותה עצמה - ההוכחה של הטענה תהיה מבוססת על השיטה ההסתברותית.</p>
<p>אז איך הטענה מסיימת את ההוכחה? כאן שולפים כלי מתמטי סטנדרטי מהשרוול - אי שוויון קושי-שוורץ. לאי השוויון הזה מספר ניסוחים ואבחר את הניסוח הפשוט יחסית שרלוונטי עבורנו: אם <span class="math">\(a_{1},\dots,a_{n}\)</span> ו-<span class="math">\(b_{1},\dots,b_{n}\)</span> הן סדרות מספרים אז:</p>
<p><span class="math">\(\left(\sum_{i=1}^{n}a_{i}b_{i}\right)^{2}\le\left(\sum_{i=1}^{n}a_{i}^{2}\right)\left(\sum_{i=1}^{n}b_{i}^{2}\right)\)</span></p>
<p>ובמילים: ריבוע סכום המכפלות של אברי הסדרות קטן או שווה למכפלת סכום הריבועים של אברי הסדרות. לטעמי זה עוד אחד מהמקרים שבהם הנוסחה הרבה יותר קלה לקריאה מהניסוח המילולי.</p>
<p>השימוש כאן בקושי-שוורץ הוא פשוט יחסית. נבחר <span class="math">\(a_{i}=\sqrt{n-d_{i}}\)</span> ו-<span class="math">\(b_{i}=\left(\sqrt{n-d_{i}}\right)^{-1}\)</span>, נציב בנוסחה ונקבל:</p>
<p><span class="math">\(n^{2}\le\left(\sum_{i=1}^{n}\left(n-d_{i}\right)\right)\left(\sum_{i=1}^{n}\frac{1}{n-d_{i}}\right)\le\omega\left(G\right)\sum_{i=1}^{n}\left(n-d_{i}\right)\)</span></p>
<p>עכשיו יש לנו עוד שני תעלולים לשלוף מהשרוול: ראשית, אנחנו מניחים ש-<span class="math">\(\omega\left(G\right)\le t\)</span> - זו ההנחה הבסיסית שלנו, לפיה הגרף לא מכיל את הקליק <span class="math">\(K_{t+1}\)</span>. שנית, יש לנו דרך לקשר בין הדרגות של כל הצמתים בגרף ובין מספר הקשתות בו. אם מספר הקשתות הוא <span class="math">\(e\)</span>, אז בכל גרף (סופי) שהוא מתקיים השוויון <span class="math">\(2e=\sum_{i=1}^{n}d_{i}\)</span>, שכן כל קשת בגרף תורמת 1 לדרגות של שני הצמתים שהיא מחוברת אליהם. מכל אלה אפשר להסיק כעת:</p>
<p><span class="math">\(n^{2}\le t\cdot\left(n^{2}-2e\right)\)</span></p>
<p>וכל שנשאר הוא ללהטט קצת כדי לחלץ את <span class="math">\(e\)</span>. פתיחת סוגריים, העברת אגפים, ונקבל:</p>
<p><span class="math">\(2et\le n^{2}\left(t-1\right)\)</span></p>
<p>חלוקה ונקבל:</p>
<p><span class="math">\(e\le\left(1-\frac{1}{t}\right)\frac{n^{2}}{2}\)</span></p>
<p>בדיוק מה שרצינו.</p>
<p>בינתיים זה היה טכני ולא הכי מעניין, אני חייב להודות; לב ההוכחה הוא בטענה <span class="math">\(\omega\left(G\right)\ge\sum_{i=1}^{n}\frac{1}{n-d_{i}}\)</span> וההוכחה ההסתברותית שלה שאציג כעת.</p>
<p>במבט ראשון לא ברור איך הסתברות יכולה להשתחל לכאן. הגרף <span class="math">\(G\)</span> נתון וקבוע; מה בדיוק נגריל ואיך? הרעיון של אלון וספנסר הוא להגריל <strong>סדר</strong> על הצמתים - פורמלית, פרמוטציה <span class="math">\(\pi\)</span> כלשהי שלהם, כשכל פרמוטציה נבחרת בהסתברות שווה, <span class="math">\(\frac{1}{n!}\)</span>. נניח שהצמתים <span class="math">\(v_{1},\dots,v_{n}\)</span> כבר מסודרים על פי הפרמוטציה הזו, ונגדיר קבוצת צמתים <span class="math">\(C_{\pi}\)</span> שמכילה את כל הצמתים <span class="math">\(v_{i}\)</span> שמחוברים בקשת לכל הצמתים שבאים לפניהם בפרמוטציה, כלומר לכל <span class="math">\(v_{j}\)</span> כך ש-<span class="math">\(j&lt;i\)</span>.</p>
<p>הנקודה המהותית כאן היא ש-<span class="math">\(C_{\pi}\)</span> היא <strong>קליק</strong>. למה? ובכן, קחו ב-<span class="math">\(C_{\pi}\)</span> את הצומת עם האינדקס המקסימלי; על פי הגדרה, הוא מחובר לכל הצמתים עם אינדקס קטן יותר ובפרט לכל צמתי <span class="math">\(C_{\pi}\)</span>. כעת קחו את הצומת המקסימלי הבא בתור... הבנתם את הרעיון.</p>
<p>יפה, אז הצלחנו להגדיר איכשהו מרחב הסתברות שמערב קליקים. אנחנו מעוניינים בחסם כלשהו על גדלי הקליקים, אז נגדיר <strong>משתנה מקרי</strong> <span class="math">\(X=\left|C_{\pi}\right|\)</span> - גודל <span class="math">\(C_{\pi}\)</span>. בגלל האופן שבה <span class="math">\(C_{\pi}\)</span> נבנתה, קל לפרק את <span class="math">\(X\)</span> לסכום של אינדיקטורים (משתנים מקריים שמקבלים 0 או 1 בלבד): <span class="math">\(X=\sum_{i=1}^{n}X_{i}\)</span> כאשר <span class="math">\(X_{i}\)</span> מקבל 1 אם <span class="math">\(v_{i}\)</span> מחובר בקשת לכל הצמתים שקדמו לו.</p>
<p>כעת השאלה הפשוטה היא - מה ההסתברות ש-<span class="math">\(X_{i}=1\)</span>? מכיוון שכל הקשתות כבר נקבעו, זה תלוי בדרגה של <span class="math">\(v_{i}\)</span>: אם <span class="math">\(v_{i}\)</span> מחובר ל-<span class="math">\(d_{i}\)</span> צמתים, ההסתברות לכך שכל הצמתים שיהיו לפני <span class="math">\(v_{i}\)</span> בפרמוטציה יהיו מתוך <span class="math">\(d_{i}\)</span> הצמתים שהוא מחובר אליהם היא בעצם ההסתברות שמבין כל <span class="math">\(n-d_{i}\)</span> הצמתים שאינם מחוברים אל <span class="math">\(v_{i}\)</span>, כולל <span class="math">\(v_{i}\)</span> עצמו, יהיה זה <span class="math">\(v_{i}\)</span> שמופיע ראשון. מכיוון שיש סימטריה בין כל <span class="math">\(n-d_{i}\)</span> הצמתים הללו, ההסתברות לכך היא <span class="math">\(\frac{1}{n-d_{i}}\)</span> (אתם מוזמנים לעשות חישוב פורמלי אם לא שוכנעתם).</p>
<p>זה מסיים את העניין אם זוכרים מה קורה בדרך כלל בשלב הזה בשיטה ההסתברותית. תוחלת של אינדיקטור היא ההסתברות שהוא יקבל 1, כלומר <span class="math">\(\text{E}\left[X_{i}\right]=\frac{1}{n-d_{i}}\)</span>. לינאריות התוחלת נותנת לנו כעת</p>
<p><span class="math">\(\text{E}\left[X\right]=\text{E}\left[\sum_{i=1}^{n}X_{i}\right]=\sum_{i=1}^{n}\text{E}\left[X_{i}\right]=\sum_{i=1}^{n}\frac{1}{n-d_{i}}\)</span></p>
<p>ואנחנו מסיימים כי במרחב ההסתברות שלנו חייב להיות איבר שנותן ל-<span class="math">\(X\)</span> לפחות את ערך התוחלת שלו, כלומר קליק שגודלו לפחות <span class="math">\(\sum_{i=1}^{n}\frac{1}{n-d_{i}}\)</span>.</p>
<p>שלא יהיה לכם ספק; אני לא מקבל שום אינטואיציה ל"מה הולך פה" מההוכחה הזו. היא פשוט מגניבה.</p>
<p>נעבור כעת להוכחה השלישית, שכנראה מבהירה הכי טוב "מה הולך פה". מה שההוכחה מראה הוא שהגרף האקסטרמלי חייב להיות גרף <span class="math">\(k\)</span>-צדדי <strong>כלשהו</strong>. כבר הגענו קודם למסקנה שמבין הגרפים ה-<span class="math">\(k\)</span> צדדיים, הכי טוב הוא גרף <span class="math">\(t\)</span> צדדי שבו כל הצדדים כמעט מאותו גודל (הפרש 1 לכל היותר בין כל שני צדדים), כי אם זה לא כך ניתן להזיז צמתים ולהגדיל את מספר הקשתות (וגרף <span class="math">\(t+1\)</span> צדדי כבר יכיל קליק מגודל <span class="math">\(t+1\)</span>).</p>
<p>גרף <span class="math">\(k\)</span>-צדדי כלשהו מאופיין בדרך כלל על ידי ההגדרה ה"גלובלית" שלפיה "יש חלוקה של צמתי הגרף ל-<span class="math">\(k\)</span> קבוצות, כך ש...". אך למעשה, קיימת גם הגדרה "לוקלית" פשוטה במקרה שבו הגרף מכיל את כל הקשתות האפשריות: גרף הוא <span class="math">\(k\)</span>-צדדי מלא, עבור <span class="math">\(k\)</span> כלשהו, אם לכל זוג צמתים <span class="math">\(u,v\)</span> שמחובר בקשת, וצומת נוסף <span class="math">\(w\)</span>, <span class="math">\(w\)</span> חייב להיות מחובר ל-<span class="math">\(u\)</span> או ל-<span class="math">\(v\)</span>.</p>
<p>הטענה בבירור מתקיימת בגרף <span class="math">\(k\)</span> צדדי מלא - אם <span class="math">\(u,v\)</span> מחוברים בקשת זה אומר שהם לא באותו צד, ולכן לא ייתכן ש-<span class="math">\(w\)</span> יהיה גם בצד של <span class="math">\(u\)</span> וגם בצד של <span class="math">\(v\)</span> בו זמנית, ולכן הוא יהיה מחובר לאחד מהם (הרי הגרף מכיל כל קשת חוקית).</p>
<p>למה אם הטענה נכונה הגרף הוא <span class="math">\(k\)</span> צדדי מלא? ובכן, למי שמכיר את המושג: כי היחס "<span class="math">\(u,v\)</span> לא מחוברים בקשת" הוא יחס שקילות; ולמי שלא מכיר, אפשר לבנות את הצדדים כך - ניקח צומת תמים <span class="math">\(u\)</span>, ונגדיר את "הצד של <span class="math">\(u\)</span>" בתור אוסף כל הצמתים ש-<span class="math">\(u\)</span> לא מחובר אליהם. לא ייתכן שבקבוצה הזו יהיו שני צמתים <span class="math">\(v,w\)</span> שמחוברים בקשת (כי אז העובדה ש-<span class="math">\(u\)</span> לא מחובר לאף אחד מהם סותרת את הטענה שלנו), לכן זה אכן צד חוקי של גרף <span class="math">\(k\)</span> צדדי. בנוסף, אם ניקח צומת <span class="math">\(v\)</span> כלשהו בצד הזה, הוא יהיה חייב להיות מחובר לכל צומת שאינה באותו צד איתו; כי אם יש צומת <span class="math">\(w\)</span> שאינה באותו צד איתו אז על פי הגדרת הצד, <span class="math">\(w\)</span> מחובר ל-<span class="math">\(u\)</span>, ולא ייתכן ש-<span class="math">\(v\)</span> לא יהיה מחובר לא ל-<span class="math">\(u\)</span> ולא ל-<span class="math">\(w\)</span>.</p>
<p>יפה, אז יש לנו אפיון לוקלי פשוט, וכל שצריך להראות הוא שהאפיון מתקיים בגרף האקסטרמלי. נניח בשלילה שהוא לא, אז יש לנו שלושה צמתים בגרף: <span class="math">\(u,v,w\)</span>, כך ש-<span class="math">\(u,v\)</span> מחוברים בקשת ואילו <span class="math">\(w\)</span> לא מחובר לאף אחד מהם. הרעיון הוא לבנות עכשיו מהגרף הקיים גרף חדש שבו יש <strong>יותר</strong> קשתות ואותו מספר צמתים ועדיין אין בו את <span class="math">\(K_{t+1}\)</span>, בסתירה לאקסטרימליות של הגרף שלנו.</p>
<p>איך עושים את זה? פשוט: מעיפים מהגרף את אחד מהצמתים <span class="math">\(u,v,w\)</span> שיש לו מעט קשתות ושמים במקומו עותק של אחד מהצמתים האחרים. אם למשל מתקיים ש-<span class="math">\(d\left(u\right)&gt;d\left(w\right)\)</span>, אז נעיף מהגרף את <span class="math">\(w\)</span>; בכך איבדנו <span class="math">\(d\left(w\right)\)</span> קשתות. כפיצוי, נוסף לגרף צומת <span class="math">\(u^{\prime}\)</span> שמחובר בדיוק לאותם צמתים ש-<span class="math">\(u\)</span> מחובר אליהם; זה ייתן לנו עוד <span class="math">\(d\left(u\right)\)</span> קשתות, כלומר הרווחנו. לא קשה לראות שהוספת <span class="math">\(u^{\prime}\)</span> לגרף לא יכולה ליצור קליק מגודל <span class="math">\(t+1\)</span>: אם יש קליק כזה, אז היה קליק כזה גם בגרף המקורי, רק עם <span class="math">\(u\)</span> במקום <span class="math">\(u^{\prime}\)</span> (לא ייתכן שיש קליק שמערב הן את <span class="math">\(u\)</span> והן את <span class="math">\(u^{\prime}\)</span> יחד, שכן אין קשת ביניהם).</p>
<p>באופן דומה מטפלים במקרה שבו <span class="math">\(d\left(v\right)&gt;d\left(w\right)\)</span>. המקרה היחיד שנותר לנו הוא זה שבו <span class="math">\(d\left(w\right)\ge d\left(u\right),d\left(v\right)\)</span>. כאן נעיף מהגרף את <span class="math">\(u,v\)</span> שניהם גם יחד ונשים שני עותקים של <span class="math">\(w\)</span>; הסיבה שבגללה נרוויח כך קשת היא שכשמסירים את <span class="math">\(u,v\)</span> לא מאבדים <span class="math">\(d\left(u\right)+d\left(v\right)\)</span> קשתות אלא רק <span class="math">\(d\left(u\right)+d\left(v\right)-1\)</span> קשתות, שכן הקשת המשותפת של <span class="math">\(u,v\)</span> מוסרת רק פעם אחת. זה מסיים את ההוכחה הזו.</p>
<p>למשפט יש עוד מספר הוכחות, יפות לא פחות, אבל אני חושב שכבר הבאתי מספיק להפעם; אני מקווה שעכשיו ברור לכל הקוראים "מה הולך שם" וגם למה זה מעניין.</p>
        </article>
        
        <footer>
            <p>© כל הזכויות שמורות לגדי אלכסנדרוביץ'</p>
        </footer>
    </div>

    
    <script>
        function toggleMobileMenu() {
            const navLinks = document.getElementById('navLinks');
            navLinks.classList.toggle('expanded');
        }
        
        function searchPosts() {
            const searchTerm = document.getElementById('searchInput').value;
            if (searchTerm.trim()) {
                window.location.href = '/blog/post_list.html?search=' + encodeURIComponent(searchTerm);
            }
        }
        
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchPosts();
            }
        });
    </script>
    
    
    <!-- Auto-render KaTeX math -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            renderMathInElement(document.body, {
                delimiters: [
                    {left: "\\[", right: "\\]", display: true},
                    {left: "\\(", right: "\\)", display: false}
                ],
                throwOnError: false
            });
        });
    </script>

</body>
</html>