<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>פונקציות יוצרות - לא מדויק</title>
    <link rel="icon" type="image/x-icon" href="/new_blog/favicon.ico">
    
    
    <!-- KaTeX for math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>

    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', 'David', 'Tahoma', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
        }
        
        /* Top navigation bar */
        .top-nav {
            background: #2c3e50;
            padding: 15px 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .top-nav .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
        }
        
        .top-nav .site-title {
            font-size: 1.5em;
            font-weight: bold;
            color: white;
            text-decoration: none;
            white-space: nowrap;
        }
        
        .top-nav .nav-links {
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .top-nav .nav-links a {
            color: #ecf0f1;
            text-decoration: none;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background 0.2s;
            white-space: nowrap;
        }
        
        .top-nav .nav-links a:hover {
            background: #34495e;
        }
        
        .top-nav .search-box {
            display: flex;
            gap: 5px;
        }
        
        .top-nav .search-box input {
            padding: 5px 10px;
            border: none;
            border-radius: 4px;
            font-size: 0.9em;
            min-width: 150px;
        }
        
        .top-nav .search-box button {
            padding: 5px 15px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .top-nav .search-box button:hover {
            background: #2980b9;
        }
        
        /* Hamburger menu button */
        .menu-toggle {
            display: none;
            background: none;
            border: none;
            font-size: 1.8em;
            color: white;
            cursor: pointer;
            padding: 0;
            line-height: 1;
        }
        
        .menu-toggle:hover {
            opacity: 0.8;
        }
        
        /* Mobile responsive */
        @media (max-width: 768px) {
            .top-nav .nav-container {
                flex-direction: column;
                align-items: stretch;
            }
            
            .top-nav .site-title {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 0;
                padding: 10px 0;
            }
            
            .menu-toggle {
                display: block;
            }
            
            /* Hide nav links by default on mobile */
            .top-nav .nav-links {
                display: none;
                flex-direction: column;
                width: 100%;
                margin-top: 10px;
            }
            
            /* Show when expanded */
            .top-nav .nav-links.expanded {
                display: flex;
            }
            
            .top-nav .nav-links > a {
                text-align: center;
                padding: 12px;
                border-top: 1px solid rgba(255, 255, 255, 0.2);
            }
            
            .top-nav .search-box {
                width: 100%;
                flex-direction: column;
                margin-top: 10px;
                padding-top: 10px;
                border-top: 1px solid rgba(255, 255, 255, 0.2);
            }
            
            .top-nav .search-box input {
                width: 100%;
                margin-bottom: 5px;
                min-width: 0;
            }
            
            .top-nav .search-box button {
                width: 100%;
            }
        }
        
        /* Blockquote styling */
        blockquote {
            background: #f9f9f9;
            border-right: 5px solid #ccc;
            margin: 1.5em 10px;
            padding: 0.75em 16px;
            position: relative;
            font-style: italic;
        }
        
        blockquote:before {
            content: '"';
            position: absolute;
            top: -10px;
            right: 8px;
            font-size: 3.5em;
            color: #ccc;
            line-height: 1;
        }
        
        blockquote p {
            display: block;
            margin: 0 0 0.75em 0;
        }
        
        blockquote p:last-child {
            margin-bottom: 0;
        }
        
        
        body {
            line-height: 1.8;
        }
        
        .container {
            max-width: 800px;
            margin: 20px auto;
            background: white;
            padding: 40px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
        }
        
        header {
            margin-bottom: 40px;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 20px;
        }
        
        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .post-meta {
            color: #7f8c8d;
            font-size: 0.9em;
        }
        
        .post-meta .date {
            margin-left: 15px;
        }
        
        .post-meta .categories,
        .post-meta .tags {
            display: inline;
        }
        
        .post-meta .categories a,
        .post-meta .tags a {
            color: #3498db;
            text-decoration: none;
            margin: 0 5px;
        }
        
        .post-meta .categories a:hover,
        .post-meta .tags a:hover {
            text-decoration: underline;
        }
        
        article {
            font-size: 1.1em;
        }
        
        article h2 {
            margin-top: 30px;
            margin-bottom: 15px;
            color: #34495e;
            font-size: 1.8em;
        }
        
        article h3 {
            margin-top: 25px;
            margin-bottom: 12px;
            color: #34495e;
            font-size: 1.4em;
        }
        
        article p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        article ul, article ol {
            margin-right: 30px;
            margin-bottom: 15px;
        }
        
        article li {
            margin-bottom: 8px;
        }
        
        article code {
            background-color: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        
        article pre {
            background-color: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin-bottom: 20px;
            direction: ltr;
            text-align: left;
        }
        
        article pre code {
            background-color: transparent;
            padding: 0;
            color: inherit;
        }
        
        /* Image styles - responsive and contained */
        article img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 20px auto;
        }
        
        /* Math rendering styles */
        .math {
            direction: ltr;
        }
        
        span.math {
            direction: ltr;
        }
        
        /* Override RTL for KaTeX */
        .katex {
            direction: ltr;
            unicode-bidi: embed;
        }
        
        /* Force KaTeX content to wrap by overriding its internal structure */
        .katex-html {
            display: inline !important;
            white-space: normal !important;
        }
        
        .katex .base {
            display: inline !important;
            white-space: normal !important;
        }
        
        .katex .mord,
        .katex .mbin,
        .katex .mrel,
        .katex .mopen,
        .katex .mclose,
        .katex .mpunct,
        .katex .minner {
            display: inline !important;
            white-space: normal !important;
        }
        
        div.math {
            display: block;
            text-align: center;
            padding: 15px 0;
            direction: ltr;
        }
        
        /* RTL adjustments for code blocks */
        .highlight {
            direction: ltr;
            text-align: left;
        }
        
        footer {
            margin-top: 60px;
            padding-top: 20px;
            border-top: 1px solid #e0e0e0;
            text-align: center;
            color: #95a5a6;
            font-size: 0.9em;
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2em;
            }
            
            article {
                font-size: 1em;
            }
            
            /* Hide post navigation on mobile */
            .post-navigation {
                display: none;
            }
        }
        
        /* Post navigation */
        .post-navigation {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #e0e0e0;
            gap: 20px;
        }
        
        .post-navigation .nav-link {
            flex: 1;
            text-decoration: none;
            color: #2c3e50;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 5px;
            transition: background 0.2s;
        }
        
        .post-navigation .nav-link:hover {
            background: #e9ecef;
        }
        
        .post-navigation .nav-prev {
            text-align: right;
        }
        
        .post-navigation .nav-next {
            text-align: left;
        }
        
        .post-navigation .nav-label {
            font-size: 0.85em;
            color: #7f8c8d;
            display: block;
            margin-bottom: 5px;
        }
        
        .post-navigation .nav-title {
            font-weight: bold;
            font-size: 1.1em;
        }

    </style>
</head>
<body>
    <nav class="top-nav">
        <div class="nav-container">
            <div class="site-title">
                <a href="/new_blog/" style="color: white; text-decoration: none;">לא מדויק</a>
                <button class="menu-toggle" onclick="toggleMobileMenu()" aria-label="תפריט">
                    ☰
                </button>
            </div>
            <div class="nav-links" id="navLinks">
                <a href="/new_blog/">דף הבית</a>
                <a href="/new_blog/random.html">פוסט אקראי</a>
                <a href="/new_blog/post_list.html">כל הפוסטים</a>
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="חיפוש...">
                    <button onclick="searchPosts()">חפש</button>
                </div>
            </div>
        </div>
    </nav>
    
    
    <div class="container">
        <!-- Post Navigation -->
        
        <nav class="post-navigation">
            
            <a href="/new_blog/2009/08/31/questions_and_answers_6/" class="nav-link nav-prev">
                <span class="nav-label">פוסט ישן יותר →</span>
                <span class="nav-title">שאלות ותשובות - מקבץ מס’ 6</span>
            </a>
            

            
            <a href="/new_blog/2009/09/10/automata_and_generating_functions/" class="nav-link nav-next">
                <span class="nav-label">← פוסט חדש יותר</span>
                <span class="nav-title">אז מה הקשר בין אוטומטים ופונקציות יוצרות?</span>
            </a>
            
        </nav>
        
        
        <header>
            <h1>פונקציות יוצרות</h1>
            <div class="post-meta">
                <span class="date">2009-09-08</span>
                
                <span class="categories">
                    | קטגוריות:
                    
                    <a href="/categories/אנליזה מתמטית.html">אנליזה מתמטית</a>
                    
                    <a href="/categories/קומבינטוריקה.html">קומבינטוריקה</a>
                    
                </span>
                
                
            </div>
        </header>
        
        <article>
            <p>אחת מהבעיות הבסיסיות בקומבינטוריקה היא בעיית הספירה של אובייקטים. יש קבוצה של אובייקטים מסוג מסויים - נניח, מספרים שמקיימים תכונה מסויימת, גרפים שנראים כך וכך, דרכים לחלק גלידה לילדים, קלטים האפשריים לאלגוריתם וכו', ואנחנו רוצים לדעת כמה בדיוק יש. לרוב התשובה הפשוטה לשאלות הללו היא "אינסוף" (כמה מספרים ראשוניים יש? אינסוף. לא הכי אינפורמטיבי) וצריך לחדד את השאלה - למשל, לשאול "כמה אובייקטים מכל גודל יש", כש"גודל" מוגדר בהתאם לשאלה. את שאלת המספרים הראשוניים אפשר לחדד ל"כמה מספרים ראשוניים בני <span class="math">\(n\)</span> ספרות יש" (אם כי בפועל, השאלה שבה מתעניינים היא בעיקר "כמה מספרים ראשוניים הקטנים מ-<span class="math">\(n\)</span> קיימים", וזה ראוי לפוסט נפרד). ב"דרכים לחלק גלידה לילדים" אפשר לדבר על הדרכים לחלק גלידה ל-<span class="math">\(n\)</span> ילדים. כשמדברים על גרפים בעלי תכונה מסויימת, אפשר לדבר על גרפים בעלי <span class="math">\(n\)</span> צמתים שמקיימים את התכונה, וכדומה. בשורה התחתונה, לכל אוסף אובייקטים שכזה אנחנו מתאימים סדרה אינסופית <span class="math">\(a_{0},a_{1},a_{2},\dots,a_{n},\dots\)</span> של מספרים טבעיים, שמתארת כמה אובייקטים מכל "גודל" קיימים.</p>
<p>אלא מה? מכיוון שזוהי סדרה אינסופית, לא בהכרח קל לתת לה תיאור קומפקטי. כמובן שכל בעיה קומבינטורית מתחילה מהגדרה מילולית כלשהי של הקבוצה שאותה מונים, אבל זה לא בהכרח מספק מידע כלשהו על הכמות שלהם. אתן דוגמה מייצגת אחת, שאשתמש בה בהמשך - <a href="http://en.wikipedia.org/wiki/Motzkin_number">מסלולי מוצקין</a>. חשבו שאתם מטיילים על דף משבצות - מתחילים מנקודה שאתם מסמנים שרירותית בתור <span class="math">\(\left(0,0\right)\)</span>, ובכל פעם הולכים לנקודה שמימין לנקודה הנוכחית. יש לכם שלוש אפשרויות - או ללכת באלכסון ימינה ולמעלה (כלומר, לזוז מ-<span class="math">\(\left(0,0\right)\)</span> אל <span class="math">\(\left(1,1\right)\)</span>), או ללכת ימינה בלבד (אל <span class="math">\(\left(1,0\right)\)</span>) או ללכת באלכסון ימינה ולמטה (אל <span class="math">\(\left(1,-1\right)\)</span>). כעת מבצעים עוד צעד, ועוד אחד, וכן הלאה וכן הלאה. באופן כללי נגיע לקוארדינטות מהצורה <span class="math">\(\left(a,b\right)\)</span> כאשר <span class="math">\(a,b\)</span> שניהם שלמים ו-<span class="math">\(a\)</span> חיובי (ליתר דיוק, אחרי <span class="math">\(n\)</span> צעדים נגיע לקוארדינטה <span class="math">\(\left(n,b\right)\)</span>, כלומר רק "הגובה" שבו אנו נמצאים אחרי <span class="math">\(n\)</span> צעדים יכול להיות שונה מטיול לטיול).</p>
<p>הבה נשית עוד מגבלה על המסלולים - נאסור על <span class="math">\(b\)</span> להיות שלילי, בכלל, בכל שלב של הטיול. לכן הצעד הראשון כבר לא יכול להיות "ימינה ולמטה"; רק אחרי שנבצע צעד ימינה ולמעלה, ירידה למטה תהיה בכלל לגיטימית. מגבלה אחרונה היא שהמסלול חייב להסתיים בגובה 0. כעת אפשר להגדיר במדוייק - מסלול מוצקין מאורך <span class="math">\(n\)</span> הוא מסלול בן <span class="math">\(n\)</span> צעדים שעונה לדרישות הללו (ולכן מסתיים ב-<span class="math">\(\left(n,0\right)\)</span>). כעת נשאלת השאלה - כמה מסלולים כאלו יש? אם תשחקו קצת עם דף משבצות תגלו שיש מסלול בודד מאורך 1 ("רק ימינה"), שני מסלולים מאורך 2 ("פעמיים ימינה" או "למעלה וימינה ואז למטה וימינה), ארבעה מסלולים מאורך 3 וכן הלאה. נסמן ב-<span class="math">\(a_{n}\)</span> את מספר המסלולים מאורך <span class="math">\(n\)</span> - מהו <span class="math">\(a_{n}\)</span>? האם יש נוסחה עבורו?</p>
<p>וכאן הגענו לבעיה - אמנם, את <span class="math">\(a_{n}\)</span> עלה בידינו להגדיר מילולית, אבל נוסחה אין. זו בעיה נפוצה למדי - לפעמים קשה למצוא את הנוסחה, ולפעמים אפילו לא קיימת נוסחה שאפשר לכתוב במדוייק. אם כן, כדאי לחפש דרכי ייצוג נוספות לכל הסדרה <span class="math">\(a_{0},a_{1},a_{2},\dots\)</span>, רצוי דרכים שבהן קל לבצע מניפולציות לייצוג ולהפיק ממנו מידע על הסדרה. <a href="http://he.wikipedia.org/wiki/%D7%A4%D7%95%D7%A0%D7%A7%D7%A6%D7%99%D7%94_%D7%99%D7%95%D7%A6%D7%A8%D7%AA">פונקציה יוצרת</a> היא אחת מהדרכים המעניינות לעשות זאת.</p>
<p>ישנם מספר סוגים שונים של פונקציות יוצרות, ואציג כאן את הסטנדרטית. אתחיל מהגדרה פורמלית ורק אחר כך אעבור להצדקות. פורמלית, אם כן, פונקציה יוצרת היא הפונקציה <span class="math">\(f\left(x\right)=\sum_{n=0}^{\infty}a_{n}x^{n}\)</span>. כלומר, טור אינסופי של חזקות של <span class="math">\(x\)</span>, כך שהמקדם של החזקה ה-<span class="math">\(n\)</span>-ית הוא בדיוק המספר <span class="math">\(a_{n}\)</span> שאנחנו מנסים "לקודד". מה המשמעות של לקרוא ליצור הזה "פונקציה"? פונקציה היא בדרך כלל יצור שאם מציבים לו ערכים של <span class="math">\(x\)</span> מקבלים פלטים - האם זה כך במקרה של <span class="math">\(f\left(x\right)\)</span>? התשובה היא "כן ולא", וזה אולי מה שהופך את הפונקציות היוצרות לעסק די מבלבל.</p>
<p>התשובה הבסיסית היא "לא". אנחנו לא חושבים על הפונקציה היוצרת כמשהו שמחוייב לתת תשובה ל"מה אני מקבל אם אני מציב כך וכך במקום <span class="math">\(x\)</span>". אנחנו חושבים עליה בתור אובייקט "פורמלי", בתור אוסף הסימנים <span class="math">\(\sum_{n=0}^{\infty}a_{n}x^{n}\)</span> ותו לא. לאוסף הזה ניתן לבצע מניפולציות - למשל, לכפול אותו בפונקציה יוצרת אחרת - אבל אנחנו לא מטריחים את עצמנו בשאלה של הצבת ערכים ל-<span class="math">\(x\)</span>. דרך התבוננות זו עשויה להיראות מוזרה מאוד בתחילה, ולכן כדאי להזכיר שזו בדיוק הגישה של המתמטיקה ל<a href="http://he.wikipedia.org/wiki/%D7%A4%D7%95%D7%9C%D7%99%D7%A0%D7%95%D7%9D">פולינומים</a>. במתמטיקה מתייחסים ליצורים כמו <span class="math">\(x^{3}+2x+5\)</span> בתור יצור עם זכות קיום עצמאית - אפשר לכפול אותו בפולינום <span class="math">\(x+1\)</span> ולקבל פולינום חדש; אפשר אפילו לחלק אותו בפולינום הזה ולקבל שארית; אפשר לחבר ולחסר אותו; אפשר אפילו "לגזור" אותו (הנגזרת תהיה <span class="math">\(3x^2+2\)</span>) מבלי להשתמש כלל במושגים מחשבון אינפיניטסימלי. כל הדברים הללו הם פשוט הגדרות; אפשר להגדיר במפורש שסכום של שני פולינומים הוא הפולינום שבו כל מקדם הוא סכום של מקדמי הפולינומים המחוברים (יש כאן הסתמכות על כך שמושג ה"סכום של מקדמים" כבר קיים). ההבדל היחיד הוא שפולינום הוא יצור סופי, ואילו הפונקציה היוצרת מתוארת על ידי סכום אינסופי - "פולינום אינסופי" אם תרצו. זה הבדל פחות משמעותי משזה עשוי להיראות.</p>
<p>עם זאת, אעדיף לא לדבוק בדרך ההצגה הזו, כי ממילא אני מחבב את השניה וארצה לדבר עליה הרבה בהמשך - אז בואו נחשוב על הפונקציה היוצרת כן בתור פונקציה, ונשאל את עצמנו - עבור אילו ערכים של <span class="math">\(x\)</span> היא בכלל מוגדרת? מה בכלל המשמעות של טור אינסופי שכזה?</p>
<p>אם נציב ערך כלשהו ב-<span class="math">\(x\)</span>, נאמר מספר ממשי <span class="math">\(t\)</span>, נקבל טור של מספרים: <span class="math">\(\sum_{n=0}^{\infty}a_{n}t^{n}\)</span>. בחשבון האינפיניטסימלי נותנים הגדרה סבירה לסכום של טור שכזה - <a href="http://www.gadial.net/2008/06/17/infinite_series/">דיברתי על כך בעבר</a>. עם זאת, לא מובטח כי לכל ערך של <span class="math">\(t\)</span> ההגדרה "תעבוד" (בניסוח פורמלי - "הטור יתכנס"). לכן הפונקציה <span class="math">\(f\left(x\right)=\sum_{n=0}^{\infty}a_{n}x^{n}\)</span> אינה מוגדרת בהכרח לכל <span class="math">\(t\)</span>. למרבה המזל, בגלל הצורה המיוחדת של הטור הזה (סכום של מכפלת מקדם בחזקה של <span class="math">\(x\)</span>), ניתן להגיד דברים בצורה יותר מסודרת על הטור - בפרט, או שהוא מתכנס לכל <span class="math">\(x\)</span>, או שקיים מספר ממשי <span class="math">\(R\)</span> כך שלכל <span class="math">\(\left|x\right|&lt;R\)</span> הטור מתכנס. ל-<span class="math">\(R\)</span> הזה קוראים "רדיוס ההתכנסות של הטור" מסיבה שאסביר בקרוב.</p>
<p>לדוגמה, הטור <span class="math">\(1+x+\frac{x^{2}}{2}+\frac{x^{3}}{6}+\dots\)</span>, שאפשר לכתוב באופן קומפקטי כ-<span class="math">\(\sum_{n=0}^{\infty}\frac{x^{n}}{n!}\)</span> (ובמילים אחרות - <span class="math">\(a_{n}=\frac{1}{n!}\)</span>) מתכנס לכל ערך של <span class="math">\(x\)</span>. מתברר כי הפונקציה שטור זה מייצג היא הפונקציה האקספוננציאלית, <span class="math">\(e^{x}\)</span>. לעומת זאת, הטור <span class="math">\(1+x+x^{2}+x^{3}+\dots\)</span> (כלומר, <span class="math">\(a_{n}=1\)</span>) מתכנס לכל <span class="math">\(\left|x\right|&lt;1\)</span> אך לא עבור <span class="math">\(x=1\)</span> או ערכים גדולים יותר. הטור הזה מייצג את הפונקציה <span class="math">\(\frac{1}{1-x}\)</span> (ניתן לראות זאת באמצעות הנוסחה לטור הנדסי אינסופי), שבה אכן קל לראות "בעיניים" כי יש לנו בעיה כלשהי בנקודה 1. עם זאת, וזה הדבר המעניין כאן, הטור אינו מתכנס גם עבור <span class="math">\(x=-1\)</span>, למרות שהפונקציה <span class="math">\(f\left(x\right)=\frac{1}{1-x}\)</span> דווקא "מתנהגת יפה" באותה נקודה (היא שווה <span class="math">\(\frac{1}{2}\)</span>). מכאן שהטור והפונקציה מפסיקים להתנהג באותו האופן ברגע שבו מגיעים אל רדיוס ההתכנסות, ולא בהכרח רק בנקודות שהן בעייתיות מבחינת הפונקציה.</p>
<p>עד כה התעסקנו רק במספרים ממשיים, אבל זה לא הכרחי - כל התורה של טורים מתכנסים עוברת היטב גם למספרים מרוכבים, עם אותן תוצאות - לטור מהצורה <span class="math">\(\sum_{n=0}^{\infty}a_{n}x^{n}\)</span> (עכשיו כבר אפשר לומר שיש לו שם מיוחד - "<a href="http://he.wikipedia.org/wiki/%D7%98%D7%95%D7%A8_%D7%97%D7%96%D7%A7%D7%95%D7%AA">טור חזקות</a>", Power series) יהיה רדיוס התכנסות <span class="math">\(R\)</span> כך שלכל מספר מרוכב המקיים <span class="math">\(\left|z\right|&lt;R\)</span>, הטור יתכנס. מכיוון שאפשר לחשוב על המספרים המרוכבים כעל נקודות במישור דו ממדי, שציר ה-<span class="math">\(x\)</span> שלו הוא המספרים הממשיים, יש משמעות ברורה כעת למונח "רדיוס התכנסות" - לטור חזקות בעל רדיוס התכנסות <span class="math">\(R\)</span> יש עיגול ברדיוס <span class="math">\(R\)</span> שמרכזו בראשית הצירים ובכל נקודה בו (למעט נקודות על השפה) הטור מתכנס. ההרחבה הזו למרוכבים היא מאירת עיניים למדי. לדוגמה, נתבונן בטור <span class="math">\(1-x^{2}+x^{4}-x^{6}+\dots\)</span>, שמתכנס לפונקציה <span class="math">\(\frac{1}{1+x^{2}}\)</span>; הטור לא מתכנס לא עבור <span class="math">\(1\)</span> ולא עבור <span class="math">\(-1\)</span>, ועם זאת הפונקציה <span class="math">\(f\left(x\right)=\frac{1}{1+x^{2}}\)</span> בכלל לא רומזת שיהיו בעיות בנקודות אלו (שהרי ערכה בהן הוא <span class="math">\(\frac{1}{2}\)</span>). התובנה מגיעה רק כשחושבים על הפונקציה הזו כפונקציה מרוכבת ושמים לב לכך שבנקודה <span class="math">\(x=i\)</span> היא בכלל לא מוגדרת - והרי <span class="math">\(\left|i\right|=\left|1\right|=\left|-1\right|=1\)</span>. הדוגמה הזו זכורה לי כאחת הדוגמאות הראשונות שנתקלתי בהן כהמחשה לצורה שבה המספרים המרוכבים הם הרחבה טבעית של הממשיים, ולטעמי היא עדיין אחת מהיפות שבהן.</p>
<p>טוב, חזרה לענייננו. הטור <span class="math">\(f\left(x\right)=\sum_{n=0}^{\infty}a_{n}x^{n}\)</span> מתכנס תמיד בנקודה <span class="math">\(0\)</span> אז אפשר להיות רגועים ולחשוב על <span class="math">\(\sum_{n=0}^{\infty}a_{n}x^{n}\)</span> תמיד כפונקציה חוקית, פשוט עם רדיוס התכנסות לא ידוע. כעת ניתן להתייחס לפונקציה הזו כפונקציה מרוכבת לכל דבר ולהתעלל בה - לכפול אותה באחרות, לגזור אותה וכו' - ומאחורי כל הדברים הללו יהיה הגיון מתמטי כלשהו ולא רק פורמליזם. כעת אפשר לעבור לשאלה הבאה - איך מוצאים תיאור נוח של הפונקציה הזו, ומה עושים איתו?</p>
<p>לשאלה הראשונה אין תשובה חד משמעית - כל בעיה קומבינטורית מציבה אתגר שונה. עם זאת, לעתים קרובות מציאת הפונקציה היוצרת של סדרה קלה בהרבה ממציאת נוסחה לאיבר הכללי. הבעיה של מסלולי מוצקין היא דוגמה טובה לכך - איני מכיר שום נוסחה כללית לאיבר ה-<span class="math">\(n\)</span>-י של מספרי מוצקין שאינה מערבת סכום כלשהו, אבל ניתן למצוא מאוד בקלות את הפונקציה היוצרת שלהם. הרעיון הוא לבנות משוואה כלשהי שהפונקציה היוצרת מקיימת ולחלץ אותה ממנה. אעשה זאת במהירות יחסית, כי זה לא העיקר כאן - מי שאין לו נסיון כלשהו בקומבינטוריקה כנראה יאבד אותי - זה לא סוף העולם.</p>
<p>המשוואה שאציג מתבססת על אבחנה פשוטה: אם <span class="math">\(f\left(x\right)\)</span> היא הפונקציה היוצרת של הסדרה <span class="math">\(a_{n}\)</span>, אז <span class="math">\(x\cdot f\left(x\right)\)</span> הוא הפונקציה היוצרת של הסדרה <span class="math">\(b_{n}\)</span> שמוגדרת על ידי <span class="math">\(b_{0}=0\)</span> ו-<span class="math">\(b_{n}=a_{n-1}\)</span> לכל <span class="math">\(n&gt;0\)</span> (למה?). כלומר, אם <span class="math">\(a_{n}\)</span> הוא "מספר האיברים מגודל <span class="math">\(n\)</span>", אז <span class="math">\(b_{n}\)</span> יהיה דווקא "מספר האיברים מגודל <span class="math">\(n-1\)</span>". כעת לפאנץ': מהו מספר מסלולי מוצקין מאורך <span class="math">\(n\)</span>? אפשר לחלק את בעיית הספירה הזו לשתי אפשרויות, על פי הצעד הראשון במסלול. אם הצעד הראשון היה פשוט ימינה, אז מספר הדרכים להמשיך את המסלול ולקבל מסלול חוקי הוא כמספר מסלולי מוצקין מאורך <span class="math">\(n-1\)</span> (שוב, מדוע?). הפונקציה שמתארת את הסדרה הזו היא בדיוק <span class="math">\(xf\left(x\right)\)</span> שלעיל.</p>
<p>אם הצעד הראשון היה למעלה, הרי שמתישהו בהמשך הדרך חייב להיות צעד למטה שיחזיר אותנו לגובה 0. מה קורה בין שני הצעדים הללו? יש תת מסלול, שגם הוא נראה כמו מסלול מוצקין, אם ממקמים את ראשית הצירים שלנו דווקא בנקודה <span class="math">\(\left(1,1\right)\)</span> שאליה הגיע המסלול אחרי העליה. ומה קורה אחרי הירידה? שוב, יהיה לנו מסלול מוצקין חדש, מנקודת הירידה ועד לנקודת הסיום. כלומר, מה היה לנו? שני צעדים "מבוזבזים", ושני מסלולי מוצקין, כך שכל זוג של שני מסלולים אפשריים ייתן לנו את המסלול המשולב. הפונקציה שמתארת את זה היא <span class="math">\(x^{2}f^{2}\left(x\right)\)</span> (<span class="math">\(x^{2}\)</span> כדי "להפחית" את שני הצעדים שבוצעו; <span class="math">\(f^{2}\left(x\right)\)</span> כי כל מסלול בנפרד הוא <span class="math">\(f\left(x\right)\)</span>, ולכן השילוב של שניהם בזה אחר זה נותן <span class="math">\(f\left(x\right)\cdot f\left(x\right)\)</span> - כאן אנחנו מבצעים בדיוק את התעלול שלא היה ניתן לבצע אם היינו מסתכלים על כל <span class="math">\(a_{n}\)</span> לבדו ולא על "כולם ביחד" כמו שמאפשרת לנו <span class="math">\(f\left(x\right)\)</span>). מחיבור שתי האפשרויות (או צעד ימינה, או צעד באלכסון) מקבלים את המשוואה <span class="math">\(f\left(x\right)=xf\left(x\right)+x^{2}f^{2}\left(x\right)+1\)</span>, כאשר ה-<span class="math">\(+1\)</span> מגיע מכך שאנו סופרים גם את המסלול מאורך 0 (זה "תנאי העצירה" של ההסתכלות הרקורסיבית שלנו על הבעיה). קיבלנו משוואה ריבועית ב"נעלם" <span class="math">\(f\left(x\right)\)</span>, שניתן לחלץ ממנה את <span class="math">\(f\left(x\right)\)</span> בטכניקות אלגבריות רגילות - מקבלים <span class="math">\(f\left(x\right)=\frac{1-x-\sqrt{1-2x-3x^{2}}}{2x^{2}}\)</span> (למה בחרתי את הפתרון הזה מבין שני פתרונות המשוואה? כי כפי שאראה בהמשך, בסביבות <span class="math">\(x=0\)</span> הוא מתנהג נחמד ואילו הפתרון השני לא, ולכן לא ייתכן שהפתרון השני מייצג את הטור שלנו).</p>
<p>אוקיי, לנשום עמוק. לא חייבים להבין עד הסוף את מה שעשיתי כאן - זה תרגיל בקומבינטוריקה. מה שמעניין הוא שעשיתי טריקים שלא ניתן לבצע אם מחפשים נוסחת נסיגה "רגילה" עבור <span class="math">\(a_{n}\)</span> - הייתה לי יותר גמישות, ולכן בסוף עלה בידי להגיע לנוסחה סגורה (זה לא תמיד כך - בוריאציות יותר מורכבות על מסלולים אפשר לקבל משוואות ממעלה גבוהה שלא קיים להן פתרון סגור - אבל לא תמיד חייבים אפילו פתרון סגור כדי להפיק מידע על הפונקציה היוצרת).</p>
<p>משמצאנו את הפונקציה היוצרת, השאלה הבאה היא תמיד "מה הלאה?". מה כבר יצא לנו ממציאת הפונקציה? האם זה אומר שנוכל בעזרתה לחשב את <span class="math">\(a_{n}\)</span>? לפעמים זה אכן כך, אבל לא במקרה שלפנינו. מה כן אפשר לעשות? להשתמש בפונקציה היוצרת כדי לקבל הערכה כלשהי לגבי סדר הגודל של <span class="math">\(a_{n}\)</span>, בפרט "כמה מהר" הוא גדל. לא אציג כאן את כל התיאוריה של מדידת קצב הגידול אלא אסתפק במדד בסיסי יחסית. נתחיל בדוגמה פשוטה: נניח כי <span class="math">\(a_{n}=2^{n}\)</span>, כלומר כשמגדילים את <span class="math">\(n\)</span> ב-1, <span class="math">\(a_{n}\)</span> גדל "פי שתיים". עבור <span class="math">\(a_{n}=3^{n}\)</span> הגדלה ב-1 גוררת גידול "פי 3". ומה קורה עבור סדרות שבהן הגידול אינו תמיד במדוייק פי משהו? האם עדיין ניתן להגיד כי "הסדרה גדלה בערך פי <span class="math">\(\lambda\)</span> כשמגדילים את <span class="math">\(n\)</span> ב-1"? התשובה חיובית אם הגבול <span class="math">\(\lambda=\lim_{n\to\infty}\left(a_{n}\right)^{\frac{1}{n}}\)</span> קיים. המשמעות של הגבול כאן היא פשוט "כש-<span class="math">\(a_{n}\)</span> גדול, הערך שלו מאוד קרוב לערך של <span class="math">\(\lambda^{n}\)</span>" (עם פורמליסטיקה שהופכת את "מאוד קרוב" למשהו מדוייק מתמטית). לכן האתגר הוא לחשב את ה-<span class="math">\(\lambda\)</span> הזה. אם ידועה לנו הפונקציה היוצרת של <span class="math">\(a_{n}\)</span>, העסק נהיה פשוט יותר - משפט של קושי על טורי חזקות מראה כי <span class="math">\(\lambda=\frac{1}{R}\)</span> כאשר <span class="math">\(R\)</span> הוא רדיוס ההתכנסות של טור החזקות - לכן כל מה שצריך לעשות הוא לגלות את רדיוס ההתכנסות הזה. כאן הפונקציה היוצרת נכנסת לעניין - מסתכלים עליה כעל פונקציה מרוכבת, ומחפשים את הנקודות שלה שבהן יש "תקלה" - למשל, חלוקה באפס, או הוצאת שורש ממספר שלילי, וכדומה. לתקלות כאלו קוראים "סינגולריות" בתורת הפונקציות המרוכבות - להסביר במדוייק איך הן מוגדרות ואיך מסווגים אותם זה בהחלט משהו שלא ניתן לבצע במסגרת הפוסט הזה. עם זאת, השורה התחתונה פשוטה - לרוב ניתן להסיק את רדיוס ההתכנסות מנקודות הסינגולריות. במקרה של מספרי מוצקין זה פשוט יחסית. הנקודות ה"בעייתיות" הן <span class="math">\(x=0\)</span> (שמאפס את המכנה) והשורשים של <span class="math">\(1-2x-3x^{2}\)</span> (למה ה"פיצוץ" קורה דווקא בשורשים ולא בנקודות שנותנות כבר ערך שלילי? שוב, זה מסובך מדי מכדי שאוכל להסביר זאת על רגל אחת; רק אעיר שהשורשים הללו הם מה שנקרא "נקודות הסתעפות" של הפונקציה).</p>
<p>הנקודה <span class="math">\(x=0\)</span> אינה בעייתית באמת - שוב, קשה להסביר מדוע על רגל אחת, אבל כאשר <span class="math">\(x\)</span> שואף לאפס, <span class="math">\(f\left(x\right)\)</span> שואף ל-<span class="math">\(1\)</span> בצורה "רגועה" כך שהאפס במכנה לא באמת גורם להתפוצצות - היה אפשר להגדיר <span class="math">\(f\left(0\right)=1\)</span> וחסל. לכן נשאר לטפל בנקודות שמאפסות את <span class="math">\(1-2x-3x^{2}\)</span>. למצוא אותן זה פתרון משוואה ריבועית - אלו הן <span class="math">\(\frac{1}{3}\)</span> ו-<span class="math">\(-1\)</span>. שתיהן בעייתיות "באמת". רדיוס ההתכנסות הוא כמרחק הנקודה הבעייתית הראשונה מהראשית - כלומר, <span class="math">\(R=\frac{1}{3}\)</span>, ולכן קצב הגידול של מספרי מוצקין הוא <span class="math">\(\lambda=3\)</span>. זו תוצאה מעניינת, כי היא מראה שהמגבלה של "אסור לרדת מתחת לציר <span class="math">\(x\)</span>, חייבים לסיים בגובה 0" אינה מהותית כל כך - מספר המסלולים <strong>הכולל</strong> מאורך <span class="math">\(n\)</span> שבהם מותרים שלושת הצעדים של מוצקין אבל בלי שום מגבלה אחרת הוא <span class="math">\(3^{n}\)</span>, כלומר גם לו אותו קצב גידול.</p>
<p>כל המהומה הזו הייתה רק דוגמה אחת למידע שניתן להפיק מפונקציות יוצרות. השורה התחתונה של כל זה היא שהן יצורים מעניינים ומועילים, והיינו רוצים להיות מסוגלים לחשב אותן אלגוריתמית עבור מחלקה גדולה ככל האפשר של אובייקטים קומבינטוריים.</p>
<p>וכאן חוזרות לתמונה השפות הרגולריות של <a href="http://www.gadial.net/2009/08/30/finite_automata_and_regular_languages/">הפוסט הקודם</a>.</p>
        </article>
        
        <footer>
            <p>© כל הזכויות שמורות לגדי אלכסנדרוביץ'</p>
        </footer>
    </div>

    
    <script>
        function toggleMobileMenu() {
            const navLinks = document.getElementById('navLinks');
            navLinks.classList.toggle('expanded');
        }
        
        function searchPosts() {
            const searchTerm = document.getElementById('searchInput').value;
            if (searchTerm.trim()) {
                window.location.href = '/new_blog/post_list.html?search=' + encodeURIComponent(searchTerm);
            }
        }
        
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchPosts();
            }
        });
    </script>
    
    
    <!-- Auto-render KaTeX math -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            renderMathInElement(document.body, {
                delimiters: [
                    {left: "\\[", right: "\\]", display: true},
                    {left: "\\(", right: "\\)", display: false}
                ],
                throwOnError: false
            });
        });
    </script>

</body>
</html>