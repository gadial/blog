<!DOCTYPE html>
<html lang="he" dir="rtl"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>אז מה הקשר בין אוטומטים ופונקציות יוצרות? | לא מדויק</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="אז מה הקשר בין אוטומטים ופונקציות יוצרות?" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="לא מדויק - בלוג על מתמטיקה ומדעי המחשב" />
<meta property="og:description" content="לא מדויק - בלוג על מתמטיקה ומדעי המחשב" />
<link rel="canonical" href="http://gadial.net/2009/09/10/automata_and_generating_functions/" />
<meta property="og:url" content="http://gadial.net/2009/09/10/automata_and_generating_functions/" />
<meta property="og:site_name" content="לא מדויק" />
<meta property="og:image" content="http://gadial.net/assets/img/main/default-card.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2009-09-10T16:00:41+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:image" content="http://gadial.net/assets/img/main/default-card.png" />
<meta property="twitter:title" content="אז מה הקשר בין אוטומטים ופונקציות יוצרות?" />
<meta name="twitter:site" content="@" />
<script type="application/ld+json">
{"@type":"BlogPosting","url":"http://gadial.net/2009/09/10/automata_and_generating_functions/","image":"http://gadial.net/assets/img/main/default-card.png","headline":"אז מה הקשר בין אוטומטים ופונקציות יוצרות?","dateModified":"2009-09-10T16:00:41+00:00","datePublished":"2009-09-10T16:00:41+00:00","description":"לא מדויק - בלוג על מתמטיקה ומדעי המחשב","mainEntityOfPage":{"@type":"WebPage","@id":"http://gadial.net/2009/09/10/automata_and_generating_functions/"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link href="/assets/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="stylesheet" href="/assets/css/main.css">
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/favicon.ico" type="image/x-icon"><link type="application/atom+xml" rel="alternate" href="http://gadial.net/feed.xml" title="לא מדויק" /><script>
if(!(window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1")) {
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-3924539-2', 'auto');
  ga('send', 'pageview');
}
</script>
  
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$latex','$'] ],
        processEscapes: true
      },
      TeX: {extensions: ["AMSmath.js","AMSsymbols.js"]},
      "HTML-CSS": { 
        linebreaks: { automatic: true }
      },
      SVG: { 
        linebreaks: { automatic: true } 
      }
    });
  </script>
  <!-- "https://www.gadial.net/wp-includes/js/xypic.js" -->

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>
  
</head>
<body><header>
  <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
    <a class="navbar-brand" href="/">לא מדויק</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarCollapse">
      <ul class="navbar-nav mr-auto">
        
            
            <li class="nav-item">
                <a class="nav-link" href="/whats_going_on">מה הולך פה?</a>
            </li>
            
        
            
            <li class="nav-item">
                <a class="nav-link" href="/">דף הבית</a>
            </li>
            
        
            
            <li class="nav-item">
                <a class="nav-link" href="/categories">קטגוריות</a>
            </li>
            
        
            
            <li class="nav-item">
                <a class="nav-link" href="/random">דף אקראי</a>
            </li>
            
        
            
            <li class="nav-item">
                <a class="nav-link" href="/about/">אודות</a>
            </li>
            
        
      </ul>
      <form class="form-inline mt-2 mt-md-0" action="/post_list/" method="get">
        <input class="form-control mr-sm-2" type="text" placeholder="חיפוש" aria-label="חיפוש" name="s">
        <button class="btn btn-outline-success my-2 my-sm-0" type="submit">חיפוש</button>
      </form>
    </div>
  </nav>
</header><main class="page-content" aria-label="Content" role="main">
      <div class="wrapper text-right">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting"><div class="PageNavigation">
    
      <a class="prev" href="/2009/09/08/generating_functions/">&laquo; פונקציות יוצרות</a>
    
    
      <a class="next" href="/2009/09/19/pcp_theorem_intro/">משפט ה-PCP או: איך למדתי להפסיק לדאוג ולאהוב הוכחות הניתנות לבדיקה הסתברותית &raquo;</a>
    
  </div><header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">אז מה הקשר בין אוטומטים ופונקציות יוצרות?</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2009-09-10T16:00:41+00:00" itemprop="datePublished">Sep 10, 2009
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>בפוסטים הקודמים <a href="http://www.gadial.net/2009/08/30/finite_automata_and_regular_languages/">תיארתי אוטומטים סופיים </a>ו<a href="http://www.gadial.net/2009/09/08/generating_functions/">תיארתי פונקציות יוצרות</a>. עכשיו הגיע הזמן להציג את הקשר היפה (לדעתי) בין השניים. שני הפוסטים הקודמים היו מעין מבוא מרפרף, ולכן בפוסט הזה ארשה לעצמי להיות פחות “מבואי” ולדבר יותר לעניין - ולכן הפוסט יהיה גם יותר טכני מהקודמים. ראו הוזהרתם.</p>

<p>ובכן, אם יש לנו שפה רגולרית <span>$latex L$</span>, אפשר לשכוח מהמבנה הפנימי העשיר שלה ולהתמקד בשאלה כמותית - כמה מילים יש מכל אורך? נסמן ב-<span>$latex a_{n}$</span> את מספר המילים ב-<span>$latex L$</span> מאורך <span>$latex n$</span>. אפשר כעת להתאים ל-<span>$latex L$</span> פונקציה יוצרת <span>$latex f_{L}\left(x\right)$</span> שמתארת את הסדרה <span>$latex a_{n}$</span> (למי שתוהה, יש מילה אחת מאורך 0 - “המילה הריקה”, כך ש-<span>$latex a_{0}$</span> יכול להיות שווה 1). כל זה טוב ויפה - כעת השאלה היא כיצד ניתן לחשב את <span>$latex f_{L}\left(x\right)$</span>. אציג שיטה כללית לעשות זאת, אם נתון אוטומט <span>$latex A$</span> שמקבל את <span>$latex L$</span>; זה מכתיב דרך פעולה כללית בהתמודדות עם בעיה קומבינטורית שאנחנו רוצים למצוא עבורה פונקציה יוצרת - קודם כל לבדוק האם הבעיה הזו ניתנת לניסוח בתור שפה רגולרית. אם כן, קיבלנו את הפונקציה היוצרת “בחינם”.</p>

<p>מכיוון שאנחנו מתמקדים בשאלה כמותית ולא במבנה של כל מילה, אפשר להתעלם מההבדלים שבין אותיות שונות, ולהתמקד בשאלה יותר פשוטה הנוגעת לאוטומט - בכמה מסלולים שונים מאורך <span>$latex n$</span> אפשר להגיע מהמצב ההתחלתי למצב המקבל? מספר המסלולים הזה הוא בדיוק <span>$latex a_{n}$</span>. עם זאת, כפי שקורה בדרך כלל בהוכחות שעוסקות באוטומטים, צריך לשאול שאלה “חזקה” יותר - נניח שאנחנו מתחילים ממצב <strong>כלשהו</strong> של האוטומט, לאו דווקא המצב ההתחלתי. כמה מסלולים מאורך <span>$latex n$</span> שמגיעים למצב מקבל יהיו כעת? אם <span>$latex q_{i}$</span> הוא המצב הזה, אפשר לסמן את המספר בתור <span>$latex a_{n}^{i}$</span>, ואת הפונקציה היוצרת המתאימה בתור <span>$latex f_{i}\left(x\right)$</span>. כדי לפשט עוד יותר את הסימונים אפשר לדבר על <strong>וקטור</strong> של פונקציות יוצרות: <span>$latex \overline{f}=\left(f_{0},f_{2},\dots,f_{k}\right)$</span> (אני מסמן את מספר המצבים הכולל של האוטומט ב-<span>$latex k+1$</span> כדי שהוקטור יראה “נחמד”).</p>

<p>מכיוון שויתרנו על זהות האותיות השונות ואנחנו מתמקדים רק במספר הדרכים להגיע ממצב אחד באוטומט לאחר, אפשר להפסיק לדבר על פונקצית המעברים של האוטומט ולהסתפק במעין טבלת מעברים מופשטת - מטריצה מגודל <span>$latex \left(k+1\right)\times\left(k+1\right)$</span> שהן שורותיה והן עמודותיה מייצגות מצבים, ובתא ה-<span>$latex \left(i,j\right)$</span> שלה כתוב מספר הדרכים לעבור מהמצב <span>$latex q_{i}$</span> למצב <span>$latex q_{j}$</span> (בצורה אולטרה פורמלית, זהו <span>$latex \left|\left\{ \sigma\in\Sigma:\delta\left(q_{i},\sigma\right)=q_{j}\right\} \right|$</span>). דרך הייצוג הזו, של גרף באמצעות מטריצה, היא מאוד, מאוד נפוצה. אקרא למטריצה הזו <span>$latex T$</span>. אלו שבקיאים באלגברה לינארית ומכירים כפל מטריצות יכולים לוודא לעצמם ש-<span>$latex T^{r}$</span> היא המטריצה שבכניסה <span>$latex \left(i,j\right)$</span> שלה רשום מספר הדרכים להגיע מ-<span>$latex i$</span> אל <span>$latex j$</span> בדיוק ב-<span>$latex r$</span> צעדים.</p>

<p>האבחנה הבסיסית בכל הסיפור הזה היא פשוטה ביותר. מספר המסלולים מאורך <span>$latex n$</span> שמובילים מ-<span>$latex q_{i}$</span> אל מצב מקבל כלשהו ניתן לחישוב באופן רקורסיבי. אם <span>$latex n=0$</span> אז הוא 1 אם <span>$latex q_{i}$</span> הוא בעצמו מצב מקבל ואחרת הוא 0. אפשר לסמן זאת בקומפקטיות באמצעות וקטור: <span>$latex \overline{u}$</span>יהיה וקטור שבכניסה ה-<span>$latex i$</span> שלו יש 1 אם המצב <span>$latex q_{i}$</span> הוא מקבל, ואחרת 0. אם <span>$latex n&gt;0$</span> אז אפשר להפעיל רקורסיה: לכל מצב <span>$latex q_{j}$</span> אפשר לדבר על “מספר המסלולים מאורך <span>$latex n$</span> מ-<span>$latex q_{i}$</span> למצב מקבל, שבצעד הראשון נכנסים ל-<span>$latex q_{j}$</span>”. מספר המסלולים הללו הוא בדיוק המכפלה של מספר האפשרויות לעבור מ-<span>$latex q_{i}$</span> אל <span>$latex q_{j}$</span> (כלומר, <span>$latex T_{ij}$</span>) במספר המסלולים מאורך <span>$latex n-1$</span> מ-<span>$latex q_{j}$</span> שמגיעים למצב מקבל. מכיוון ש<strong>כל</strong> מסלול מ-<span>$latex q_{i}$</span> שמגיע למצב מקבל חייב לעבור דרך <span>$latex q_{j}$</span> <strong>כלשהו</strong> בצעד הראשון, מספר המסלולים הכולל הוא סכום של המכפלות הללו, עבור כל ה-<span>$latex j$</span>-ים האפשריים. מי שבקיא באלגברה לינארית אולי רואה כבר <a href="http://he.wikipedia.org/wiki/%D7%9B%D7%A4%D7%9C_%D7%9E%D7%98%D7%A8%D7%99%D7%A6%D7%95%D7%AA">כפל מטריצות</a> מול העיניים, אז אכתוב במפורש את הנוסחה: <span>$latex f_{i}\left(x\right) = u_{i}+\sum_{j}T_{ij}\cdot xf_{j}\left(x\right)=u_{i}+\left[T\right]_{i}\cdot x\overline{f}\left(x\right)$</span></p>

<p>ההכפלה ב-<span>$latex x$</span> של <span>$latex f_{j}\left(x\right)$</span> היא הדרך שלנו לבטא את העובדה שמסלול מאורך <span>$latex n$</span> של <span>$latex f_{i}$</span> נבנה באמצעות מסלולים מאורך <span>$latex n-1$</span> של אגף ימין. ה-<span>$latex u_{i}$</span> שמתווסף לסכום בא לתאר בדיוק את תנאי העצירה של הרקורסיה (הוא יהיה המקדם החופשי בטור של <span>$latex f_{i}\left(x\right)$</span>).</p>

<p>המשוואה שלמעלה היא משוואה כללית לכל <span>$latex i$</span>; היא בעצם מייצגת מערכת של <span>$latex k+1$</span> משוואות. את כל המערכת הזו אפשר לתאר באופן עוד יותר קומפקטי:</p>

<p><span>$latex \overline{f} = u+T\cdot x\overline{f}$</span></p>

<p>ועל ידי העברת אגף מקבלים:</p>

<p><span>$latex \overline{f}\left(I-xT\right) = u$</span></p>

<p>ומכאן:</p>

<p><span>$latex \overline{f} = \left(I-xT\right)^{-1}u$</span></p>

<p>וזה נותן לנו את וקטור הפונקציות היוצרות עבור כל המצבים. אם רוצים “לבודד” את הפונקציה היוצרת רק עבור המצב <span>$latex q_{0}$</span>, צריך לכפול את שני האגפים בוקטור <span>$latex \left(1,0,0,\dots,0\right)$</span> (הוקטור שכולו אפסים פרט לכניסה במקום ה-0). נסמן וקטור זה כ-<span>$latex v$</span>, ונקבל ש-<span>$latex f_{0}\left(x\right)=v\left(I-xT\right)^{-1}u$</span>. זו הנוסחה.</p>

<p>חישוב של כל העסק הזה הוא לא מסובך, בהינתן שאנחנו כבר יודעים לעשות חשבון עם פולינומים. יש מערכות אלגברה ממוחשבות שעושות את זה בדיוק - אני משתמש ב-<a href="http://www.sagemath.org/">Sage</a> לצורך כך, ובה החישוב שלעיל הוא מיידי. התוצאה המתקבלת היא תמיד פונקציה רציונלית (מנה של שני פולינומים), כך שמציאת נקודות הסינגולריות שלה (הנקודות שבהן “משהו מתקלקל” ולכן אפשר ללמוד מהן על קצב הגידול של <span>$latex a_{n}$</span>) היא פשוטה למדי (אלו בדיוק הנקודות שמאפסות את המכנה).</p>

<p>זה הכל. אחרי ההקדמה הארוכה שנתתי, הפשטות והמיידיות של התוצאה הן לטעמי יפות מאוד, כך שלא אכביר עליהן עוד מילים. מן הסתם נפנפתי פה בידיים ללא הרף ויש נקודות עדינות שעוד דורשות התייחסות, אך למזלי אני יכול להרשות לעצמי כאן להיות לא מדויק.</p>

  </div>

  <hr />
  <p>
    נהניתם? התעניינתם? אם תרצו, אתם מוזמנים לתת טיפ:
  </p>
  <a href='https://ko-fi.com/H2H5XFBQ' target='_blank'><img height='36' style='border:0px;height:36px;' src='https://az743702.vo.msecnd.net/cdn/kofi2.png?v=2' border='0' alt='Buy Me a Coffee at ko-fi.com' /></a><div class="PageNavigation">
    
      <a class="prev" href="/2009/09/08/generating_functions/">&laquo; פונקציות יוצרות</a>
    
    
      <a class="next" href="/2009/09/19/pcp_theorem_intro/">משפט ה-PCP או: איך למדתי להפסיק לדאוג ולאהוב הוכחות הניתנות לבדיקה הסתברותית &raquo;</a>
    
  </div><div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = 'http://gadial.net/2009/09/10/automata_and_generating_functions/';
      this.page.identifier = 'http://gadial.net/2009/09/10/automata_and_generating_functions/';
    };

    (function() {
      var d = document, s = d.createElement('script');

      s.src = 'https://not-precise.disqus.com/embed.js';

      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript><a class="u-url" href="/2009/09/10/automata_and_generating_functions/" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">לא מדויק</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">לא מדויק</li><li><a class="u-email" href="mailto:gadial@gmail.com">gadial@gmail.com</a></li><li>&copy; כל הזכויות שמורות לגדי אלכסנדרוביץ'</li>
        </ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://www.facebook.com/%D7%9C%D7%90-%D7%9E%D7%93%D7%95%D7%99%D7%A7-163347110378474"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#facebook"></use></svg> <span class="username">לא מדויק</span></a></li><li><a href="/feed.xml"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#rss"></use></svg> <span>RSS</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>בלוג על מתמטיקה ומדעי המחשב</p>
      </div>
    </div>

  </div>

</footer><script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script>window.jQuery || document.write('<script src="assets/js/jquery-slim.min.js"><\/script>')</script><script src="/assets/js/bootstrap.bundle.js"></script><!-- Default Statcounter code for New blog
http://www.gadial.net/ -->
<script type="text/javascript">
  var sc_project=5444342; 
  var sc_invisible=1; 
  var sc_security="4a89cbe4"; 
  </script>
  <script type="text/javascript"
  src="https://www.statcounter.com/counter/counter.js"
  async></script>
  <noscript><div class="statcounter"><a title="Web Analytics"
  href="https://statcounter.com/" target="_blank"><img
  class="statcounter"
  src="https://c.statcounter.com/5444342/0/4a89cbe4/1/"
  alt="Web Analytics"></a></div></noscript>
  <!-- End of Statcounter Code --></body>

</html>
