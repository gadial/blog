<!DOCTYPE html>
<html lang="he" dir="rtl"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>מחשבת - נקמתן של השמורות | לא מדויק</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="מחשבת - נקמתן של השמורות" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="לא מדויק - בלוג על מתמטיקה ומדעי המחשב" />
<meta property="og:description" content="לא מדויק - בלוג על מתמטיקה ומדעי המחשב" />
<link rel="canonical" href="http://gadial.net/2009/06/25/mahshevet/" />
<meta property="og:url" content="http://gadial.net/2009/06/25/mahshevet/" />
<meta property="og:site_name" content="לא מדויק" />
<meta property="og:image" content="http://gadial.net/assets/img/main/default-card.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2009-06-25T08:55:33+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:image" content="http://gadial.net/assets/img/main/default-card.png" />
<meta property="twitter:title" content="מחשבת - נקמתן של השמורות" />
<meta name="twitter:site" content="@" />
<script type="application/ld+json">
{"@type":"BlogPosting","url":"http://gadial.net/2009/06/25/mahshevet/","image":"http://gadial.net/assets/img/main/default-card.png","headline":"מחשבת - נקמתן של השמורות","dateModified":"2009-06-25T08:55:33+00:00","datePublished":"2009-06-25T08:55:33+00:00","description":"לא מדויק - בלוג על מתמטיקה ומדעי המחשב","mainEntityOfPage":{"@type":"WebPage","@id":"http://gadial.net/2009/06/25/mahshevet/"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link href="/assets/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="stylesheet" href="/assets/css/main.css">
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/favicon.ico" type="image/x-icon"><link type="application/atom+xml" rel="alternate" href="http://gadial.net/feed.xml" title="לא מדויק" /><script>
if(!(window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1")) {
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-3924539-2', 'auto');
  ga('send', 'pageview');
}
</script>
  
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        processEscapes: true
      },
      TeX: {extensions: ["AMSmath.js","AMSsymbols.js"]},
      "HTML-CSS": { 
        linebreaks: { automatic: true }
      },
      SVG: { 
        linebreaks: { automatic: true } 
      }
    });
  </script>
  <!-- "https://www.gadial.net/wp-includes/js/xypic.js" -->

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>
  
</head>
<body><header>
  <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
    <a class="navbar-brand" href="/">לא מדויק</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarCollapse">
      <ul class="navbar-nav mr-auto">
        
            
            <li class="nav-item">
                <a class="nav-link" href="/whats_going_on">מה הולך פה?</a>
            </li>
            
        
            
            <li class="nav-item">
                <a class="nav-link" href="/">דף הבית</a>
            </li>
            
        
            
            <li class="nav-item">
                <a class="nav-link" href="/categories">קטגוריות</a>
            </li>
            
        
            
            <li class="nav-item">
                <a class="nav-link" href="/random">דף אקראי</a>
            </li>
            
        
            
            <li class="nav-item">
                <a class="nav-link" href="/about/">אודות</a>
            </li>
            
        
      </ul>
      <form class="form-inline mt-2 mt-md-0" action="/post_list/" method="get">
        <input class="form-control mr-sm-2" type="text" placeholder="חיפוש" aria-label="חיפוש" name="s">
        <button class="btn btn-outline-success my-2 my-sm-0" type="submit">חיפוש</button>
      </form>
    </div>
  </nav>
</header><main class="page-content" aria-label="Content" role="main">
      <div class="wrapper text-right">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting"><div class="PageNavigation">
    
      <a class="prev" href="/2009/06/07/lion_in_the_desert/">&laquo; איך תופסים אריה במדבר?</a>
    
    
      <a class="next" href="/2009/06/26/sums_of_squares_and_quadratic_reciprocity/">על סכומי ריבועים והקשר להדדיות ריבועית &raquo;</a>
    
  </div><header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">מחשבת - נקמתן של השמורות</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2009-06-25T08:55:33+00:00" itemprop="datePublished">Jun 25, 2009
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p><a href="http://www.gadial.net/">הפוסט הראשון שלי בבלוג</a> תיאר את הצורה שבה מושג השמורות (Invariants) מחסל שני משחקים ומראה שהם בלתי פתירים - משחק ריצוף (כיסוי לוח שחמט חתוך באמצעות אבני דומינו), ומשחק ה-15. אני רוצה לחזור לאותו נושא בדיוק, אבל למשחק אחר ושמורה טיפה יותר מחוכמת - המשחק שנקרא בישראל “<a href="http://he.wikipedia.org/wiki/%D7%9E%D7%97%D7%A9%D7%91%D7%AA">מחשבת</a>” (ובאנגלית, Peg Solitaire).</p>

<p>מחשבת הוא משחק לשחקן בודד. לוח המשחק נראה בתחילת המשחק כך:</p>

<p><a href="/assets/img/2009/06/PegSolitaire1.png"><img class="alignnone size-full wp-image-1040" title="PegSolitaire1" src="/assets/img/2009/06/PegSolitaire1.png" alt="" width="350" height="350" /></a></p>

<p>כאשר עיגול שחור בתוך משבצת מציין “חייל”, בדומה לחייל של דמקה. המשחק מורכב מסדרה של מהלכים, כאשר כל מהלך דומה ל”אכילה” בדמקה: חייל א’ קופץ מעל חייל ב’ שצמוד אליו (מלמעלה, למטה, משמאל או מימין; לא באלכסון) אל משבצת פנויה שאחריו, ואז חייל ב’ מוסר מהלוח. בתחילת המשחק יש רק ארבעה מהלכים אפשריים (מהם?) אבל מהר מאוד נפתחות המון אפשרויות שונות. המטרה: להיוותר עם חייל אחד בלבד. כדי לקבל תחושה של המשחק ועד כמה הוא מאתגר אפשר לשחק בו באחד מאתרי הרשת שמציע אותו - למשל, <a href="http://alefefes.macam98.ac.il/games/game.asp?n=19">זה</a>.</p>

<p>לפני שנים רבות (שלושים?) רעשה וגעשה הארץ כאשר יצאה לשוק גרסה “מורחבת” של המשחק, שבה הלוח גדול יותר, ונראה כך:</p>

<p><a href="/assets/img/2009/06/PegSolitaire2.png"><img class="alignnone size-full wp-image-1041" title="PegSolitaire2" src="/assets/img/2009/06/PegSolitaire2.png" alt="" width="350" height="350" /></a>
דא עקא? הלוח המורחב, בדומה למשחק ה-15 הידוע לשמצה, גורם למשחק להיות בלתי פתיר - כלומר, לא ניתן להגיע למצב שבו רק חייל בודד נותר על הלוח. עד כדי כך חמור היה הדבר עד שהידיעה הגיעה עד ל”כלבוטק”. על המחדל הצביע דוקטורנט למתמטיקה, שגדל והפך לפרופסור אלי אלחדף מהפקולטה למתמטיקה בטכניון; הוא לא המציא את השיטה שאציג כאן ולא ברור מי המציא - זו אחת מאותן דוגמאות ל”פולקלור מתמטי”, דברים שכנראה מתגלים במקביל במקומות רבים והם פשוטים מכדי שיתפרסם מאמר העוסק בהם, אך מעניינים מספיק כדי שיסופרו באופן לא פורמלי. מה שאעשה יהיה לתפוס שתי ציפורים במכה אחת - גם להראות שהלוח המורחב אינו פתיר, אך גם להראות שמשחק בלוח המקורי, אם הוא מסתיים בניצחון, יכול להסתיים רק באחת מבין חמש משבצות אפשריות - זו שבאמצע, או כל אחת מהמשבצות שבקצה ה”צלב”. למעשה, אתחיל מלהוכיח זאת, שכן אחר כך אי הפתירות של המשחק המורחב היא כמעט מובנת מאליה.</p>

<p>הרעיון הבסיסי הוא להשתמש בשיקול צביעה. אצבע כל משבצת בלוח בצבע מסויים, ואז התכונה שתישאר קבועה לכל אורך המשחק היא “סכום הצבעים של המשבצות שעליהן יש חיילים”. לשם כך צריכה להיות משמעות למושג של “סכום צבעים”, ולכן אתן תיאור פורמלי. מי שמכיר את תורת החבורות יזהה מייד שהטיעון הוא “הצבעים הם האיברים הלא טריוויאליים של חבורת קליין”, אבל מי שאינו מכיר - לא נורא, רק סמכו עלי שמה שאני מציע אינו שרירותי.</p>

<p>לצבעים אני הולך לקרוא <span>\( a,b,c \)</span>. בנוסף יהיה עוד צבע, <span>\( e \)</span>, שלא אצבע בו את הלוח אבל יבוא לידי ביטוי בכללי החשבון. הכללים הם פשוטים: <span>\( a+a=b+b=c+c=e \)</span>, כלומר סכום של כל צבע עם עצמו הוא <span>\( e \)</span>, ו-<span>\( a+e=a,b+e=b,c+e=c \)</span>, כלומר הסכום של <span>\( e \)</span> עם כל צבע לא משנה את אותו הצבע (החיבור אצלי מקיים את חוק החילוף, כלומר <span>\( a+e=e+a \)</span> וכך לכל זוג צבעים). שימו לב שמשני הכללים שכבר נתתי נובעים דברים מורכבים יותר, נניח <span>\( a+a+a=a+e=a \)</span>.</p>

<p>הכלל האחרון שאני נזקק לו הוא הכלל הבא: <span>\( a+b=c,b+c=a,c+a=b \)</span>. כלומר, סכום של שניים משלושת הצבעים ה”מעניינים” נותן את הצבע השלישי. מכאן נובע, למשל, ש-<span>\( a+b+c=c+c=e \)</span>. תכף נראה איך כל זה טוב לנו.</p>

<p>לאלו מכם שכל העסק נראה שרירותי מדי, אפשר לתת לסימבולים הללו משמעות מתמטית יותר קונקרטית. חשבו על <span>\( \mathbb{Z}_{2}^{2} \)</span> - אוסף הזוגות של 0 ו-1, עם פעולת חיבור רכיב-רכיב מודולו 2 (כלומר, בהינתן שני זוגות <span>\( \left(x,y\right),\left(u,v\right) \)</span> הסכום שלהם הוא <span>\( \left(x+u,y+v\right) \)</span> ובנוסף לכך מחלקים כל רכיב ב-2 ולוקחים את השארית). לא קשה לראות שאז אפשר לחשוב על <span>\( e=\left(0,0\right),a=\left(1,0\right),b=\left(0,1\right),c=\left(1,1\right) \)</span>. ליצור הזה - אוסף ארבעת האיברים יחד עם פעולת החיבור הספציפית הזו - קוראים “חבורת קליין”.</p>

<p>כעת נצבע את הלוח, באופן הבא:</p>

<p><a href="/assets/img/2009/06/PegSolitaire3.png"><img class="alignnone size-full wp-image-1043" title="PegSolitaire3" src="/assets/img/2009/06/PegSolitaire3.png" alt="" width="350" height="350" /></a>
במבט ראשון הצביעה עשויה להיראות כמעט אקראית; אבל השיטה מאוד פשוטה. אני מעביר אלכסונים דרך הלוח, וצובע כל אלכסון באחד מהצבעים - תחילה ב-<span>\( a \)</span>, אחר כך ב-<span>\( b \)</span>, אחר כך ב-<span>\( c \)</span> ואז שוב ב-<span>\( a \)</span> וחוזר חלילה. האלכסונים עוברים מלמעלה מימין אל למטה משמאל. המטרה בצביעה בסגנון הזה פשוטה - להבטיח שבכל שלוש משבצות שאקח, שהן סמוכות זו לזו במאוזן, או סמוכות זו לזו במאונך, יהיו לי כל שלושת הצבעים <span>\( a,b,c \)</span> יחד (בדקו שזה אכן כך!). תכף יתברר מדוע זה טוב.</p>

<p>כזכור, הגדרנו את ה”ערך” של לוח בתור “סכום הצבעים של כל המשבצות שיש עליהן חיילים”. בתחילה יש חיילים על כל משבצת פרט לאמצעית (זו שכתוב עליה <span>\( b \)</span>), אז מהו הסכום הזה? דרך אחת לחשב אותו היא כך: נתבונן, למשל, בשתי השורות העליונות - באחת יש <span>\( a,b,c \)</span> ובשניה יש <span>\( b,c,a \)</span>. אם נסכום את האיברים בשורה הראשונה, נקבל <span>\( e \)</span>, וכך עבור האיברים בשורה השניה; לכן אפשר להתעלם מהן. באותו אופן אפשר להתעלם משתי השורות האחרונות ומארבע העמודות, הימניות והשמאליות ביותר. נשארנו רק עם הריבוע שבאמצע. גם בו, אפשר להתעלם מה-<span>\( c,a,b \)</span> העליון ומה-<span>\( b,c,a \)</span> העליון כי סכומם <span>\( e \)</span>, ולכן נותרנו רק עם השלשה האמצעית - שממנה, כאמור, <span>\( b \)</span> חסר ולכן נותרנו עם <span>\( a,c \)</span> שסכומם הוא <span>\( b \)</span>. אם כן, הערך של הלוח בתחילת המשחק הוא <span>\( b \)</span>. כעת הטענה היא שלא משנה אילו מהלכים אני מבצע במהלך המשחק, הערך הזה נותר קבוע.</p>

<p>כדי לראות זאת, בואו נחשוב שוב מה אומר “מהלך” - קחו שלוש משבצות סמוכות (בשורה או בעמודה) שיש חיילים על שתיים סמוכות מהן והשלישית פנויה, ו”תחליפו” את הסיטואציה בכזו שבה שני החיילים הוסרו, ובמקום זאת יש לנו חייל על המשבצת שקודם הייתה פנויה. אם, למשל, המשבצות היו <span>\( a,b,c \)</span> כך שהמשבצות התפוסות היו <span>\( a,b \)</span>, אז בתחילה התרומה של החלק הזה לסכום הכולל של הלוח הייתה <span>\( a+b \)</span> שהוא <span>\( c \)</span>; ואחרי שסילקנו את החיילים מ-<span>\( a,b \)</span> ושמנו אחד ב-<span>\( c \)</span>, התרומה של החלק הזה לסכום הכולל היא עדיין <span>\( c \)</span>, ולכן שום דבר לא השתנה. זה הכל.</p>

<p>נסו לשחק את המשחק הזה בעצמכם. קחו זוג חיילים, שימו אותו על הלוח באופן שרירותי, בדקו מה הערך שהחיילים תורמים, ובצעו מהלך חוקי - תראו שהערך נותר קבוע גם לאחר מכן. הסיבה שהתעלול עובד היא שבחרנו כללי חיבור כאלו שבהן סכום של שני איברים מהחבורה (שאינם <span>\( e \)</span>) נותן את האיבר השלישי (שאינו <span>\( e \)</span>) שלה; ושבחרנו צביעה מחוכמת ללוח, כזו שבה בכל שלשה סמוכה של משבצות כל שלושת הצבעים מופיעים.</p>

<p>כל זה טוב ויפה, אבל לאן זה מוביל? המסקנה הסופית מדהימה בכוח שלה. מכיוון שערך הלוח נותר קבוע לכל אורך המשחק, ומכיוון שערכו בהתחלה היה <span>\( b \)</span>, אז גם בסוף הוא יהיה <span>\( b \)</span>. מכיוון שבסוף המשחק (אם אפשר בכלל להגיע אליו) יש רק חייל בודד על הלוח, הוא חייב להיות במשבצת שכתוב עליה <span>\( b \)</span>. עד כאן זה רק חצי מרשים, כי יש הרבה משבצות שכתוב עליהם <span>\( b \)</span>, אבל חלקן הן עדיין בלתי אפשריות ושיקול סימטריה פשוט מראה זאת: למשל, המשבצת הראשונה בשורה השנייה היא בלתי אפשרית, שכן שום דבר לא מייחד אותה לעומת המשבצת האחרונה בשורה השנייה, שצבועה דווקא ב-<span>\( a \)</span>; אם אפשר לסיים משחק במשבצת הראשונה בשורה השנייה, אז אפשר לשחק את “תמונת הראי” של אותו משחק, כשכל מהלך שאני מבצע הוא תמונת ראי ביחס לציר הסימטריה האנכי שעובר במרכז הלוח, ולסיים את המשחק דווקא במשבצת שכתוב עליה <span>\( a \)</span>, מה שבלתי אפשרי. לכן המשבצות היחידות שאני יכול לסיים בהן את המשחק הן המשבצות הסימטריות - ה-<span>\( b \)</span> שבאמצע הלוח, וכל אחד מה-<span>\( b \)</span>-ים שבאמצע השורות והעמודות הקיצוניות (ה-<span>\( b \)</span> השני הן בשורה העליונה והן בתחתונה, וה-<span>\( b \)</span> השני הן בעמודה הימנית והן השמאלית).</p>

<p>ועכשיו, בואו ננסה להשתמש בשיקול הזה גם על הלוח ה”מורחב”:</p>

<p><a href="/assets/img/2009/06/PegSolitaire4.png"><img class="alignnone size-full wp-image-1044" title="PegSolitaire4" src="/assets/img/2009/06/PegSolitaire4.png" alt="" width="350" height="350" /></a>
מה נשתנה בעצם? הוספנו ללוח ארבע משבצות, שנצבעות ב-<span>\( a,b,b,c \)</span>. כלומר, סכום הצבעים שלהן הוא <span>\( a+c+b+b=b+b+b=b \)</span>. מכאן שסכום הצבעים הכולל של הלוח הוא <span>\( b+b=e \)</span>. מכאן שגם בסוף המשחק סכום הצבעים צריך להיות <span>\( e \)</span>, ומכיוון שצבע זה לא מופיע בכלל על הלוח (הוא קיים רק כ”סכום” של צבעים, מבחינתנו), לא ייתכן שבסיום המשחק (או בכל שלב שלו) יהיה חייל בודד על הלוח. כלומר- המשחק לא פתיר, סוף פסוק.</p>

<p>ישנן דרכים רבות ושונות שבהן ניתן לתקוף את המשחק הזה, וזו שהצגתי איננה היחידה. אני חושב שהיא יפה ומעניינת במיוחד, מכיוון שהיא נדמית כל כך “תפורה” באופן שמתאים לו - השימור של סכום הצבעים נראה ממש טבעי. כמובן שזה נובע, כאמור, מבחירה חכמה הן של הצבעים (כלומר, של החבורה שבאיברים מתוכה משתמשים לצביעה) והן של הצורה שבה מבוצעת הצביעה עצמה. זה מה שהופך טיעוני צביעה ל”אמנות” בפני עצמה.</p>

  </div>

  <hr />
  <p>
    נהניתם? התעניינתם? אם תרצו, אתם מוזמנים לתת טיפ:
  </p>
  <a href='https://ko-fi.com/H2H5XFBQ' target='_blank'><img height='36' style='border:0px;height:36px;' src='https://az743702.vo.msecnd.net/cdn/kofi2.png?v=2' border='0' alt='Buy Me a Coffee at ko-fi.com' /></a><div class="PageNavigation">
    
      <a class="prev" href="/2009/06/07/lion_in_the_desert/">&laquo; איך תופסים אריה במדבר?</a>
    
    
      <a class="next" href="/2009/06/26/sums_of_squares_and_quadratic_reciprocity/">על סכומי ריבועים והקשר להדדיות ריבועית &raquo;</a>
    
  </div><div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = 'http://gadial.net/2009/06/25/mahshevet/';
      this.page.identifier = 'http://gadial.net/2009/06/25/mahshevet/';
    };

    (function() {
      var d = document, s = d.createElement('script');

      s.src = 'https://not-precise.disqus.com/embed.js';

      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript><a class="u-url" href="/2009/06/25/mahshevet/" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">לא מדויק</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">לא מדויק</li><li><a class="u-email" href="mailto:gadial@gmail.com">gadial@gmail.com</a></li><li>&copy; כל הזכויות שמורות לגדי אלכסנדרוביץ'</li>
        </ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://www.facebook.com/%D7%9C%D7%90-%D7%9E%D7%93%D7%95%D7%99%D7%A7-163347110378474"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#facebook"></use></svg> <span class="username">לא מדויק</span></a></li><li><a href="/feed.xml"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#rss"></use></svg> <span>RSS</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>בלוג על מתמטיקה ומדעי המחשב</p>
      </div>
    </div>

  </div>

</footer><script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script>window.jQuery || document.write('<script src="assets/js/jquery-slim.min.js"><\/script>')</script><script src="/assets/js/bootstrap.bundle.js"></script><!-- Default Statcounter code for New blog
http://www.gadial.net/ -->
<script type="text/javascript">
  var sc_project=5444342; 
  var sc_invisible=1; 
  var sc_security="4a89cbe4"; 
  </script>
  <script type="text/javascript"
  src="https://www.statcounter.com/counter/counter.js"
  async></script>
  <noscript><div class="statcounter"><a title="Web Analytics"
  href="https://statcounter.com/" target="_blank"><img
  class="statcounter"
  src="https://c.statcounter.com/5444342/0/4a89cbe4/1/"
  alt="Web Analytics"></a></div></noscript>
  <!-- End of Statcounter Code --></body>

</html>
