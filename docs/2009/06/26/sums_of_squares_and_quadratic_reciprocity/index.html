<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>על סכומי ריבועים והקשר להדדיות ריבועית - לא מדויק</title>
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    
    
    <!-- KaTeX for math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>

    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', 'David', 'Tahoma', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
        }
        
        /* Top navigation bar */
        .top-nav {
            background: #2c3e50;
            padding: 15px 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .top-nav .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
        }
        
        .top-nav .site-title {
            font-size: 1.5em;
            font-weight: bold;
            color: white;
            text-decoration: none;
            white-space: nowrap;
        }
        
        .top-nav .nav-links {
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .top-nav .nav-links a {
            color: #ecf0f1;
            text-decoration: none;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background 0.2s;
            white-space: nowrap;
        }
        
        .top-nav .nav-links a:hover {
            background: #34495e;
        }
        
        .top-nav .search-box {
            display: flex;
            gap: 5px;
        }
        
        .top-nav .search-box input {
            padding: 5px 10px;
            border: none;
            border-radius: 4px;
            font-size: 0.9em;
            min-width: 150px;
        }
        
        .top-nav .search-box button {
            padding: 5px 15px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .top-nav .search-box button:hover {
            background: #2980b9;
        }
        
        
        body {
            line-height: 1.8;
        }
        
        .container {
            max-width: 800px;
            margin: 20px auto;
            background: white;
            padding: 40px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
        }
        
        header {
            margin-bottom: 40px;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 20px;
        }
        
        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .post-meta {
            color: #7f8c8d;
            font-size: 0.9em;
        }
        
        .post-meta .date {
            margin-left: 15px;
        }
        
        .post-meta .categories,
        .post-meta .tags {
            display: inline;
        }
        
        .post-meta .categories a,
        .post-meta .tags a {
            color: #3498db;
            text-decoration: none;
            margin: 0 5px;
        }
        
        .post-meta .categories a:hover,
        .post-meta .tags a:hover {
            text-decoration: underline;
        }
        
        article {
            font-size: 1.1em;
        }
        
        article h2 {
            margin-top: 30px;
            margin-bottom: 15px;
            color: #34495e;
            font-size: 1.8em;
        }
        
        article h3 {
            margin-top: 25px;
            margin-bottom: 12px;
            color: #34495e;
            font-size: 1.4em;
        }
        
        article p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        article ul, article ol {
            margin-right: 30px;
            margin-bottom: 15px;
        }
        
        article li {
            margin-bottom: 8px;
        }
        
        article code {
            background-color: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        
        article pre {
            background-color: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin-bottom: 20px;
            direction: ltr;
            text-align: left;
        }
        
        article pre code {
            background-color: transparent;
            padding: 0;
            color: inherit;
        }
        
        /* Image styles - responsive and contained */
        article img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 20px auto;
        }
        
        /* Math rendering styles */
        .math {
            direction: ltr;
        }
        
        span.math {
            direction: ltr;
        }
        
        /* Override RTL for KaTeX */
        .katex {
            direction: ltr;
            unicode-bidi: embed;
        }
        
        div.math {
            display: block;
            text-align: center;
            padding: 15px 0;
            direction: ltr;
        }
        
        /* RTL adjustments for code blocks */
        .highlight {
            direction: ltr;
            text-align: left;
        }
        
        footer {
            margin-top: 60px;
            padding-top: 20px;
            border-top: 1px solid #e0e0e0;
            text-align: center;
            color: #95a5a6;
            font-size: 0.9em;
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2em;
            }
            
            article {
                font-size: 1em;
            }
        }
        
        /* Post navigation */
        .post-navigation {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #e0e0e0;
            gap: 20px;
        }
        
        .post-navigation .nav-link {
            flex: 1;
            text-decoration: none;
            color: #2c3e50;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 5px;
            transition: background 0.2s;
        }
        
        .post-navigation .nav-link:hover {
            background: #e9ecef;
        }
        
        .post-navigation .nav-prev {
            text-align: right;
        }
        
        .post-navigation .nav-next {
            text-align: left;
        }
        
        .post-navigation .nav-label {
            font-size: 0.85em;
            color: #7f8c8d;
            display: block;
            margin-bottom: 5px;
        }
        
        .post-navigation .nav-title {
            font-weight: bold;
            font-size: 1.1em;
        }

    </style>
</head>
<body>
    <nav class="top-nav">
        <div class="nav-container">
            <a href="/" class="site-title">לא מדויק</a>
            <div class="nav-links">
                <a href="/">דף הבית</a>
                <a href="/random.html">פוסט אקראי</a>
                <a href="/post_list.html">כל הפוסטים</a>
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="חיפוש...">
                    <button onclick="searchPosts()">חפש</button>
                </div>
            </div>
        </div>
    </nav>
    
    
    <div class="container">
        <!-- Post Navigation -->
        
        <nav class="post-navigation">
            
            <a href="/2009/06/25/mahshevet/" class="nav-link nav-prev">
                <span class="nav-label">פוסט ישן יותר →</span>
                <span class="nav-title">מחשבת - נקמתן של השמורות</span>
            </a>
            

            
            <a href="/2009/07/01/finding_fibonacci_formula/" class="nav-link nav-next">
                <span class="nav-label">← פוסט חדש יותר</span>
                <span class="nav-title">איך מוצאים את נוסחת פיבונאצ&#39;י?</span>
            </a>
            
        </nav>
        
        
        <header>
            <h1>על סכומי ריבועים והקשר להדדיות ריבועית</h1>
            <div class="post-meta">
                <span class="date">2009-06-26</span>
                
                <span class="categories">
                    | קטגוריות:
                    
                    <a href="/categories/תורת המספרים.html">תורת המספרים</a>
                    
                </span>
                
                
            </div>
        </header>
        
        <article>
            <p><a href="http://www.gadial.net/2009/02/15/constructing_regular_polygons/">לא מזמן</a> הרשיתי לעצמי ללכלך על <a href="http://he.wikipedia.org/wiki/%D7%A4%D7%99%D7%99%D7%A8_%D7%93%D7%94_%D7%A4%D7%A8%D7%9E%D7%94">פרמה</a> ועל ההשערה הלא כל כך מוצלחת שלו בדבר ראשוניותם של מספרי פרמה. כפיצוי, אני רוצה לעסוק הפעם באחת מהתוצאות המוצלחות של פרמה - תוצאה שהיא דוגמה נאה לדחיפה שפרמה נתן לתורת המספרים, ובפרט לעיסוק של <a href="http://he.wikipedia.org/wiki/%D7%9C%D7%90%D7%95%D7%A0%D7%A8%D7%93_%D7%90%D7%95%D7%99%D7%9C%D7%A8">לאונרד אוילר</a> בה. פרט לכך שהתוצאה של פרמה מעניינת לכשעצמה, הטיפול של אוילר בה מגרד את הסף של אחד מהמשפטים החשובים (ועם זאת, הבסיסיים, כך שאפילו אני מכיר אותו) בתורת המספרים - משפט ההדדיות הריבועית. היופי שבדבר הוא שהגישה של אוילר מגיעה אל המשפט הזה מכיוון שונה לגמרי מאשר זה שבו הוא בדרך כלל מוצג (ואותו הכרתי), ודרך זו היא במובן מסויים "טבעית" יותר. בפוסט הזה אציג את המשפט בצורה סטנדרטית; אני מקווה להציג את הגישה של אוילר בפוסט נפרד.</p>
<p>אם כן, נתחיל מהתחלה. פרמה נהג, כידוע, לתאר תגליות מתמטית במכתבים לידידים, לרוב בלי הוכחה של ממש. כך היה גם במכתב מ-1640 למרסן (אותו מרסן ממספרי מרסן שגם כן הזכרתי כשדיברתי על פרמה). פרמה טען שהוא יודע מתי מספר ראשוני <span class="math">\(p\)</span> ניתן להצגה כסכום של שני ריבועים שלמים, כלומר <span class="math">\(p=x^{2}+y^{2}\)</span> עם <span class="math">\(x,y\)</span> שלמים; הוא טען שזה מתרחש בדיוק כאשר <span class="math">\(p\)</span> מותיר שארית של 1 כאשר מחלקים אותו ב-4. בכתיבה מודרנית, זה מתואר כך: <span class="math">\(p\equiv1\left(4\right)\)</span>. פרמה לא עצר כאן - הוא טען שניתן להציג את <span class="math">\(p\)</span> בתור <span class="math">\(p=x^{2}+2y^{2}\)</span> בדיוק כאשר <span class="math">\(p\equiv1,3\left(8\right)\)</span>, ולקינוח טען שניתן להציג את <span class="math">\(p\)</span> בתור <span class="math">\(p=x^{2}+3y^{2}\)</span> אך ורק כאשר <span class="math">\(p\equiv1\left(3\right)\)</span> (או כאשר <span class="math">\(p=3\)</span> בעצמו, אבל זה מקרה בודד ולכן לא מעניין). תאמרו שלא ברור למה להתעמק דווקא בראשוניים ולא בכל המספרים - הסיבה לכך היא שכל מספר ניתן לכתיבה כמכפלה של ראשוניים, ולכן הבנת הטענה על הראשוניים היא הצעד הראשון והחשוב ביותר בדרך לטענה כללית על כל המספרים.</p>
<p>פרמה טען במכתב שיש לו "הוכחות מוצקות" לטענות הללו, אך לא כתב אותן. למעשה, לא כל כך ברור מה היו ההוכחות שלו - פשפוש בכתביו מעלה רק הוכחה בסגנון הבא: "אם <span class="math">\(p\equiv1\left(4\right)\)</span> אבל לא ניתן להציג אותו כסכום ריבועים, אז חייב להיות ראשוני קטן יותר מאותה הצורה שגם אותו לא ניתן להציג כסכום של שני ריבועים, וכן הלאה בנסיגה אינסופית עד שמגיעים ל-5 - סתירה". זו לא ממש הוכחה - פרמה לא מסביר למה <strong>יש</strong> ראשוני קטן יותר, או <strong>איך</strong> למצוא אותו. נעשו ניתוחים כלשהם של כתבי פרמה שניסו לשחזר הוכחה מסודרת יותר, אך לא אכנס אליהם כאן כי אני רוצה להעביר את הכדור לאוילר - ואוילר, כששמע על פרמה ומשפטיו, לא ידע הרבה יותר משאנחנו יודעים. המשפטים הללו של פרמה נראה לו כמו השערות מעניינות (ואכן, פרמה דייק לגמרי; המשפטים הללו נכונים), אך הייתה חסרה לו ההוכחה.</p>
<p>אוילר שמע על פרמה לראשונה בגיל 22, בשנת 1729, בהתכתבות עם גולדבך (אותו גולדבך מ<a href="http://he.wikipedia.org/wiki/%D7%94%D7%A9%D7%A2%D7%A8%D7%AA_%D7%92%D7%95%D7%9C%D7%93%D7%91%D7%9A">השערת גולדבך</a>, שלמעשה הייתה השערה שאוילר העלה, בתגובה להשערה פשוטה יותר של גולדבך). במכתבו הראשון של גולדבך לאוילר הוא הזכיר את השערתו של פרמה באשר למספרי פרמה. שלוש שנים לאחר מכן חיסל אותה אוילר על ידי כך שמצא מחלק למספר פרמה הבא בתור. כאמור, אוילר לא היה מרוצה במיוחד מההוכחות והרמזים של פרמה באשר למשפטים שלו על סכומי ריבועים, וניסה להוכיח אותם בעצמו. אפשר לחלק באופן גס את ההוכחה שלו לשני שלבים - שלב הנסיגה, שהוא ניסוח פורמלי של הטענה של פרמה; ושלב ההדדיות, ש"מתניע" את הנסיגה.</p>
<p>מבחינה היסטורית, את שלב הנסיגה אוילר סיים יחסית מהר - הוא תיאר אותו במכתב לגולדבך בשנת 1741. רק בשנת 1749 עלה בידי אוילר לפתור את שלב ההדדיות עבור המקרה של <span class="math">\(p=x^{2}+y^{2}\)</span>; המקרים האחרים דרשו לו זמן רב יותר, והעבודה נשלמה רק בשנת 1772 - יותר מ-40 שנים לאחר שאוילר שמע על הבעיה לראשונה.</p>
<p>בין לבין הוא עשה עוד דברים.</p>
<p>ובכן, מהם שני השלבים? אתאר ראשית את שלב הנסיגה עבור המקרה של סכום שני ריבועים, שהוא הפשוט ביותר; בשני המקרים האחרים ההכללה די מיידית אך מעט יותר מסובכת. אני מזהיר מראש שהשלב הזה טכני למדי ואינו המטרה העיקרית שלי בפוסט, כך שמי שמתייאש יכול לדלג. שלב הנסיגה אומר שאם הראשוני <span class="math">\(p\)</span> <strong>מחלק</strong> סכום של שני ריבועים, <span class="math">\(a^{2}+b^{2}\)</span>, אז הוא ניתן לכתיבה כסכום של שני ריבועים בעצמו. ההוכחה של הטענה הולכת כך: מניחים שלא ניתן לכתוב את <span class="math">\(p\)</span> כסכום של שני ריבועים, ומוכיחים כי נובע מכך שקיים ראשוני <span class="math">\(q&amp;lt;p\)</span> שגם הוא מחלק סכום של שני ריבועים אך אינו ניתן לכתיבה כסכום של שני ריבועים. מכאן שאפשר שוב לחזור על הטענה ולקבל עוד ראשוני <span class="math">\(q^{\prime}&amp;lt;q\)</span> שגם כן מקיים את התכונה הזו, וכן הלאה וכן הלאה - וכך נגיע לראשוניים קטנים יותר ויותר, עד שניתקע עם ראשוני קטן מדי, שכן ניתן להציג כסכום של שני ריבועים (למשל, 2).</p>
<p>עד כה לא אמרנו הרבה יותר מאשר פרמה - רק פרטים קצת יותר מדוייקים. עלינו להראות כיצד, בהינתן <span class="math">\(p\)</span> שמחלק סכום של שני ריבועים אך אינו סכום שכזה בעצמו, ניתן למצוא <span class="math">\(q&amp;lt;p\)</span> דומה. לב העניין הוא באבחנה שאם <span class="math">\(N=a^{2}+b^{2}\)</span> הוא סכום של שני ריבועים זרים ("זרים" פירושו שאין ל-<span class="math">\(a,b\)</span> מחלק משותף גדול מ-1) ו-<span class="math">\(q\)</span> הוא ראשוני שהוא בעצמו סכום של שני ריבועים, אז גם <span class="math">\(\frac{N}{q}\)</span> הוא סכום של שני ריבועים זרים. ההוכחה של האבחנה הזו היא טכנית ומכילה כמה משוואות ואני מעדיף לא להיכנס אליה.</p>
<p>אם כן, נתון לנו ש-<span class="math">\(N=a^{2}+b^{2}\)</span>, כך ש-<span class="math">\(p|a^{2}+b^{2}\)</span> (הקו פירושו "<span class="math">\(p\)</span> מחלק את <span class="math">\(a^{2}+b^{2}\)</span>"). נשים לב שאפשר לחסר או לחבר את <span class="math">\(p\)</span> בחופשיות הן ל-<span class="math">\(a\)</span> והן ל-<span class="math">\(b\)</span> ועדיין ש-<span class="math">\(p\)</span> יחלק את סכום הריבועים שלהם (בדקו זאת!), ולכן אפשר להניח כי שניהם קטנים יחסית ל-<span class="math">\(p\)</span>, נניח <span class="math">\(\left|a\right|,\left|b\right|&amp;lt;\frac{p}{2}\)</span> (אחרת אפשר לחסר מהם את <span class="math">\(p\)</span> שוב ושוב עד שהם נהיים קטנים מספיק). אחרי שעשינו זאת צריך לחלק את <span class="math">\(a,b\)</span> שקיבלנו בגורם המשותף הגדול ביותר שלהם כדי להבטיח ששני המספרים שנקבל יהיו זרים זה לזה (למה <span class="math">\(p\)</span> עדיין יחלק את <span class="math">\(a^{2}+b^{2}\)</span> גם אחרי שנחלק אותם בגורם הזה? כי <span class="math">\(p\)</span> לא מחלק את הגורם הזה בעצמו - למה, ולמה זה מספיק?)</p>
<p>אם כן, נסכם את מה שמגיעים אליו: שקיים <span class="math">\(N=a^{2}+b^{2}\)</span> כך ש-<span class="math">\(p|N\)</span> וכמו כן <span class="math">\(a,b\)</span> זרים זה לזה ומקיימים <span class="math">\(\left|a\right|,\left|b\right|&amp;lt;\frac{p}{2}\)</span>, כלומר <span class="math">\(N=a^{2}+b^{2}&amp;lt;\frac{p^{2}}{4}+\frac{p^{2}}{4}=\frac{p^{2}}{2}\)</span>. מכאן עולה שאם <span class="math">\(q\)</span> הוא גורם ראשוני של <span class="math">\(N\)</span> השונה מ-<span class="math">\(p\)</span>, הוא בהכרח קטן מ-<span class="math">\(p\)</span>; אחרת היינו מקבלים <span class="math">\(\frac{p^{2}}{2}&amp;gt;N\ge pq\ge p^{2}\)</span> - סתירה. כעת, אם <span class="math">\(q\)</span> הוא סכום של שני ריבועים, אז מהאבחנה שתיארתי לעיל היה נובע שגם <span class="math">\(\frac{N}{q}\)</span> הוא סכום של שני ריבועים; ואם היינו חוזרים על החלוקה הזו לכל גורם של <span class="math">\(N\)</span> שאיננו <span class="math">\(p\)</span>, היינו מקבלים בסופו של דבר את <span class="math">\(p\)</span> כסכום של שני ריבועים (וזה מה שרצינו). לכן אם <span class="math">\(p\)</span> איננו סכום של שני ריבועים, אז קיים <span class="math">\(q&amp;lt;p\)</span> שגם הוא איננו סכום של שני ריבועים, ועם זאת <span class="math">\(q|N=a^{2}+b^{2}\)</span>, כלומר זה הראשוני הקטן יותר שחיפשנו - וזה מסיים את ההוכחה.</p>
<p>אני מניח שההוכחה הזו מעט קשה לעיכול למי שטרם רגיל לתורת המספרים האלמנטרית, שטיעוני חלוקה כאלו הם די סטנדרטיים בה. מי שלא הצליח לעקוב אחרי כל השלבים - לא נורא, מדובר בסופו של דבר בהוכחה טכנית יחסית, אבל זהו צעד ראשון הכרחי לפני שעוברים לשלב השני בהוכחה של אוילר.</p>
<p>השלב השני בהוכחה של אוילר הוא מה שמכונה "שלב ההדדיות". בשלב הנסיגה, נקודת המוצא הייתה ש-<span class="math">\(p\)</span> מחלק סכום של שני ריבועים, או בלשון מודרנית, ש-<span class="math">\(a^{2}+b^{2}\equiv0\left(p\right)\)</span>, עבור <span class="math">\(a,b\)</span> זרים (ולכן בפרט לא שקולים שניהם לאפס מודולו <span class="math">\(p\)</span> - כלומר, אנחנו רוצים פתרון "לא טריוויאלי" למשוואה). האתגר של שלב ההדדיות הוא להראות עבור אילו ערכי <span class="math">\(p\)</span> הדבר הזה מתקיים. אוילר הוכיח בשיטה משלו - חשבון הפרשים, המקבילה הדיסקרטית של החשבון הדיפרנציאלי, נושא מעניין לכשעצמו - כי כדי שלמשוואה הזו יהיה פתרון צריך להתקיים <span class="math">\(p\equiv1\left(4\right)\)</span>. עם זאת, אני רוצה לגשת לשאלה הזו מנקודת מבט מעט יותר מודרנית, ותוך התייחסות לשתי הבעיות הנוספות - אוילר גם רצה לדעת באילו תנאים על <span class="math">\(p\)</span> יש פתרון למשוואה <span class="math">\(a^{2}+2b^{2}\equiv0\left(p\right)\)</span>, ובאילו תנאים יש פתרון למשוואה <span class="math">\(a^{2}+3b^{2}\equiv0\left(p\right)\)</span>.</p>
<p>נתחיל מהמשוואה <span class="math">\(a^{2}+b^{2}\equiv0\left(p\right)\)</span>. על ידי העברת אגפים נקבל <span class="math">\(a^{2}\equiv-b^{2}\left(p\right)\)</span>. מכיוון שאנו מניחים ש-<span class="math">\(b\not\equiv0\left(p\right)\)</span> (כי <span class="math">\(b\equiv0\left(p\right)\)</span> יתן לנו את הפתרון הטריוויאלי של המשוואה, שכאמור לא מועיל לנו) אפשר לחלק בו ולקבל <span class="math">\(\left(\frac{a}{b}\right)^{2}\equiv-1\left(p\right)\)</span>. על ידי החלפת משתנים אפשר לכתוב את המשוואה הזו בתור <span class="math">\(x^{2}\equiv-1\left(p\right)\)</span>. כלומר, הצטמצמנו לשאלה הבאה: מתי <span class="math">\(-1\)</span> הוא ריבוע מודולו <span class="math">\(p\)</span>? ובטרמינולוגיה שבדרך כלל משתמשים בה: מתי <span class="math">\(-1\)</span> הוא <strong>שארית ריבועית</strong> מודולו <span class="math">\(p\)</span>?</p>
<p>נעבור למשוואה השניה. אחרי העברת אגפים וחלוקה נקבל את השאלה מתי <span class="math">\(-2\)</span> הוא שארית ריבועית מודולו <span class="math">\(p\)</span>. המשוואה השלישית תצטמצם לשאלה (הפתעה הפתעה) מתי <span class="math">\(-3\)</span> הוא שארית ריבועית מודולו <span class="math">\(p\)</span>. אם כן, זו שאלה מעניינת באופן כללי - איך ניגשים אליה?</p>
<p>כדי לטפל בבעיה הזו בצורה רצינית, מאוד מועיל לבצע שינוי נוסף של נקודת המבט - במקום להמשיך לדבר על מספרים מודולו <span class="math">\(p\)</span> כל הזמן, אפשר לעבור ולדבר על איברים ב<a href="http://he.wikipedia.org/wiki/%D7%97%D7%91%D7%95%D7%A8%D7%94_)%D7%9E%D7%91%D7%A0%D7%94_%D7%90%D7%9C%D7%92%D7%91%D7%A8%D7%99(">חבורה</a> <span class="math">\(\mathbb{Z}_{p}^{*}\)</span> - אוסף כל המספרים <span class="math">\(\left\{ 1,\dots,p-1\right\} \)</span> עם פעולה של כפל מודולו <span class="math">\(p\)</span> (כופלים שני מספרים, מחלקים ב-<span class="math">\(p\)</span> והתוצאה היא השארית). החבורה הזו היא אחד מהאובייקטים הבסיסיים בתורת המספרים, וידוע עליה הרבה מאוד - בפרט, שהיא ציקלית, כלומר לכל <span class="math">\(p\)</span> קיים <span class="math">\(g\in\mathbb{Z}_{p}^{*}\)</span> כך שכל איבר <span class="math">\(a\in\mathbb{Z}_{p}^{*}\)</span> ניתן לכתיבה בתור <span class="math">\(a=g^{k}\)</span> עבור <span class="math">\(k\)</span> מתאים כלשהו. ברור שאם <span class="math">\(a=g^{2k}\)</span>, כלומר <span class="math">\(a\)</span> הוא חזקה זוגית של <span class="math">\(g\)</span>, אז <span class="math">\(a\)</span> הוא שארית ריבועית, כי הוא ניתן לכתיבה בתור <span class="math">\(\left(g^{k}\right)^{2}\)</span>; ניתן להראות גם את ההפך, שאם <span class="math">\(a=g^{2k+1}\)</span>, כלומר הוא חזקה אי זוגית, אז הוא אינו שארית ריבועית (זהו תרגיל נחמד לאלו מכם שבקיאים בתורת החבורות). כעת, <span class="math">\(g\)</span> מקיים <span class="math">\(g^{p-1}=1\)</span> (זהו "<a href="http://he.wikipedia.org/wiki/%D7%94%D7%9E%D7%A9%D7%A4%D7%98_%D7%94%D7%A7%D7%98%D7%9F_%D7%A9%D7%9C_%D7%A4%D7%A8%D7%9E%D7%94">המשפט הקטן של פרמה</a>"), ולכן ברור שאם <span class="math">\(a=g^{2k}\)</span> אז <span class="math">\(a^{\frac{p-1}{2}}=\left(g^{p-1}\right)^{k}=1\)</span>; ולעומת זאת, אם <span class="math">\(a=g^{2k+1}\)</span> אז <span class="math">\(a^{\frac{p-1}{2}}=\left(g^{2k}\cdot g\right)^{\frac{p-1}{2}}=\left(g^{p-1}\right)^{k}\cdot g^{\frac{p-1}{2}}=g^{\frac{p-1}{2}}=-1\)</span> - שוב, הבקיאים בתורת החבורות ודאי ירצו להצדיק לעצמם את המעבר האחרון, דהיינו ש-<span class="math">\(g^{\frac{p-1}{2}}=-1\)</span> (רמז: מהו אגף שמאל בריבוע? ומדוע ידוע לנו שאגף שמאל שונה מ-1?). האבחנות הללו מובילות אותנו למה שמכונה "קריטריון אוילר" (אם כי לא ברור לי כלל שאוילר הגיע אליו כך): מספר <span class="math">\(a\)</span> הוא שארית ריבועית מודולו <span class="math">\(p\)</span> אם ורק אם <span class="math">\(a^{\frac{p-1}{2}}\equiv1\left(p\right)\)</span>.</p>
<p>הקריטריון הזה מחסל לנו מייד את המקרה של <span class="math">\(-1\)</span>: <span class="math">\(\left(-1\right)^{\frac{p-1}{2}}=1\)</span> אם ורק אם <span class="math">\(\frac{p-1}{2}\)</span> הוא זוגי, כלומר אם ורק אם <span class="math">\(p-1\)</span> מתחלק ב-4, כלומר אם ורק אם <span class="math">\(p\equiv1\left(4\right)\)</span>. כדי להתחיל את הטיפול במקרים האחרים, אני רוצה להכניס לתמונה סימון נוח - סימן לג'נדר. סימן לג'נדר של <span class="math">\(a\)</span> מעל <span class="math">\(p\)</span> מסומן בתור <span class="math">\(\left(\frac{a}{p}\right)\)</span>, מה שמזכיר באופן מבלבל שבר, אבל ניתן כמעט תמיד להבין מההקשר שמדובר בסימן לג'נדר ולא בשבר. הוא מוגדר כך: אם <span class="math">\(a\)</span> אינו זר ל-<span class="math">\(p\)</span>, אז <span class="math">\(\left(\frac{a}{p}\right)=0\)</span>; אם <span class="math">\(a\)</span> הוא שארית ריבועית מודולו <span class="math">\(p\)</span> אז <span class="math">\(\left(\frac{a}{p}\right)=1\)</span>, ואם הוא אינו שארית ריבועית מודולו <span class="math">\(p\)</span>, אז <span class="math">\(\left(\frac{a}{p}\right)=-1\)</span>. אם כן, את קריטריון אוילר ניתן לכתוב בצורה קומפקטית באופן הבא: <span class="math">\(\left(\frac{a}{p}\right)\equiv a^{\frac{p-1}{2}}\left(p\right)\)</span>.</p>
<p>סימן לג'נדר מאפשר לנו לתת תיאור קומפקטי של עוד עובדות בסיסיות, למשל <span class="math">\(\left(\frac{ab}{p}\right)=\left(\frac{a}{p}\right)\left(\frac{b}{p}\right)\)</span> - נסו להבהיר לעצמכם שאתם מבינים מה זה אומר (ולבקיאים בתורת החבורות - איך להוכיח את זה?). כמו כן, אם <span class="math">\(a\equiv b\left(p\right)\)</span> אז <span class="math">\(\left(\frac{a}{p}\right)=\left(\frac{b}{p}\right)\)</span>. לבסוף, הוא מאפשר לנו לתאר בצורה פשוטה גם את התכונה המשמעותית ביותר של שאריות ריבועיות - <a href="http://he.wikipedia.org/wiki/%D7%9E%D7%A9%D7%A4%D7%98_%D7%94%D7%94%D7%93%D7%93%D7%99%D7%95%D7%AA_%D7%94%D7%A8%D7%99%D7%91%D7%95%D7%A2%D7%99%D7%AA;">משפט ההדדיות הריבועית</a>. הוא מנוסח בפשטות כך: אם <span class="math">\(p,q\)</span> שניהם ראשוניים אי זוגיים שונים זה מזה, אז מתקיים הקשר הבא: <span class="math">\(\left(\frac{p}{q}\right)\left(\frac{q}{p}\right)=\left(-1\right)^{\left(\frac{p-1}{2}\right)\left(\frac{q-1}{2}\right)}\)</span>. בניסוח מילולי, אפשר לומר שמשפט ההדדיות אומר שסימן לג'נדר של <span class="math">\(p\)</span> מעל <span class="math">\(q\)</span> וסימן לג'נדר של <span class="math">\(q\)</span> מעל <span class="math">\(p\)</span> הם זהים תמיד, פרט למקרה שבו <span class="math">\(p\equiv q\equiv3\left(4\right)\)</span>, ואז הם הפוכים זה לזה.</p>
<p>הפעם לא אבקש מבקיאים בתורת החבורות להוכיח את המשפט - אף שעלה בידי אוילר לשער את המשפט הזה (בניסוח שקול אך שונה למדי), הראשון שהוכיח אותו היה גאוס, וגם זה לאחר שהמשפט "ייסר אותי במשך שנה" כפי שהוא כתב ביומנו. גאוס אהב את המשפט הזה כל כך עד שנתן לו שש הוכחות שונות, וכיום ידועות עוד רבות נוספות - אך אף אחת מהן אינה טריוויאלית. מדובר ללא ספק במשפט "עמוק" (אם כי, כרגיל במתמטיקה, הוא מהווה רק את קצה הקרחון של תורה שלמה ועמוקה פי כמה, שבסופה נמצא <a href="http://en.wikipedia.org/wiki/Artin_reciprocity_law">משפט הדדיות כללי וחזק פי כמה וכמה</a>).</p>
<p>לא אכנס כאן לניתוח של השאלה מתי <span class="math">\(-2\)</span> הוא שארית ריבועית מודולו <span class="math">\(p\)</span> (מן הסתם המסקנה הסופית היא ש-<span class="math">\(p\equiv1,3\left(8\right)\)</span>) כי הוא טכני ולא מחכים עד כדי כך. לעומת זאת, הניתוח של המקרה של <span class="math">\(-3\)</span> נותן לנו הזדמנות יפה לראות את משפט ההדדיות הריבועית בשיא כוחו (והעובדה שאני נזקק להדדיות ריבועית רומזת משהו על הקושי שהיה לאוילר, שלא הכיר את משפט ההדדיות הריבועית, כשניסה לטפל במקרה הזה בעצמו). זאת מכיוון ש-3 הוא ראשוני, ולכן אפשר להשתמש בו בתור ה-<span class="math">\(q\)</span> שמופיע במשפט ההדדיות הריבועית. היתרון של משפט ההדדיות הריבועית יהיה בכך שהוא יהפוך את השאלה "מתי <span class="math">\(3\)</span> הוא שארית ריבועית מודולו <span class="math">\(p\)</span>?" לשאלה "מתי <span class="math">\(p\)</span> הוא שארית ריבועית מודולו 3?", ומהתכונה שהצגתי קודם, לפיה אם <span class="math">\(a\equiv b\left(q\right)\)</span> אז <span class="math">\(\left(\frac{a}{q}\right)=\left(\frac{b}{q}\right)\)</span> אפשר לראות שזו שאלה יחסית קלה כי מספיק לבדוק באופן ישיר מספר קטן של מקרים: לא קשה לראות כי <span class="math">\(\left(\frac{1}{3}\right)=1\)</span> ואילו <span class="math">\(\left(\frac{2}{3}\right)=-1\)</span>.</p>
<p>אם כן, נשתמש בהדדיות ריבועית ובמה שכבר גילינו על <span class="math">\(\left(\frac{-1}{p}\right)=\left(-1\right)^{\frac{p-1}{2}}\)</span> ונקבל את החישוב הישיר הבא:</p>
<p><span class="math">\(\left(\frac{-3}{p}\right) = \left(\frac{-1}{p}\right)\left(\frac{3}{p}\right)=\left(-1\right)^{\frac{p-1}{2}}\left(\frac{p}{3}\right)\left(-1\right)^{\frac{p-1}{2}}=\left(\frac{p}{3}\right)\)</span></p>
<p>כלומר, משפט ההדדיות הריבועית לימד אותנו ש-<span class="math">\(\left(\frac{-3}{p}\right)\)</span> הוא <strong>בדיוק</strong> <span class="math">\(\left(\frac{p}{3}\right)\)</span>, ולכן הוא 1 אם ורק אם <span class="math">\(p\equiv1\left(3\right)\)</span>, בדיוק כפי שציפינו שנקבל. כמובן שהשתמשתי כאן בתותח כבד; אבל מכיוון שמטרת הפוסט העיקרית הייתה להציג את התותח הזה, אין לי חרטות.</p>
        </article>
        
        <footer>
            <p>© כל הזכויות שמורות לגדי אלכסנדרוביץ'</p>
        </footer>
    </div>

    
    <script>
        function searchPosts() {
            const searchTerm = document.getElementById('searchInput').value;
            if (searchTerm.trim()) {
                window.location.href = '/post_list.html?search=' + encodeURIComponent(searchTerm);
            }
        }
        
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchPosts();
            }
        });
    </script>
    
    
    <!-- Auto-render KaTeX math -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            renderMathInElement(document.body, {
                delimiters: [
                    {left: "\\[", right: "\\]", display: true},
                    {left: "\\(", right: "\\)", display: false}
                ],
                throwOnError: false
            });
        });
    </script>

</body>
</html>