<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>חידת מטוסים ומושבים - לא מדויק</title>
    <link rel="icon" type="image/x-icon" href="/new_site/favicon.ico">
    
    
    <!-- KaTeX for math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>

    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', 'David', 'Tahoma', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
        }
        
        /* Top navigation bar */
        .top-nav {
            background: #2c3e50;
            padding: 15px 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .top-nav .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
        }
        
        .top-nav .site-title {
            font-size: 1.5em;
            font-weight: bold;
            color: white;
            text-decoration: none;
            white-space: nowrap;
        }
        
        .top-nav .nav-links {
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .top-nav .nav-links a {
            color: #ecf0f1;
            text-decoration: none;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background 0.2s;
            white-space: nowrap;
        }
        
        .top-nav .nav-links a:hover {
            background: #34495e;
        }
        
        .top-nav .search-box {
            display: flex;
            gap: 5px;
        }
        
        .top-nav .search-box input {
            padding: 5px 10px;
            border: none;
            border-radius: 4px;
            font-size: 0.9em;
            min-width: 150px;
        }
        
        .top-nav .search-box button {
            padding: 5px 15px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .top-nav .search-box button:hover {
            background: #2980b9;
        }
        
        /* Blockquote styling */
        blockquote {
            background: #f9f9f9;
            border-right: 5px solid #ccc;
            margin: 1.5em 10px;
            padding: 0.75em 16px;
            position: relative;
            font-style: italic;
        }
        
        blockquote:before {
            content: '"';
            position: absolute;
            top: -10px;
            right: 8px;
            font-size: 3.5em;
            color: #ccc;
            line-height: 1;
        }
        
        blockquote p {
            display: block;
            margin: 0 0 0.75em 0;
        }
        
        blockquote p:last-child {
            margin-bottom: 0;
        }
        
        
        body {
            line-height: 1.8;
        }
        
        .container {
            max-width: 800px;
            margin: 20px auto;
            background: white;
            padding: 40px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
        }
        
        header {
            margin-bottom: 40px;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 20px;
        }
        
        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .post-meta {
            color: #7f8c8d;
            font-size: 0.9em;
        }
        
        .post-meta .date {
            margin-left: 15px;
        }
        
        .post-meta .categories,
        .post-meta .tags {
            display: inline;
        }
        
        .post-meta .categories a,
        .post-meta .tags a {
            color: #3498db;
            text-decoration: none;
            margin: 0 5px;
        }
        
        .post-meta .categories a:hover,
        .post-meta .tags a:hover {
            text-decoration: underline;
        }
        
        article {
            font-size: 1.1em;
        }
        
        article h2 {
            margin-top: 30px;
            margin-bottom: 15px;
            color: #34495e;
            font-size: 1.8em;
        }
        
        article h3 {
            margin-top: 25px;
            margin-bottom: 12px;
            color: #34495e;
            font-size: 1.4em;
        }
        
        article p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        article ul, article ol {
            margin-right: 30px;
            margin-bottom: 15px;
        }
        
        article li {
            margin-bottom: 8px;
        }
        
        article code {
            background-color: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        
        article pre {
            background-color: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin-bottom: 20px;
            direction: ltr;
            text-align: left;
        }
        
        article pre code {
            background-color: transparent;
            padding: 0;
            color: inherit;
        }
        
        /* Image styles - responsive and contained */
        article img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 20px auto;
        }
        
        /* Math rendering styles */
        .math {
            direction: ltr;
        }
        
        span.math {
            direction: ltr;
        }
        
        /* Override RTL for KaTeX */
        .katex {
            direction: ltr;
            unicode-bidi: embed;
        }
        
        div.math {
            display: block;
            text-align: center;
            padding: 15px 0;
            direction: ltr;
        }
        
        /* RTL adjustments for code blocks */
        .highlight {
            direction: ltr;
            text-align: left;
        }
        
        footer {
            margin-top: 60px;
            padding-top: 20px;
            border-top: 1px solid #e0e0e0;
            text-align: center;
            color: #95a5a6;
            font-size: 0.9em;
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2em;
            }
            
            article {
                font-size: 1em;
            }
        }
        
        /* Post navigation */
        .post-navigation {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #e0e0e0;
            gap: 20px;
        }
        
        .post-navigation .nav-link {
            flex: 1;
            text-decoration: none;
            color: #2c3e50;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 5px;
            transition: background 0.2s;
        }
        
        .post-navigation .nav-link:hover {
            background: #e9ecef;
        }
        
        .post-navigation .nav-prev {
            text-align: right;
        }
        
        .post-navigation .nav-next {
            text-align: left;
        }
        
        .post-navigation .nav-label {
            font-size: 0.85em;
            color: #7f8c8d;
            display: block;
            margin-bottom: 5px;
        }
        
        .post-navigation .nav-title {
            font-weight: bold;
            font-size: 1.1em;
        }

    </style>
</head>
<body>
    <nav class="top-nav">
        <div class="nav-container">
            <a href="/new_site/" class="site-title">לא מדויק</a>
            <div class="nav-links">
                <a href="/new_site/">דף הבית</a>
                <a href="/new_site/random.html">פוסט אקראי</a>
                <a href="/new_site/post_list.html">כל הפוסטים</a>
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="חיפוש...">
                    <button onclick="searchPosts()">חפש</button>
                </div>
            </div>
        </div>
    </nav>
    
    
    <div class="container">
        <!-- Post Navigation -->
        
        <nav class="post-navigation">
            
            <a href="/new_site/2012/05/21/bible_jump_4/" class="nav-link nav-prev">
                <span class="nav-label">פוסט ישן יותר →</span>
                <span class="nav-title">אז מה הקטע עם דילוגי אותיות בתורה? (חלק ד&#39; ואחרון)</span>
            </a>
            

            
            <a href="/new_site/2012/06/04/choice_order_zorn/" class="nav-link nav-next">
                <span class="nav-label">← פוסט חדש יותר</span>
                <span class="nav-title">אקסיומת הבחירה, עקרון הסדר הטוב, הלמה של צורן - מי יודע?</span>
            </a>
            
        </nav>
        
        
        <header>
            <h1>חידת מטוסים ומושבים</h1>
            <div class="post-meta">
                <span class="date">2012-06-02</span>
                
                <span class="categories">
                    | קטגוריות:
                    
                    <a href="/categories/הסתברות.html">הסתברות</a>
                    
                    <a href="/categories/משחקים וחידות מתמטיות.html">משחקים וחידות מתמטיות</a>
                    
                </span>
                
                
                <span class="tags">
                    | תגיות:
                    
                    <a href="/tags/חידות.html">חידות</a>
                    
                </span>
                
            </div>
        </header>
        
        <article>
            <p>שמעתי חידה חביבה מאוד, ונראה לי שווה להקדיש לה פוסט קצר שיתאר אותה, אבל יותר מכך - גם את האופן שבו ניגשים לפתור משהו דומה לה.</p>
<p>החידה פשוטה: 100 אנשים עולים למטוס עם 100 מושבים. לכל אחד כרטיס עם מספר המושב שלו, אבל מי שנכנס ראשון למטוס הצליח לאבד את הכרטיס ולכן הוא פשוט מתיישב באקראי באחד המושבים ("באקראי" פירושו שלכל מושב אותה הסתברות להיבחר). מכאן ואילך שאר הנוסעים פועלים כך: כל נוסע נכנס בתורו למטוס. אם המושב שלו פנוי, הוא יושב בו; אחרת הוא בוחר מושב באקראי מבין אלו שעדיין פנויים, ומתיישב בו.</p>
<p>אתם האחרונים שנכנסים למטוס. מה ההסתברות שהכיסא שלכם פנוי?</p>
<p>תחשבו על זה קצת. התשובה לאחר הקומיקס.</p>
<p><a href="/new_site/img/2012/06/seat_selection.png"><img class="alignnone size-full wp-image-2019" title="seat_selection" src="/new_site/img/2012/06/seat_selection.png" alt="" width="740" height="175" /></a></p>
<p>טוב, אז איך אני מתמודד עם חידה כמו זו כשאני שומע אותה? ראשית, פאניקה. יש כאן איזה שהוא תהליך בחירה ארוך ומסורבל שבו מה שקורה בכל צעד תלוי בכל מה שקרה עד אז, וזה נראה כמו קטסטרופה שאין כדוגמתה. חשוב לי להדגיש שזו התחושה הראשונית שלי, כדי להבהיר לאנשים שחשים בעצמם פחד ואימה למראה שאלה כמו זו ש<strong>זה טבעי</strong>. זה כמו פחד הבמה שיש גם לחלק מהשחקנים המנוסים. זו ממש לא אינדיקציה שצריך להתייאש ולוותר.</p>
<p>אז מה כן עושים? ראשית כל, ברוב מוחץ של החידות מסוג זה, המספר 100 סתם בא להפחיד ואין לו חשיבות רבה. אם היה כתוב שם 200, הפתרון היה שונה? קרוב לודאי שלא. ואם היה כתוב 5? לכן כדאי תמיד להתחיל מלפתור מקרים פשוטים בצורה הכי ישירה שרק אפשר, וכך לקבל תחושת בטן כלשהי לגבי מה שהולך כאן. צריך להיזהר שהמקרים לא יהיו פשוטים <strong>מדי</strong>, כי במקרים כאלו קשה לראות את התבנית הכללית, אבל אין מניעה להתחיל אפילו מהם.</p>
<p>אם כן, כאשר יש רק נוסע אחד במטוס ההסתברות שלו להיות במקומו היא מן הסתם 1, אבל זו באמת סיטואציה מנוונת למדי כי כל עניין ה"איבדתי את הכרטיס" לא יכול לבוא בה לידי ביטוי מלכתחילה. אז בואו נתחיל מלהבין מה קורה כשיש שני נוסעים במטוס. במקרה הזה הנוסע השני - אתם - יתיישב במקומו רק אם הנוסע הראשון - המאבד - לא הגריל את המושב שלכם. מכיוון שיש שני מושבים בלבד, ההסתברות לכך היא <span class="math">\(\frac{1}{2}\)</span>.</p>
<p>כאשר יש שלושה אנשים העסק מתחיל להסתבך. הנוסע הראשון מגריל אחד משלושה מושבים. אם הוא הגריל את שלכם (בהסתברות <span class="math">\(\frac{1}{3}\)</span>), אין סיכוי שתשבו במושב שלכם. אם הוא הגריל את המושב של עצמו (בהסתברות <span class="math">\(\frac{1}{3}\)</span>) הכל בסדר - גם אתם וגם הנוסע הנוסף תשבו במושב הנכון שלכם. ואם הנוסע הראשון הגריל את המושב של הנוסע השני? אז הכל תלוי במה שהנוסע השני יעשה, והוא בוחר בין שני מושבים אפשריים, כך שבהסתברות <span class="math">\(\frac{1}{2}\)</span> הוא יבחר במושב ה"נכון" (זה שאינו שלנו, כלומר זה שנוסע מס' 1 היה אמור לשבת בו), וקיבלנו שבסך הכל ההסתברות לכך שהמושב שלנו יהיה פנוי היא <span class="math">\(\frac{1}{3}+\frac{1}{3}\cdot\frac{1}{2}=\frac{1}{2}\)</span>.</p>
<p>הממממ.</p>
<p>קיבלנו שוב חצי.</p>
<p>האם אני מריח הכללה מתקרבת ובאה?</p>
<p>בשלב הזה גם התעוררו החשדות שלי, אבל גם התחלתי לראות דרך כללית לפתור את הבעיה. בואו נסמן את הנוסעים במספרים, <span class="math">\(1,2,\dots,n\)</span> ואת המושבים שלהם נסמן באותם מספרים. כעת, אפשר לחלק את ההתרחשות במטוס למקרים על פי השאלה איפה נוסע 1 התיישב. אם הוא התיישב בכיסא 1 (בהסתברות <span class="math">\(\frac{1}{n}\)</span>) אז כל שאר הנוסעים גם כן ישבו במקומותיהם וההסתברות שלנו (נוסע <span class="math">\(n\)</span>) לשבת במקומנו היא 1. אם נוסע 1 התיישב בכיסא 2, אז נוסע 2 בוחר מושב באקראי מבין <span class="math">\(n-1\)</span> המושבים שנותרו; אפשר לחשוב על כך כאילו מושב 1 הוא המושב ה"נכון" עבורו, ולכן הסיטואציה זהה לזו של החידה המקורית, אבל עם אדם אחד פחות. אם נסמן ב-<span class="math">\(B\left(n\right)\)</span> את ההסתברות כאשר יש <span class="math">\(n\)</span> אנשים, אז ראינו בינתיים ש-<span class="math">\(B\left(n\right)=\frac{1}{n}+\frac{1}{n}B\left(n-1\right)+\dots\)</span> כשאני עדיין לא יודע מה מסתתר מאחורי שלוש הנקודות, אבל אפשר כבר לנחש.</p>
<p>אם נוסע 1 התיישב במושב 3, אז נפטרנו משני אנשים: גם מנוסע מס' 1 אבל גם מנוסע מס' 2 שיתיישב במושב 2 וחסל. זה אומר שהמשחק מתחיל מחדש עם נוסע 3, ולכן צריך להוסיף לסכום שלנו גם <span class="math">\(\frac{1}{n}B\left(n-2\right)\)</span>. ואותו דבר עם נוסע מס' 4, וכו' וכו' וכו'. זאת עד לסיטואציה שבה נוסע מס' 1 מתיישב במקום <span class="math">\(n\)</span> - המקום שלנו! - ואז אין לנו שום סיכוי לשבת יותר במקום שלנו ולכן זה לא נכלל בסכום.</p>
<p>קיבלנו את הנוסחה <span class="math">\(B\left(n\right)=\frac{1+B\left(n-1\right)+B\left(n-2\right)+\dots+B\left(2\right)}{n}\)</span> (ואם רוצים נוסחה יפה עוד יותר אפשר להסכים ש-<span class="math">\(B\left(0\right)=0\)</span> ו-<span class="math">\(B\left(1\right)=1\)</span> ולכתוב <span class="math">\(B\left(n\right)=\frac{1}{n}\sum_{k=0}^{n-1}B\left(k\right)\)</span>). כעת, אם נלך עם תחושת הבטן שלנו וננסה להוכיח ש-<span class="math">\(B\left(n\right)=\frac{1}{2}\)</span> לכל <span class="math">\(n\ge2\)</span> (עבור 2 כבר ראינו שזה קורה), מה הנוסחה תיתן לנו? ובכן:</p>
<p><span class="math">\(B\left(n\right)=\frac{1+\frac{1}{2}+\dots+\frac{1}{2}}{n}=\frac{1}{n}\left(1+\frac{n-2}{2}\right)=\frac{1}{n}\cdot\frac{n}{2}=\frac{1}{2}\)</span></p>
<p>(מאיפה ה-<span class="math">\(\frac{n-2}{2}\)</span> הגיע? יש בדיוק <span class="math">\(n-2\)</span> מחוברים שהערך שלהם, על פי הנחת האינדוקציה, הוא <span class="math">\(\frac{1}{2}\)</span>: המחוברים <span class="math">\(B\left(2\right),\dots,B\left(n-1\right)\)</span>).</p>
<p>זה פותר את החידה - ההסתברות היא חצי עבור <span class="math">\(n\ge2\)</span>, תמיד. זו המחשה נאה לאופן שבו אינדוקציה מתמטית וגישת "בואו נבין את המקרים הפשוטים ואז נפתור לא רק עבור 100 אלא עבור כל <span class="math">\(n\)</span>" פותרים את הבעיה בקלות ובצורה מסודרת. עם זאת, אחרי שיודעים את התשובה מעניין תמיד למצוא איזו "הוכחת מחץ" שמאפשר להבין למה היא נכונה גם בלי להיכנס לעובי החישובים. אציג עכשיו הוכחת מחץ אחת כזו (לא שלי).</p>
<p>האבחנה הבסיסית היא זו: אם נתבונן באחד מהתרחישים האפשריים של "איך אנשים תופסים מקומות במטוס", נשים לב לכך שהשאלה האם כשאתם (הנוסע האחרון) תיכנסו מושב 100 יהיה פנוי שקולה לשאלה האם מושב 100 נתפס לפני מושב 1. למה? טוב, אם מושב 100 נתפס לפני מושב 1, אז בפרט כשאתם נכנסים למטוס לא ייתכן שמושב 100 עדיין פנוי (כי יש רק מושב פנוי יחיד, ומבין המושבים 1 ו-100, מושב 1 נתפס מאוחר יותר ולכן אם מישהו משניהם פנוי זה יהיה מושב 1). מצד שני, אם מושב 1 נתפס לפני מושב 100, "הכל מסתדר". תחשבו על זה שניה: בכל פעם שבה אדם מתיישב במושב שאינו שלו, הכל מסתדר עד לרגע שבו בעליו החוקיים של המושב נכנס למטוס; עד שזה קורה, כל אלו שנכנסים למטוס נכסים למקומות החוקיים שלהם. זה רק הבעלים של המושב החוקי שנתפס שנאלץ להגריל מושב של מישהו אחר. אבל, אם יוגרל מושב מס' 1, אף אחד כבר לא יסבול מכך שתפסו לו את המקום שכן מושב 1 היה שייך למופרע שהתחיל את כל המהומה הזו. מכאן שאם לא תפסו את מושב 100 עד אשר תפסו את מושב 1, גם לא יתפסו בטעות את מושב 100 החל מאותו רגע.</p>
<p>יפה. עכשיו, מה ההסתברות שמושב 1 ייתפס לפני מושב 100? <strong>בדיוק</strong> אותה הסתברות כמו זו שמושב 100 ייתפס לפני מושב 1. למה? מטעמי סימטריה. עבור כל הנוסעים במטוס למעט הנוסע האחרון, אין שום הבדל בין מושבים 1 ו-100, ולכן כשהם בוחרים היכן לשבת, היחס שלהם לשני המושבים הללו הוא אותו היחס, ולכן ההסתברות לבחור כל אחד משניהם היא אותה ההסתברות. בניסוח טיפה שונה אבל לטעמי משכנע למדי - המושבים <strong>היחידים </strong>שיש סיכוי שנוסע 100 יקבל הם 1 ו-100, ואין לאף אחד מהם יתרון על פני השני ולכן ההסתברות היא חצי. זה נפנוף ידיים, אבל זה נותן אינטואיציה חזקה למדי לטעמי, והרי לפתור פורמלית כבר פתרנו.</p>
<p>אם רוצים לפרמל קצת יותר את הטיעון האחרון, אפשר לעשות את הדבר הבא: לבנות התאמה חד-חד-ערכית ועל בין תרחישי העליה למטוס שבהם נוסע 100 מסיים במושב 100, ואלו שבהם הוא מסיים במושב אחר. ההתאמה פשוטה להפתיע: פשוט קחו תרחיש כלשהו, ותהפכו בו את תפקידי מושב 1 ומושב 100 - תקבלו תרחיש שתוצאתו הסופית שונה. אשאיר לכם להוכיח את הפרטים אם אתם רוצים.</p>
<p>עדיין לא מאמינים? זה בסדר, ספקנות אנטי-מתמטית זה דבר בריא! בפעם הבאה שאתם עולים לטיסה, יש לי ניסוי אמפירי להציע לכם שאולי יפריך את המתמטיקה...</p>
        </article>
        
        <footer>
            <p>© כל הזכויות שמורות לגדי אלכסנדרוביץ'</p>
        </footer>
    </div>

    
    <script>
        function searchPosts() {
            const searchTerm = document.getElementById('searchInput').value;
            if (searchTerm.trim()) {
                window.location.href = '/new_site/post_list.html?search=' + encodeURIComponent(searchTerm);
            }
        }
        
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchPosts();
            }
        });
    </script>
    
    
    <!-- Auto-render KaTeX math -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            renderMathInElement(document.body, {
                delimiters: [
                    {left: "\\[", right: "\\]", display: true},
                    {left: "\\(", right: "\\)", display: false}
                ],
                throwOnError: false
            });
        });
    </script>

</body>
</html>