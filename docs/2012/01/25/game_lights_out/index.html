<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>כיבוי אורות (או: תורת הגרפים והאלגברה הלינארית מחסלות עוד משחק תמים) - לא מדויק</title>
    <link rel="icon" type="image/x-icon" href="/new_blog/favicon.ico">
    
    
    <!-- KaTeX for math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>

    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', 'David', 'Tahoma', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
        }
        
        /* Top navigation bar */
        .top-nav {
            background: #2c3e50;
            padding: 15px 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .top-nav .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
        }
        
        .top-nav .site-title {
            font-size: 1.5em;
            font-weight: bold;
            color: white;
            text-decoration: none;
            white-space: nowrap;
        }
        
        .top-nav .nav-links {
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .top-nav .nav-links a {
            color: #ecf0f1;
            text-decoration: none;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background 0.2s;
            white-space: nowrap;
        }
        
        .top-nav .nav-links a:hover {
            background: #34495e;
        }
        
        .top-nav .search-box {
            display: flex;
            gap: 5px;
        }
        
        .top-nav .search-box input {
            padding: 5px 10px;
            border: none;
            border-radius: 4px;
            font-size: 0.9em;
            min-width: 150px;
        }
        
        .top-nav .search-box button {
            padding: 5px 15px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .top-nav .search-box button:hover {
            background: #2980b9;
        }
        
        /* Mobile responsive */
        @media (max-width: 768px) {
            .top-nav .nav-container {
                flex-direction: column;
                align-items: stretch;
            }
            
            .top-nav .site-title {
                text-align: center;
                margin-bottom: 10px;
            }
            
            .top-nav .nav-links {
                flex-direction: column;
                width: 100%;
            }
            
            .top-nav .nav-links a {
                text-align: center;
                padding: 8px;
            }
            
            .top-nav .search-box {
                width: 100%;
                flex-direction: column;
            }
            
            .top-nav .search-box input {
                width: 100%;
                margin-bottom: 5px;
                min-width: 0;
            }
            
            .top-nav .search-box button {
                width: 100%;
            }
        }
        
        /* Blockquote styling */
        blockquote {
            background: #f9f9f9;
            border-right: 5px solid #ccc;
            margin: 1.5em 10px;
            padding: 0.75em 16px;
            position: relative;
            font-style: italic;
        }
        
        blockquote:before {
            content: '"';
            position: absolute;
            top: -10px;
            right: 8px;
            font-size: 3.5em;
            color: #ccc;
            line-height: 1;
        }
        
        blockquote p {
            display: block;
            margin: 0 0 0.75em 0;
        }
        
        blockquote p:last-child {
            margin-bottom: 0;
        }
        
        
        body {
            line-height: 1.8;
        }
        
        .container {
            max-width: 800px;
            margin: 20px auto;
            background: white;
            padding: 40px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
        }
        
        header {
            margin-bottom: 40px;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 20px;
        }
        
        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .post-meta {
            color: #7f8c8d;
            font-size: 0.9em;
        }
        
        .post-meta .date {
            margin-left: 15px;
        }
        
        .post-meta .categories,
        .post-meta .tags {
            display: inline;
        }
        
        .post-meta .categories a,
        .post-meta .tags a {
            color: #3498db;
            text-decoration: none;
            margin: 0 5px;
        }
        
        .post-meta .categories a:hover,
        .post-meta .tags a:hover {
            text-decoration: underline;
        }
        
        article {
            font-size: 1.1em;
        }
        
        article h2 {
            margin-top: 30px;
            margin-bottom: 15px;
            color: #34495e;
            font-size: 1.8em;
        }
        
        article h3 {
            margin-top: 25px;
            margin-bottom: 12px;
            color: #34495e;
            font-size: 1.4em;
        }
        
        article p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        article ul, article ol {
            margin-right: 30px;
            margin-bottom: 15px;
        }
        
        article li {
            margin-bottom: 8px;
        }
        
        article code {
            background-color: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        
        article pre {
            background-color: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin-bottom: 20px;
            direction: ltr;
            text-align: left;
        }
        
        article pre code {
            background-color: transparent;
            padding: 0;
            color: inherit;
        }
        
        /* Image styles - responsive and contained */
        article img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 20px auto;
        }
        
        /* Math rendering styles */
        .math {
            direction: ltr;
        }
        
        span.math {
            direction: ltr;
        }
        
        /* Override RTL for KaTeX */
        .katex {
            direction: ltr;
            unicode-bidi: embed;
        }
        
        div.math {
            display: block;
            text-align: center;
            padding: 15px 0;
            direction: ltr;
        }
        
        /* RTL adjustments for code blocks */
        .highlight {
            direction: ltr;
            text-align: left;
        }
        
        footer {
            margin-top: 60px;
            padding-top: 20px;
            border-top: 1px solid #e0e0e0;
            text-align: center;
            color: #95a5a6;
            font-size: 0.9em;
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2em;
            }
            
            article {
                font-size: 1em;
            }
        }
        
        /* Post navigation */
        .post-navigation {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #e0e0e0;
            gap: 20px;
        }
        
        .post-navigation .nav-link {
            flex: 1;
            text-decoration: none;
            color: #2c3e50;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 5px;
            transition: background 0.2s;
        }
        
        .post-navigation .nav-link:hover {
            background: #e9ecef;
        }
        
        .post-navigation .nav-prev {
            text-align: right;
        }
        
        .post-navigation .nav-next {
            text-align: left;
        }
        
        .post-navigation .nav-label {
            font-size: 0.85em;
            color: #7f8c8d;
            display: block;
            margin-bottom: 5px;
        }
        
        .post-navigation .nav-title {
            font-weight: bold;
            font-size: 1.1em;
        }

    </style>
</head>
<body>
    <nav class="top-nav">
        <div class="nav-container">
            <a href="/new_blog/" class="site-title">לא מדויק</a>
            <div class="nav-links">
                <a href="/new_blog/">דף הבית</a>
                <a href="/new_blog/random.html">פוסט אקראי</a>
                <a href="/new_blog/post_list.html">כל הפוסטים</a>
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="חיפוש...">
                    <button onclick="searchPosts()">חפש</button>
                </div>
            </div>
        </div>
    </nav>
    
    
    <div class="container">
        <!-- Post Navigation -->
        
        <nav class="post-navigation">
            
            <a href="/new_blog/2012/01/21/cantor_schroeder-_bernstein_theorem/" class="nav-link nav-prev">
                <span class="nav-label">פוסט ישן יותר →</span>
                <span class="nav-title">משפט קנטור-שרדר-ברנשטיין</span>
            </a>
            

            
            <a href="/new_blog/2012/02/02/scalar_products/" class="nav-link nav-next">
                <span class="nav-label">← פוסט חדש יותר</span>
                <span class="nav-title">עם קצת עבודה, מגיעים למכפלה סקלרית</span>
            </a>
            
        </nav>
        
        
        <header>
            <h1>כיבוי אורות (או: תורת הגרפים והאלגברה הלינארית מחסלות עוד משחק תמים)</h1>
            <div class="post-meta">
                <span class="date">2012-01-25</span>
                
                <span class="categories">
                    | קטגוריות:
                    
                    <a href="/categories/אלגברה לינארית.html">אלגברה לינארית</a>
                    
                    <a href="/categories/משחקים וחידות מתמטיות.html">משחקים וחידות מתמטיות</a>
                    
                    <a href="/categories/תורת הגרפים.html">תורת הגרפים</a>
                    
                </span>
                
                
                <span class="tags">
                    | תגיות:
                    
                    <a href="/tags/Lights out.html">Lights out</a>
                    
                    <a href="/tags/אלגברה לינארית.html">אלגברה לינארית</a>
                    
                    <a href="/tags/מטריצה מייצגת של גרף.html">מטריצה מייצגת של גרף</a>
                    
                    <a href="/tags/פתרון מתמטי של משחק.html">פתרון מתמטי של משחק</a>
                    
                    <a href="/tags/תורת הגרפים.html">תורת הגרפים</a>
                    
                </span>
                
            </div>
        </header>
        
        <article>
            <p>"<a href="http://en.wikipedia.org/wiki/Lights_Out_)game(">כיבוי אורות</a>", או Lights Out הוא משחק תמים שהולך כך: נתון לוח משבצות של <span class="math">\(5\times5\)</span>, כך שכל משבצת יכולה להיות מוארת או כבויה; נניח מכאן ואילך עד לסוף הפוסט (כמעט) שבתחילת המשחק כל המשבצות כבויות. כל לחיצה על משבצת משנה את מצב המשבצת ומצב כל השכנות שלה: משבצת שהייתה כבויה נדלקת, ומשבצת שהייתה דלוקה כבה. המטרה: להגיע למצב שבו כל הנורות דולקות.</p>
<p>אוהו, אומרים ותיקי הבלוג. עוד משחק בלתי פתיר ועוד אינוריאנטים מעיקים. ובכן, לא הפעם. המשחק פתיר, ולא סתם - אני רוצה להראות שבעצם כל המשחקים מסוגו פתירים. אציג שתי הוכחות - האחת קומבינטורית באופיה, והשניה (של נגה אלון) מבוססת על אלגברה לינארית.</p>
<p>האופן הטבעי להכליל את הבעיה הוא לדבר על <strong>גרף </strong>(אניח שהקוראים מכירים את המושג הזה). המשבצות הן צמתים, וקשת בין שני צמתים מייצגת משבצות שכנות. בצורה הזו אפשר לייצג לוח <span class="math">\(n\times n\)</span> ריבועי כלשהו; וגם לוחות מלבניים; ועם משושים או משולשים; או תלת ממדיים, או כל דבר בעצם. אני לא אניח שום דבר על הגרף שאני תוקף.</p>
<p>הדבר הראשון שצריך לשים לב אליו הוא שאמנם טבעי לחשוב על המשחק בגישה "סדרתית" ("קודם אלחץ כאן ואז אלחץ שם") אבל זה מיותר לגמרי. אין שום חשיבות לסדר שבו לוחצים על משבצות, וגם אין שום צורך ללחוץ על משבצת יותר מפעם אחת (לחיצה כפולה פשוט מנטרלת את האפקט של הלחיצה הראשונה; אם לחצנו פעמיים, גם אם חלף פרק זמן גדול בין הלחיצות ועשינו דברים אחרים בלוח, זה שקול לחלוטין לכך שמעולם לא היינו לוחצים וחסל). כלומר, הדרך ה"נכונה" לנצח במשחק היא פשוט ללחוץ בו זמנית על קבוצה מסויימת של צמתים, וזהו. פורמלית, אם <span class="math">\(V\)</span> היא קבוצת צמתי הגרף, אנו מחפשים תת-קבוצה <span class="math">\(S\subseteq V\)</span> כך שלכל צומת <span class="math">\(v\notin S\)</span> יש מספר אי זוגי של שכנים מתוך <span class="math">\(S\)</span>, ואילו לכל צומת <span class="math">\(v\in S\)</span> יש מספר זוגי של שכנים מתוך <span class="math">\(S\)</span> (זוגי, כי אנחנו נלחץ גם על <span class="math">\(v\)</span> עצמו, ואנחנו רוצים שכל הלחיצות שלנו על השכנים של <span class="math">\(v\)</span> יבטלו אלו את אלו בכל מה שנוגע ל-<span class="math">\(v\)</span>).</p>
<p>כאן אני שולף מהשרוול שפן בדמות טענה לא טריוויאלית לגמרי בתורת הגרפים - לכל גרף אפשר לפרק את קבוצת הצמתים שלו לשתי קבוצות זרות <span class="math">\(V_{1},V_{2}\)</span> כך שבתת-הגרפים המושרים על <span class="math">\(V_{1},V_{2}\)</span> כל הצמתים הם מדרגה זוגית. תכף אוכיח את הטענה הזו אבל בואו נבין איך נעזרים בה כדי להראות שקיימת בגרף קבוצה <span class="math">\(S\)</span> כמו שאנחנו רוצים. הרעיון הוא לבצע בניית עזר - לקחת את הגרף של המשחק, ולהוסיף צומת חדשה <span class="math">\(u\)</span> שמחוברת לכל צומת בגרף שדרגתו זוגית. כעת אפשר לחלק את הגרף לשתי קבוצות <span class="math">\(V_{1},V_{2}\)</span> כאמור לעיל. בואו נניח ש-<span class="math">\(u\in V_{2}\)</span>, בלי הגבלת הכלליות; אז נגדיר <span class="math">\(S=V_{1}\)</span>.</p>
<p>כעת, מה הולך כאן? מצד אחד, הדרגה של כל צומת בתת-הגרף שמושרה על <span class="math">\(S\)</span> היא זוגית, מה שאומר בדיוק שלכל <span class="math">\(v\in S\)</span> יש מספר זוגי של שכנים ב-<span class="math">\(S\)</span>; מצד שני, אם <span class="math">\(v\notin S\)</span> והוא מחובר ל-<span class="math">\(u\)</span>, זה אומר שהוא מחובר למספר זוגי של צמתים שאינם ב-<span class="math">\(S\)</span> <strong>כולל הצומת החדש</strong> <span class="math">\(u\)</span>. זה שאומר ש-<span class="math">\(v\)</span> מחובר למספר <strong>אי זוגי</strong> של צמתים שאינם ב-<span class="math">\(S\)</span> ואינם <span class="math">\(u\)</span>. כעת מגיע טיעון המחץ: את <span class="math">\(u\)</span> חיברנו רק לצמתים שהיו מדרגה זוגית מלכתחילה, ולכן אם <span class="math">\(v\)</span> מחובר למספר אי זוגי של צמתים שאינם מ-<span class="math">\(S\)</span> ודרגתו לפני הוספת <span class="math">\(u\)</span> לגרף הייתה זוגית, הוא חייב להיות מחובר למספר אי זוגי של צמתים מ-<span class="math">\(S\)</span>. אם לעומת זאת <span class="math">\(v\)</span> לא מחובר ל-<span class="math">\(u\)</span> זה אומר שדרגתו בגרף המקורי הייתה אי זוגית, וכעת הוא מחובר למספר זוגי של צמתים שאינם ב-<span class="math">\(S\)</span> ולכן גם כאן הוא חייב להיות מחובר למספר אי זוגי של צמתים מ-<span class="math">\(S\)</span>. סוף המשחק.</p>
<p>טוב ויפה, אבל איך מוצאים פירוק ל-<span class="math">\(V_{1},V_{2}\)</span> שכזה? אם בגרף שלנו כל הצמתים מדרגה זוגית אז <span class="math">\(V_{1}=V,V_{2}=\emptyset\)</span> הוא פירוק טריוויאלי שכזה (ועל הדרך יש בגרף <a href="http://www.gadial.net/2008/05/06/eulerian_graphs/">מעגל אוילרי</a>) אבל אפשר לצפות שבאופן כללי יהיה בגרף איזה צומת <span class="math">\(v\)</span> שהוא מדרגה לא זוגית. אם כן, הופס! נוציא את <span class="math">\(v\)</span> מהגרף.</p>
<p>למרבה הצער, זה לא מספיק. נצטרך לעשות התחכמות נוספת שחשיבותה תתברר בקרוב. בואו נסמן ב-<span class="math">\(S\)</span> את קבוצת השכנים של <span class="math">\(v\)</span> בגרף; לכל זוג צמתים <span class="math">\(x,y\in S\)</span>, אם יש קשת בין <span class="math">\(x,y\)</span> נוריד אותה מהגרף, ואם אין קשת - נוסיף אותה לגרף.</p>
<p>אם כן, על ידי הוצאת <span class="math">\(v\)</span> קיבלנו גרף קטן יותר (עם פחות צמתים) ולכן אפשר לשלוף מהכיס את קסם <a href="http://www.gadial.net/2010/12/25/dont_believe_in_induction/">ההוכחה באינדוקציה</a> ולטעון שבגרף הקטן יותר יש חלוקה לשתי קבוצות <span class="math">\(W_{1},W_{2}\)</span> כך שדרגת כל צומת בתת-הגרף שמושרה על ידי כל אחת מהקבוצות היא זוגית. מה שנרצה לעשות הוא להחזיר את <span class="math">\(v\)</span> לאחת מהקבוצות הללו, אבל לאיזו מהן? מכיוון ש-<span class="math">\(S\)</span> אי-זוגית, בהכרח <span class="math">\(S\cap W_{1}\)</span> אי זוגית או <span class="math">\(S\cap W_{2}\)</span> אי זוגית (אחרת היה אפשר לכתוב מספר אי זוגי כסכום שני מספרים זוגיים). בואו נניח ש-<span class="math">\(S\cap W_{1}\)</span> זוגית - אני טוען שלהוסיף את <span class="math">\(v\)</span> לקבוצה הזו יסיים את העסק. כלומר, נגדיר <span class="math">\(V_{1}=W_{1}\cup\left\{ v\right\} \)</span> ו-<span class="math">\(V_{2}=W_{2}\)</span>. נותר רק להבין למה זה עובד.</p>
<p>ברור כי כל צמתי <span class="math">\(V\)</span> שלא היו שייכים ל-<span class="math">\(S\)</span> ואינם <span class="math">\(v\)</span> עדיין מקיימים את תכונת הזוגיות הנדרשת - מבחינתם לא שיניתי כלום. לעומת זאת, צמתי <span class="math">\(S\cap W_{1}\)</span> חוו טראומה כפולה - גם חיברו להם את <span class="math">\(v\)</span> (ובכך שינו להם את הזוגיות) וגם הפכו את הקשתות בינם לבין עצמם. כל איבר של <span class="math">\(S\)</span> היה מחובר למספר אי זוגי של שכנים מתוך <span class="math">\(S\)</span> ב-<span class="math">\(W_{1}\)</span>, מה שאומר שמספר השכנים מתוך <span class="math">\(S\)</span> ב-<span class="math">\(W_{1}\)</span> שהוא <strong>לא</strong> היה מחובר אליהם היה בעל סימן הפוך, ולכן אחרי היפוך הקשתות הזוגיות משתנה ומבטלת את שינוי הזוגיות ש-<span class="math">\(v\)</span> גרם לו.</p>
<p>מבלבל? בהחלט. בואו נראה דוגמת צעצוע. נניח ש-<span class="math">\(S\cap W_{1}\)</span> הייתה מגודל 6. נסתכל על צומת <span class="math">\(x\in S\cap W_{1}\)</span> כלשהו. יש לו בדיוק 5 שכנים פוטנציאליים שגם הם ב-<span class="math">\(S\cap W_{1}\)</span>. נניח שכרגע יש לו קשת ל-2 מהם, זה אומר שאין קשת ל-3, ואחרי שנהפוך את זה (נמחק את הקשתות הקיימות וניצור את כל הקשתות שלא היו קודם) הזוגיות של הדרגה של <span class="math">\(x\)</span> תשתנה בשל כך (קודם היא הייתה זוגית, עכשיו היא כבר לא). אם לעומת זאת הייתה קשת מ-<span class="math">\(x\)</span> רק לצומת אחד אחר ב-<span class="math">\(S\cap W_{1}\)</span> אחרי השינוי תהיה קשת ל-4: שוב שינוי בזוגיות. תוסיפו לכך את השינוי בזוגיות ש-<span class="math">\(v\)</span> גורם לו, וקיבלנו שגם ב-<span class="math">\(V_{1}\)</span> האיבר <span class="math">\(x\)</span> מחובר רק למספר זוגי של צמתים.</p>
<p>עכשיו כבר די ברור מה קורה ב-<span class="math">\(S\cap W_{2}\)</span>, אני מקווה. אנחנו לא מוסיפים את <span class="math">\(v\)</span> לשם כך שהוא לא גורם לשום שינוי. מצד שני, גם היפוך הקשתות לא יגרום לשום שינוי, כי לכל צומת <span class="math">\(x\in S\cap W_{2}\)</span> יש מספר שכנים פוטנציאלי <strong>זוגי</strong> מתוך <span class="math">\(S\cap W_{2}\)</span>. לכן: או שקודם <span class="math">\(x\)</span> היה מחובר למספר זוגי, ואחרי השינוי הוא עדיין יהיה מחובר למספר זוגי, או שקודם הוא היה מחובר למספר אי זוגי, ואחרי השינוי הוא עדיין יהיה מחובר למספר אי זוגי. סיימנו.</p>
<p>ההוכחה הזו עלולה להיראות מסורבלת ממבט ראשון אבל אני חושב שהיא אלגנטית למדי. יתרון חשוב שלה היא שזו הוכחה קונסטרוקטיבית - אפשר לחלץ ממנה אלגוריתם רקורסיבי שממש מוצא את הפתרון ורץ בזמן סביר. די בכך כדי לסגור את סיפור המשחק הזה, אבל אני רוצה להציג את נקודת המבט של האלגברה הלינארית על העניין - כפי שנראה, במובנים מסויימים היא חזקה וכללית יותר.</p>
<p>כבר הזכרתי ב<a href="http://www.gadial.net/2011/10/06/matrix_product/">פוסט על כפל מטריצות</a> את הרעיון לפיו אפשר לייצג גרף באמצעות מטריצה, ובכך להכניס את האלגברה הלינארית לתורת הגרפים בדלת הקדמית. אם הגרף מכיל את הצמתים <span class="math">\(\left\{ v_{1},\dots,v_{n}\right\} \)</span> אז המטריצה, שאסמן <span class="math">\(A\)</span>, תהיה מסדר <span class="math">\(n\times n\)</span>, כך שהכניסה <span class="math">\(A_{ij}\)</span> שווה 1 אם יש קשת בין <span class="math">\(v_{i}\)</span> ו-<span class="math">\(v_{j}\)</span> ו-0 אחרת. במקרה שלנו הגרף איננו מכוון כך ש-<span class="math">\(A_{ij}=A_{ji}\)</span> - המטריצה <strong>סימטרית</strong>. מכיוון שהמטריצה מכילה רק 0 ו-1 ואין משמעות לערכים אחרים, הגיוני לחשוב עליה בתור מטריצה מעל השדה הפצפון <span class="math">\(\mathbb{F}_{2}=\left\{ 0,1\right\} \)</span> (אלגברה לינארית תמיד עושים מעל שדה, אחרת תוצאות בסיסיות - כמו זה שאפשר לדרג כל מטריצה - פשוט לא עובדות יותר).</p>
<p>כעת, מה המשמעות של כפל המטריצה <span class="math">\(A\)</span> בוקטור <span class="math">\(x\)</span> כלשהו מעל <span class="math">\(\mathbb{F}_{2}\)</span>? התוצאה תהיה וקטור <span class="math">\(u\)</span> כך ש-<span class="math">\(y_{i}=\sum_{j=1}^{n}A_{ij}x_{j}\)</span>, כלומר <span class="math">\(y_{i}\)</span> הוא מספר האינדקסים <span class="math">\(j\in\left\{ 1,\dots,n\right\} \)</span> כך שבו זמנית <span class="math">\(A_{ij}=1\)</span> וגם <span class="math">\(x_{j}=1\)</span>. חשבו על <span class="math">\(x_{j}=1\)</span> כאומר "בחרנו ללחוץ על <span class="math">\(x_{j}\)</span> בפתרון שלנו", ואז <span class="math">\(y_{i}\)</span> מתאר בדיוק מה יהיה המצב של הצומת <span class="math">\(v_{i}\)</span> אחרי הלחיצות - אנחנו עוברים על כל צומת שמחובר ל-<span class="math">\(v_{i}\)</span> בקשת ואם רואים שבחרנו ללחוץ עליו, אנחנו מוסיפים 1 ל-<span class="math">\(y_{i}\)</span> ובסופו של דבר (בגלל שאנחנו מעל <span class="math">\(\mathbb{Z}_{2}\)</span>) נקבל ש-<span class="math">\(y_{i}\)</span> מכיל את זוגיות מספר הלחיצות. שימו לב שבשביל שזה יעבוד אנחנו חייבים לקבוע ש-<span class="math">\(A_{ii}=1\)</span> לכל <span class="math">\(i\)</span>, כי הרי לחיצה על צומת משנה גם את מצבו שלו (אפשר - וכדאי - לחשוב על כך כאילו יש קשת מהצומת לעצמו וחסל).</p>
<p>אם לסכם, מה שאנחנו רוצים לעשות הוא פשוט לפתור את המשוואה <span class="math">\(Ax=\overline{1}\)</span>, כאשר <span class="math">\(\overline{1}\)</span> הוא הוקטור שכולו אחדות (ואם הלוח התחיל ממצב אחר שבו לא כל המשבצות כבויות, פשוט יש משוואה שונה שאפשר לנסות לפתור - אבל במקרה הזה לא מובטח שהיא תהיה פתירה בהכרח; נסו למצוא לוח לא פתיר!). הנה הצלחנו לתרגם עוד בעיה קומבינטורית לגמרי לבעיה בסיסית של אלגברה לינארית. האופן שבו פותרים את הבעיה ידוע - דירוג מטריצות, שניתן לביצוע באופן כללי ביעילות סבירה - ועיקר העניין כרגע הוא בהוכחה שתמיד קיים פתרון. ההוכחה עצמה היא עניין של שורה או שתיים שמבוססות על תוצאות סטנדרטיות באלגברה לינארית - אבל תוצאות שטרם הראיתי, וזו הזדמנות טובה לראות להן דוגמה קונקרטית לפני שמציגים את התורה הכללית.</p>
<p>בתור התחלה, שימו לב ש-<span class="math">\(Ax\)</span> הוא בעצם צירוף לינארי של עמודות <span class="math">\(A\)</span> שמקדמיו נקבעים לפי הכניסות של <span class="math">\(x\)</span>. באופן דומה, <span class="math">\(xA\)</span> הוא צירוף לינארי של שורות <span class="math">\(A\)</span> (כרגיל, אני ממשיך במנהג הנלוז שלי לכתוב <span class="math">\(x\)</span> גם לוקטור שורה וגם לוקטור עמודה מתוך הנחה שתבינו מההקשר: <span class="math">\(Ax\)</span> הוא מכפלה של <span class="math">\(A\)</span> בוקטור עמודה, ואילו <span class="math">\(xA\)</span> הוא מכפלה של <span class="math">\(A\)</span> בוקטור שורה). במקרה שלנו <span class="math">\(A\)</span> סימטרית, ולכן אם משהו נמצא בתמונה של <span class="math">\(A\)</span> (כלומר, מתקבל על ידי כפל <span class="math">\(Ax\)</span>) הוא נמצא במרחב שנפרש על ידי שורות <span class="math">\(A\)</span> ולהיפך. נשארנו עם להוכיח ש-<span class="math">\(\overline{1}\)</span> נמצא במרחב שנפרש על ידי שורות <span class="math">\(A\)</span>. את המרחב הזה קל במיוחד להבין על ידי התבוננות בגרעין של <span class="math">\(A\)</span>, <span class="math">\(\ker A\)</span> - כל הוקטורים <span class="math">\(c\)</span> שמקיימים <span class="math">\(Ac=\overline{0}\)</span>.</p>
<p>שימו לב לכך שאם יש לנו <span class="math">\(c\in\ker A\)</span> אז מתקיים <span class="math">\(\left(xA\right)c=x\left(Ac\right)=x\overline{0}=0\)</span>. במילים: אם ניקח וקטור כלשהו שנפרש על ידי שורות <span class="math">\(A\)</span> ונכפול אותו עם איבר של <span class="math">\(\ker A\)</span>, נקבל 0. אם הרעיון של כפל שני וקטורים מבלבל אתכם, זכרו שהאחד הוא וקטור שורה והשני וקטור עמודה ואפשר לחשוב על הכפל כמכפלה של מטריצה <span class="math">\(1\times n\)</span> במטריצה <span class="math">\(n\times1\)</span>. אפשר גם לחשוב על זה כך: אם <span class="math">\(x=\left(x_{1},\dots,x_{n}\right)\)</span> ו-<span class="math">\(y=\left(y_{1},\dots,y_{n}\right)\)</span>, אפשר להגדיר מכפלה שלהם על ידי <span class="math">\(x\cdot y=\sum_{i=1}^{n}x_{i}y_{i}\)</span>. זה זהה לחלוטין למה שמתקבל מכפל המטריצות, אבל אנחנו כבר לא צריכים להטריד את עצמנו בעניינים כמו מי וקטור שורה ומי וקטור עמודה. המכפלה שהגדרתי כרגע נקראת <strong>מכפלה סקלרית</strong> של וקטורים, ועוד נפגוש בה בהמשך הפוסטים על אלגברה לינארית.</p>
<p>אם <span class="math">\(x\cdot y=0\)</span> אומרים ש-<span class="math">\(x,y\)</span> <strong>אורתוגונליים</strong> (מאונכים), מסיבות גאומטריות שיובהרו בפעם אחרת. לעת עתה, מה שראינו הוא שכל איבר במרחב השורות של <span class="math">\(A\)</span> אורתוגונלי לכל איבר בגרעין של <span class="math">\(A\)</span>. אני רוצה לטעון שגם ההפך הוא נכון - אם <span class="math">\(x\)</span> אורתוגונלי לכל איבר בגרעין של <span class="math">\(A\)</span>, אז <span class="math">\(x\)</span> נמצא במרחב השורות של <span class="math">\(A\)</span>.</p>
<p>לב הענין הוא בטענה הבאה: אם <span class="math">\(V\)</span> הוא מרחב וקטורי <strong>כלשהו</strong>, ואם <span class="math">\(W\)</span> הוא תת מרחב <strong>כלשהו</strong>, ואם <span class="math">\(W^{\perp}=\left\{ x|\forall y\in W:xy=0\right\} \)</span> הוא אוסף כל האיברים ב-<span class="math">\(V\)</span> שאורתוגונליים לכל איברי <span class="math">\(W\)</span>, אז <span class="math">\(\dim V=\dim W+\dim W^{\perp}\)</span>. לא אוכיח כרגע את התכונה הזו אבל אני מקווה שאסגור את החשבון באחד מהפוסטים העתידיים. כדי להבין איך הטענה הזו עוזרת לנו, זכרו שמתקיים <span class="math">\(\dim V=\dim\ker A+\dim\text{Im}A\)</span> - זו תכונה חשובה של טרנספורמציות לינאריות ש<a href="http://www.gadial.net/2011/10/22/linear_transformations/">כבר הוכחתי</a> בעבר. אם <span class="math">\(W=\ker A\)</span> אז חיבור שני השוויונות מראה לנו שמימד מרחב השורות של <span class="math">\(A\)</span> הוא כמימד <span class="math">\(W^{\perp}\)</span> ומכיוון שידוע לנו שמרחב השורות מוכל ב-<span class="math">\(W^{\perp}\)</span> עולה שהם שווים, מה שמסיים את הוכחת הטענה שאם וקטור אורתוגנלי לכל הגרעין אז הוא במרחב השורות.</p>
<p>כל שנותר לעשות הוא להוכיח שהוקטור <span class="math">\(\overline{1}\)</span> אורתוגונלי לכל איבר בגרעין של <span class="math">\(A\)</span>. לצורך כך אנחנו שולפים מהשרוול את התעלול האחרון שלנו, שעובד רק מעל <span class="math">\(\mathbb{F}_{2}\)</span>. ניקח וקטור כלשהו <span class="math">\(v\)</span>. מהו <span class="math">\(vAv\)</span>? אם נחשב לפי ההגדרה הישירה, נקבל ש-</p>
<p><span class="math">\(vAv=v\cdot\left(\sum_{i=1}^{n}A_{1i}v_{i},\dots,\sum_{i=1}^{n}A_{ni}v_{i}\right)=\sum_{j=1}^{n}v_{j}\left(\sum_{i=1}^{n}A_{ji}v_{i}\right)=\sum_{i,j=1}^{n}A_{ji}v_{i}v_{j}\)</span></p>
<p>בהערת אגב אציין שהרעיון הזה, של לכפול מטריצה מימין ומשמאל בוקטור כדי לקבל סקלר, הוא מה שעומד בלב המושג של <strong>תבניות בילינאריות</strong> שאני מקווה להגיע אליהן בהמשך. מה שקורה כרגע הוא מקרה פרטי שבו העסק פשוט הרבה יותר בגלל שאנחנו מעל <span class="math">\(\mathbb{F}_{2}\)</span> ובגלל ש-<span class="math">\(A\)</span> סימטרית. שימו לב שבגלל הסימטריה הזו, <span class="math">\(A_{ji}=A_{ij}\)</span> ואם <span class="math">\(i\ne j\)</span> אז בסכום מופיעים גם <span class="math">\(A_{ji}v_{j}v_{i}\)</span> וגם <span class="math">\(A_{ij}v_{i}v_{j}\)</span> והסכום של שניהם הוא פשוט <span class="math">\(2A_{ij}v_{j}v_{i}=0\)</span> - אפס, כי אנחנו ב-<span class="math">\(\mathbb{F}_{2}\)</span>. לכן מכל הסכום נותר לנו רק <span class="math">\(\sum_{i=1}^{n}A_{ii}v_{i}^{2}\)</span>. בגלל שאנחנו מעל <span class="math">\(\mathbb{F}_{2}\)</span>, אז <span class="math">\(v_{i}^{2}=v_{i}\)</span> (כי <span class="math">\(v_{i}\in\left\{ 0,1\right\} \)</span>), ולכן קיבלנו שנותר לנו רק <span class="math">\(\sum_{i=1}^{n}A_{ii}v_{i}\)</span> - וזו, במילים אחרות, המכפלה הסקלרית של האלכסון של <span class="math">\(A\)</span> עם הוקטור <span class="math">\(v\)</span>.</p>
<p>כעת, אם <span class="math">\(v\)</span> בגרעין של <span class="math">\(A\)</span>, אז <span class="math">\(Av=0\)</span> ולכן בוודאי <span class="math">\(vAv=0\)</span>, ולכן האלכסון של <span class="math">\(A\)</span> אכן אורתוגונלי לגרעין של <span class="math">\(A\)</span> וההוכחה נסתיימה. אולי היא נראית קצת מסורבלת ומוזרה כעת, אבל למי שבקיא במושגים היא לא דורשת יותר משורה-שתיים.</p>
<p>אם כן, איזו הוכחה מבין השתיים שהצגתי עדיפה? התשובה פשוטה - אף אחת מהן. ריבוי הוכחות עם אופי שונה הוא דבר נפלא במתמטיקה, וממש לא צריך להשוות.</p>
        </article>
        
        <footer>
            <p>© כל הזכויות שמורות לגדי אלכסנדרוביץ'</p>
        </footer>
    </div>

    
    <script>
        function searchPosts() {
            const searchTerm = document.getElementById('searchInput').value;
            if (searchTerm.trim()) {
                window.location.href = '/new_blog/post_list.html?search=' + encodeURIComponent(searchTerm);
            }
        }
        
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchPosts();
            }
        });
    </script>
    
    
    <!-- Auto-render KaTeX math -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            renderMathInElement(document.body, {
                delimiters: [
                    {left: "\\[", right: "\\]", display: true},
                    {left: "\\(", right: "\\)", display: false}
                ],
                throwOnError: false
            });
        });
    </script>

</body>
</html>