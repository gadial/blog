<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>משפט הפירוק הפרימרי - לא מדויק</title>
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    
    
    <!-- KaTeX for math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>

    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', 'David', 'Tahoma', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
        }
        
        /* Top navigation bar */
        .top-nav {
            background: #2c3e50;
            padding: 15px 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .top-nav .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
        }
        
        .top-nav .site-title {
            font-size: 1.5em;
            font-weight: bold;
            color: white;
            text-decoration: none;
            white-space: nowrap;
        }
        
        .top-nav .nav-links {
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .top-nav .nav-links a {
            color: #ecf0f1;
            text-decoration: none;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background 0.2s;
            white-space: nowrap;
        }
        
        .top-nav .nav-links a:hover {
            background: #34495e;
        }
        
        .top-nav .search-box {
            display: flex;
            gap: 5px;
        }
        
        .top-nav .search-box input {
            padding: 5px 10px;
            border: none;
            border-radius: 4px;
            font-size: 0.9em;
            min-width: 150px;
        }
        
        .top-nav .search-box button {
            padding: 5px 15px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .top-nav .search-box button:hover {
            background: #2980b9;
        }
        
        /* Blockquote styling */
        blockquote {
            background: #f9f9f9;
            border-right: 5px solid #ccc;
            margin: 1.5em 10px;
            padding: 0.75em 16px;
            position: relative;
            font-style: italic;
        }
        
        blockquote:before {
            content: '"';
            position: absolute;
            top: -10px;
            right: 8px;
            font-size: 3.5em;
            color: #ccc;
            line-height: 1;
        }
        
        blockquote p {
            display: block;
            margin: 0 0 0.75em 0;
        }
        
        blockquote p:last-child {
            margin-bottom: 0;
        }
        
        
        body {
            line-height: 1.8;
        }
        
        .container {
            max-width: 800px;
            margin: 20px auto;
            background: white;
            padding: 40px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
        }
        
        header {
            margin-bottom: 40px;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 20px;
        }
        
        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .post-meta {
            color: #7f8c8d;
            font-size: 0.9em;
        }
        
        .post-meta .date {
            margin-left: 15px;
        }
        
        .post-meta .categories,
        .post-meta .tags {
            display: inline;
        }
        
        .post-meta .categories a,
        .post-meta .tags a {
            color: #3498db;
            text-decoration: none;
            margin: 0 5px;
        }
        
        .post-meta .categories a:hover,
        .post-meta .tags a:hover {
            text-decoration: underline;
        }
        
        article {
            font-size: 1.1em;
        }
        
        article h2 {
            margin-top: 30px;
            margin-bottom: 15px;
            color: #34495e;
            font-size: 1.8em;
        }
        
        article h3 {
            margin-top: 25px;
            margin-bottom: 12px;
            color: #34495e;
            font-size: 1.4em;
        }
        
        article p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        article ul, article ol {
            margin-right: 30px;
            margin-bottom: 15px;
        }
        
        article li {
            margin-bottom: 8px;
        }
        
        article code {
            background-color: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        
        article pre {
            background-color: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin-bottom: 20px;
            direction: ltr;
            text-align: left;
        }
        
        article pre code {
            background-color: transparent;
            padding: 0;
            color: inherit;
        }
        
        /* Image styles - responsive and contained */
        article img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 20px auto;
        }
        
        /* Math rendering styles */
        .math {
            direction: ltr;
        }
        
        span.math {
            direction: ltr;
        }
        
        /* Override RTL for KaTeX */
        .katex {
            direction: ltr;
            unicode-bidi: embed;
        }
        
        div.math {
            display: block;
            text-align: center;
            padding: 15px 0;
            direction: ltr;
        }
        
        /* RTL adjustments for code blocks */
        .highlight {
            direction: ltr;
            text-align: left;
        }
        
        footer {
            margin-top: 60px;
            padding-top: 20px;
            border-top: 1px solid #e0e0e0;
            text-align: center;
            color: #95a5a6;
            font-size: 0.9em;
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2em;
            }
            
            article {
                font-size: 1em;
            }
        }
        
        /* Post navigation */
        .post-navigation {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #e0e0e0;
            gap: 20px;
        }
        
        .post-navigation .nav-link {
            flex: 1;
            text-decoration: none;
            color: #2c3e50;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 5px;
            transition: background 0.2s;
        }
        
        .post-navigation .nav-link:hover {
            background: #e9ecef;
        }
        
        .post-navigation .nav-prev {
            text-align: right;
        }
        
        .post-navigation .nav-next {
            text-align: left;
        }
        
        .post-navigation .nav-label {
            font-size: 0.85em;
            color: #7f8c8d;
            display: block;
            margin-bottom: 5px;
        }
        
        .post-navigation .nav-title {
            font-weight: bold;
            font-size: 1.1em;
        }

    </style>
</head>
<body>
    <nav class="top-nav">
        <div class="nav-container">
            <a href="/" class="site-title">לא מדויק</a>
            <div class="nav-links">
                <a href="/">דף הבית</a>
                <a href="/random.html">פוסט אקראי</a>
                <a href="/post_list.html">כל הפוסטים</a>
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="חיפוש...">
                    <button onclick="searchPosts()">חפש</button>
                </div>
            </div>
        </div>
    </nav>
    
    
    <div class="container">
        <!-- Post Navigation -->
        
        <nav class="post-navigation">
            
            <a href="/2012/01/07/mobius_inversion_formula/" class="nav-link nav-prev">
                <span class="nav-label">פוסט ישן יותר →</span>
                <span class="nav-title">נוסחת ההיפוך של מביוס</span>
            </a>
            

            
            <a href="/2012/01/19/markov_chains_and_linear_algebra/" class="nav-link nav-next">
                <span class="nav-label">← פוסט חדש יותר</span>
                <span class="nav-title">איך אלגברה לינארית מתקשרת לשרשראות מרקוב (ואיך כל זה קשור לגוגל)</span>
            </a>
            
        </nav>
        
        
        <header>
            <h1>משפט הפירוק הפרימרי</h1>
            <div class="post-meta">
                <span class="date">2012-01-09</span>
                
                <span class="categories">
                    | קטגוריות:
                    
                    <a href="/categories/אלגברה לינארית.html">אלגברה לינארית</a>
                    
                </span>
                
                
                <span class="tags">
                    | תגיות:
                    
                    <a href="/tags/אלגברה לינארית.html">אלגברה לינארית</a>
                    
                    <a href="/tags/משפט הפירוק הפרימרי.html">משפט הפירוק הפרימרי</a>
                    
                </span>
                
            </div>
        </header>
        
        <article>
            <p>בפעם האחרונה שבה <a href="http://www.gadial.net/2011/12/24/simultaneous_diagonalization/">דיברתי על אלגברה לינארית</a> המושג הדומיננטי היה זה של <strong>תת-מרחב שמור</strong>. כזכור, <span class="math">\(W\subseteq V\)</span> הוא תת-מרחב שמור של טרנספורמציה לינארית <span class="math">\(T:V\to V\)</span> אם <span class="math">\(T\left(W\right)\subseteq W\)</span>, והחשיבות של תתי-מרחבים כאלו נובעת מהעובדה שאפשר <strong>לצמצם</strong> את <span class="math">\(T\)</span> אליהם - להגדיר טרנספורמציה <span class="math">\(T_{W}:W\to W\)</span> כך ש-<span class="math">\(T_{W}\left(w\right)=T\left(w\right)\)</span> על <span class="math">\(w\in W\)</span>. אם הצלחנו לפרק את <span class="math">\(V\)</span> לסכום ישר של תתי-מרחבים שכולם תתי-מרחבים שמורים של <span class="math">\(T\)</span>, נובע מכך פירוק של <span class="math">\(T\)</span> לסכום של טרנספורמציות פשוטות יותר, ומכאן נובעת הבנה יותר טובה של מה <span class="math">\(T\)</span> עושה. המקרה הפשוט ביותר היה כאשר <span class="math">\(T\)</span> הייתה <strong>לכסינה</strong> - במקרה זה אפשר היה לפרק את <span class="math">\(V\)</span> לתתי-מרחבים שמורים שבכל אחד מהם <span class="math">\(T\)</span> פועלת פשוט על ידי כפל בסקלר (ולכן מיוצגת על ידי מטריצה סקלרית - מטריצה אלכסונית שבאלכסון שלה יש תמיד אותו מספר). כפי שראינו, התכונה הזו הייתה שקולה לכך שהפולינום המינימלי שמאפס את <span class="math">\(T\)</span> מתפרק לגורמים לינאריים שונים. בפוסט הזה נראה את ההכללה של התוצאה הזו עבור המקרה הכללי ביותר; ההכללה הזו נקראת <strong>משפט הפירוק הפרימרי</strong>. שמו של המשפט נובע כנראה מכך שהוא אינו סוף הסיפור אלא רק ההתחלה - גם אחרי הפירוק עדיין צריך להבין איך נראית <span class="math">\(T\)</span> כשהיא מצומצמת לתתי-המרחבים שמשפט הפירוק נותן - אבל הוא הצעד הראשון (וההכרחי?) שיש לנקוט בו.</p>
<p>נתחיל מלצטט את המשפט, ואז נוכיח. כרגיל, נתחיל עם טרנספורמציה לינארית <span class="math">\(T:V\to V\)</span>, כאשר <span class="math">\(V\)</span> הוא מרחב סוף-ממדי (בכל הדיון הנוכחי אנחנו לא מדברים על מרחבים אינסוף ממדיים; יש להם תורה דומה לזו שאני מציג כאן אבל היא מורכבת יותר ודורשת להכניס לתמונה עוד הרבה מושגים יפים שיוצגו בפעם אחרת). אם <span class="math">\(p\)</span> הוא הפולינום המינימלי של <span class="math">\(T\)</span> אז אפשר לכתוב אותו בתור מכפלה של חזקות של פולינומים אי פריקים (מתוקנים, כלומר עם מקדם מוביל 1) <span class="math">\(p=p_{1}^{r_{1}}\cdots p_{k}^{r_{k}}\)</span>. נגדיר את המרחבים <span class="math">\(W_{i}\)</span> בתור <span class="math">\(W_{i}=\ker\left(p_{i}^{r_{i}}\left(T\right)\right)\)</span> (כלומר, <span class="math">\(W_{i}\)</span> הוא אוסף כל הוקטורים שמתאפסים על ידי הטרנספורמציה שמתקבלת כשמציבים את <span class="math">\(T\)</span> ב-<span class="math">\(p_{i}^{r_{i}}\)</span>), אז ה-<span class="math">\(W_{i}\)</span>-ים הללו הם פירוק של <span class="math">\(V\)</span> לתת-מרחבים שמורים של <span class="math">\(T\)</span>; והפולינום המינימלי של <span class="math">\(T_{W_{i}}\)</span> הוא בדיוק <span class="math">\(p_{i}^{r_{i}}\)</span>.</p>
<p>למי שרוצה לוודא שהוא לא מאבד אותי, עכשיו זה זמן טוב לעצור ולהבין למה המשפט הזה הוא הכללה של לכסינות. מה הפולינום המינימלי אם <span class="math">\(T\)</span> לכסינה? מהם <span class="math">\(W_{i}\)</span> במקרה הזה?</p>
<p>נעבור להוכחה. הכלי שבו נשתמש כדי לפרק את <span class="math">\(V\)</span> לתת-מרחבים הוא הטלות. כזכור, הטלה <span class="math">\(E\)</span> היא טרנספורמציה לינארית שמקיימת <span class="math">\(E^{2}=E\)</span>. אם יש לנו קבוצה של טרנספורמציות <span class="math">\(E_{i}\)</span> כך ש-<span class="math">\(\sum E_{i}=I\)</span> ו-<span class="math">\(E_{i}E_{j}=0\)</span> לכל <span class="math">\(i\ne j\)</span>, אז הטרנספורמציות הן הטלות (נסו להוכיח שזה אכן נובע, זה קל) והתמונות של ההטלות הללו הן פירוק של <span class="math">\(V\)</span> לסכום ישר של תתי-מרחבים. מכאן שהאתגר במשפט הפירוק הפרימרי הוא למצוא את ההטלות הנכונות. כאן תצטרכו לסמוך עלי לרגע - אני אציג את ההטלות, במה שייראה כמו קסם שבא משום מקום (אבל זה לא "משום מקום"; הרעיון מאחורי ההוכחה דומה להפליא לזה של הוכחת <a href="http://www.gadial.net/2012/09/12/chinese_remainder_theorem/">משפט השאריות הסיני</a>), ואז נראה שהן עובדות.</p>
<p>לב העניין הוא הפולינום המינימלי <span class="math">\(p=p_{1}^{r_{1}}\cdots p_{k}^{r_{k}}\)</span>. לכל גורם <span class="math">\(i\)</span> שלו, נגדיר פולינום <span class="math">\(q_{i}=\frac{p}{p_{i}^{r_{i}}}\)</span>, או במילים אחרות <span class="math">\(q_{i}=\prod_{j\ne i}p_{j}^{r_{j}}\)</span> - "סיננו" את הגורם <span class="math">\(p_{i}\)</span> על כל חזקותיו מתוך <span class="math">\(p\)</span>. כעת די ברור שהמחלק המשותף המקסימלי של כל הפולינומים <span class="math">\(q_{1},\dots,q_{k}\)</span> הוא 1, ושפן אלגברי שאני שולף מהכובע ולא מוכיח כרגע הוא שבשל כך, קיימים פולינומים <span class="math">\(h_{1},\dots,h_{k}\)</span> כך ש-<span class="math">\(\sum h_{i}q_{i}=1\)</span>. זה מוביל אותנו להגדרה <span class="math">\(E_{i}=\left(h_{i}q_{i}\right)\left(T\right)\)</span> ומהנוסחה <span class="math">\(\sum h_{i}q_{i}=1\)</span> אנחנו מקבלים מיידית ש-<span class="math">\(\sum E_{i}=I\)</span>.</p>
<p>אוקיי, אבל... מה? למה, למשל, <span class="math">\(E_{i}E_{j}=0\)</span>? ובכן, כי <span class="math">\(E_{i}E_{j}=\left(h_{i}q_{i}h_{j}q_{j}\right)\left(T\right)\)</span>, אבל <span class="math">\(h_{i}\)</span> ו-<span class="math">\(h_{j}\)</span> יחדיו כוללים את כל הרכיבים של <span class="math">\(p\)</span>, ולכן <span class="math">\(p|h_{i}h_{j}\)</span>, ולכן <span class="math">\(h_{i}q_{i}h_{j}q_{j}\)</span> הוא פולינום שמתחלק על ידי הפולינום המינימלי של <span class="math">\(T\)</span> ולכן כשמציבים בו את <span class="math">\(T\)</span> מקבלים 0. פשוט למדי.</p>
<p>אם כן, ה-<span class="math">\(E_{i}\)</span>-ים הללו הן אכן הטלות ולכן מפרקות את <span class="math">\(V\)</span>, אבל האם זה כמו שרצינו? לשם כך צריך להראות ש-<span class="math">\(E_{i}\left(V\right)=W_{i}\)</span>. נתחיל מהכיוון הקל. נניח ש-<span class="math">\(w\in E_{i}\left(V\right)\)</span>, אז זה אומר ש-<span class="math">\(E_{i}\left(w\right)=w\)</span> (בשל התכונה <span class="math">\(E_{i}=E_{i}^{2}\)</span>). מכאן שמתקיים:</p>
<p><span class="math">\(p_{i}^{r_{i}}\left(T\right)\left(w\right)=p_{i}^{r_{i}}\left(T\right)E_{i}\left(w\right)=\left(p_{i}^{r_{i}}h_{i}q_{i}\right)\left(T\right)\left(w\right)=0\)</span></p>
<p>כשהשוויון האחרון נובע שוב מכך ש-<span class="math">\(p_{i}^{r_{i}}h_{i}q_{i}\)</span> מתחלק על ידי הפולינום המינימלי של <span class="math">\(T\)</span>.</p>
<p>בכיוון השני, נניח ש-<span class="math">\(w\in\ker\left(p_{i}^{r_{i}}\left(T\right)\right)\)</span>. היינו רוצים להראות ש-<span class="math">\(w\in E_{i}\left(V\right)\)</span>, אבל יהיה לנו יותר קל להראות תכונה משלימה: ש-<span class="math">\(E_{j}\left(w\right)=0\)</span> לכל <span class="math">\(j\ne i\)</span>, מה שיסיים מייד את ההוכחה כי אז <span class="math">\(w=I\left(w\right)=\sum E_{j}\left(w\right)=E_{i}\left(w\right)\in E_{i}\left(V\right)\)</span>. כעת, <span class="math">\(p_{i}^{r_{i}}\)</span> מחלק את <span class="math">\(h_{j}\)</span> לכל <span class="math">\(j\ne i\)</span> ולכן <span class="math">\(E_{j}\left(w\right)=\left(h_{j}q_{j}\left(T\right)\right)\left(w\right)=0\)</span> כי אפשר להציג את <span class="math">\(h_{j}q_{j}\left(T\right)\)</span> כמכפלה של <span class="math">\(p_{i}^{r_{i}}\left(T\right)\)</span> (שמאפס את <span class="math">\(w\)</span> ולכן המכפלה תצא 0) בעוד איזה פולינום לא מעניין.</p>
<p>יפה. קיבלנו ש-<span class="math">\(W_{i}=E_{i}\left(V\right)\)</span> ולכן <span class="math">\(V=W_{1}\oplus\dots\oplus W_{k}\)</span>. קיבלנו פירוק של <span class="math">\(V\)</span> למרחבים שהצהרנו עליהם מראש, אבל למה הם תת-מרחבים שמורים של <span class="math">\(T\)</span>? ובכן, אם <span class="math">\(p_{i}^{r_{i}}\left(T\right)\left(w\right)=0\)</span> אז <span class="math">\(p_{i}^{r_{i}}\left(T\right)\left(T\left(w\right)\right)=T\left(p_{i}^{r_{i}}\left(T\right)\left(w\right)\right)=T\left(0\right)=0\)</span> - כאן השתמשנו בכך שטרנספורמציה מתחלפת בכפל עם כל פולינום בה. נותר רק להראות ש-<span class="math">\(p_{i}^{r_{i}}\)</span> הוא הפולינום המינימלי של <span class="math">\(T_{W_{i}}\)</span>. את זה שהוא מאפס את <span class="math">\(T_{W_{i}}\)</span> קל לראות ישירות מההגדרה של <span class="math">\(W_{i}\)</span> (הרי <span class="math">\(W_{i}\)</span> <strong>הוגדר</strong> בתור אוסף האיברים שמאופסים על ידי <span class="math">\(p_{i}^{r_{i}}\left(T\right)\)</span>, כלומר באופן שמבטיח ש-<span class="math">\(p_{i}^{r_{i}}\left(T\right)\)</span> יהיה אפס בכל <span class="math">\(W_{i}\)</span>, ולכן <span class="math">\(p_{i}^{r_{i}}\left(T_{W_{i}}\right)\)</span> הוא אפס בכל מקום שבו הוא מוגדר). למה הוא מינימלי? נניח ש-<span class="math">\(q\)</span> הוא פולינום כלשהו שמאפס את <span class="math">\(T_{W_{i}}\)</span>. אז <span class="math">\(q\cdot q_{i}\)</span> יאפס את כל <span class="math">\(T\)</span> (כי <span class="math">\(q\left(T\right)\)</span> מתאפס על כל <span class="math">\(W_{i}\)</span>, ואילו <span class="math">\(q_{i}\left(T\right)\)</span> יתאפס על כל <span class="math">\(W_{j}\)</span> עבור <span class="math">\(j\ne i\)</span>), ומכאן ש-<span class="math">\(p\)</span> מחלק את <span class="math">\(q\cdot q_{i}\)</span>. אבל ב-<span class="math">\(q_{i}\)</span> בכלל לא מופיע הגורם <span class="math">\(p_{i}^{r_{i}}\)</span> של <span class="math">\(p\)</span> ולכן הוא חייב להופיע בשלמותו ב-<span class="math">\(q\)</span>, כלומר <span class="math">\(q\)</span> מתחלק על ידי <span class="math">\(p_{i}^{r_{i}}\)</span>, ומכאן שזהו אכן הפולינום המינימלי. סוף ההוכחה.</p>
<p>למרות שאני זוכר בבעתה את הבעתה שלי כשנתקלתי במשפט לראשונה, בסיכומו של דבר המשפט הוא אינו קשה במיוחד, אם כי הוא דורש היכרות כלשהי עם פולינומים שבדרך כלל אין לסטודנטים שרק מתחילים ללמוד אלגברה לינארית (התעסקות שכזו עם פולינומים נפוצה יותר בקורסים באלגברה מופשטת). הפסגה הזו, שהיא בעצם יותר רמה מפסגה, נראית לי כמו מקום טוב לעצור בינתיים את הריצה שלנו אחרי צורות קנוניות של מטריצות (שסופה הוא בצורת ז'ורדן, שהיא דרך כללית למדי להבין מה קורה בתוך ה-<span class="math">\(W_{i}\)</span>-ים הללו), אם כי אחזור אליה בהמשך; לעת עתה נעבור לדבר החל מהפוסט הבא על מושג שעליו באמת אפשר לדבר מכאן ועד אינסוף - <strong>מכפלה פנימית</strong>.</p>
        </article>
        
        <footer>
            <p>© כל הזכויות שמורות לגדי אלכסנדרוביץ'</p>
        </footer>
    </div>

    
    <script>
        function searchPosts() {
            const searchTerm = document.getElementById('searchInput').value;
            if (searchTerm.trim()) {
                window.location.href = '/post_list.html?search=' + encodeURIComponent(searchTerm);
            }
        }
        
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchPosts();
            }
        });
    </script>
    
    
    <!-- Auto-render KaTeX math -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            renderMathInElement(document.body, {
                delimiters: [
                    {left: "\\[", right: "\\]", display: true},
                    {left: "\\(", right: "\\)", display: false}
                ],
                throwOnError: false
            });
        });
    </script>

</body>
</html>