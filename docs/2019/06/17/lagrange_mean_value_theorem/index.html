<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>משפט הערך הממוצע של לגראנז&#39; - לא מדויק</title>
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    
    <meta name="description" content="לא מדויק - בלוג על מתמטיקה ומדעי המחשב" />
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://gadial.net/2019/06/17/lagrange_mean_value_theorem/">
    <meta property="og:title" content="משפט הערך הממוצע של לגראנז&#39;">
    <meta property="og:description" content="לא מדויק - בלוג על מתמטיקה ומדעי המחשב">
    <meta property="og:site_name" content="לא מדויק">
    <meta property="og:image" content="http://gadial.net/img/main/default-card.png" />
        
    <!-- Twitter -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:url" content="https://gadial.net/2019/06/17/lagrange_mean_value_theorem/">
    <meta name="twitter:description" content="לא מדויק - בלוג על מתמטיקה ומדעי המחשב">
    <meta name="twitter:site" content="@" />
    <meta property="twitter:title" content="משפט הערך הממוצע של לגראנז&#39;">
    <meta property="twitter:image" content="http://gadial.net/img/main/default-card.png" />
    
    <!-- RSS Feed -->
    <link rel="alternate" type="application/rss+xml" title="לא מדויק - RSS Feed" href="/feed.xml">
       
    
    <!-- KaTeX for math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>

    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', 'David', 'Tahoma', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
        }
        
        /* Top navigation bar */
        .top-nav {
            background: #2c3e50;
            padding: 15px 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .top-nav .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
        }
        
        .top-nav .site-title {
            font-size: 1.5em;
            font-weight: bold;
            color: white;
            text-decoration: none;
            white-space: nowrap;
        }
        
        .top-nav .nav-links {
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .top-nav .nav-links a {
            color: #ecf0f1;
            text-decoration: none;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background 0.2s;
            white-space: nowrap;
        }
        
        .top-nav .nav-links a:hover {
            background: #34495e;
        }
        
        .top-nav .search-box {
            display: flex;
            gap: 5px;
        }
        
        .top-nav .search-box input {
            padding: 5px 10px;
            border: none;
            border-radius: 4px;
            font-size: 0.9em;
            min-width: 150px;
        }
        
        .top-nav .search-box button {
            padding: 5px 15px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .top-nav .search-box button:hover {
            background: #2980b9;
        }
        
        /* Hamburger menu button */
        .menu-toggle {
            display: none;
            background: none;
            border: none;
            font-size: 1.8em;
            color: white;
            cursor: pointer;
            padding: 0;
            line-height: 1;
        }
        
        .menu-toggle:hover {
            opacity: 0.8;
        }
        
        /* Mobile responsive */
        @media (max-width: 768px) {
            .top-nav .nav-container {
                flex-direction: column;
                align-items: stretch;
            }
            
            .top-nav .site-title {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 0;
                padding: 10px 0;
            }
            
            .menu-toggle {
                display: block;
            }
            
            /* Hide nav links by default on mobile */
            .top-nav .nav-links {
                display: none;
                flex-direction: column;
                width: 100%;
                margin-top: 10px;
            }
            
            /* Show when expanded */
            .top-nav .nav-links.expanded {
                display: flex;
            }
            
            .top-nav .nav-links > a {
                text-align: center;
                padding: 12px;
                border-top: 1px solid rgba(255, 255, 255, 0.2);
            }
            
            .top-nav .search-box {
                width: 100%;
                flex-direction: column;
                margin-top: 10px;
                padding-top: 10px;
                border-top: 1px solid rgba(255, 255, 255, 0.2);
            }
            
            .top-nav .search-box input {
                width: 100%;
                margin-bottom: 5px;
                min-width: 0;
            }
            
            .top-nav .search-box button {
                width: 100%;
            }
        }
        
        /* Blockquote styling */
        blockquote {
            background: #f9f9f9;
            border-right: 5px solid #ccc;
            margin: 1.5em 10px;
            padding: 0.75em 16px;
            position: relative;
            font-style: italic;
        }
        
        blockquote:before {
            content: '"';
            position: absolute;
            top: -10px;
            right: 8px;
            font-size: 3.5em;
            color: #ccc;
            line-height: 1;
        }
        
        blockquote p {
            display: block;
            margin: 0 0 0.75em 0;
        }
        
        blockquote p:last-child {
            margin-bottom: 0;
        }
        
        
        body {
            line-height: 1.8;
        }
        
        .container {
            max-width: 800px;
            margin: 20px auto;
            background: white;
            padding: 40px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
        }
        
        header {
            margin-bottom: 40px;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 20px;
        }
        
        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .post-meta {
            color: #7f8c8d;
            font-size: 0.9em;
        }
        
        .post-meta .date {
            margin-left: 15px;
        }
        
        .post-meta .categories,
        .post-meta .tags {
            display: inline;
        }
        
        .post-meta .categories a,
        .post-meta .tags a {
            color: #3498db;
            text-decoration: none;
            margin: 0 5px;
        }
        
        .post-meta .categories a:hover,
        .post-meta .tags a:hover {
            text-decoration: underline;
        }
        
        article {
            font-size: 1.1em;
        }
        
        article h2 {
            margin-top: 30px;
            margin-bottom: 15px;
            color: #34495e;
            font-size: 1.8em;
        }
        
        article h3 {
            margin-top: 25px;
            margin-bottom: 12px;
            color: #34495e;
            font-size: 1.4em;
        }
        
        article p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        article ul, article ol {
            margin-right: 30px;
            margin-bottom: 15px;
        }
        
        article li {
            margin-bottom: 8px;
        }
        
        article code {
            background-color: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        
        article pre {
            background-color: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin-bottom: 20px;
            direction: ltr;
            text-align: left;
        }
        
        article pre code {
            background-color: transparent;
            padding: 0;
            color: inherit;
        }
        
        /* Image styles - responsive and contained */
        article img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 20px auto;
        }
        
        /* Math rendering styles */
        .math {
            direction: ltr;
        }
        
        span.math {
            direction: ltr;
        }
        
        /* Override RTL for KaTeX */
        .katex {
            direction: ltr;
            unicode-bidi: embed;
        }
        
        /* Force KaTeX content to wrap by overriding its internal structure */
        .katex-html {
            display: inline !important;
            white-space: normal !important;
        }
        
        .katex .base {
            display: inline !important;
            white-space: normal !important;
        }
        
        .katex .mord,
        .katex .mbin,
        .katex .mrel,
        .katex .mopen,
        .katex .mclose,
        .katex .mpunct,
        .katex .minner {
            display: inline !important;
            white-space: normal !important;
        }
        
        div.math {
            display: block;
            text-align: center;
            padding: 15px 0;
            direction: ltr;
        }
        
        /* RTL adjustments for code blocks */
        .highlight {
            direction: ltr;
            text-align: left;
        }
        
        footer {
            margin-top: 60px;
            padding-top: 20px;
            border-top: 1px solid #e0e0e0;
            text-align: center;
            color: #95a5a6;
            font-size: 0.9em;
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2em;
            }
            
            article {
                font-size: 1em;
            }
            
            /* Hide post navigation on mobile */
            .post-navigation {
                display: none;
            }
        }
        
        /* Post navigation */
        .post-navigation {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #e0e0e0;
            gap: 20px;
        }
        
        .post-navigation .nav-link {
            flex: 1;
            text-decoration: none;
            color: #2c3e50;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 5px;
            transition: background 0.2s;
        }
        
        .post-navigation .nav-link:hover {
            background: #e9ecef;
        }
        
        .post-navigation .nav-prev {
            text-align: right;
        }
        
        .post-navigation .nav-next {
            text-align: left;
        }
        
        .post-navigation .nav-label {
            font-size: 0.85em;
            color: #7f8c8d;
            display: block;
            margin-bottom: 5px;
        }
        
        .post-navigation .nav-title {
            font-weight: bold;
            font-size: 1.1em;
        }

    </style>
</head>
<body>
    <nav class="top-nav">
        <div class="nav-container">
            <div class="site-title">
                <a href="/" style="color: white; text-decoration: none;">לא מדויק</a>
                <button class="menu-toggle" onclick="toggleMobileMenu()" aria-label="תפריט">
                    ☰
                </button>
            </div>
            <div class="nav-links" id="navLinks">
                <a href="/">דף הבית</a>
                <a href="/random.html">פוסט אקראי</a>
                <a href="/post_list.html">כל הפוסטים</a>
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="חיפוש...">
                    <button onclick="searchPosts()">חפש</button>
                </div>
            </div>
        </div>
    </nav>
    
    
    <div class="container">
        <!-- Post Navigation -->
        
        <nav class="post-navigation">
            
            <a href="/2019/05/30/arithmetic_and_geometric_series/" class="nav-link nav-prev">
                <span class="nav-label">פוסט ישן יותר →</span>
                <span class="nav-title">איך מוצאים את הסכום של סדרה חשבונית וסדרה הנדסית?</span>
            </a>
            

            
            <a href="/2019/10/19/what_is_set_theory/" class="nav-link nav-next">
                <span class="nav-label">← פוסט חדש יותר</span>
                <span class="nav-title">אז מה זו תורת הקבוצות?</span>
            </a>
            
        </nav>
        
        
        <header>
            <h1>משפט הערך הממוצע של לגראנז&#39;</h1>
            <div class="post-meta">
                <span class="date">2019-06-17</span>
                
                <span class="categories">
                    | קטגוריות:
                    
                    <a href="/categories/אנליזה מתמטית.html">אנליזה מתמטית</a>
                    
                </span>
                
                
                <span class="tags">
                    | תגיות:
                    
                    <a href="/tags/כלל לופיטל.html">כלל לופיטל</a>
                    
                    <a href="/tags/משפט הערך הממוצע של לגראנז&#39;.html">משפט הערך הממוצע של לגראנז&#39;</a>
                    
                    <a href="/tags/משפט הערך הממוצע של קושי.html">משפט הערך הממוצע של קושי</a>
                    
                    <a href="/tags/משפט רול.html">משפט רול</a>
                    
                </span>
                
            </div>
        </header>
        
        <article>
            <p>ביקשו ממני לסגור את אחד החורים המציקים שיש בבלוג - לתאר את <strong>משפט הערך הממוצע </strong>של לגראנז', שהוא אחד מהתוצאות הבסיסיות והמעניינות ביותר שמלמדים על <strong>נגזרות</strong>. כתבתי בשעתו <a href="https://gadial.net/2010/11/21/derivative/">פוסט שמתאר מהן נגזרות</a> והוא הרקע שדרוש כדי להבין את משפט לגראנז'; אבל אל לגראנז' עצמו לא הגעתי. אז נתחיל עם תזכורת קטנה על מה מדובר.</p>
<p>אנחנו מדברים על <strong>פונקציות ממשיות</strong>: פונקציות <span class="math">\(f:\mathbb{R}\to\mathbb{R}\)</span>. אם יש לנו מספיק מזל, הפונקציות הללו הן "נחמדות", והקצב שבו הן משתנות ניתן גם הוא לתיאור על ידי פונקציה, שנקראת <strong>הנגזרת</strong> של <span class="math">\(f\)</span>. פורמלית, אנחנו מגדירים את הנגזרת של <span class="math">\(f\)</span> בנקודה <span class="math">\(a\)</span> בתור הערך של הגבול <span class="math">\(\lim_{h\to0}\frac{f\left(a+h\right)-f\left(a\right)}{h}\)</span>, במקרה שבו הוא קיים. בואו נסתכל שניה על הביטוי הזה יותר בפירוט כדי להבין מה הוא אומר: אפשר לכתוב אותו גם בתור</p>
<p><span class="math">\(\lim_{h\to0}\frac{f\left(a+h\right)-f\left(a\right)}{\left(a+h\right)-a}\)</span></p>
<p>כלומר, אפשר לחשוב עליו בתור הערך <span class="math">\(\frac{f\left(b\right)-f\left(a\right)}{b-a}\)</span> עבור נקודות <span class="math">\(b\)</span> שהן "הולכות וקרבות" ל-<span class="math">\(a\)</span>. אבל מה זה הערך הזה? זה פשוט <strong>השינוי הממוצע</strong> בין הערך של <span class="math">\(f\)</span> בנקודה <span class="math">\(a\)</span> והערך שלה בנקודה <span class="math">\(b\)</span>. קל לראות את זה עם דוגמא יומיומית: נניח שאנחנו נוסעים מתל אביב לאילת ומודדים כמה התרחקנו מתל אביב עד כה בעזרת הפונקציה <span class="math">\(f\)</span>. אם בזמן <span class="math">\(t_{1}=1\)</span> (בשעות) היינו במרחק 50 ק"מ מתל אביב ובזמן <span class="math">\(t_{2}=4\)</span> היינו במרחק 290 ק"מ מתל אביב, אז <strong>המהירות הממוצעת</strong> שלנו בנסיעה הזו בין שני פרקי הזמן הללו נתונה, בקילומטר לשעה, על ידי</p>
<p><span class="math">\(\frac{f\left(t_{2}\right)-f\left(t_{1}\right)}{t_{2}-t_{1}}=\frac{290-50}{4-1}=\frac{240}{3}=80\)</span></p>
<p>מה המשמעות של מהירות ממוצעת שכזו? האם זה אומר שזו המהירות שבה נסענו במשך רוב הדרך? לא. ייתכן שנסענו במהירות 100 קמ"ש בשעתיים הראשונות שאחרי <span class="math">\(t_{1}=1\)</span>, ואז את 40 הקילומטרים הנוספים עשינו בזחילה במהירות 40 קמ"ש בשעה האחרונה. המשמעות של המהירות הממוצעת היא זו - אם היינו נוסעים כל הדרך באותה מהירות בדיוק, בלי לשנות אותה כלל, אז היינו עוברים את אותה הדרך.</p>
<p>על נגזרת אפשר לחשוב בתור "ערך ממוצע רגעי". כלומר, אנחנו מחשבים את המהירות הממוצעת שלנו לא על פני פרק זמן של שלוש שעות אלא על פני פרק זמן של דקה... לא בעצם, פרק זמן של שנייה... לא, בעצם מילישנייה... וכן הלאה. אם יש איזו מהירות מסויימת שהמהירות הממוצעת מספיק קרובה אליה, בהינתן שפרק הזמן שלנו קצר דיו (זה היה ניסוח מילולי מסורבל של מושג ה<strong>גבול</strong>, <span class="math">\(\lim\)</span>), אז המהירות המסויימת הזו היא <strong>הנגזרת</strong> של פונקציית המיקום שלנו באותה נקודת זמן שאנחנו לוקחים ממנה פער כל כך קצרצר. בהקשר של מהירות קוראים לזה <strong>מהירות רגעית</strong>.</p>
<p>כפי שאפשר להבין, מהירות רגעית שכזו היא עניין, אה, רגעי. מקומי. נקודתי. משהו שמתאר שבריר שניה אחד בהיסטוריה של הנסיעה. מה שמשפט הערך הממוצע של לגראנז' עושה הוא להעביר אותנו מהמקומי הזה אל <strong>הגלובלי</strong> - להראות שקיימת נקודה רגעית בזמן שמה שקורה בה הוא האפיון הממוצע של מה שקורה בכל פרק הזמן הרלוונטי. זה מתאים לחוויה היומיומית שלנו: אם בהתחלה נסענו במהירות ממוצעת של 100 קמ"ש ואז ירדנו למהירות ממוצעת של 40 קמ"ש, אז היה שבריר שניה כלשהו שבו מד המהירות שלנו הראה את המהירות 80 קמ"ש, שהיא המהירות הממוצעת עבור כל הנסיעה.</p>
<p>אז הנה מה שלגראנז' אומר, פורמלית: אם <span class="math">\(a<b\)</span> ויש לנו פונקציה <span class="math">\(f:\left[a,b\right]\to\mathbb{R}\)</span> פונקציה שרציפה בקטע הסגור <span class="math">\(\left[a,b\right]\)</span> וגזירה בקטע הפתוח <span class="math">\(\left(a,b\right)\)</span>, אז קיימת נקודה <span class="math">\(c\in\left(a,b\right)\)</span> כך ש-<span class="math">\(f^{\prime}\left(c\right)=\frac{f\left(b\right)-f\left(a\right)}{b-a}\)</span>. בפוסט הזה נוכיח את המשפט (בהסתמך על דברים קודמים, כמובן) וניתן דוגמא או שתיים לשימושיות שלו.</p>
<p>ראשית, אי אפשר בלי להזכיר את האופן הגאומטרי שבו אנחנו רואים את המשפט. כשאנחנו מציירים פונקציה, אנחנו מציירים נקודות שהקואורדינטות שלהן הן מהצורה <span class="math">\(\left(x,f\left(x\right)\right)\)</span> (כלומר, <span class="math">\(f\left(x\right)\)</span> היא קואורדינטת ה-<span class="math">\(y\)</span> של הציור). נקודות הקצה של הפונקציה הן <span class="math">\(\left(a,f\left(a\right)\right)\)</span> ו-<span class="math">\(\left(b,f\left(b\right)\right)\)</span>. אם ניזכר איך הולכים דברים בגאומטריה אנליטית נראה שהביטוי <span class="math">\(\frac{f\left(b\right)-f\left(a\right)}{b-a}\)</span> הוא <strong>שיפוע הישר</strong> שמחבר את שתי הנקודות הללו. עכשיו, מה זו נגזרת? המשמעות של נגזרת בנקודה כלשהי היא <strong>שיפוע המשיק</strong> לפונקציה בנקודה הזו. לכן לגראנז' אומר שיש נקודה כלשהי על גרף הפונקציה ששיפוע המשיק לאותה נקודה זהה לשיפוע הישר שמחבר את שני קצוות הפונקציה. הנה איור באדיבות ויקיפדיה העברית:</p>
<p><img class="alignnone size-full wp-image-3781" src="/img/2019/06/Mv4_he.svg_.png" alt="" width="1024" height="931" /></p>
<p>איך מוכיחים את המשפט? כאן צריך להיזהר עם האינטואיציה שלנו, שעשויה להטעות אותנו. נחזור אל דוגמת הרכב שנסע במהירות של 100 קמ"ש ואז ירד למהירות של 40 קמ"ש. האינטואיציה שלנו אומרת שבירידה מ-100 קמ"ש אל 40 קמ"ש הייתה חייבת להיות שניה שבה המהירות הייתה 80 קמ"ש, כי אנחנו חושבים על מהירות בתור משהו ש<strong>משתנה באופן רציף</strong>. יש לדבר הזה פורמליזם בחדו"א: פונקציה <span class="math">\(f\)</span> היא <strong>רציפה</strong> בנקודה <span class="math">\(a\)</span> אם <span class="math">\(\lim_{x\to a}f\left(x\right)=f\left(a\right)\)</span> (כלומר, הערך שנראה ש-<span class="math">\(f\)</span> "אמורה לקבל" ב-<span class="math">\(a\)</span> הוא מה שמתקבל בפועל). אם יש לנו פונקציה רציפה, אז יש לנו עבורה משהו שנקרא <strong>משפט ערך הביניים</strong> שאומר שאם <span class="math">\(y\)</span> הוא ערך כלשהו שנמצא בין <span class="math">\(f\left(a\right)\)</span> ו-<span class="math">\(f\left(b\right)\)</span>, אז קיים <span class="math">\(x\in\left[a,b\right]\)</span> כך ש-<span class="math">\(f\left(x\right)=y\)</span>. בפרט, מהירות של 80 קמ"ש נמצאת בין 100 קמ"ש ו-40 קמ"ש ולכן היא חייבת להתקבל מתישהו.</p>
<p>אז מה הבעיה? הבעיה היא שנגזרת, באופן כללי, לא חייבת להיות פונקציה רציפה. אמנם, הדוגמאות הנגדיות (של פונקציות גזירות שהנגזרת שלהן אינה רציפה) הן לא יפות במיוחד ואפשר גם להוכיח שאי רציפות של "קפיצה" ישירות מ-100 קמ"ש אל 40 קמ"ש פשוט לא יכולה להתקיים, אבל השורה התחתונה היא שאנחנו רוצים להוכיח את המשפט בלי הסתמכות על משפט ערך הביניים.</p>
<p>עוד נקודה שצריך לתת אליה תשומת לב היא שהתנאים של המשפט די קשיחים. ראשית, הדרישה ש-<span class="math">\(f\)</span> תהיה גזירה בכל הקטע הפתוח <span class="math">\(\left(a,b\right)\)</span>. אחרת אפשר לקחת את דוגמת הנסיעה שלנו לאקסטרים: נדמיין שאנחנו נוסעים 100 קמ"ש ואז <strong>קופצים מיידית</strong> אל 40 קמ"ש, בלי לעבור בערכים באמצע; אז באמת לא היינו בשום מקום במהירות 80 קמ"ש כפי שמשפט לגראנז' טוען. העניין הוא שהנקודה שבה ביצענו את הקפיצה הזו לא תהיה גזירה; הנגזרת ממש לפניה היא 100 והנגזרת ממש אחריה היא 40, ובנקודה עצמה? הנגזרת לא מוגדרת.</p>
<p>שנית, הדרישה הנוספת ש-<span class="math">\(f\)</span> תהיה רציפה בכל <span class="math">\(\left[a,b\right]\)</span> היא כמעט מובנת מאליה. היא חייבת להיות רציפה ב-<span class="math">\(\left(a,b\right)\)</span> כי קל לראות שגזירות בקטע הזה גוררת רציפות בו. היא חייבת להיות רציפה בקצוות, אחרת אפשר יהיה לשנות את הערכים שלה שם באופן שרירותי לגמרי, למשל להגדיר <span class="math">\(f\left(a\right)=f\left(b\right)=232352\)</span>, ואז אין סיבה שמשפט ערך הביניים יעבוד כי הוא מתבסס בצורה חזקה על הערכים בקצוות ועל כך שהם מייצגים תקינים של מה שקורה בתוך הקטע.</p>
<p>עכשיו אפשר לעבור להוכחה של המשפט. נתחיל עם מקרה פרטי שלו שנקרא <strong>משפט רול</strong> שבעזרתו קל להוכיח את התוצאה הכללית. משפט רול אומר שאם <span class="math">\(f\left(a\right)=f\left(b\right)\)</span> אז קיימת <span class="math">\(c\in\left[a,b\right]\)</span> כך ש-<span class="math">\(f^{\prime}\left(c\right)=0\)</span>. אינטואיטיבית, אם נקודות ההתחלה והסיום של הטיול שלנו הן זהות, אז היה רגע שבו עמדנו במקום ולא זזנו.</p>
<p>זה לא משפט טריוויאלי, אבל עם ידע רלוונטי בחדו"א אפשר לתת לו הוכחה של שורה אחת, שהאינטואיציה שלה די ברורה: אם נקודות ההתחלה והסיום שלנו זהות, אז או שלא זזנו בכלל כל הזמן, או שזזנו קדימה ואז אחורה ולכן הייתה שניה שבה עברנו מלזוז קדימה אל לזוז אחורה ובה לא זזנו; או שזזנו אחורה ואז קדימה ולכן הייתה שניה שבה לא זזנו. העניין הוא שהאינטואיציה הזו שוב מניחה רציפות של הנגזרת ובפעול משפט רול מצליח לעקוף את זה (ולכן אינו טריוויאלי) בעזרת משפטים קודמים, שרק בזכותם ההוכחה היא בת שורה אחת.</p>
<p>בואו ניתן את השורה הזו למקרה שיש לכם את הידע הזה ואז נרחיב: מכיוון ש-<span class="math">\(f\)</span> רציפה ב-<span class="math">\(\left[a,b\right]\)</span> היא מקבלת בקטע הזה מקסימום ומינימום. אם הם בתוך הקטע, אז בכל אחד מהם ערך הנגזרת הוא 0 על פי משפט פרמה לנקודות קיצון; אם שניהם בקצוות הקטע אז הם שווים זה לזה ולכן הפונקציה קבועה ולכן הנגזרת שלה היא 0 בכל הקטע.</p>
<p>הבעיה עם להסביר את כל המלל שכתבתי למעלה היא שלא ברור כמה רחוק אני אמור ללכת. את הטענה על משפט פרמה לנקודות קיצון <a href="https://gadial.net/2011/01/16/derivative_and_extremal_problems_1-2/">הוכחתי בפוסט קודם</a>, אז אני פטור מלדבר עליה, אבל מה עם הטענה שפונקציה רציפה בקטע סגור מקבלת בו ערכי מקסימום ומינימום? הטענה הזו נקראת בחדו"א "משפט ויירשטראס" (השני; הראשון אומר שפונקציה רציפה בקטע סגור חסומה בו). אני יכול להוכיח אותה, אבל ההוכחה מתבססת על משהו יותר בסיסי שנקרא <strong>משפט בולצאנו-ויירשטראס</strong>, שבתורו נובע מהתכונות הבסיסיות של הממשיים... בקיצור, אני לא הולך ללכת בכיוון הזה ואולי אדבר על משפטי ויירשטראס בפירוט בפוסט אחר מתישהו.</p>
<p>דבר אחד כן קל מאוד להסביר: אם <span class="math">\(f\)</span> היא פונקציה קבועה בקטע, אז הנגזרת שלה בכל נקודה בקטע היא <span class="math">\(0\)</span> פשוט כי בביטוי <span class="math">\(\lim_{h\to0}\frac{f\left(a+h\right)-f\left(a\right)}{h}\)</span> מתקיים <span class="math">\(f\left(a+h\right)=f\left(a\right)\)</span> ולכן המונה הוא אפס.</p>
<p>עכשיו, איך עוברים מהמשפט הזה אל משפט לגראנז'? די בקלות: אם יש לנו פונקציה <span class="math">\(f\left(x\right)\)</span>, אפשר לדבר על הפונקציה <span class="math">\(g\left(x\right)\)</span> שמודדת את <strong>המרחק</strong> של <span class="math">\(f\left(x\right)\)</span> מהמיתר שמחבר את הנקודות <span class="math">\(\left(a,f\left(a\right)\right)\)</span> ו-<span class="math">\(\left(b,f\left(b\right)\right)\)</span>. כלומר, היא מודדת כמה <span class="math">\(f\left(x\right)\)</span> <strong>אינה</strong> מתאימה לממוצע בנקודה מסויימת. בנקודות הקצה המרחק הזה יהיה 0, כך שאנחנו רואים את משפט רול בפעולה.</p>
<p>כדי לכתוב את <span class="math">\(g\left(x\right)\)</span> במפורש צריך להיזכר קודם כל בקצת גאומטריה אנליטית - איך כותבים את משוואות הקו הישר שמחבר שתי נקודות <span class="math">\(\left(x_{1},y_{1}\right),\left(x_{2},y_{2}\right)\)</span>? התשובה היא שזו תהיה משוואה מהצורה <span class="math">\(y=mx+n\)</span> כאשר <span class="math">\(m\)</span> נקרא <strong>השיפוע</strong> של הישר ואילו <span class="math">\(n\)</span> היא נקודת החיתוך של הישר עם ציר <span class="math">\(y\)</span> (כמה "גבוה" הישר יהיה כשנציב <span class="math">\(x=0\)</span>). אם נציב את שתי הנקודות שידועות לנו במשוואה הזו נקבל שתי משוואות:</p>
<p><span class="math">\(y_{1}=mx_{1}+n\)</span></p>
<p><span class="math">\(y_{2}=mx_{2}+n\)</span></p>
<p>אם נחסר אחת מהשניה ונחלק, נקבל</p>
<p><span class="math">\(m=\frac{y_{2}-y_{1}}{x_{2}-x_{1}}\)</span></p>
<p>כאן אנחנו מניחים ש-<span class="math">\(x_{2}\ne x_{1}\)</span> כדי שנוכל לחלק, וזה מתאים להנחה שלנו ש-<span class="math">\(a<b\)</span> במשפט לגראנז' (אם לא היינו מניחים את זה אז משפט לגרנז' היה חסר משמעות; הוא היה אומר שקיים <span class="math">\(x\in\left(a,b\right)\)</span> שמקיים כך-וכך, אבל <span class="math">\(\left(a,b\right)\)</span> היה קטע ריק).</p>
<p>את הערך של <span class="math">\(n\)</span> קל למצוא עכשיו על ידי כך שניקח את המשוואה הראשונה ונעביר אגף: <span class="math">\(y_{1}-mx_{1}=n\)</span>. אם נציב את זה בחזרה במשוואה הכללית <span class="math">\(y=mx+n\)</span> נקבל</p>
<p><span class="math">\(y=mx+\left(y_{1}-mx_{1}\right)\)</span></p>
<p>כלומר</p>
<p><span class="math">\(y=m\left(x-x_{1}\right)+y_{1}\)</span></p>
<p>במקרה שלנו, שבו <span class="math">\(\left(x_{1},y_{1}\right)=\left(a,f\left(a\right)\right)\)</span> ו-<span class="math">\(\left(x_{2},y_{2}\right)=\left(b,f\left(b\right)\right)\)</span>, משוואת המיתר תהיה</p>
<p><span class="math">\(y=\frac{f\left(b\right)-f\left(a\right)}{b-a}\left(x-a\right)+f\left(a\right)\)</span></p>
<p>ולכן אם אנחנו רוצים ש-<span class="math">\(g\left(x\right)\)</span> תתאר את <strong>ההפרש</strong> בין הערך של המיתר והפונקציה, כלומר <span class="math">\(f\left(x\right)-y\)</span>, נקבל:</p>
<p><span class="math">\(g\left(x\right)=f\left(x\right)-\frac{f\left(b\right)-f\left(a\right)}{b-a}\left(x-a\right)-f\left(a\right)\)</span></p>
<p>אם נציב <span class="math">\(x=a\)</span> במשוואה הזו נקבל</p>
<p><span class="math">\(g\left(a\right)=f\left(a\right)-f\left(a\right)=0\)</span></p>
<p>ואם נציב בה <span class="math">\(b\)</span> נקבל</p>
<p><span class="math">\(g\left(b\right)=f\left(b\right)-\left(f\left(b\right)-f\left(a\right)\right)-f\left(a\right)=0\)</span></p>
<p>בנוסף לכך, <span class="math">\(g\)</span> רציפה ב-<span class="math">\(\left[a,b\right]\)</span> וגזירה ב-<span class="math">\(\left(a,b\right)\)</span> בשל האופן הפשוט שבו היא מתקבלת מ-<span class="math">\(f\left(x\right)\)</span> שגם כן מקיימת את התכונות הנחמדות הללו; זאת מכיוון שחיבור של פונקציות גזירות או כפל שלהן בקבוע מותיר אותן גזירות, וכמו כן פולינומים הם פונקציות גזירות.</p>
<p>לכן ניתן להשתמש במשפט רול על <span class="math">\(g\)</span> ולקבל שיש <span class="math">\(c\in\left(a,b\right)\)</span> כך ש-<span class="math">\(g^{\prime}\left(c\right)=0\)</span>. כעת, מהי הנגזרת של <span class="math">\(g\)</span>? קל לחשוב אותה במפורש:</p>
<p><span class="math">\(g^{\prime}\left(x\right)=f^{\prime}\left(x\right)-\frac{f\left(b\right)-f\left(a\right)}{b-a}\)</span></p>
<p>ולכן אם <span class="math">\(g^{\prime}\left(c\right)=0\)</span> נקבל ש-</p>
<p><span class="math">\(f^{\prime}\left(c\right)-\frac{f\left(b\right)-f\left(a\right)}{b-a}=0\)</span></p>
<p>כלומר <span class="math">\(f^{\prime}\left(c\right)=\frac{f\left(b\right)-f\left(a\right)}{b-a}\)</span> שזה בדיוק מה שרצינו. האינטואיציה פה שוב פשוטה ונובעת ממה שנקרא <strong>לינאריות הנגזרת</strong>, <span class="math">\(\left(f+g\right)^{\prime}=f^{\prime}+g^{\prime}\)</span>: מכיוון ש-<span class="math">\(g\)</span> היא ההפרש בין <span class="math">\(f\)</span> ובין המיתר, אז הנגזרת של <span class="math">\(g\)</span> היא ההפרש בין הנגזרת של <span class="math">\(f\)</span> ובין נגזרת המיתר, שהיא פשוט השיפוע הקבוע של המיתר. לכן יש נקודה שבה ההפרש הזה מתאפס, והנגזרת של <span class="math">\(f\)</span> שווה בדיוק לשיפוע המיתר.</p>
<p>סיימנו להוכיח את המשפט, אבל מן הסתם פוסט בנושא לא יהיה שלם בלי לראות כמה מהשימושים הפשוטים שלו. כאמור, הרעיון במשפט הזה הוא היכולת לעבור מה"מקומי" (הנגזרת) אל ה"גלובלי" (ההתנהגות של הפונקציה בכל הקטע), ובמקרי קצה פשוטים יש כמה הסקות מיידיות שניתן לבצע:</p>
<ol>
    <li>אם הנגזרת של <span class="math">\(f\)</span> היא 0 בקטע כלשהו אז <span class="math">\(f\)</span> קבועה בכל הקטע הזה (קודם ראינו את ההפך - שהנגזרת של פונקציה קבועה היא 0; עכשיו אנחנו רואים שזה קורה רק לפונקציות קבועות)</li>
    <li>אם הנגזרת של <span class="math">\(f\)</span> היא <strong>חיובית</strong> בקטע כלשהו אז <span class="math">\(f\)</span> היא <strong>עולה ממש</strong> בכל הקטע הזה.</li>
    <li>אם הנגזרת של <span class="math">\(f\)</span> היא <strong>שלילית </strong>בקטע כלשהו אז <span class="math">\(f\)</span> היא <strong>יורדת ממש</strong> בכל הקטע הזה.</li>
</ol>
<p>שלושת אלו הם מה שנדרש לנו לצורך "חקירת פונקציות" כמו שלומדים בתיכון - זיהוי תחומי עליה וירידה של פונקציה. כדי לראות שזה נכון, אנחנו לוקחים שתי נקודות כלשהן בתוך הקטע, נקרא להן <span class="math">\(a,b\)</span>, כך ש-<span class="math">\(a<b\)</span>. עכשיו:</p>
<ol>
    <li>אם <span class="math">\(f\)</span> קבועה בכל הקטע אנחנו מצפים שיתקיים <span class="math">\(f\left(a\right)=f\left(b\right)\)</span></li>
    <li>אם <span class="math">\(f\)</span> עולה ממש בכל הקטע אנחנו מצפים שיתקיים <span class="math">\(f\left(a\right)<f\left(b\right)\)</span></li>
    <li>אם <span class="math">\(f\)</span> יורדת ממש בכל הקטע אנחנו מצפים שיתקיים <span class="math">\(f\left(a\right)>f\left(b\right)\)</span></li>
</ol>
<p>שלושת אלו אכן מתקיימים, בזכות משפט הערך הממוצע. כזכור, הוא אומר שקיימת <span class="math">\(c\in\left(a,b\right)\)</span> כך ש-<span class="math">\(f^{\prime}\left(c\right)=\frac{f\left(b\right)-f\left(a\right)}{b-a}\)</span>. אולי קצת יותר קל להרגיש מה קורה אם כופלים ב-<span class="math">\(b-a\)</span> ומקבלים</p>
<p><span class="math">\(f\left(b\right)-f\left(a\right)=f^{\prime}\left(c\right)\left(b-a\right)\)</span></p>
<p>כלומר, אנחנו יכולים לתאר את ההפרש בין <span class="math">\(f\)</span> בשתי נקודות הקצה של הקטע בעזרת אורך הקטע כפול קבוע מספרי כלשהו שקשור לנגזרת של <span class="math">\(f\)</span>. נחזור אל שלושת המקרים שלנו:</p>
<ol>
    <li>אם הנגזרת של <span class="math">\(f\)</span> היא 0 בכל הקטע אז <span class="math">\(f^{\prime}\left(c\right)=0\)</span> ולכן <span class="math">\(f\left(b\right)-f\left(a\right)=0\)</span>, כלומר <span class="math">\(f\left(b\right)=f\left(a\right)\)</span></li>
    <li>אם הנגזרת של <span class="math">\(f\)</span> היא חיובית בכל הקטע אז <span class="math">\(f^{\prime}\left(c\right)\left(b-a\right)&gt;0\)</span> ולכן <span class="math">\(f\left(b\right)-f\left(a\right)>0\)</span>, כלומר <span class="math">\(f\left(a\right)<f\left(b\right)\)</span></li>
    <li>אם הנגזרת של <span class="math">\(f\)</span> היא שלילית בכל הקטע אז <span class="math">\(f^{\prime}\left(c\right)\left(b-a\right)&lt;0\)</span> ולכן <span class="math">\(f\left(b\right)-f\left(a\right)<0\)</span>, כלומר <span class="math">\(f\left(a\right)>f\left(b\right)\)</span></li>
</ol>
<p>העובדה שאם הנגזרת של <span class="math">\(f\)</span> היא אפס בקטע אז <span class="math">\(f\)</span> היא קבועה היא הבסיס לעוד טענה מעניינת: אם הנגזרת של שתי פונקציות היא זהה, אז הן <strong>נבדלות בקבוע</strong> ותו לא. בואו נראה את זה: נניח ש-<span class="math">\(f^{\prime}\left(x\right)=g^{\prime}\left(x\right)\)</span> לכל <span class="math">\(x\)</span> בקטע מסויים, אז <span class="math">\(\left(f-g\right)^{\prime}\left(x\right)=0\)</span> לכל הנקודות בקטע הזה, ומכאן ש-<span class="math">\(f-g\)</span> היא פונקציה קבועה: <span class="math">\(\left(f-g\right)\left(x\right)=c\)</span> עבור <span class="math">\(c\in\mathbb{R}\)</span> כלשהו בקטע, כלומר <span class="math">\(f\left(x\right)=g\left(x\right)+c\)</span>. זו אולי התוצאה הבסיסית ביותר שמכירים כשמדברים על <strong>אינטגרלים</strong>: שאם מצאנו פונקציה קדומה של משהו, אז הפונקציות הקדומות הנוספות מתקבלות ממנה על ידי חיבור קבוע כלשהו.</p>
<p>לסיום הפוסט אני רוצה להוכיח משפט מועיל מאין כמותו - <strong>כלל לופיטל</strong>. יש פה קוריוז היסטורי קטן: לופיטל לא גילה או הוכיח את המשפט אלא יוהאן ברנולי עשה את זה (ולופיטל, תלמידו, פרסם אותו בספר שכתב וקיבל את הקרדיט; סוג של קניה בכסף של משפט שייקרא על שמך), ואני הולך להוכיח אותו עם משהו שנקרא "משפט הערך הממוצע של קושי" שחי הרבה אחרי לופיטל וברנולי (אין לי מושג איך ברנולי הוכיח את המשפט).</p>
<p>כלל לופיטל הוא שיטה מועילה לחישוב <strong>גבולות</strong> שהם מנה שבה המונה והמכנה שואפים שניהם לאפס (ועם קצת עבודה אפשר להשתמש בו עבור עוד סוגי גבולות בעייתיים אבל לא אכנס לכך בפוסט הזה). פורמלית, אם <span class="math">\(f,g\)</span> הן פונקציות ממשיות ו-<span class="math">\(a\)</span> מספר ממשי כלשהו כך ש-<span class="math">\(\lim_{x\to a}f\left(x\right)=\lim_{x\to a}g\left(x\right)=0\)</span>, ואם בנוסף לכך הגבול הבא קיים:</p>
<p><span class="math">\(\lim_{x\to a}\frac{f^{\prime}\left(x\right)}{g^{\prime}\left(x\right)}\)</span></p>
<p>אז גם הגבול הבא קיים:</p>
<p><span class="math">\(\lim_{x\to a}\frac{f\left(x\right)}{g\left(x\right)}\)</span></p>
<p>והם שווים, כלומר <span class="math">\(\lim_{x\to a}\frac{f\left(x\right)}{g\left(x\right)}=\lim_{x\to a}\frac{f^{\prime}\left(x\right)}{g^{\prime}\left(x\right)}\)</span></p>
<p>המשמעות של הכלל היא שאם יש לנו גבול קשה לחישוב, למשל <span class="math">\(\lim_{x\to0}\frac{\sin x}{x}\)</span>, אז אפשר לנסות לפשט אותו על ידי גזירת המונה והמכנה; אם נצליח למצוא את הגבול המתאים עבור הנגזרות, ינבע מכך הגבול המקורי. בדוגמה שלנו גזירת המונה והמכנה מניבה את</p>
<p><span class="math">\(\lim_{x\to0}\frac{\cos x}{1}=1\)</span></p>
<p>(יש בדוגמא שלי מעגליות מכוונת: כדי לדעת מהי הנגזרת של <span class="math">\(\sin\)</span> כבר צריך להכיר את הערך של הגבול הזה; יש לי על כך <a href="https://gadial.net/2008/01/20/lim_sin_x_over_x/">פוסט כאן</a>)</p>
<p>איך מוכיחים את הכלל? בשביל זה אני צריך, כאמור, הכללה של משפט הערך הממוצע של לגראנז' שנקראת משפט הערך הממוצע של קושי. אם בלגראנז' הרעיון הוא שקיים <span class="math">\(c\)</span> עבורו מתקיים</p>
<p><span class="math">\(f^{\prime}\left(c\right)=\frac{f\left(b\right)-f\left(a\right)}{b-a}\)</span></p>
<p>אז במשפט קושי הרעיון הוא שקיים <span class="math">\(c\)</span> עבורו מתקיים</p>
<p><span class="math">\(\frac{f^{\prime}\left(c\right)}{g^{\prime}\left(c\right)}=\frac{f\left(b\right)-f\left(a\right)}{g\left(b\right)-g\left(a\right)}\)</span></p>
<p>עבור פונקציה <span class="math">\(g\)</span> שמקיימת את אותם תנאים כמו של <span class="math">\(f\)</span> (רציפה ב-<span class="math">\(\left[a,b\right]\)</span> וגזירה ב-<span class="math">\(\left(a,b\right)\)</span>) ובנוסף לכך החלוקה בה ובנגזרתה לא עושה צרות - כלומר, <span class="math">\(g\left(a\right)\ne g\left(b\right)\)</span> ו-<span class="math">\(g^{\prime}\left(x\right)\ne0\)</span> לכל <span class="math">\(x\in\left(a,b\right)\)</span>. לגראנז' הוא מקרה פרטי של זה עבור פונקציית הזהות <span class="math">\(g\left(x\right)=x\)</span>.</p>
<p>למען האמת, הניסוח לעיל של משפט קושי הוא קצת מעצבן; במקום שיהיה לנו משפט סימטרי ונחמד יש לנו את כל הדרישות הנוספות המעיקות על <span class="math">\(g\)</span>. אפשר להיפטר מהקושי הזה אם נפטרים מהחלוקה. כלומר, ניסוח "טוב יותר" של משפט קושי הוא שאם <span class="math">\(f,g\)</span> רציפות על <span class="math">\(\left[a,b\right]\)</span> וגזירות על <span class="math">\(\left(a,b\right)\)</span> אז קיים <span class="math">\(c\in\left(a,b\right)\)</span> כך ש-</p>
<p><span class="math">\(f^{\prime}\left(c\right)\left(g\left(b\right)-g\left(a\right)\right)=g^{\prime}\left(c\right)\left(f\left(b\right)-f\left(a\right)\right)\)</span></p>
<p>איך מוכיחים את המשפט? על פניו אפשר לומר משהו כזה: נשתמש פעמיים במשפט לגראנז' ונקבל ש-</p>
<p><span class="math">\(f^{\prime}\left(c\right)=\frac{f\left(b\right)-f\left(a\right)}{b-a}\)</span></p>
<p><span class="math">\(g^{\prime}\left(c\right)=\frac{g\left(b\right)-g\left(a\right)}{b-a}\)</span></p>
<p>ועכשיו פשוט נכפול את אגף ימין של המשוואה האחת באגף שמאל של השניה, ואת אגף שמאל של השניה באגף ימין של הראשונה, ונצמצמם <span class="math">\(\frac{1}{b-a}\)</span> משני האגפים. זה נשמע מאוד פשוט ואלגנטי ונחמד וזה גם <strong>שגוי מאוד</strong> בצורה שכדאי לתת עליה את הדעת כי זו טעות מאוד נפוצה במתמטיקה. רואים אותה? קחו רגע לחשוב על זה.</p>
<p>השגיאה היא בכך שכתבתי</p>
<p><span class="math">\(f^{\prime}\left(c\right)=\frac{f\left(b\right)-f\left(a\right)}{b-a}\)</span></p>
<p><span class="math">\(g^{\prime}\left(c\right)=\frac{g\left(b\right)-g\left(a\right)}{b-a}\)</span></p>
<p>כך שבשתי המשוואות הללו מופיע <strong>אותו</strong> ערך <span class="math">\(c\)</span>. זה <strong>לא</strong> מה שמשפט הערך הממוצע של לגראנז' מבטיח! הוא מבטיח שעבור <span class="math">\(f\)</span> קיים קבוע <span class="math">\(c_{f}\)</span> כך ש-<span class="math">\(f^{\prime}\left(c_{f}\right)=\frac{f\left(b\right)-f\left(a\right)}{b-a}\)</span>, ועבור <span class="math">\(g\)</span> קיים קבוע <span class="math">\(c_{g}\)</span> כך ש-<span class="math">\(g^{\prime}\left(c_{g}\right)=\frac{g\left(b\right)-g\left(a\right)}{b-a}\)</span>, אבל שום דבר לא מבטיח לנו <span class="math">\(c_{f}=c_{g}\)</span>; אנחנו צריכים איכשהו להפעיל את משפט לגראנז' <strong>סימולטנית</strong> לשתי הפונקציות הללו ביחד, ואין לנו את זה.</p>
<p>העניין הוא שלא צריך להסתבך עם לגראנז, בכלל, הנה הוכחה ישירה בעזרת משפט רול שוב (רואים? משפט רול <strong>יעיל</strong>! הוא בעצם מקפל בתוכו את כל החדו"א המורכב שנלמד עד לשלב הזה, ומרגע שיש לנו אותו צריך רק תעלולים פשוטים). נגדיר פונקציה</p>
<p><span class="math">\(h\left(x\right)=f\left(x\right)\left(g\left(b\right)-g\left(a\right)\right)-g\left(x\right)\left(f\left(b\right)-f\left(a\right)\right)\)</span></p>
<p>כלומר, מאוד דומה לייצוג של המשוואה שאנחנו רוצים שתתקיים בסוף. כעת קל לראות ש-<span class="math">\(h\)</span> היא רציפה ב-<span class="math">\(\left[a,b\right]\)</span> וגזירה ב-<span class="math">\(\left(a,b\right)\)</span> והנגזרת שלה היא</p>
<p><span class="math">\(h^{\prime}\left(x\right)=f^{\prime}\left(x\right)\left(g\left(b\right)-g\left(a\right)\right)-g^{\prime}\left(x\right)\left(f\left(b\right)-f\left(a\right)\right)\)</span></p>
<p>וכמו כן מתקיים:</p>
<p><span class="math">\(h\left(a\right)=f\left(a\right)\left(g\left(b\right)-g\left(a\right)\right)-g\left(a\right)\left(f\left(b\right)-f\left(a\right)\right)=f\left(a\right)g\left(b\right)-g\left(a\right)f\left(b\right)\)</span></p>
<p><span class="math">\(h\left(b\right)=f\left(b\right)\left(g\left(b\right)-g\left(a\right)\right)-g\left(b\right)\left(f\left(b\right)-f\left(a\right)\right)=f\left(a\right)g\left(b\right)-g\left(a\right)f\left(b\right)\)</span></p>
<p>כלומר <span class="math">\(h\left(a\right)=h\left(b\right)\)</span> ולכן ממשפט רול קיים <span class="math">\(c\)</span> כך ש-<span class="math">\(h^{\prime}\left(c\right)=0\)</span>, כלומר</p>
<p><span class="math">\(f^{\prime}\left(c\right)\left(g\left(b\right)-g\left(a\right)\right)-g^{\prime}\left(c\right)\left(f\left(b\right)-f\left(a\right)\right)=0\)</span></p>
<p>וזה מה שרצינו.</p>
<p>נשאר רק להוכיח את כלל לופיטל בעזרת משפט הערך הממוצע של קושי. זו הוכחה קצת פחות "נקייה" ממה שראינו עד כה, אז טוב ששמרתי אותה לסוף, אבל אין בה שום דבר נוראי; פשוט, הדרך הטובה ביותר להבין מה הולך בה היא לכתוב אותה בעצמכם. כמו מה שאני עושה כרגע. כי בחיי שאין לי שמץ של מושג מה הולך בהוכחה הזו למרות שקראתי אותה לפני רגע, אבל אני יודע שהיא פשוטה ואחרי שאכתוב אותה גם אבין אותה.</p>
<p>ובכן, מה יש לנו? הפונקציות <span class="math">\(f,g\)</span> שמקיימות שני דברים:</p>
<ol>
    <li><span class="math">\(\lim_{x\to a}f\left(x\right)=\lim_{x\to a}g\left(x\right)=0\)</span></li>
    <li><span class="math">\(\lim_{x\to a}\frac{f^{\prime}\left(x\right)}{g^{\prime}\left(x\right)}\)</span> קיים</li>
</ol>
<p>הטענה השניה נותנת לנו מידע כלשהו על הנגזרות בסביבת הנקודה <span class="math">\(a\)</span>. באופן כללי, הטענה <span class="math">\(\lim_{x\to a}h\left(x\right)=L\)</span> אומרת שלכל <span class="math">\(\varepsilon>0\)</span> קיים <span class="math">\(\delta>0\)</span> כך שלכל <span class="math">\(x\)</span> עבורו <span class="math">\(0<\left|x-a\right|&lt;\delta\)</span> מתקיים <span class="math">\(\left|h\left(x\right)-L\right|<\varepsilon\)</span>; בפרט, כדי שזה יתקיים, הכרחי ש-<span class="math">\(h\left(x\right)\)</span> תהיה מוגדרת לכל <span class="math">\(x\)</span> עבורו <span class="math">\(0<\left|x-a\right|&lt;\delta\)</span>. החריג היחיד הוא הנקודה <span class="math">\(a\)</span> עצמה, שאין לנו דרישה לגבי הערך של <span class="math">\(h\)</span> בה. עכשיו, אצלנו <span class="math">\(h\left(x\right)=\frac{f^{\prime}\left(x\right)}{g^{\prime}\left(x\right)}\)</span>, כך שאנחנו יודעים שקיים <span class="math">\(\delta\)</span> עבורו אם <span class="math">\(0<\left|x-a\right|&lt;\delta\)</span> אז <span class="math">\(\frac{f^{\prime}\left(x\right)}{g^{\prime}\left(x\right)}\)</span> קיים; כלומר גם <span class="math">\(f^{\prime}\left(x\right)\)</span> קיימת, וגם <span class="math">\(g^{\prime}\left(x\right)\)</span> קיימת <strong>ושונה מאפס</strong>.</p>
<p>הרעיון עכשיו הוא לקחת <span class="math">\(x\)</span> כלשהו עבורו <span class="math">\(0<\left|x-a\right|&lt;\delta\)</span> ולהפעיל את משפט הערך הממוצע של קושי על הקטע שקצוותיו הם <span class="math">\(a\)</span> ו-<span class="math">\(x\)</span>. יש כאן שני מקרים: כאשר <span class="math">\(a<x\)</span> וכאשר <span class="math">\(a>x\)</span>, אבל מן הסתם מה שיקרה בהם יהיה סימטרי אז נניח ש-<span class="math">\(a<x\)</span>. עכשיו צריך שני דברים: ש-<span class="math">\(f,g\)</span> יהיו <strong>רציפות</strong> ב-<span class="math">\(\left[a,x\right]\)</span>, ושיהיו <strong>גזירות</strong> ב-<span class="math">\(\left(a,x\right)\)</span>. את הדבר השני כבר יש לנו, ואנחנו גם יודעים שהפונקציות גזירות ב-<span class="math">\(x\)</span> ולכן הן רציפות שם; הקושי היחיד הוא ב-<span class="math">\(a\)</span>. אנחנו יודעים ש-<span class="math">\(\lim_{x\to a}f\left(x\right)=\lim_{x\to a}g\left(x\right)=0\)</span> ולכן כדי שהפונקציות הללו יהיו רציפות ב-<span class="math">\(a\)</span> צריך להתקיים <span class="math">\(f\left(a\right)=g\left(a\right)=0\)</span>; אבל אם זה לא מתקיים, הן לא יהיו רציפות שם. לכן נכריח את זה לקרות - <strong>נגדיר מחדש</strong> את הפונקציות הללו ב-<span class="math">\(a\)</span> על ידי <span class="math">\(f\left(a\right)=g\left(a\right)=0\)</span>. האם ההגדרה מחדש הזו תיצור לנו בעיות? עוד מעט נחזור לשאלה הזו כדי לראות למה אין בעיות.</p>
<p>עכשיו אפשר להשתמש במשפט הערך הממוצע של קושי ולקבל את הקיום של <span class="math">\(c\in\left(a,x\right)\)</span> שעבורו מתקיים</p>
<p><span class="math">\(f^{\prime}\left(c\right)\left(g\left(x\right)-g\left(a\right)\right)=g^{\prime}\left(c\right)\left(f\left(x\right)-f\left(a\right)\right)\)</span></p>
<p>ומכיוון ש-<span class="math">\(f\left(a\right)=g\left(a\right)=0\)</span> אפשר לפשט קצת ולכתוב</p>
<p><span class="math">\(f^{\prime}\left(c\right)g\left(x\right)=g^{\prime}\left(c\right)f\left(x\right)\)</span></p>
<p>ואם נחלק, נקבל</p>
<p><span class="math">\(\frac{f\left(x\right)}{g\left(x\right)}=\frac{f^{\prime}\left(c\right)}{g^{\prime}\left(c\right)}\)</span></p>
<p>שכבר קצת מזכיר את המבנה של כלל לופיטל. אבל רגע אחד! אם אני מחלק בדברים, צריך לוודא שהם שונים מאפס! לגבי <span class="math">\(g^{\prime}\left(c\right)\)</span> כבר ראינו את זה בהתחלה. מה לגבי <span class="math">\(g\left(x\right)\)</span>? ובכן, אם היה מתקיים <span class="math">\(g\left(x\right)=0=g\left(a\right)\)</span> אז אפשר היה להשתמש במשפט רול כדי למצוא נקודה בין <span class="math">\(a\)</span> ל-<span class="math">\(x\)</span> שבה <span class="math">\(g^{\prime}\)</span> שווה לאפס, וכבר ראינו שזה לא יכול לקרות.</p>
<p>עכשיו אפשר לסכם, עם טיעון קצת עדין שאפשר לנסח בחופזה בתור "מכיוון ש-<span class="math">\(c\)</span> נמצא ב-<span class="math">\(\left(a,x\right)\)</span> אז כאשר <span class="math">\(x\)</span> שואף ל-<span class="math">\(a\)</span> כך גם <span class="math">\(c\)</span>, ולכן <span class="math">\(\lim_{x\to a}\frac{f\left(x\right)}{g\left(x\right)}\)</span> שווה ל-<span class="math">\(\lim_{c\to a}\frac{f^{\prime}\left(c\right)}{g^{\prime}\left(c\right)}\)</span> כמבוקש". אני ממליץ לכם לנסות להשלים את הפרטים בעצמכם כדי לקבל את תחושת ה"למה זה נכון" אבל הנה הפירוט הטכני בכל מקרה:</p>
<p>פתחנו עם הנתון לפיו <span class="math">\(\lim_{x\to a}\frac{f^{\prime}\left(x\right)}{g^{\prime}\left(x\right)}\)</span> קיים; בואו ואסמן אותו <span class="math">\(L=\lim_{x\to a}\frac{f^{\prime}\left(x\right)}{g^{\prime}\left(x\right)}\)</span>. אני רוצה להוכיח שגם <span class="math">\(\lim_{x\to a}\frac{f\left(x\right)}{g\left(x\right)}=L\)</span>, ואני אעשה את זה לפי הספר עם הגדרת האפסילון-דלתא הסטנדרטית. יהא אם כן <span class="math">\(\varepsilon>0\)</span> כלשהו. מכיוון ש-<span class="math">\(L=\lim_{x\to a}\frac{f^{\prime}\left(x\right)}{g^{\prime}\left(x\right)}\)</span> אז קיים <span class="math">\(\delta>0\)</span> כך שאם <span class="math">\(0<\left|x-a\right|&lt;\delta\)</span> אז מתקיים <span class="math">\(\left|\frac{f^{\prime}\left(x\right)}{g^{\prime}\left(x\right)}-L\right|&lt;\varepsilon\)</span>. אני טוען שאותו <span class="math">\(\delta\)</span> יוכיח ש-<span class="math">\(\lim_{x\to a}\frac{f\left(x\right)}{g\left(x\right)}=L\)</span>; כלומר, אני צריך להראות שאם <span class="math">\(0<\left|x-a\right|&lt;\delta\)</span> אז <span class="math">\(\left|\frac{f\left(x\right)}{g\left(x\right)}-L\right|&lt;\varepsilon\)</span>.</p>
<p>עכשיו, הוכחנו קודם כי על פי משפט הערך הממוצע, קיים <span class="math">\(c\)</span> כך ש-<span class="math">\(c\in\left(a,x\right)\)</span> (או <span class="math">\(c\in\left(x,a\right)\)</span> אם <span class="math">\(x<a\)</span>) כך ש-<span class="math">\(\frac{f\left(x\right)}{g\left(x\right)}=\frac{f^{\prime}\left(c\right)}{g^{\prime}\left(c\right)}\)</span>. מכיוון ש-<span class="math">\(a<c&lt;x\)</span> ו-<span class="math">\(\left|x-a\right|<\delta\)</span> אז גם <span class="math">\(\left|c-a\right|<\delta\)</span> ולכן <span class="math">\(\left|\frac{f^{\prime}\left(c\right)}{g^{\prime}\left(c\right)}-L\right|&lt;\varepsilon\)</span> ולכן <span class="math">\(\left|\frac{f\left(x\right)}{g\left(x\right)}-L\right|&lt;\varepsilon\)</span> כמבוקש, מה שמסיים את ההוכחה.</p>
<p>זה זמן טוב לסיים בו את הפוסט, אבל כרגיל - זה רק קצה הקרחון של השימושים במשפט הערך הממוצע, וזה פשוט ששולי הבלוג הזה צרים מלהכילם.</p>
        </article>
        
        <footer>
            <p>© כל הזכויות שמורות לגדי אלכסנדרוביץ'</p>
        </footer>
    </div>

    
    <script>
        function toggleMobileMenu() {
            const navLinks = document.getElementById('navLinks');
            navLinks.classList.toggle('expanded');
        }
        
        function searchPosts() {
            const searchTerm = document.getElementById('searchInput').value;
            if (searchTerm.trim()) {
                window.location.href = '/post_list.html?search=' + encodeURIComponent(searchTerm);
            }
        }
        
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchPosts();
            }
        });
    </script>
    
    
    <!-- Auto-render KaTeX math -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            renderMathInElement(document.body, {
                delimiters: [
                    {left: "\\[", right: "\\]", display: true},
                    {left: "\\(", right: "\\)", display: false}
                ],
                throwOnError: false
            });
        });
    </script>

</body>
</html>