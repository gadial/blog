<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>שברים משולבים, ולמה הם מגניבים - לא מדויק</title>
    <link rel="icon" type="image/x-icon" href="/new_blog/favicon.ico">
    
    
    <!-- KaTeX for math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>

    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', 'David', 'Tahoma', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
        }
        
        /* Top navigation bar */
        .top-nav {
            background: #2c3e50;
            padding: 15px 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .top-nav .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
        }
        
        .top-nav .site-title {
            font-size: 1.5em;
            font-weight: bold;
            color: white;
            text-decoration: none;
            white-space: nowrap;
        }
        
        .top-nav .nav-links {
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .top-nav .nav-links a {
            color: #ecf0f1;
            text-decoration: none;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background 0.2s;
            white-space: nowrap;
        }
        
        .top-nav .nav-links a:hover {
            background: #34495e;
        }
        
        .top-nav .search-box {
            display: flex;
            gap: 5px;
        }
        
        .top-nav .search-box input {
            padding: 5px 10px;
            border: none;
            border-radius: 4px;
            font-size: 0.9em;
            min-width: 150px;
        }
        
        .top-nav .search-box button {
            padding: 5px 15px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .top-nav .search-box button:hover {
            background: #2980b9;
        }
        
        /* Mobile responsive */
        @media (max-width: 768px) {
            .top-nav .nav-container {
                flex-direction: column;
                align-items: stretch;
            }
            
            .top-nav .site-title {
                text-align: center;
                margin-bottom: 10px;
            }
            
            .top-nav .nav-links {
                flex-direction: column;
                width: 100%;
            }
            
            .top-nav .nav-links a {
                text-align: center;
                padding: 8px;
            }
            
            .top-nav .search-box {
                width: 100%;
                flex-direction: column;
            }
            
            .top-nav .search-box input {
                width: 100%;
                margin-bottom: 5px;
                min-width: 0;
            }
            
            .top-nav .search-box button {
                width: 100%;
            }
        }
        
        /* Blockquote styling */
        blockquote {
            background: #f9f9f9;
            border-right: 5px solid #ccc;
            margin: 1.5em 10px;
            padding: 0.75em 16px;
            position: relative;
            font-style: italic;
        }
        
        blockquote:before {
            content: '"';
            position: absolute;
            top: -10px;
            right: 8px;
            font-size: 3.5em;
            color: #ccc;
            line-height: 1;
        }
        
        blockquote p {
            display: block;
            margin: 0 0 0.75em 0;
        }
        
        blockquote p:last-child {
            margin-bottom: 0;
        }
        
        
        body {
            line-height: 1.8;
        }
        
        .container {
            max-width: 800px;
            margin: 20px auto;
            background: white;
            padding: 40px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
        }
        
        header {
            margin-bottom: 40px;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 20px;
        }
        
        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .post-meta {
            color: #7f8c8d;
            font-size: 0.9em;
        }
        
        .post-meta .date {
            margin-left: 15px;
        }
        
        .post-meta .categories,
        .post-meta .tags {
            display: inline;
        }
        
        .post-meta .categories a,
        .post-meta .tags a {
            color: #3498db;
            text-decoration: none;
            margin: 0 5px;
        }
        
        .post-meta .categories a:hover,
        .post-meta .tags a:hover {
            text-decoration: underline;
        }
        
        article {
            font-size: 1.1em;
        }
        
        article h2 {
            margin-top: 30px;
            margin-bottom: 15px;
            color: #34495e;
            font-size: 1.8em;
        }
        
        article h3 {
            margin-top: 25px;
            margin-bottom: 12px;
            color: #34495e;
            font-size: 1.4em;
        }
        
        article p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        article ul, article ol {
            margin-right: 30px;
            margin-bottom: 15px;
        }
        
        article li {
            margin-bottom: 8px;
        }
        
        article code {
            background-color: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        
        article pre {
            background-color: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin-bottom: 20px;
            direction: ltr;
            text-align: left;
        }
        
        article pre code {
            background-color: transparent;
            padding: 0;
            color: inherit;
        }
        
        /* Image styles - responsive and contained */
        article img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 20px auto;
        }
        
        /* Math rendering styles */
        .math {
            direction: ltr;
        }
        
        span.math {
            direction: ltr;
        }
        
        /* Override RTL for KaTeX */
        .katex {
            direction: ltr;
            unicode-bidi: embed;
        }
        
        div.math {
            display: block;
            text-align: center;
            padding: 15px 0;
            direction: ltr;
        }
        
        /* RTL adjustments for code blocks */
        .highlight {
            direction: ltr;
            text-align: left;
        }
        
        footer {
            margin-top: 60px;
            padding-top: 20px;
            border-top: 1px solid #e0e0e0;
            text-align: center;
            color: #95a5a6;
            font-size: 0.9em;
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2em;
            }
            
            article {
                font-size: 1em;
            }
        }
        
        /* Post navigation */
        .post-navigation {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #e0e0e0;
            gap: 20px;
        }
        
        .post-navigation .nav-link {
            flex: 1;
            text-decoration: none;
            color: #2c3e50;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 5px;
            transition: background 0.2s;
        }
        
        .post-navigation .nav-link:hover {
            background: #e9ecef;
        }
        
        .post-navigation .nav-prev {
            text-align: right;
        }
        
        .post-navigation .nav-next {
            text-align: left;
        }
        
        .post-navigation .nav-label {
            font-size: 0.85em;
            color: #7f8c8d;
            display: block;
            margin-bottom: 5px;
        }
        
        .post-navigation .nav-title {
            font-weight: bold;
            font-size: 1.1em;
        }

    </style>
</head>
<body>
    <nav class="top-nav">
        <div class="nav-container">
            <a href="/new_blog/" class="site-title">לא מדויק</a>
            <div class="nav-links">
                <a href="/new_blog/">דף הבית</a>
                <a href="/new_blog/random.html">פוסט אקראי</a>
                <a href="/new_blog/post_list.html">כל הפוסטים</a>
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="חיפוש...">
                    <button onclick="searchPosts()">חפש</button>
                </div>
            </div>
        </div>
    </nav>
    
    
    <div class="container">
        <!-- Post Navigation -->
        
        <nav class="post-navigation">
            
            <a href="/new_blog/2010/05/26/cancelling_math/" class="nav-link nav-prev">
                <span class="nav-label">פוסט ישן יותר →</span>
                <span class="nav-title">איך בוטל &#34;איך בוטלה המתמטיקה&#34;</span>
            </a>
            

            
            <a href="/new_blog/2010/06/04/continued_fractions_1-2/" class="nav-link nav-next">
                <span class="nav-label">← פוסט חדש יותר</span>
                <span class="nav-title">שברים משולבים, ולמה הם מגניבים (חלק 2)</span>
            </a>
            
        </nav>
        
        
        <header>
            <h1>שברים משולבים, ולמה הם מגניבים</h1>
            <div class="post-meta">
                <span class="date">2010-05-29</span>
                
                <span class="categories">
                    | קטגוריות:
                    
                    <a href="/categories/תורת המספרים.html">תורת המספרים</a>
                    
                </span>
                
                
                <span class="tags">
                    | תגיות:
                    
                    <a href="/tags/האלגוריתם האוקלידי.html">האלגוריתם האוקלידי</a>
                    
                    <a href="/tags/שברים משולבים.html">שברים משולבים</a>
                    
                </span>
                
            </div>
        </header>
        
        <article>
            <p>אוהבים לטעון שהמתמטיקה היא כל כולה ערב רב של נוסחאות מפחידות בעלות משמעות לא ברורה. אני חושב שזה מאוד לא מדויק, אבל מדי פעם אכן מתפלקת לה איזו נוסחה שנראית מפחיד גם למי שכבר יש לו נסיון בסיסי כלשהו במתמטיקה. מה שהפחיד אותי בשעתו היו <a href="http://he.wikipedia.org/wiki/%D7%A9%D7%91%D7%A8_%D7%9E%D7%A9%D7%95%D7%9C%D7%91">השברים המשולבים</a> - שברים מהצורה החביבה <span class="math">\(\frac{1}{1+\frac{1}{3+\frac{1}{1+\frac{1}{4}}}}\)</span>. כשרואים דבר כזה, התגובה המיידית של אדם שפוי צריכה להיות "מה, לעזאזל...". בפוסט הזה אני רוצה להסביר מה, לעזאזל. מכיוון שאני חושב שבנושא הזה הדרך הטובה ביותר לדעת מה לעזאזל היא ללכלך את הידיים, חלקו השני של הפוסט יהיה יותר "חישובי" מהרגיל - אך חישובים שלדעתי הם יפים ומעניינים (ובלי לעשות אותם "בידיים"קצת קשה לראות את זה, לדעתי).</p>
<p>בראש ובראשונה, הדבר הזה הוא בסך הכל שבר רגיל. תלמיד כיתה ה' אמור כבר להיות מסוגל להבין מהו ולחשב את ערכו. במקרה של השבר שלעיל, למשל, פשוט צריך לעשות סדרה של חיבורים. <span class="math">\(1+\frac{1}{4}=\frac{5}{4}\)</span> ו-<span class="math">\(\frac{1}{\frac{5}{4}}=\frac{4}{5}\)</span> כך שהשבר שווה ל-<span class="math">\(\frac{1}{1+\frac{1}{3+\frac{4}{5}}}\)</span>; וכעת <span class="math">\(3+\frac{4}{5}=\frac{19}{5}\)</span> כך שנקבל שהשבר שווה ל-<span class="math">\(\frac{1}{1+\frac{5}{19}}\)</span>; ולסיום נקבל שהוא שווה ל-<span class="math">\(\frac{19}{24}\)</span>. מה שלא ברור הוא למה לבחור בדרך ייצוג כה מסורבלת ל-<span class="math">\(\frac{19}{24}\)</span>, והתשובה הבסיסית היא - כי זו דרך הייצוג הטבעית והנכונה ביותר למספרים. לא מאמינים? חכו חכו.</p>
<p>ראשית בואו נוותר על הייצוג המסורבל והמזוויע טיפוגרפית. שבר משולב כללי הוא מהצורה <span class="math">\(a_{0}+\frac{1}{a_{1}+\frac{1}{a_{2}+\dots}}\)</span> (כמובן שאפשר להגדיר שברים משולבים בצורה כללית יותר כך שבמונים יהיו מספרים השונים מ-1, אך זה מסבך את האנליזה ואינו הכרחי כאן ולכן אשתמש בהגדרה המצומצמת) ואת אותו דבר אפשר לתאר בצורה ברורה בעזרת הסימון <span class="math">\(a_{0}+\frac{1}{a_{1}+}\dots\frac{1}{a_{n}}\)</span>. למשל, השבר המשולב שלעיל מיוצג בידי <span class="math">\(\frac{1}{1+}\frac{1}{3+}\frac{1}{1+}\frac{1}{4}\)</span>.</p>
<p>השאלה הראשונה שאני רוצה לעסוק בה היא זו - נניח שיש לנו מספר רציונלי, <span class="math">\(\frac{a}{b}\)</span>; איך מציגים אותו כשבר משולב? למשל, <span class="math">\(\frac{19}{24}\)</span>. מה עושים כדי לתת לו את הצורה ה"קנונית"? כדי לסבך עוד קצת את העניינים אעדיף לדבר על שבר שגדול מ-1, נניח <span class="math">\(\frac{67}{24}\)</span>. את הייצור הזה אפשר לייצג כ-<span class="math">\(2+\frac{19}{24}\)</span>, כך ש-<span class="math">\(a_{0}=2\)</span> במקרה שלנו. מה עכשיו? אנחנו רוצים להחליף את ה-<span class="math">\(\frac{19}{24}\)</span> בגורם מהצורה אחד חלקי משהו, אז ראשית כל נכתוב <span class="math">\(\frac{19}{24}=\frac{1}{\frac{24}{19}}\)</span>, וכעת במכנה יש לנו שוב שבר מדומה ואפשר לפרק אותו לחלק ממשי וחלק שברי: <span class="math">\(\frac{1}{1+\frac{5}{19}}\)</span> (כלומר <span class="math">\(a_{1}=1\)</span>). נחזור על התעלול שוב עבור <span class="math">\(\frac{5}{19}\)</span> ונקבל <span class="math">\(a_{2}=3\)</span> ו"שארית"של <span class="math">\(\frac{4}{5}\)</span>; וכשנטפל ב-<span class="math">\(\frac{5}{4}\)</span> נקבל <span class="math">\(1+\frac{1}{4}\)</span> והמשחק יסתיים. זה תהליך שיטתי ופשוט למדי, וייתכן שלחדי העין שבכם הוא הזכיר תהליך אחר במתמטיקה, שידוע עוד מימי היוונים הקדמונים - האלגוריתם האוקלידי.</p>
<p>בהינתן שני מספרים טבעיים <span class="math">\(a,b\)</span>, האלגוריתם האוקלידי מוצא את המחלק המשותף המקסימלי שלהם: מספר טבעי <span class="math">\(d\)</span> שמחלק הן את <span class="math">\(a\)</span> והן את <span class="math">\(b\)</span> והוא הגדול ביותר בעל תכונה זו. עבור <span class="math">\(67\)</span> ו-<span class="math">\(24\)</span> המחלק המקסימלי הזה הוא המספר הלא מרשים <span class="math">\(1\)</span> (במקרה כזה אומרים ש-67 ו-24 הם "זרים"), אבל מן הסתם יש דוגמאות מעניינות יותר - למשל המחלק המשותף המקסימלי של <span class="math">\(78\)</span> ו-<span class="math">\(42\)</span> הוא <span class="math">\(6\)</span>.</p>
<p>כדי למצוא מחלק מקסימלי אפשר לעשות דברים מטופשים כמו לעבור על כל המספרים הקטנים מ-<span class="math">\(a\)</span> ו-<span class="math">\(b\)</span> ולבדוק אם הם מחלקים אותם וכדומה, אבל מבחינה חישובית זו שיטה איטית ומייגעת. האלגוריתם האוקלידי, לעומת זאת, פועל מהר מאוד (פורמלית - זמן לוגריתמי בגודל המספרים המעורבים). למעשה, היעילות של האלגוריתם האוקלידי היא הבסיס לתורת המספרים האלגוריתמית; רבים מהחישובים שמתבצעים בתורה זו מסתמכים ברמה זו או אחרת על האלגוריתם האוקלידי (בפרט על גרסה מורחבת שלו, שמאפשרת למצוא <span class="math">\(x,y\)</span> שלמים (לא בהכרח חיוביים) כך ש-<span class="math">\(ax+by=d\)</span>, כש-<span class="math">\(d\)</span> הוא המחלק המשותף המקסימלי) ואלמלא הוא היה יעיל, מספר הדברים שניתן לבצע ביעילות היה קטן משמעותית (בפרט, שימוש קריטי שלו הוא למציאת הופכי מודולו <span class="math">\(n\)</span> של מספרים, מה שהוא הבסיס למימוש פעולות חשבון ב-<span class="math">\(\mathbb{Z}_{n}^{*}\)</span> - אחרת, אין אפשרות לבצע חלוקה).</p>
<p>הרעיון שמאחורי האלגוריתם האוקלידי פשוט מאוד: בהינתן <span class="math">\(a,b\)</span> (נניח ש-<span class="math">\(a\)</span> גדול יותר מ-<span class="math">\(b\)</span>) אפשר לחלק את <span class="math">\(a\)</span> ב-<span class="math">\(b\)</span> ולקבל שארית <span class="math">\(r\)</span> (במילים אחרות, למצוא <span class="math">\(q,r\)</span> כך ש-<span class="math">\(a=qb+r\)</span> ו-<span class="math">\(0&lt;r&amp;lt;b\)</span>). האבחנה המרכזית היא שהמחלק המשותף המקסימלי של <span class="math">\(a,b\)</span> הוא גם המחלק המשותף המקסימלי של <span class="math">\(b,r\)</span> (למה?) ולכן אפשר להפעיל את האלגוריתם באופן רקורסיבי על <span class="math">\(b,r\)</span>, כשתנאי העצירה שלנו הוא שאם <span class="math">\(b\)</span> מחלק את <span class="math">\(a\)</span> ללא שארית, אז המחלק המשותף המקסימלי שלהם הוא <span class="math">\(b\)</span> עצמו.</p>
<p>בואו ונראה איך זה עובד עבור <span class="math">\(67\)</span> ו-<span class="math">\(24\)</span>:</p>
<p><span class="math">\(67=2\times24+19\)</span></p>
<p><span class="math">\(24=1\times19+5\)</span></p>
<p><span class="math">\(19=3\times5+4\)</span></p>
<p><span class="math">\(5=1\times4+1\)</span></p>
<p><span class="math">\(4=4\times1+0\)</span></p>
<p>ובשלב האחרון סיימנו: קיבלנו <span class="math">\(a=4,b=1\)</span> וראינו ש-<span class="math">\(b\)</span> מחלק את <span class="math">\(a\)</span> ללא שארית. אלא שמה שמעניין כאן הוא דווקא אותם ערכי <span class="math">\(q\)</span> שהצטברו במהלך הדרך (המספרים שמשמאל לסימן ה-<span class="math">\(\times\)</span> בכל שורה) - הסתכלו עליהם - האם הם נראים מוכרים?</p>
<p>הבה ונציג את החלוקות שמבצע האלגוריתם האוקלידי בדרך אחרת. במקום לדבר על חלוקה עם שארית, נעבוד ישירות עם שברים:</p>
<p><span class="math">\(\frac{67}{24}=2+\frac{19}{24}\)</span></p>
<p><span class="math">\(\frac{24}{19}=1+\frac{5}{19}\)</span></p>
<p><span class="math">\(\frac{19}{5}=3+\frac{4}{5}\)</span></p>
<p><span class="math">\(\frac{5}{4}=1+\frac{1}{4}\)</span></p>
<p><span class="math">\(\frac{4}{1}=4+0\)</span></p>
<p>וזה כבר מאוד מזכיר את התהליך שתיארתי למעלה, של בניית השבר המשולב עבור <span class="math">\(\frac{19}{24}\)</span>. המסקנה היא ש-<span class="math">\(\frac{67}{24}\)</span> מתואר בידי השבר המשולב <span class="math">\(2+\frac{1}{1+}\frac{1}{3+}\frac{1}{1+}\frac{1}{4}\)</span>, ושבאופן כללי אפשר למצוא את השבר המשולב עבור <span class="math">\(\frac{a}{b}\)</span> ביעילות באמצעות האלגוריתם האוקלידי - ובגלל שהעצירה של האלגוריתם האוקלידי מובטחת, גם העצירה של בניית השבר המשולב מובטחת. מה שעוד לא ברור כאן הוא שאם מספר מיוצג בידי שבר משולב, הייצוג הזה הוא יחיד, ולא ייתכן ששני שברים משולבים ייצגו את אותו המספר; גם את זה לא מסובך להוכיח אך ההוכחה טכנית ואפסח עליה.</p>
<p>עד כה לא ממש ברור ממה ההתלהבות הגדולה. אז כן, מצאנו דרך חדשה ומופרעת להציג שברים, אך במה היא טובה יותר מלכתוב סתם <span class="math">\(\frac{a}{b}\)</span>? החלק המעניין מתחיל כשאנו רוצים לייצג באמצעות שברים משולבים מספרים שלא ניתן לייצג באמצעות שברים רגילים, כלומר מספרים אי רציונליים. לצורך כך יהיה הכרחי להרחיב קצת את ההגדרה של שברים משולבים, שכן לא קשה לראות שכרגע כל שבר משולב שאנו מדברים עליו הוא מספר רציונלי (פשוט "פותחים"אותו באופן שעליו כבר דיברתי קודם).</p>
<p>אם כן, מה שנעשה הוא להרשות לתהליך של יצירת השבר להימשך עד אינסוף. במקום שנייצג שבר משולב עם סדרה סופית <span class="math">\(a_{0}+\frac{1}{a_{1}+}\dots\frac{1}{a_{n}}\)</span>, פשוט נרשה לסדרה להיות אינסופית: <span class="math">\(a_{0}+\frac{1}{a_{1}+}\dots\)</span>. למי שמטרידה אותו השאלה איך אפשר לתת משמעות פורמלית לכזה דבר, התשובה פשוטה: <span class="math">\(a_{0}+\frac{1}{a_{1}+}\dots=\lim_{n\to\infty}a_{0}+\frac{1}{a_{1}+}\dots\frac{1}{a_{n}}\)</span>. במילים אחרות, אם יש לנו סדרה אינסופית <span class="math">\(a_{0},a_{1},\dots\)</span> אנחנו יכולים לקבל ממנה סדרה אינסופית של מספרים רציונליים שמתקבלים מכך ש"קוטמים"את השבר המשולב בכל פעם בשלב מתקדם יותר. כמובן שלא ברור מיידית שהסדרה הזו אכן שואפת למספר ספציפי יחיד; כדי להבין יותר טוב מה הולך כאן, נרצה קודם כל להבין את סדרת הקירובים שמגדיר שבר משולב. ההמשך יהיה יחסית טכני (אם כי לטעמי מעניין מאוד), ואת השורה התחתונה כבר אכתוב בפוסט הבא, לטובת אלו שלא יצליחו לעקוב.</p>
<p>באופן כללי, אם <span class="math">\(a_{0}+\frac{1}{a_{1}+}\frac{1}{a_{2}+}\dots\)</span> הוא שבר משולב (סופי או אינסופי) אפשר להגדיר סדרה <span class="math">\(\frac{A_{0}}{B_{0}},\frac{A_{1}}{B_{1}},\frac{A_{2}}{B_{2}},\dots\)</span> של הקירובים המתקבלים משלבי הביניים: <span class="math">\(\frac{A_{0}}{B_{0}}=a_{0}\)</span>, ו-<span class="math">\(\frac{A_{1}}{B_{1}}=a_{0}+\frac{1}{a_{1}}\)</span> וכן הלאה. השאלה המעניינת ביותר כאן לטעמי היא "האם אפשר לכתוב את <span class="math">\(A_{n},B_{n}\)</span> בצורה פשוטה כפונקציות של <span class="math">\(a_{0},\dots,a_{n}\)</span>?" והתשובה המפתיעה היא שלא רק שאפשר לעשות את זה, אלא גם ש-<span class="math">\(A_{n}\)</span> ו-<span class="math">\(B_{n}\)</span> מאוד, מאוד דומים.</p>
<p>בואו נראה לאט לאט כיצד נבנה שבר משולב. בשלב הראשון יש לנו <span class="math">\(\frac{a_{0}}{1}\)</span> ותו לא. בשלב השני יש לנו את <span class="math">\(a_{0}+\frac{1}{a_{1}}\)</span>; כדי לראות למה זה שווה אנחנו מבצעים מכנה משותף ומקבלים <span class="math">\(\frac{a_{0}a_{1}+1}{a_{1}}\)</span>. בשלב השלישי יש לנו <span class="math">\(a_{0}+\frac{1}{a_{1}+\frac{1}{a_{2}}}\)</span> וכאן המכנה המשותף נוצר בשני שלבים: ראשית כל מתקבל <span class="math">\(a_{0}+\frac{1}{\frac{a_{1}a_{2}+1}{a_{2}}}\)</span>, ולאחר מכן המכנה "מתהפך", מקבלים <span class="math">\(a_{0}+\frac{a_{2}}{a_{1}a_{2}+1}\)</span>, ולבסוף מתקבל <span class="math">\(\frac{a_{0}a_{1}a_{2}+a_{0}+a_{2}}{a_{1}a_{2}+1}\)</span>.</p>
<p>חדי העין בוודאי שמו לב לדמיון שבין המונה של <span class="math">\(a_{0}+\frac{1}{a_{1}}\)</span> ובין <strong>המכנה</strong> של <span class="math">\(a_{0}+\frac{1}{a_{1}+}\frac{1}{a_{2}}\)</span>: הראשון הוא <span class="math">\(a_{0}a_{1}+1\)</span>, השני הוא <span class="math">\(a_{1}a_{2}+1\)</span>. זהו כמובן אינו מקרה: הרי המכנה של <span class="math">\(a_{0}+\frac{1}{a_{1}+}\frac{1}{a_{2}}\)</span> התקבל מהמונה של <span class="math">\(a_{1}+\frac{1}{a_{2}}\)</span>. זכרו - כדי לחשב את <span class="math">\(a_{0}+\frac{1}{a_{1}+}\frac{1}{a_{2}}\)</span> אמרנו "בואו קודם כל נשכח מה-<span class="math">\(a_{0}\)</span> ונסתכל על המכנה <span class="math">\(a_{1}+\frac{1}{a_{2}}\)</span>", אבל מכנה זה הוא בעצמו שבר משולב "רגיל". אחרי שגמרנו לחשב אותו ולהביא אותו לצורה <span class="math">\(\frac{x}{y}\)</span> ביצענו בו "היפוך" שבו הוחלפו המונה והמכנה.</p>
<p>ההבנה הזו, שהמכנה של שבר משולב הוא בעצם המונה של שבר משולב קצת יותר פשוט, מאפשרת לנו לתאר בצורה קצת יותר נחמדה את המונה והמכנה. נשתמש בסימון <span class="math">\(\left[a_{0},a_{1},\dots,a_{n}\right]\)</span> כדי לתאר את המונה של השבר המשולב, ועכשיו יש לנו תיאור יפה לקירובים: <span class="math">\(\frac{A_{n}}{B_{n}}=\frac{\left[a_{0},\dots,a_{n}\right]}{\left[a_{1},\dots,a_{n}\right]}\)</span>. זה עדיין לא עוזר לנו להבין איך בדיוק נראית המפלצת שמיוצגת על ידי <span class="math">\(\left[a_{0},\dots,a_{n}\right]\)</span>, אבל זו התחלה טובה.</p>
<p>כעת בואו ונתבונן שניה בשבר המשולב <span class="math">\(a_{0}+\frac{1}{a_{1}+}\frac{1}{a_{2}+}\dots\frac{1}{a_{n}}\)</span>. מצד אחד, אפשר לכתוב אותו כ-<span class="math">\(\frac{\left[a_{0},\dots,a_{n}\right]}{\left[a_{1},\dots,a_{n}\right]}\)</span> כפי שכבר אמרתי. מצד שני, אפשר לכתוב אותו כ-<span class="math">\(a_{0}+\frac{\left[a_{2},\dots,a_{n}\right]}{\left[a_{1},\dots,a_{n}\right]}\)</span>, שכן אפשר "לחשב עד הסוף" את <span class="math">\(a_{1}+\frac{1}{a_{2}+}\dots\frac{1}{a_{n}}\)</span> ולבסוף לבצע היפוך שלו. מכאן מתקבלת בקלות הנוסחה הבאה: <span class="math">\(\left[a_{0},\dots,a_{n}\right]=a_{0}\left[a_{1},\dots,a_{n}\right]+\left[a_{2},\dots,a_{n}\right]\)</span>. זו כבר ההתחלה של הגיון בשגעון - ראשית, כעת יש לנו דרך רקורסיבית פשוטה לחשב את <span class="math">\(\left[a_{0},\dots,a_{n}\right]\)</span>; אבל שנית, כעת נוכל להוכיח באינדוקציה תיאור כללי ולא רקורסיבי של המבנה של <span class="math">\(\left[a_{0},\dots,a_{n}\right]\)</span> שהתגלה, כמו מיליארד דברים אחרים, בידי אוילר.</p>
<p>הכלל נשמע טיפה מוזר ומפחיד בשמיעה ראשונה, אבל עברנו את פרעה ואת "<a href="http://www.gadial.net/2010/05/26/cancelling_math/">איך בוטלה המתמטיקה</a>"ונעבור גם את זה: <span class="math">\(\left[a_{0},\dots,a_{n}\right]\)</span> הוא סכום של מכפלות שמתקבלות באופן הבא: ראשית, המכפלה <span class="math">\(a_{1}a_{2}\cdots a_{n}\)</span>. שנית, המכפלה <span class="math">\(a_{1}a_{2}\cdots a_{n}\)</span> כשהוסר ממנה זוג איברים סמוכים (נניח, <span class="math">\(a_{3}a_{4}\)</span> הוסר ממנה) - כל המכפלות האפשריות שיכולות להתקבל מהסרת זוג כזה משתתפות בסכום. שלישית, כל המכפלות שמתקבלות מהסרת <strong>שני</strong> זוגות זרים (כלומר, למשל, <span class="math">\(a_{2}a_{3}\)</span> ו-<span class="math">\(a_{7}a_{8}\)</span>) וכן הלאה. אם כל האיברים הוסרו ממכפלה היא הופכת להיות "המכפלה הריקה" - 1 (שכן 1 הוא האיבר הנייטרלי לכפל, ולכן הוא מתאים רעיונית לייצוג מכפלה ריקה כשם ש-0 מתאים רעיונית לייצוג סכום ריק).</p>
<p>דוגמאות פשוטות עוזרות כמובן להבין. <span class="math">\(\left[a_{0}\right]=a_{0}\)</span> שכן יש לנו את המכפלה של "כל" האיברים, וזהו (אין זוגות סמוכים שאפשר להוריד). <span class="math">\(\left[a_{0}a_{1}\right]=a_{0}a_{1}+1\)</span> שכן יש לנו את המכפלה של כל האיברים <span class="math">\(a_{0}a_{1}\)</span> ואת המכפלה הריקה <span class="math">\(1\)</span>. <span class="math">\(\left[a_{0},a_{1},a_{2}\right]=a_{0}a_{1}a_{2}+a_{0}+a_{2}\)</span>, כש-<span class="math">\(a_{1}\)</span> לא מופיע בסכום לבדו שכן אין זוג <strong>סמוך</strong> שניתן להוריד ויותיר רק אותו. לבסוף, הנה דוגמה יותר מורכבת:</p>
<p><span class="math">\(\left[a_{0},a_{1},a_{2},a_{3},a_{4}\right]=a_{0}a_{1}a_{2}a_{3}a_{4}+\)</span></p>
<p><span class="math">\(a_{0}a_{1}a_{2}+a_{0}a_{1}a_{4}+a_{1}a_{2}a_{3}+a_{2}a_{3}a_{4}+\)</span></p>
<p><span class="math">\(a_{0}+a_{2}+a_{4}\)</span></p>
<p>כש-<span class="math">\(a_{2}\)</span> התקבל מכך שהסרנו את הזוגות <span class="math">\(a_{0}a_{1}\)</span> ו-<span class="math">\(a_{3}a_{4}\)</span>.</p>
<p>מבלבל? כן, אבל לא קשה כל כך להוכחה באינדוקציה בעזרת הנוסחה <span class="math">\(\left[a_{0},\dots,a_{n}\right]=a_{0}\left[a_{1},\dots,a_{n}\right]+\left[a_{2},\dots,a_{n}\right]\)</span>. את הבסיס (עבור <span class="math">\(\left[a_{0}\right]\)</span> ו-<span class="math">\(\left[a_{0}a_{1}\right]\)</span>) אפשר לראות ישירות; באופן כללי, הבה ונראה מה קורה עם <span class="math">\(\left[a_{0},\dots,a_{n}\right]\)</span>. ראשית, הגורם <span class="math">\(\left[a_{2},\dots,a_{n}\right]\)</span> תופס את כל המחוברים שהתקבלו על ידי הסרת הזוג <span class="math">\(a_{0}a_{1}\)</span> ואולי עוד דברים, כך שהגורם הזה בסדר; ואילו <span class="math">\(a_{0}\left[a_{1},\dots,a_{n}\right]\)</span> תופס את כל הגורמים שהתקבלו ללא הסרת <span class="math">\(a_{0}\)</span> מההתחלה, ומכיוון שאם מסירים את <span class="math">\(a_{0}\)</span> זה חייב להיות במסגרת הזוג <span class="math">\(a_{0}a_{1}\)</span> תפסנו את כל המקרים.</p>
<p>יופי, אז יש לנו תיאור די מפורש של <span class="math">\(\left[a_{0},\dots,a_{n}\right]\)</span>; מה עכשיו? ראשית, עכשיו ברור ש-<span class="math">\(\left[a_{0},\dots,a_{n}\right]\)</span> הוא ביטוי סימטרי, במובן זה שהוא זהה ל-<span class="math">\(\left[a_{n},\dots,a_{0}\right]\)</span>, ולכן את נוסחת הנסיגה <span class="math">\(\left[a_{0},\dots,a_{n}\right]=a_{0}\left[a_{1},\dots,a_{n}\right]+\left[a_{2},\dots,a_{n}\right]\)</span> אפשר לכתוב גם מהסוף להתחלה, בתור <span class="math">\(\left[a_{n},\dots,a_{0}\right]=a_{n}\left[a_{n-1},\dots,a_{0}\right]+\left[a_{n-2},\dots,a_{0}\right]\)</span>. עכשיו, מכיוון ש-<span class="math">\(A_{n}=\left[a_{0},\dots,a_{n}\right]\)</span> ו-<span class="math">\(B_{n}=\left[a_{1},\dots,a_{n}\right]\)</span>, קיבלנו את נוסחת הנסיגה <span class="math">\(A_{n}=a_{n}A_{n-1}+A_{n-2}\)</span> ו-<span class="math">\(B_{n}=a_{n}B_{n-1}+B_{n-2}\)</span>. אותה נוסחת נסיגה מתארת הן את המונה והן את המכנה וזה כמובן לא מפתיע בהתחשב בכך שכבר אמרתי שהם בעצם אותו הדבר.</p>
<p>מנוסחאות הנסיגה הללו אפשר לגזור נוסחה שקושרת את <span class="math">\(A_{n},B_{n}\)</span> והיא לב-לבו של העסק. הבה ונסמן ב-<span class="math">\(\Delta_{n}\)</span> את הביטוי הבא: <span class="math">\(\Delta_{n}=A_{n}B_{n-1}-A_{n-1}B_{n}\)</span>. למה הוא שווה? מסתבר שניתן לחשב אותו במדוייק וערכו מאוד פשוט. כדי לראות זאת, נשתמש בנוסחת הנסיגה ונקבל את הפיתוח הבא:</p>
<p><span class="math">\(\Delta_{n}=A_{n}B_{n-1}-A_{n-1}B_{n}=\left(a_{n}A_{n-1}+A_{n-2}\right)B_{n-1}-A_{n-1}\left(a_{n}B_{n-1}+B_{n-2}\right)=\)</span></p>
<p><span class="math">\(B_{n-1}A_{n-2}-A_{n-1}B_{n-2}=-\Delta_{n-1}\)</span></p>
<p>ולא קשה לראות כי <span class="math">\(\Delta_{1}=A_{1}B_{0}-A_{0}B_{1}=1\)</span>, כך שקיבלנו בסך הכל ש-<span class="math">\(\Delta_{n}=\left(-1\right)^{n-1}\)</span>. הבה ונכתוב את הנוסחה במפורש:</p>
<p><span class="math">\(A_{n}B_{n-1}-A_{n-1}B_{n}=\left(-1\right)^{n-1}\)</span></p>
<p>זו לדעתי דוגמה לנוסחה "יפה", ובכלל - כל החיפוש אחר התכונות של <span class="math">\(A_{n},B_{n}\)</span> מהווה לטעמי דוגמה למתמטיקה שהיא מצד אחד טכנית וחשבונית מאוד, ומצד שני היא יפה ואף יצירתית.</p>
<p>טוב, חדל התלהבות, נשאלת השאלה מה יצא לנו מכל זה. התשובה היא שיצא לנו המון - עכשיו אנחנו יודעים לתאר היטב את ההתנהגות של הסדרה <span class="math">\(\frac{A_{0}}{B_{0}},\frac{A_{1}}{B_{1}},\dots\)</span>. בפרט, אנחנו יודעים לתאר בקלות את ההפרש בין שני גורמים סמוכים. נסו לחשוב שנייה מדוע, ואז הציצו בשורה הבאה:</p>
<p><span class="math">\(\frac{A_{n}}{B_{n}}-\frac{A_{n-1}}{B_{n-1}}=\frac{A_{n}B_{n-1}-A_{n-1}B_{n}}{B_{n}B_{n-1}}=\frac{\left(-1\right)^{n-1}}{B_{n}B_{n-1}}\)</span>.</p>
<p>מכיוון ש-<span class="math">\(B\)</span>-ים חיוביים תמיד, נובע שאם <span class="math">\(n\)</span> אי זוגי, אז <span class="math">\(\frac{A_{n}}{B_{n}}\)</span> גדול מ-<span class="math">\(\frac{A_{n-1}}{B_{n-1}}\)</span> (הפרשם חיובי) ואחרת הוא קטן ממנו. מכאן שסדרת הקירובים "מזפזפת" מעלה ומטה. אבל האם היא נרגעת? ובכן, בואו ננסה לראות מה קורה כשמשווים איבר לא לקודמו, אלא לזה שלפניו, כלומר מנסים לחשב את <span class="math">\(\frac{A_{n}}{B_{n}}-\frac{A_{n-2}}{B_{n-2}}\)</span>. הדרך הפשוטה ביותר לעשות זאת היא באמצעות תעלול נפוץ מאוד בחשבון: להוסיף ולהחסיר את אותו איבר. נקבל:</p>
<p><span class="math">\(\frac{A_{n}}{B_{n}}-\frac{A_{n-2}}{B_{n-2}}=\left(\frac{A_{n}}{B_{n}}-\frac{A_{n-1}}{B_{n-1}}\right)+\left(\frac{A_{n-1}}{B_{n-1}}-\frac{A_{n-2}}{B_{n-2}}\right)=\frac{\left(-1\right)^{n-1`}}{B_{n}B_{n-1}}+\frac{\left(-1\right)^{n-2}}{B_{n-1}B_{n-2}}=\frac{\left(-1\right)^{n-1}}{B_{n-1}}\left[\frac{1}{B_{n}}-\frac{1}{B_{n-2}}\right]\)</span></p>
<p>האיבר בסוגריים המרובעים הוא ללא ספק שלילי, כי הוא מכיל משהו חיובי במכנה ו-<span class="math">\(B_{n-2}-B_{n}\)</span> במונה, אבל ב-<span class="math">\(B_{n}\)</span> גדול מ-<span class="math">\(B_{n-2}\)</span> כי הוא מכיל את <span class="math">\(B_{n-2}\)</span> כחלק מהסכום שלו (מדוע?). מסקנה: עבור ערכים זוגיים של <span class="math">\(n\)</span>, אנחנו מקבלים שההפרש כולו חיובי, ולכן הסדרה של ה-<span class="math">\(\frac{A_{n}}{B_{n}}\)</span>-ים הזוגיים היא עולה, ואילו סדרת ה-<span class="math">\(\frac{A_{n}}{B_{n}}\)</span>-ים האי זוגיים היא יורדת; וסדרת האיברים הזוגיים חסומה מלמעלה על ידי סדרת האיברים האי זוגיים (ובאופן סימטרי, סדרת האיברים האי זוגיים חסומה מלמטה על ידי סדרת האיברים הזוגיים). כאן נכנס לתמונה משפט בסיסי מחשבון אינפיניטסימלי: אם יש לנו שתי סדרות מספרים, האחת עולה והשנייה יורדת, כך שהמרחק ביניהן שואף לאפס - הן מתכנסות, ולאותו הגבול (במקרה שלנו המרחק הוא <span class="math">\(\frac{\left(-1\right)^{n-1}}{B_{n}B_{n-1}}\)</span> והוא בוודאי שואף לאפס כי ה-<span class="math">\(B_{n}\)</span>-ים שואפים לאינסוף).</p>
<p>הגענו לשורה התחתונה: אם ניקח סדרה <strong>כלשהי</strong> של מספרים טבעיים ונתבונן בשבר המשולב שהיא מגדירה, <span class="math">\(a_{0}+\frac{1}{a_{1}+}\frac{1}{a_{2}+}\dots\)</span>, נקבל תמיד שהשבר הזה מתכנס למספר ממשי כלשהו. השאלה שנותרה היא האם עבור <strong>כל</strong> מספר ממשי קיים שבר משולב שמתכנס אליו, ואני מניח שאתם מנחשים שהתשובה חיובית. מספיק לדבר על מספרים ממשיים חיוביים, כי עבור מספרים שליליים השינוי היחיד שיידרש הוא שהאיבר <span class="math">\(a_{0}\)</span> יהיה שלילי.</p>
<p>ניקח אם כן מספר ממשי <span class="math">\(\alpha\)</span> שהוא אי רציונלי (ברציונליים כבר טיפלנו). אפשר לפרק אותו לשני חלקים - החלק השלם <span class="math">\(a_{0}\)</span>, שהוא המספר הטבעי הגדול ביותר שעודנו קטן מ-<span class="math">\(\alpha\)</span>; והחלק השברי, שהוא מספר ממשי חיובי קטן מ-1. מכיוון שהוא קטן מ-1, ניתן לכתוב אותו בתור <span class="math">\(\frac{1}{\alpha_{1}}\)</span>. אם כן: <span class="math">\(\alpha=a_{0}+\frac{1}{\alpha_{1}}\)</span>. אני מניח שאתם מבינים מה יבוא כעת: אם <span class="math">\(\alpha_{1}\)</span> אי רציונלי (אחרת <span class="math">\(\alpha\)</span> היה רציונלי - מדוע?) ולכן נחזור על התעלול גם עבורו ונקבל <span class="math">\(\alpha=a_{0}+\frac{1}{a_{1}+\frac{1}{\alpha_{2}}}\)</span> וכן הלאה וכן הלאה. כל שנשאר להבין הוא האם התוצאה אכן מתכנסת אל <span class="math">\(\alpha\)</span> - ואם כן, כמה מהר?</p>
<p>לשם כך נשים לב לרגע לעובדה שלא באמת השתמשנו במה שעוללנו ל-<span class="math">\(A_{n},B_{n}\)</span> בכך שה-<span class="math">\(a_{n}\)</span>-ים כולם שלמים. זה מאפשר לנו לכתוב את <span class="math">\(\alpha\)</span> בתור "שבר משולב" סופי אם נרשה לאיבר האחרון להיות לא שלם, דהיינו <span class="math">\(\alpha=\frac{\left[a_{0},a_{1},\dots,a_{n},\alpha_{n+1}\right]}{\left[a_{1},a_{2},\dots,a_{n},\alpha_{n+1}\right]}\)</span>. אם נשתמש כאן בנוסחת הנסיגה שכבר מצאנו למונה והמכנה, אז אפשר לכתוב <span class="math">\(\alpha=\frac{\alpha_{n+1}A_{n}+A_{n-1}}{\alpha_{n+1}B_{n}+B_{n-1}}\)</span>. עכשיו, כדי לראות עד כמה <span class="math">\(\frac{A_{n}}{B_{n}}\)</span> הוא קירוב טוב ל-<span class="math">\(\alpha\)</span> נחסר את האחד מהשני ונקבל:</p>
<p><span class="math">\(\alpha-\frac{A_{n}}{B_{n}}=\frac{\alpha_{n+1}A_{n}+A_{n-1}}{\alpha_{n+1}B_{n}+B_{n-1}}-\frac{A_{n}}{B_{n}}=\frac{A_{n-1}B_{n}+A_{n}B_{n-1}}{B_{n}\left(\alpha_{n+a}B_{n}+B_{n-1}\right)}=\frac{\left(-1\right)^{n-1}}{B_{n}\left(\alpha_{n+a}B_{n}+B_{n-1}\right)}\)</span></p>
<p>כאן שוב השתמשנו בנוסחה הקסומה <span class="math">\(A_{n}B_{n-1}-A_{n-1}B_{n}=\left(-1\right)^{n-1}\)</span>. ניקח ערך מוחלט לביטוי, ונקבל בסופו של דבר ש:</p>
<p><span class="math">\(\left|\alpha-\frac{A_{n}}{B_{n}}\right|&amp;lt;\frac{1}{B_{n}B_{n+1}}\)</span> (מאיפה ה-<span class="math">\(B_{n+1}\)</span> צץ פתאום? הוא קטן יותר מהגורם שבתוך הסוגריים במכנה - מדוע?).</p>
<p>ושוב, מכיוון ש-<span class="math">\(B_{n}\)</span> היא סדרה עולה, נובע מכך ש-<span class="math">\(\frac{A_{n}}{B_{n}}\)</span> מתכנסת ל-<span class="math">\(\alpha\)</span>, בדיוק כפי שרצינו. לא רק זה - קצב ההתכנסות הוא ריבועי; אך על כך ארחיב בפוסט הבא.</p>
        </article>
        
        <footer>
            <p>© כל הזכויות שמורות לגדי אלכסנדרוביץ'</p>
        </footer>
    </div>

    
    <script>
        function searchPosts() {
            const searchTerm = document.getElementById('searchInput').value;
            if (searchTerm.trim()) {
                window.location.href = '/new_blog/post_list.html?search=' + encodeURIComponent(searchTerm);
            }
        }
        
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchPosts();
            }
        });
    </script>
    
    
    <!-- Auto-render KaTeX math -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            renderMathInElement(document.body, {
                delimiters: [
                    {left: "\\[", right: "\\]", display: true},
                    {left: "\\(", right: "\\)", display: false}
                ],
                throwOnError: false
            });
        });
    </script>

</body>
</html>