<!DOCTYPE html>
<html lang="he" dir="rtl"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>תורת הקבוצות - הרכבת פונקציות ויחסים | לא מדויק</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="תורת הקבוצות - הרכבת פונקציות ויחסים" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="לא מדויק - בלוג על מתמטיקה ומדעי המחשב" />
<meta property="og:description" content="לא מדויק - בלוג על מתמטיקה ומדעי המחשב" />
<link rel="canonical" href="http://gadial.net/2020/05/31/function_and_relation_composition/" />
<meta property="og:url" content="http://gadial.net/2020/05/31/function_and_relation_composition/" />
<meta property="og:site_name" content="לא מדויק" />
<meta property="og:image" content="http://gadial.net/assets/img/main/default-card.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-05-31T00:00:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:image" content="http://gadial.net/assets/img/main/default-card.png" />
<meta property="twitter:title" content="תורת הקבוצות - הרכבת פונקציות ויחסים" />
<meta name="twitter:site" content="@" />
<script type="application/ld+json">
{"@type":"BlogPosting","url":"http://gadial.net/2020/05/31/function_and_relation_composition/","image":"http://gadial.net/assets/img/main/default-card.png","headline":"תורת הקבוצות - הרכבת פונקציות ויחסים","dateModified":"2020-05-31T00:00:00+00:00","datePublished":"2020-05-31T00:00:00+00:00","description":"לא מדויק - בלוג על מתמטיקה ומדעי המחשב","mainEntityOfPage":{"@type":"WebPage","@id":"http://gadial.net/2020/05/31/function_and_relation_composition/"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link href="/assets/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="stylesheet" href="/assets/css/main.css">
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/favicon.ico" type="image/x-icon"><link type="application/atom+xml" rel="alternate" href="http://gadial.net/feed.xml" title="לא מדויק" /><script>
if(!(window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1")) {
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-3924539-2', 'auto');
  ga('send', 'pageview');
}
</script>
  
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        processEscapes: true
      },
      TeX: {extensions: ["AMSmath.js","AMSsymbols.js"]},
      "HTML-CSS": { 
        linebreaks: { automatic: true }
      },
      SVG: { 
        linebreaks: { automatic: true } 
      }
    });
  </script>
  <!-- "https://www.gadial.net/wp-includes/js/xypic.js" -->

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>

</head>
<body><header>
  <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
    <a class="navbar-brand" href="/">לא מדויק</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarCollapse">
      <ul class="navbar-nav mr-auto">
        
            
            <li class="nav-item">
                <a class="nav-link" href="/lecture_notes">סיכומי הרצאות</a>
            </li>
            
        
            
            <li class="nav-item">
                <a class="nav-link" href="/">דף הבית</a>
            </li>
            
        
            
            <li class="nav-item">
                <a class="nav-link" href="/categories">קטגוריות</a>
            </li>
            
        
            
            <li class="nav-item">
                <a class="nav-link" href="/random">דף אקראי</a>
            </li>
            
        
            
            <li class="nav-item">
                <a class="nav-link" href="/about/">אודות</a>
            </li>
            
        
      </ul>
      <form class="form-inline mt-2 mt-md-0" action="/post_list/" method="get">
        <input class="form-control mr-sm-2" type="text" placeholder="חיפוש" aria-label="חיפוש" name="s">
        <button class="btn btn-outline-success my-2 my-sm-0" type="submit">חיפוש</button>
      </form>
    </div>
  </nav>
</header><main class="page-content" aria-label="Content" role="main">
      <div class="wrapper text-right">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting"><div class="PageNavigation">
    
      <a class="prev" href="/2020/05/15/invertible_functions/">&laquo; תורת הקבוצות - פונקציות חד-חד-ערכיות, על והפיכות</a>
    
    
      <a class="next" href="/2020/06/06/solving_equations_first_degree/">אז איך פותרים משוואות (ממעלה ראשונה בנעלם יחיד)? &raquo;</a>
    
  </div><header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">תורת הקבוצות - הרכבת פונקציות ויחסים</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2020-05-31T00:00:00+00:00" itemprop="datePublished">May 31, 2020
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>בסדרת הפוסטים שלי על תורת הקבוצות הכרנו יחסים והכרנו פונקציות. זה נותן לנו אבני לגו, וכידוע מה שעושים עם אבני לגו הוא לחבר אותן אחת לשניה. בהקשר של פונקציות המשמעות של חיבור שכזה היא פשוטה: אנחנו רוצים להפעיל פונקציה אחת על <strong>הפלט</strong> של הפונקציה השניה. כלומר, אם אני חושב על פונקציה בתור מין קופסה שחורה שכזו שיש לה צינור כניסה של “קלט” וצינור יציאה של “פלט”, אז המשמעות של הרכבה של פונקציות היא לחבר את צינור הקלט של הפונקציה השניה לצינור הפלט של הפונקציה הראשונה, ככה:</p>

<p><img src="/assets/img/2020/05/function_composition.PNG" alt="" /></p>

<p>ברמת הסימון זה פשוט מאוד: אם <span>\( f,g \)</span> הן פונקציות, אני יכול לכתוב <span>\( g\left(f\left(x\right)\right) \)</span> במשמעות של “מפעילים את <span>\( g \)</span> על התוצאה של הפעלת <span>\( f \)</span> על <span>\( x \)</span>”. כדי לפשט את הסימון אפשר להשמיט את הסוגריים ופשוט לכתוב <span>\( gf\left(x\right) \)</span> באותה משמעות בדיוק. לפעמים גם כותבים <span>\( g\circ f\left(x\right) \)</span> במשמעות הזו, אבל אני לא אוהב את הסימון הזה ועוד נחזור לכך בהמשך. לסיום, אפשר לכתוב פשוט <span>\( gf \)</span> כדי לתאר את הפונקציה שמתקבלת מההרכבה הזו של <span>\( g \)</span> על <span>\( f \)</span>: כלומר הפונקציה שלכל <span>\( x \)</span> מחזירה את <span>\( g\left(f\left(x\right)\right) \)</span>.</p>

<p>עד כאן האינטואיציה, אבל מה עם הפורמליזם? צריך קצת להיזהר. לא כל שתי פונקציות אפשר להרכיב. כדי שתהיה משמעות להרכבה כזו, <strong>הפלט</strong> של <span>\( f \)</span> צריך להיות משהו שיהיה <strong>קלט חוקי</strong> עבור <span>\( g \)</span>. כזכור, כל פונקציה באה עם שתי קבוצות כחלק מההגדרה שלה: קבוצה <span>\( A \)</span> שנקראת <strong>התחום</strong> של הפונקציה (המקום שממנו נלקחים הקלטים) וקבוצה <span>\( B \)</span> שנקראת <strong>הטווח</strong> של הפונקציה (זו קבוצה שכל הפלטים נמצאים בתוכה, אבל ייתכן שיש בה עוד איברים שאינם מתקבלים בתור פלט). כדי שתהיה משמעות להרכבת הפונקציה <span>\( g \)</span> על <span>\( f \)</span> אנחנו רוצים שהתחום של <span>\( g \)</span> יהיה שווה לטווח של <span>\( f \)</span>, כלומר שהפונקציות יהיו <span>\( f:A\to B \)</span> ו-<span>\( g:B\to C \)</span>. במקרה הזה, הפונקציה שמתקבלת מההרכבה היא פונקציה <span>\( gf:A\to C \)</span> - הקבוצה <span>\( B \)</span> ששימשה בתור מין “מתווך” בין <span>\( f \)</span> ו-<span>\( g \)</span> נעלמה לגמרי.</p>

<p>אפשר להקל קצת על הדרישה הזו שהתחום יהיה שווה לטווח: כל מה שאנחנו צריכים מ-<span>\( f \)</span> הוא שכל <strong>פלט שהיא מוציאה בפועל</strong> יהיה שייך לתחום של <span>\( g \)</span>. הטווח של <span>\( f \)</span> יכול להיות עצום וגדול וחורג בהרבה מהתחום של <span>\( g \)</span> ועדיין לא תהיה בעיה להרכיב את שתיהן. התנאי המדויק, אם כן, הוא שאם <span>\( g:B\to C \)</span> ו-<span>\( A \)</span> הוא התחום של <span>\( f \)</span>, אז מתקיים <span>\( f\left(A\right)\subseteq B \)</span> (“<strong>התמונה</strong> של <span>\( f \)</span> מוכלת בתחום של <span>\( g \)</span>”).</p>

<p>בואו נראה כמה דוגמאות פשוטות. למשל, <span>\( f,g:\mathbb{R}\to\mathbb{R} \)</span> שמוגדרות על ידי <span>\( f\left(x\right)=x^{2} \)</span> ו-<span>\( g\left(x\right)=x+3 \)</span>. קל לראות ש-<span>\( gf\left(x\right)=x^{2}+3 \)</span> ו-<span>\( fg\left(x\right)=\left(x+3\right)^{2}=x^{2}+6x+9 \)</span>, וזה גם מראה לנו שהרכבת פונקציות <strong>היא לא קומוטטיבית</strong>: כלומר, <span>\( fg \)</span> ו-<span>\( gf \)</span> יהיו בדרך כלל פונקציות שונות (ושימו לב שלא בהכרח שתיהן קיימות בכלל - זה תלוי בתחומים והטווחים של הפונקציות).</p>

<p>הנה דוגמא קצת יותר מטורללת: ניקח בתור <span>\( f \)</span> את הפונקציה שעושה איחוד של קבוצות - כלומר, הקלט שלה יהיה זוג של קבוצות והפלט שלה יהיה קבוצה בודדת. פורמלית, אם <span>\( U \)</span> הוא “העולם” שלנו שכל הקבוצות הרלוונטיות הן תת-קבוצות שלו, אז <span>\( f:2^{U}\times2^{U}\to2^{U} \)</span> זו הדרך שלי לכתוב ש-<span>\( f \)</span> לוקחת זוג (זה ה-<span>\( \times \)</span>) של תת-קבוצות של <span>\( U \)</span> (זה ה-<span>\( 2^{U} \)</span>) ומחזירה תת-קבוצה של <span>\( U \)</span>, ו-<span>\( f \)</span> מוגדרת על ידי <span>\( f\left(A,B\right)=A\cup B \)</span>. עכשיו, ניקח בתור <span>\( g \)</span> את הפונקציה שמקבלת קבוצה בודדת (לא זוג!) ומחזירה את קבוצת החזקה שלה, כלומר <span>\( g\left(A\right)=2^{A} \)</span>. אז <span>\( gf\left(A,B\right)=2^{A\cup B} \)</span> ואילו <span>\( fg \)</span> בכלל לא מוגדרת.</p>

<p>עכשיו בואו נחזור שניה לפוסט הקודם. ראינו שם שאם <span>\( f:A\to B \)</span> היא פונקציה חד-חד-ערכית ועל, אז קיימת פונקציה <span>\( f^{-1}:B\to A \)</span> בעלת התכונה הבאה: <span>\( f\left(x\right)=y \)</span> אם ורק אם <span>\( f^{-1}\left(y\right)=x \)</span>. קל לראות שההרכבה מקיימת <span>\( f^{-1}f\left(x\right)=x \)</span>, וזו הזדמנות להציג טרמינולוגיה חדשה.</p>

<p>אם <span>\( A \)</span> היא קבוצה כלשהי, אז <strong>פונקציית הזהות</strong> על <span>\( A \)</span> היא הפונקציה <span>\( I_{A}:A\to A \)</span> שמקיימת <span>\( I_{A}\left(x\right)=x \)</span> לכל <span>\( x\in A \)</span>. מה שראינו לפני רגע הוא ש-<span>\( f^{-1}f=I_{A} \)</span>. יש הרבה דמיון בין המשוואה הזו ובין כפל “רגיל”: אם אנחנו חושבים על <span>\( I_{A} \)</span> בתור המספר 1 (למה 1? כי 1 הוא המספר שכפל בו לא משנה את האיבר שהוכפל, בדומה לאיך שפונקצית הזהות לא משנה את הקלט שלה), על <span>\( f \)</span> בתור מספר כלשהו <span>\( a \)</span> ועל <span>\( f^{-1} \)</span> בתור <span>\( \frac{1}{a} \)</span> ועל הרכבת פונקציות בתור כפל “רגיל”, אז השוויון <span>\( f^{-1}f=I_{A} \)</span> מזכיר לנו את השוויון <span>\( \frac{1}{a}\cdot a=1 \)</span>. הדמיון הזה מסביר את שיטת הסימון שבה בחרנו לתאר את <span>\( f^{-1} \)</span> וגם לתת אינטואיציה למובן שבו היא “הופכית”.</p>

<p>עכשיו, שימו לב למשהו טריקי קצת. מהי <span>\( ff^{-1} \)</span>? גם זו פונקצית הזהות, אבל <strong>איזו</strong> פונקציית זהות? אם תחשבו על זה רגע תראו ש-<span>\( ff^{-1}=I_{B} \)</span> . זו פונקציית הזהות <strong>על קבוצה אחרת</strong>, כי הפכנו את הסדר בין הקלטים לפלטים (<span>\( ff^{-1} \)</span> היא פונקציה שבה <span>\( f^{-1} \)</span> פועלת ראשונה, ולכן הקלט הוא מתוך <span>\( B \)</span>).</p>

<p>בואו נראה דוגמא קונקרטית לזה - כאן תבוא לעזרתנו הפונקציה <span>\( \text{tan} \)</span>, טנגנס. לא חייבים לדעת בדיוק איך מוגדרת טנגנס; מספיק טוב לדעת שזו פונקציה שהתחום שלה הוא <span>\( \left(-\frac{\pi}{2},\frac{\pi}{2}\right) \)</span> והטווח שלה הוא <span>\( \mathbb{R} \)</span> והיא חח”ע ועל, ולכן קיימת לה הופכית <span>\( \tan^{-1} \)</span> שמכונה גם “ארקטנגנס”, <span>\( \text{arctan} \)</span>. כעת, <span>\( \text{arctan}\left(\text{tan}\right) \)</span> היא פונקציה עם תחום וטווח <span>\( \left(-\frac{\pi}{2},\frac{\pi}{2}\right) \)</span> בזמן ש-<span>\( \text{tan}\left(\text{arctan}\right) \)</span> היא בעלת תחום וטווח <span>\( \mathbb{R} \)</span>.</p>

<p>עכשיו בואו נשכח לרגע מפונקציות ונעבור לדבר על יחסים באופן כללי - אפשר לדבר על “הרכבה” גם בהקשר הזה. נתחיל מהאינטואיציה: הארי פוטר. בספרי הארי פוטר, הארי הוא הבן של לילי פוטר; ולילי פוטר היא אחותה של פטוניה דרסלי. זה אומר שפטוניה היא דודתו של הארי. כל זה איכשהו גם רלוונטי לעלילה אבל בואו נסתכל על זה מנקודת מבט מתמטית. יש לנו שני יחסים שמוגדרים על קבוצת בני האדם: היחס “להיות אחות של” והיחס “להיות הורה של”. בואו נסמן את “להיות אחת של” ב-<span>\( R \)</span> ואת “להיות הורה של” ב-<span>\( S \)</span>, ועכשיו נסמן את פטוניה ב-<span>\( a \)</span>, את לילי ב-<span>\( b \)</span> ואת הארי ב-<span>\( c \)</span>, ואנחנו רואים ש”פטוניה היא אחותה של לילי” מתורגם ל-<span>\( \left(a,b\right)\in R \)</span> ו”לילי היא הורה של הארי” מתורגם ל-<span>\( \left(b,c\right)\in S \)</span>.</p>

<p>עכשיו משני אלו אנחנו מסיקים שפטוניה היא הדודה של הארי, מה שאני יכול לסמן ב-<span>\( \left(a,c\right)\in T \)</span> כאשר <span>\( T \)</span> הוא היחס “להיות דודה של”. מה הקשר בין היחסים <span>\( R,S \)</span> ובין היחס <span>\( T \)</span>? אני רוצה לומר שהוא קשר של <strong>הרכבה</strong>; הרי ההגדרה של “להיות דודה של” היא בדיוק “להיות אחות של הורה של”. אז בואו ננסה לתת הגדרה להרכבת יחסים שתשמר את האינטואיציה הזו.</p>

<p>נניח שנתונים לנו שני יחסים, <span>\( R,S \)</span>, כך ש-<span>\( R\subseteq A\times B \)</span> ו-<span>\( S\subseteq B\times C \)</span>. אפשר לתאר אותם גרפית בצורה הזו:</p>

<p><img src="/assets/img/2020/05/relation_composition.PNG" alt="" /></p>

<p>באיור הזה הקבוצות <span>\( A,B,C \)</span> מיוצגות כולן על ידי אליפסות עם נקודות בתוכן - כל נקודה מייצגת איבר של הקבוצה. את העובדה ש-<span>\( \left(a,b\right)\in R \)</span> אני מייצג על ידי חץ שיוצא מ-<span>\( a \)</span> ונכנס אל <span>\( b \)</span> (ובדומה בתמונה גם עשיתי חץ מ-<span>\( b\in B \)</span> אל <span>\( c\in C \)</span> כדי להמחיש ש-<span>\( \left(b,c\right)\in S \)</span>). חשוב היה לי להדגיש שהיחסים <span>\( R,S \)</span> הללו הם לא בהכרח פונקציות, אז כללתי באיור נקודות ש”מקלקלות” את התכונות של פונקציות: יש נקודה שממנה יוצאים שני חצים (מקלקל את ה”יחידות”) ונקודה שממנה לא יוצאים חצים בכלל (מקלקל את ה”קיום”).</p>

<p>עכשיו, סימנתי בכחול את החצים שמחברים את <span>\( a \)</span> אל <span>\( b \)</span> ואת <span>\( b \)</span> אל <span>\( c \)</span> כי שילוב שני החצים הללו יוצר משהו מעניין - הוא יוצר <strong>מסלול</strong> שמוביל אותנו מ-<span>\( a \)</span> אל <span>\( c \)</span> תוך מעבר ב”איבר הביניים” <span>\( b \)</span>. זה בדיוק מה שהרכבת יחסים מנסה לתפוס - מצבים כאלו שבהם קיים מסלול מנקודה אחת אל השניה בעזרת נקודת ביניים<strong> כלשהי</strong>. שימו לב שלא מעניין אותי אם יש יותר מנקודת ביניים אפשרית אחת - אם פטוניה הייתה גם אחותו של ג’יימס פוטר בנוסף לכך שהיא אחותה של לילי פוטר, היא עדיין הייתה דודה של הארי (אבל הספר עצמו היה מקבל טוויסט מוזר למדי). לכן ההגדרה להרכבת פונקציות תתבסס על הכמת הלוגי “קיים” (שאני מסמן ב-<span>\( \exists \)</span>).</p>

<p>אחרי כל ההקדמה הזו הנה סוף סוף ההגדרה:</p>

<p><span>\( R\circ S\triangleq\left\{ \left(a,c\right)\ |\ \exists b\in B:\left(a,b\right)\in R\wedge\left(b,c\right)\in S\right\}  \)</span></p>

<p>ובמילים: היחס המורכב <span>\( R\circ S \)</span> כולל את כל הזוגות <span>\( \left(a,c\right) \)</span> כך שקיים איבר ביניים <span>\( b\in B \)</span> שעבורו <span>\( \left(a,b\right)\in R \)</span> (“הצעד הראשון”) ו-<span>\( \left(b,c\right)\in S \)</span> (“הצעד השני”). מצד אחד, זו הגדרה פשוטה, כשמבינים מה היא מנסה להשיג; ומצד שני לטעמי זו אחת ההגדרות הקשות ביותר בשלב הזה של לימודי תורת הקבוצות.</p>

<p>עכשיו אני צריך בלב כואב לדבר על שיטת הסימון שבחרתי להשתמש בה. אם תסתכלו באיור, אפשר לראות ש-<span>\( R \)</span> היא בצד שמאל ו-<span>\( S \)</span> בצד ימין. זה בכוונה; זה תואם את האופן שבו בתוך זוג סדור כמו <span>\( \left(a,b\right) \)</span> ה”כיוון” הוא מ-<span>\( a \)</span> אל <span>\( b \)</span>. זה הוביל אותי לסמן את ההרכבה, <span>\( R\circ S \)</span>, בצורה כזו שהאיבר שפועל <strong>קודם</strong> (<span>\( R \)</span>, שמעביר איבר של <span>\( A \)</span> לאיבר של <span>\( B \)</span>) נמצא בצד שמאל. זה <strong>הפוך לגמרי</strong> לסימון שבו השתמשתי <strong>לפני רגע בפוסט הזה</strong> כשדיברתי על הרכבת פונקציות. שם, <span>\( gf \)</span> משמעותו הייתה “קודם להפעיל את <span>\( f \)</span> ואז את <span>\( g \)</span>” כי ככה זה עובד עם סימון הפעלת פונקציות: <span>\( g\left(f\left(x\right)\right) \)</span> אומר בדיוק שקודם מפעילים את <span>\( f \)</span> ואז את <span>\( g \)</span>.</p>

<p>העניין הוא שפונקציות <strong>הן יחסים</strong> והרכבת פונקציות <strong>היא הרכבת יחסים</strong>. אז יש לי שני סימונים שונים <strong>והפוכים</strong> לאותו דבר. ומילא אם זה היה רק אצלי, אבל כל טקסט מתמטי שמתעסק גם בהרכבת פונקציות וגם בהרכבת יחסים ייאלץ להתמודד עם הניג’וס הזה.</p>

<p>פתרון נפוץ מאוד הוא פשוט להגדיר הרכבת יחסים הפוך, כמו הרכבת פונקציות: <span>\( S\circ R \)</span> יתאר את מה שכתבתי עד כה למעלה. פתרון אחר, שבו אני נוקט, הוא פשוט לא לסמן הרכבת פונקציות עם <span>\( \circ \)</span> ולשמור את הסימן הזה להרכבת יחסים (כלומר, <span>\( f\circ g \)</span> יהיה התיאור שלי להרכבת הפונקציות <span>\( f,g \)</span> כשאני חושב עליה בתור הרכבת יחסים; זה אומר ש-<span>\( f\circ g\equiv gf \)</span>). כמו רוב ענייני הסימון במתמטיקה זה לא <strong>באמת</strong> חשוב מה בוחרים, כל עוד זה מוסבר מספיק ברור כדי לא להטעות את הקוראים.</p>

<p>אחרי שסילקנו את זה מהדרך, בואו נעשה קצת כיף!</p>

<p>התכונה החשובה ביותר של הרכבת יחסים ופונקציות, שאחראית לתכונות האלגבריות שלה שנראה בהמשך, היא <strong>אסוציאטיביות</strong>. כלומר, אם יש לנו הרכבה של <strong>שלושה</strong> יחסים שמתוארת בתור זוג הרכבות, <span>\( R\circ S\circ T \)</span>, זה לא משנה איזו מההרכבות אנחנו מבצעים קודם - תמיד נקבל בסוף את אותו יחס. פורמלית, <span>\( \left(R\circ S\right)\circ T=R\circ\left(S\circ T\right) \)</span>. ההוכחה של זה מייגעת למדי וכמובן שאדלג עליה (“להשאיר את הוכחת האסוציאטיביות כתרגיל לקורא” זו שיטת הפעולה של כל טקסט מתמטי מיום שהומצאה האלגברה) אבל האינטואיציה פה די פשוטה כשחוזרים לחשיבה על הרכבת יחסים בתור “למצוא נקודות שמחבר ביניהן מסלול” כי קיום מסלול לא תלוי בשאלה אם קודם אנחנו מסתכלים על שלוש הנקודות הראשונות שבו (<span>\( R\circ S \)</span>) או שלוש הנקודות האחרונות (<span>\( S\circ T \)</span>).</p>

<p>עכשיו, מרגע שהמתמטיקאים ממציאים פעולה, הם רוצים לבצע אותה שוב ושוב כמה שרק אפשרי. במקרה הזה אפשר לדבר על זה כאשר מרכיבים יחס <strong>עם עצמו</strong>. כדי שאפשר יהיה לעשות את זה, צריך שהתחום והטווח של היחס יהיו אותה קבוצה. כלומר, ניקח יחס <span>\( R\subseteq A\times A \)</span> וכעת אפשר להגדיר <span>\( R^{2}=R\circ R \)</span> ו-<span>\( R^{3}=R\circ R\circ R \)</span> וכדומה. בואו ניתן הגדרה אפילו יותר פורמלית.</p>

<p>ראשית, אני משתמש בסימון של חזקה לא במקרה; זה המשך של האנלוגיה בין הרכבה ובין כפל. אז בואו ניזכר איך מגדירים חזקה טבעית במספרים ממשיים: ראשית מגדירים <span>\( a^{0}\triangleq1 \)</span> לכל <span>\( a \)</span> (כן, <a href="https://gadial.net/2018/01/01/zero_power_equals_one/">אני מגדיר ככה</a> אפילו עבור <span>\( a=0 \)</span>). כעת מגדירים אינדוקטיבית <span>\( a^{n+1}\triangleq a\cdot a^{n} \)</span>. המשמעות של לומר “מגדירים אינדוקטיבית” היא שמניחים ש-<span>\( a^{n} \)</span> כבר הוגדר, ועכשיו משתמשים בו כדי להגדיר את <span>\( a^{n+1} \)</span>. למשל אם כבר הגדרתי את <span>\( a^{3} \)</span> אז <span>\( a^{4} \)</span> יוגדר להיות <span>\( a^{3}\cdot a \)</span>.</p>

<p>ההגדרה של חזקה של יחס תהיה זהה, אבל אנחנו צריכים אנלוג ל-<span>\( 1 \)</span>. כבר היה לנו כזה במקרה של פונקציות - פונקציית הזהות. אז בואו ניקח את הפונקציה הזו ונחשוב עליה בתור יחס:</p>

<p><span>\( I_{A}\triangleq\left\{ \left(a,a\right)|\ a\in A\right\}  \)</span></p>

<p>ועכשיו אפשר לתת פורמלית את ההגדרה האינדוקטיבית:</p>

<p><span>\( R^{0}\triangleq I_{A} \)</span></p>

<p><span>\( R^{n+1}\triangleq R\circ R^{n} \)</span></p>

<p>קל לראות ש-<span>\( R^{1}=R \)</span> בהגדרה הזו, בצורה עקבית עם מה שאנחנו רגילים שחזקת 1 עושה. יותר מזה, אפשר לראות גם שחוקי החזקות הרגילים מתקיימים: <span>\( R^{n+m}=R^{n}\circ R^{m} \)</span> ו-<span>\( R^{nm}=\left(R^{n}\right)^{m} \)</span>. ההוכחה קצת מייגעת אבל לא באמת שונה מההוכחה עבור חוקי החזקות הרגילים - מילת המפתח שגורמת לדברים להתנהג דומה היא ה<strong>אסוציאטיביות</strong> של פעולת ההרכבה.</p>

<p>זה היה נחמד, אבל צריך להיזהר לא לקחת את ההקבלה יותר מדי רחוק - כשמגיעים לחזקות <strong>שליליות</strong> דברים מוזרים מתחילים לקרות. ראשית, איך אני מגדיר חזקה שלילית? כבר ראינו את ההגדרה <span>\( R^{-1}\triangleq\left\{ \left(b,a\right)\ |\ \left(a,b\right)\in R\right\}  \)</span>. עכשיו אפשר להשתמש בה כדי להגדיר חזקה שלילית כללית: <span>\( R^{-n}\triangleq\left(R^{-1}\right)^{n} \)</span>. כלומר, לוקחים את היחס <span>\( R^{-1} \)</span> (שהוא יחס טוב ונחמד שקיים בזכות עצמו) ואז מסתכלים על החזקה ה-<span>\( n \)</span>-ית שלו.</p>

<p>כל זה סבבה, אבל שימו לב שממש לא בהכרח מתקיים <span>\( R\circ R^{-1}=I_{A} \)</span>, כלומר <span>\( R^{-1} \)</span> הוא לא הופכי של <span>\( R \)</span> במובן האלגברי של המילה. למשל, אם <span>\( A=\left\{ 1,2\right\}  \)</span> ו-<span>\( R=\left\{ \left(1,2\right)\right\}  \)</span> אז <span>\( R\circ R^{-1}=\left\{ \left(1,1\right)\right\}  \)</span> וזה בוודאי לא <span>\( I_{A} \)</span> כי <span>\( \left(2,2\right)\in I_{A} \)</span>, כלומר עשויים להיות חסרים לי איברים. גרוע מכך, עשויים לצוץ לי איברים שלא אמורים להיות שם: למשל אם <span>\( A=\left\{ 1,2,3\right\}  \)</span> ו-<span>\( R=\left\{ \left(2,1\right),\left(3,1\right)\right\}  \)</span> אני אקבל <span>\( \left(2,3\right)\in R\circ R^{-1} \)</span>. זה כמובן מצער מאוד, אבל תראו, קסם! אם <span>\( R \)</span> היא <strong>פונקציה הפיכה</strong> אז לא קשה להוכיח שכן יתקיים <span>\( R\circ R^{-1}=I_{A} \)</span> וזה מוביל לכך שלפונקציות הפיכות יש מבנה אלגברי מאוד יפה שבו מעורבת פעולה אסוציאטיבית עם איבר אדיש והופכי - מה שנקרא <strong>חבורה</strong>. אבל זה סיפור אחר <a href="https://gadial.net/2017/02/01/group_definition/">ויסופר בפעם אחרת</a>.</p>

<p>עכשיו, אחרי שטיפה התרגלנו לחזקות של יחסים, בואו נחזור אל התכונות הנחמדות שהגדירו יחס שקילות - רפלקסיביות, סימטריה וטרנזיטיביות. כל אחת מהן ניתנת לניסוח פשוט באמצעות חזקות של יחסים:</p>

<ol> <li>רפלקסיביות של <span>\( R\subseteq A\times A \)</span> פירושה ש-<span>\( \left(a,a\right)\in R \)</span> לכל <span>\( a\in A \)</span>. כלומר, זה פשוט אומר ש-<span>\( I_{A}\subseteq R \)</span>, או במילים אחרות <span>\( R^{0}\subseteq R \)</span>.</li>


<li>סימטריה של <span>\( R\subseteq A\times A \)</span> פירושה שאם <span>\( \left(a,b\right)\in R \)</span> אז גם <span>\( \left(b,a\right)\in R \)</span>. כלומר, ש-<span>\( R^{-1}\subseteq R \)</span>.</li>


<li>טרנזיטיביות של <span>\( R\subseteq A\times A \)</span> פירושה שאם <span>\( \left(a,b\right)\in R \)</span> וגם <span>\( \left(b,c\right)\in R \)</span> אז גם <span>\( \left(a,c\right)\in R \)</span>. כלומר, זה פשוט אומר ש-<span>\( R^{2}\subseteq R \)</span> (ומכך נובע <span>\( R^{n}\subseteq R \)</span> לכל <span>\( n\ge2 \)</span>).</li>

</ol>

<p>אם כל התכונות הללו מתקיימות גם יחס אז <span>\( R \)</span> הוא יחס שקילות, והנה קיבלנו דרך אחרת לתאר יחס שקילות, באמצעות חזקות: <span>\( R \)</span> הוא יחס שקילות אם ורק אם <span>\( R^{k}\subseteq R \)</span> לכל <span>\( k\in\mathbb{Z} \)</span>.</p>

<p>לסיום, אני לא יכול להתאפק וחייב להכניס פנימה עוד קשר מתמטי שעשוי להישמע מוזר ממבט ראשון אבל כשחושבים עליו רגע הוא מובן מאליו לגמרי - הרכבת יחסים ממש מזכירה כפל מטריצות. אם אתם לא מכירים או זוכרים כפל מטריצות, יש לי <a href="https://gadial.net/2011/10/06/matrix_product/">פוסט על זה</a> כאן, ועכשיו אניח שכן מכירים את הרעיון, אבל אזכיר את ההגדרה: בכפל מטריצות יש לנו שתי מטריצות <span>\( R,S \)</span> מעל חוג מסויים (כלומר, משהו שמוגדרות עליו פעולות חיבור וכפל). כדי לכפול אותן, צריך ש-<span>\( R \)</span> תהיה ממימד <span>\( n\times m \)</span> ו-<span>\( S \)</span> ממימד <span>\( m\times t \)</span> (כלומר, מספר העמודות של <span>\( R \)</span> יהיה שווה למספר השורות של <span>\( S \)</span>) ואז מגדירים <span>\( \left[RS\right]_{ij}=\sum_{k=1}^{m}\left[R\right]_{ik}\left[S\right]_{kj} \)</span>. אני אפילו אכתוב את זה קצת יותר במפורש כך שרואים את פעולות החיבור והכפל:</p>

<p><span>\( \left[RS\right]_{ij}=\left[R\right]_{i1}\cdot\left[S\right]_{1j}+\cdots+\left[R\right]_{1m}\left[S\right]_{mj} \)</span></p>

<p>איך זה קשור ליחסים? ובכן, נניח שיש לי יחסים <span>\( R\subseteq A\times B \)</span> ו-<span>\( S\subseteq B\times C \)</span>, כך ש-<span>\( A,B,C \)</span> כולן קבוצות סופיות. נסמן את האיברים שלהן: <span>\( A=\left\{ a_{1},\dots,a_{n}\right\}  \)</span> ו-<span>\( B=\left\{ b_{1},\dots,b_{m}\right\}  \)</span> ו-<span>\( C=\left\{ c_{1},\dots,c_{t}\right\}  \)</span>. עכשיו אפשר לייצג יחס באמצעות מטריצה:</p>

<p><span>\( \left[R\right]_{ij}=\begin{cases} 1 &amp; \left(a_{i},b_{j}\right)\in R\\ 0 &amp; \left(a_{i},b_{j}\right)\notin R \end{cases} \)</span></p>

<p><span>\( \left[S\right]_{ij}=\begin{cases} 1 &amp; \left(b_{i},c_{j}\right)\in S\\ 0 &amp; \left(b_{i},c_{j}\right)\notin S \end{cases} \)</span></p>

<p>כלומר, המטריצות הללו חיות מעל החוג <span>\( \mathbb{Z}_{2} \)</span>. בחוג הזה יש לנו את פעולות הכפל והחיבור הרגילות מודולו 2, אבל הן <strong>לא יעניינו</strong> אותנו הפעם אלא מה שאפשר לקבל מהן. בגלל שבחוג הזה מתקיים ש-<span>\( a^{2}=a \)</span> לכל <span>\( a \)</span>, קוראים לו <strong>חוג בוליאני</strong> ואפשר לקבל ממנו משהו שנקרא <strong>אלגברה בוליאנית</strong>. לא אכנס לפרטים המלאים, אבל הרעיון הוא שאפשר להגדיר פעולות חדשות, <span>\( a\wedge b=a\cdot b \)</span> ו-<span>\( a\vee b=a+b+a\cdot b \)</span> שמתנהגות מאוד נחמד - בהקשר של <span>\( \mathbb{Z}_{2} \)</span> הפעולות הללו מתנהגות כמו “וגם” (עבור <span>\( \wedge \)</span>) ו”או” (עבור <span>\( \vee \)</span>) שאנחנו מכירים מלוגיקה. צריך לשים לב שעם שתי הפעולות הללו <span>\( \mathbb{Z}_{2} \)</span> <strong>אינו</strong> חוג, כי אין נגדי חיבורי לפעולת ה-<span>\( \vee \)</span> (ולכן היא לא יכולה לתפקד בתור פעולת החיבור של חוג) לכן אמרתי שנקבל דמיון לכפל מטריצות ולא ממש מקרה פרטי.</p>

<p>עכשיו, זוכרים את ההגדרה של הרכבת יחסים?</p>

<p><span>\( R\circ S\triangleq\left\{ \left(a,c\right)\ |\ \exists b\in B:\left(a,b\right)\in R\wedge\left(b,c\right)\in S\right\}  \)</span></p>

<p>במקום לכתוב <span>\( \exists \)</span>, אפשר, במקרה שבו הקבוצות <span>\( A,B,C \)</span> סופיות, לכתוב משהו יותר מפורש בשביל התנאי שבפנים:</p>

<p><span>\( \left[\left(a,b_{1}\right)\in R\wedge\left(b_{1},c\right)\in S\right]\vee\dots\vee\left[\left(a,b_{m}\right)\in R\wedge\left(b_{m},c\right)\in S\right] \)</span></p>

<p>ובמילים - או שאפשר לעבור מ-<span>\( a \)</span> אל <span>\( c \)</span> עם איבר הביניים <span>\( b_{1} \)</span>, או שאפשר לעבור עם <span>\( b_{2} \)</span> וכן הלאה, עד <span>\( b_{m} \)</span>.</p>

<p>כלומר, קיבלנו ש-<span>\( \left[R\circ S\right]_{ij} \)</span> מוגדר בדיוק כמו כפל מטריצות, פרט לכך שאנחנו מחליפים את התפקידים של חיבור וכפל ב-<span>\( \wedge \)</span> וב-<span>\( \vee \)</span>. חמוד? אני מקווה, וגם נותן אינטואיציות מסויימות, אבל אני בעיקר מקווה שחמוד.</p>

  </div>

  <hr />
  <p>
    נהניתם? התעניינתם? אם תרצו, אתם מוזמנים לתת טיפ:
  </p>
  <a href='https://ko-fi.com/H2H5XFBQ' target='_blank'><img height='36' style='border:0px;height:36px;' src='https://az743702.vo.msecnd.net/cdn/kofi2.png?v=2' border='0' alt='Buy Me a Coffee at ko-fi.com' /></a><div class="PageNavigation">
    
      <a class="prev" href="/2020/05/15/invertible_functions/">&laquo; תורת הקבוצות - פונקציות חד-חד-ערכיות, על והפיכות</a>
    
    
      <a class="next" href="/2020/06/06/solving_equations_first_degree/">אז איך פותרים משוואות (ממעלה ראשונה בנעלם יחיד)? &raquo;</a>
    
  </div><div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = 'http://gadial.net/2020/05/31/function_and_relation_composition/';
      this.page.identifier = 'http://gadial.net/2020/05/31/function_and_relation_composition/';
    };

    (function() {
      var d = document, s = d.createElement('script');

      s.src = 'https://not-precise.disqus.com/embed.js';

      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript><a class="u-url" href="/2020/05/31/function_and_relation_composition/" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">לא מדויק</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">לא מדויק</li><li><a class="u-email" href="mailto:gadial@gmail.com">gadial@gmail.com</a></li><li>&copy; כל הזכויות שמורות לגדי אלכסנדרוביץ'</li>
        </ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://www.facebook.com/%D7%9C%D7%90-%D7%9E%D7%93%D7%95%D7%99%D7%A7-163347110378474"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#facebook"></use></svg> <span class="username">לא מדויק</span></a></li><li><a href="/feed.xml"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#rss"></use></svg> <span>RSS</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>בלוג על מתמטיקה ומדעי המחשב</p>
      </div>
    </div>

  </div>

</footer><script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script>window.jQuery || document.write('<script src="assets/js/jquery-slim.min.js"><\/script>')</script><script src="/assets/js/bootstrap.bundle.js"></script><script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script>window.jQuery || document.write('<script src="assets/js/jquery-slim.min.js"><\/script>')</script><script src="/assets/js/bootstrap.bundle.js"></script>

<!-- Default Statcounter code for New blog
http://www.gadial.net/ -->
<script type="text/javascript">
  var sc_project=5444342; 
  var sc_invisible=1; 
  var sc_security="4a89cbe4"; 
  </script>
  <script type="text/javascript"
  src="https://www.statcounter.com/counter/counter.js"
  async></script>
  <noscript><div class="statcounter"><a title="Web Analytics"
  href="https://statcounter.com/" target="_blank"><img
  class="statcounter"
  src="https://c.statcounter.com/5444342/0/4a89cbe4/1/"
  alt="Web Analytics"></a></div></noscript>
  <!-- End of Statcounter Code --></body>

</html>
