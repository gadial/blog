<!DOCTYPE html>
<html lang="he" dir="rtl"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>פרוייקט “התלמיד והמחשב”, בעיות 5-6-7 | לא מדויק</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="פרוייקט “התלמיד והמחשב”, בעיות 5-6-7" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="לא מדויק - בלוג על מתמטיקה ומדעי המחשב" />
<meta property="og:description" content="לא מדויק - בלוג על מתמטיקה ומדעי המחשב" />
<link rel="canonical" href="http://gadial.net/2013/07/01/student_and_computer_5-6-7/" />
<meta property="og:url" content="http://gadial.net/2013/07/01/student_and_computer_5-6-7/" />
<meta property="og:site_name" content="לא מדויק" />
<meta property="og:image" content="http://gadial.net/assets/img/main/default-card.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2013-07-01T08:00:41+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:image" content="http://gadial.net/assets/img/main/default-card.png" />
<meta property="twitter:title" content="פרוייקט “התלמיד והמחשב”, בעיות 5-6-7" />
<meta name="twitter:site" content="@" />
<script type="application/ld+json">
{"@type":"BlogPosting","url":"http://gadial.net/2013/07/01/student_and_computer_5-6-7/","image":"http://gadial.net/assets/img/main/default-card.png","headline":"פרוייקט “התלמיד והמחשב”, בעיות 5-6-7","dateModified":"2013-07-01T08:00:41+00:00","datePublished":"2013-07-01T08:00:41+00:00","description":"לא מדויק - בלוג על מתמטיקה ומדעי המחשב","mainEntityOfPage":{"@type":"WebPage","@id":"http://gadial.net/2013/07/01/student_and_computer_5-6-7/"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link href="/assets/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="stylesheet" href="/assets/css/main.css">
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/favicon.ico" type="image/x-icon"><link type="application/atom+xml" rel="alternate" href="http://gadial.net/feed.xml" title="לא מדויק" /><script>
if(!(window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1")) {
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-3924539-2', 'auto');
  ga('send', 'pageview');
}
</script>
  
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        processEscapes: true
      },
      TeX: {extensions: ["AMSmath.js","AMSsymbols.js"]},
      "HTML-CSS": { 
        linebreaks: { automatic: true }
      },
      SVG: { 
        linebreaks: { automatic: true } 
      }
    });
  </script>
  <!-- "https://www.gadial.net/wp-includes/js/xypic.js" -->

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>
  
</head>
<body><header>
  <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
    <a class="navbar-brand" href="/">לא מדויק</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarCollapse">
      <ul class="navbar-nav mr-auto">
        
            
            <li class="nav-item">
                <a class="nav-link" href="/whats_going_on">מה הולך פה?</a>
            </li>
            
        
            
            <li class="nav-item">
                <a class="nav-link" href="/">דף הבית</a>
            </li>
            
        
            
            <li class="nav-item">
                <a class="nav-link" href="/categories">קטגוריות</a>
            </li>
            
        
            
            <li class="nav-item">
                <a class="nav-link" href="/random">דף אקראי</a>
            </li>
            
        
            
            <li class="nav-item">
                <a class="nav-link" href="/about/">אודות</a>
            </li>
            
        
      </ul>
      <form class="form-inline mt-2 mt-md-0" action="/post_list/" method="get">
        <input class="form-control mr-sm-2" type="text" placeholder="חיפוש" aria-label="חיפוש" name="s">
        <button class="btn btn-outline-success my-2 my-sm-0" type="submit">חיפוש</button>
      </form>
    </div>
  </nav>
</header><main class="page-content" aria-label="Content" role="main">
      <div class="wrapper text-right">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting"><div class="PageNavigation">
    
      <a class="prev" href="/2013/06/30/p_vs_np_on_abelian_groups_ending/">&laquo; על P=NP מעל חבורות אבליות - סוף דבר</a>
    
    
      <a class="next" href="/2013/07/04/student_and_computer_8/">פרוייקט "התלמיד והמחשב", בעיה 8 &raquo;</a>
    
  </div><header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">פרוייקט &quot;התלמיד והמחשב&quot;, בעיות 5-6-7</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2013-07-01T08:00:41+00:00" itemprop="datePublished">Jul 1, 2013
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>אנחנו ממשיכים לפתור בעיות טריוויאליות יחסית בפרוייקט “התלמיד והמחשב” - סבלנות ונגיע גם לדברים מעניינים יותר, אבל אני רוצה להיות נאמן לכל מה שהופיע בספר המקורי, גם אם אני הייתי כנראה כותב  אותו אחרת.</p>

<p>הפעם נעסוק בבעיות שמכריחות אותנו להציג מרכיב חשוב חדש של כל שפת תכנות - <strong>משפטי תנאי!</strong> הרעיון במשפטי תנאי הוא לגרום לתוכנית להתפצל בין שתי (או יותר) אפשרויות שונות, וזאת בניגוד לכל מה שעשינו עד כה שבו התוכנית פשוט הריצה את כל הפקודות שהיו כתובות בתוכנית.</p>

<p><strong>בעיה מס' 5</strong></p>

<p>בבעיה הזו מקבלים כקלט שני מספרים שלמים וצריך להגיד אם הם שווי סימן או שוני סימן. כלומר, האם אחד מהם חיובי והשני שלילי. הבדיקה המתמטית הקצרה שאפשר לבצע כאן היא האם המכפלה של המספרים היא חיובית או שלילית; אם היא חיובית הם שווי סימן ואם היא שלילית הם שוני סימן. ומה אם היא אפס? אפשר לקבוע שרירותית שאז הם שווי סימן כדי לחסוך לנו כאב ראש.</p>

<p>ברובי זה קל מאוד:</p>

<div class="code-block">

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="no">ARGV</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nf">to_i</span><span class="p">,</span> <span class="no">ARGV</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nf">to_i</span>
<span class="nb">puts</span> <span class="s2">"</span><span class="si">#{</span><span class="n">x</span><span class="si">}</span><span class="s2"> and </span><span class="si">#{</span><span class="n">y</span><span class="si">}</span><span class="s2"> have equal signs"</span> <span class="k">if</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span> <span class="o">&gt;=</span> <span class="mi">0</span>
<span class="nb">puts</span> <span class="s2">"</span><span class="si">#{</span><span class="n">x</span><span class="si">}</span><span class="s2"> and </span><span class="si">#{</span><span class="n">y</span><span class="si">}</span><span class="s2"> have different signs"</span> <span class="k">if</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span> <span class="o">&lt;</span> <span class="mi">0</span></code></pre></figure>

</div>

<p>אני חושב שהקוד קריא אפילו למי שבכלל לא מכיר את התחביר של רובי, אבל בכל זאת כדאי להתעמק טיפה במה שקורה פה. אנחנו מתחילים עם שורה של קליטת קלט רגילה, ואחריה מגיעה פקודת puts רגילה, אבל באותה שורה, אחרי פקודת ה-puts פתאום מופיע if, שמשמעותו - את מה שהיה כתוב בשורה הזו בצע רק אם תנאי מסויים מתקיים. ומה התנאי הזה? שהמכפלה של x,y היא גדולה או שווה ל-0.</p>

<p>מה שאני משתמש בו בשורה הזו הוא סוג חדש של <strong>אופרטור</strong>. אופרטור הוא משהו שלוקח ערכים קיימים ומפיק מהם ערך חדש ולרוב יש לו סימון מיוחד בתוך שפת התכנות עצמה, למשל כפל שמסומן בכוכבית. הסימן של “גדול שווה” הוא סוג אחר של אופרטור - אופרטור בוליאני. כזה שלוקח שני ערכים שאפשר להשוות ביניהם, ומחזיר כפלט ערך שהוא או True או False - “נכון” או “לא נכון”, או אם תרצו - “אמת” או “שקר”.
פקודת if מקבלת כקלט ערך בוליאני כזה. אם הוא True, אז פקודת ה-if מתבצעת (דהיינו, במקרה שלנו, השורה שהפקודה מגיעה בסופה תתבצע). אם היא קיבלה False, הפקודה לא מתבצעת. זה הכל, לבינתיים. בהמשך נראה סוגים מורכבים יותר של אופרטורים בוליאניים.</p>

<p>הערה חשובה אחת היא שסגנון הכתיבה הזה של רובי הוא לא סטנדרטי בשפות תכנות אחרות. ברובן ה-if מגיע <strong>לפני</strong> הפקודה שמתבצעת. גם ברובי אפשר לכתוב את זה ככה, ועוד נראה זאת בהמשך, אבל כשרוצים להתנות ביצוע של שורה אחת בלבד אפשר לשים את ה-if גם בסוף של השורה כפי שעשיתי כאן. אני אישית אוהב את סגנון הכתיבה הזה וחושב שהוא משפר את קריאות הקוד; אני בהחלט יכול להבין גם אנשים ששונאים אותו ובטוחים שזה הדבר הגרוע ביותר מאז המצאת ה-goto. אם אתם לא אוהבים את סגנון הכתיבה הזה - אל תשתמשו בו. זה לא הכרח.</p>

<p>בואו נעבור לראות איך עושים משפטי תנאי בגישה שונה לחלוטין - הגישה ההסקלית:</p>

<div class="code-block">

<figure class="highlight"><pre><code class="language-haskell" data-lang="haskell"><span class="n">sign_equality</span> <span class="o">::</span> <span class="kt">Int</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="kt">Int</span> <span class="o">-&gt;</span> <span class="kt">String</span><span class="p">)</span>
<span class="n">sign_equality</span> <span class="n">a</span> <span class="n">b</span>
	<span class="o">|</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">a</span><span class="o">*</span><span class="n">b</span> 	<span class="o">=</span> <span class="s">"equal"</span>
	<span class="o">|</span> <span class="mi">0</span> <span class="o">&gt;</span> <span class="n">a</span><span class="o">*</span><span class="n">b</span>	<span class="o">=</span> <span class="s">"different"</span>

<span class="n">main</span> <span class="o">=</span> <span class="kr">do</span>
  <span class="n">putStrLn</span> <span class="s">"Please insert two numbers to compare their signs"</span>
  <span class="n">a</span> <span class="o">&lt;-</span> <span class="n">getLine</span>
  <span class="n">b</span> <span class="o">&lt;-</span> <span class="n">getLine</span>
  <span class="n">putStrLn</span> <span class="p">(</span><span class="n">a</span> <span class="o">++</span> <span class="s">" and "</span> <span class="o">++</span> <span class="n">b</span> <span class="o">++</span> <span class="s">" have "</span> <span class="o">++</span> <span class="p">(</span><span class="n">sign_equality</span> <span class="p">(</span><span class="n">read</span> <span class="n">a</span><span class="p">)</span> <span class="p">(</span><span class="n">read</span> <span class="n">b</span><span class="p">))</span> <span class="o">++</span> <span class="s">" signs"</span><span class="p">)</span></code></pre></figure>


</div>

<p>מה שאני עושה פה הוא להגדיר פונקציה שמקבלת שני מספרים ומחזירה את המחרוזת “equal” אם הסימנים שלהם שווים, ואת המחרוזת “different” אם הם שונים. הפונקציה הזו מוגדרת באופן כמו-מתמטי, באמצעות חלוקה למקרים, כשכל מקרה מתחיל בסימן | של קו עומד. כל קו עומד כזה נקרא Guard - “שומר”. הרעיון בשומרים הוא פשוט: כדי לדעת איזה ערך הפונקציה תחזיר, היא עוברת שומר שומר. כל שומר מורכב מסימן הקו העומד, ואחריו תנאי, ולבסוף = וערך כלשהו. הפונקציה בודקת את התנאים באופן סדרתי עד שהיא מגיעה אל התנאי הראשון שמתקיים, ואז מחזירה את הערך שאחרי סימן ה-= שלו.</p>

<p>אתם עשויים לתהות מה קורה אם אף אחד מהתנאים שאחרי השומרים לא מתקיים - מה הפונקציה תחזיר אז? ובכן, אין חוכמות - הפונקציה תיכשל והתוכנית תקרוס אם השגיאה הזו לא תטופל. לכן לרוב רצוי מאוד שהשומרים יטפלו בכל המקרים האפשריים; כדי לעשות את החיים פשוטים, נהוג להשתמש במילת המפתח otherwise עבור השומר האחרון (בפועל otherwise הוא פשוט שם אחר ל-True, מה שמבטיח שהתנאי הזה תמיד יתקיים) ולתת לו את ערך “ברירת המחדל” של הפונקציה; זה שאמור להיות מוחזר ממנה אם כל הבדיקות האחרות נכשלו. עוד נראה את זה בהמשך, אני מקווה.</p>

<p>וכעת לג’אווהסקריפט, שבה אני אנצל את ההזדמנות כדי להציג גישה <strong>נוספת</strong> לתנאים:</p>

<div class="code-block">

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;title&gt;</span>Targil 5<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
  <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>
    <span class="nx">compute_sign_relation</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
		<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">a</span><span class="dl">"</span><span class="p">).</span><span class="nx">value</span><span class="p">);</span>
		<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">b</span><span class="dl">"</span><span class="p">).</span><span class="nx">value</span><span class="p">);</span>
		<span class="kd">var</span> <span class="nx">sign_relation</span> <span class="o">=</span> <span class="p">(</span><span class="nx">a</span><span class="o">*</span><span class="nx">b</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)?(</span><span class="dl">"</span><span class="s2">equal</span><span class="dl">"</span><span class="p">):(</span><span class="dl">"</span><span class="s2">different</span><span class="dl">"</span><span class="p">);</span>
		<span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">sign_relation</span><span class="dl">"</span><span class="p">).</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">Signs are </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">sign_relation</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="nt">&lt;/script&gt;</span>
  a = <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"textbox"</span> <span class="na">id=</span><span class="s">"a"</span> <span class="na">value = </span><span class="s">"0"</span> <span class="na">onkeyup = </span><span class="s">"compute_sign_relation()"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;br</span> <span class="nt">/&gt;</span>
  b = <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"textbox"</span> <span class="na">id=</span><span class="s">"b"</span> <span class="na">value = </span><span class="s">"0"</span> <span class="na">onkeyup = </span><span class="s">"compute_sign_relation()"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;br</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">type=</span><span class="s">"label"</span> <span class="na">id=</span><span class="s">"sign_relation"</span><span class="nt">/&gt;&lt;/div&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span></code></pre></figure>

</div>

<p>אין ממש צורך לקרוא את הכל - שורת המפתח המעניינת פה היא זו:</p>

<div class="code-block">

<figure class="highlight"><pre><code class="language-html" data-lang="html">sign_relation = (a*b &gt;= 0)?("equal"):("different")</code></pre></figure>

</div>

<p>מה הולך פה? יש כאן שימוש ב<strong>אופרטור הטרנרי</strong> (“טרנרי” פירושו “על שלושה ערכים”). זה אופרטור שמקבל שלושה קלטים, כאשר בין הראשון לשני מפריד סימן שאלה ובין השני לשלישי מפרידות נקודותיים. הקלט הראשון אמור להיות ערך בוליאני, אבל שני האחרים יכולים להיות מה שתרצו. כך שהפעלה של האופרטור באופן כללי נראית כך:</p>

<div class="code-block">

<figure class="highlight"><pre><code class="language-html" data-lang="html">CONDITION ? VAR_TRUE : VAR_FALSE</code></pre></figure>

</div>

<p>אם התנאי CONDITION הוא True, אז האופרטור יחזיר את הערך של VAR_TRUE. אם התנאי הוא False, אז האופרטור יחזיר את VAR_FALSE.</p>

<p>למה לעשות את זה כך? למה לא להשתמש במשפט תנאי? ובכן, ההבדל המהותי הוא שמשפט תנאי הוא Statement, כלומר פקודה שצריכה לעמוד בשורה משל עצמה; לעומת זאת, האופרטור הטרנרי הוא Expression - ניתן לשלב אותו כחלק משורות פקודה גדולות יותר. בהמשך נראה (בתקווה) סיטואציות שבהן משמעותית יותר נוח להשתמש בו מאשר במשפט תנאי בשורה נפרדת (אבל שלא יהיה ספק - מדובר על עניין של נוחות נטו ולא משהו מעבר לכך).</p>

<p>כדאי להעיר כי כמובן, האופרטור הטרנרי אינו המצאה של ג’אווהסקריפט ויש אותו בשלל שפות נוספות, ובפרט ברובי (דווקא בפייתון - שנחשבת לשפה ידידותית מאוד - לא היה אותו במשך פרק זמן ארוך, וכיום יש אותו אבל עם תחביר שונה מזה שהצגתי כאן).</p>

<p><strong>בעיות מס' 6 ו-7</strong></p>

<p>בבעיה מס’ 6 הקלט הוא צלעות של משולש, ויש להוציא לפלט הודעה האם הוא שווה צלעות או לא. בבעיה מס’ 7 הקלט הוא צלעות משולש ויש להוציא לפלט הודעה האם הוא שווה שוקיים או לא. אלו שתי בעיות דומות מאוד מבחינה רעיונית ולכן אני פותר את שתיהן יחד; יהיה יותר מאתגר לכתוב קוד שצריך לטפל בו זמנית בשלושת המקרים האפשריים: או שווה צלעות, או שווה שוקיים, או כלום.</p>

<p>הפתרון שלי ברובי יהיה שמרני משהו מבחינת הסגנון שלו, כדי להראות את הצורה ה”רגילה” שבה כותבים תנאים בשפות תכנות. בפרט אני הולך להכניס לתמונה את else שמטפל במה שקורה אם משפט תנאי <strong>לא</strong> מתקיים:</p>

<div class="code-block">

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="no">ARGV</span>

<span class="k">if</span> <span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="n">b</span> <span class="n">and</span> <span class="n">b</span> <span class="o">==</span> <span class="n">c</span><span class="p">)</span>
  <span class="nb">puts</span> <span class="s2">"Equilateral triangle"</span>
<span class="k">elsif</span> <span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="n">b</span> <span class="n">or</span> <span class="n">b</span> <span class="o">==</span> <span class="n">c</span> <span class="n">or</span> <span class="n">a</span> <span class="o">==</span> <span class="n">c</span><span class="p">)</span>
  <span class="nb">puts</span> <span class="s2">"Isosceles triangle"</span>
<span class="k">else</span>
  <span class="nb">puts</span> <span class="s2">"Not equilateral and not isosceles triangle"</span>
<span class="k">end</span></code></pre></figure>

</div>

<p>שימו לב לקליטת הפרמטרים בהתחלה - אני אפילו לא טורח להמיר אותם למספרים, כי הערכים המספריים לא חשובים - רק אם הם שווים או שונים, ואת זה אפשר לבדוק גם עבור מחרוזות. כמו כן, צורת הכתיבה נראית קצת מוזרה - בצד שמאל יש לי שלושה משתנים ובצד ימין יש לי רק משתנה אחד - אבל המשתנה הזה, ARGV, הוא מערך - רשימה של ערכים - וכשאני כותב שלושה משתנים מופרדים בפסיקים בצד ימין ומבצע השמה זו דרך מקוצרת לומר “קח את שלושת הערכים הראשונים מתוך ARGV והצב אותם ב-a,b,c”.</p>

<p>שאר התוכנית היא המחשה לשימוש סטנדרטי ב-if. המבנה הכללי של if בנוי כך: ראשית כתוב if ואז תנאי בוליאני; אחר כך יורדים שורה ומתחילים לכתוב פקודות שאמורות להתבצע אם ה-if התקיים, ובסופו של אוסף הפקודות הזה כותבים end אם רוצים פשוט לסיים. אבל לא תמיד רוצים לסיים - לפעמים רוצים להגיד “אם ה-if לא התבצע, אז בצע כך וכך”. לשם כך משתמשים ב-else. אלא שלפעמים רוצים להגיד “אם ה-if לא התבצע, בדוק תנאי חדש ואם הוא מתבצע, אז…”. ברובי משתמשים ב-elsif כדי לתאר את זה.</p>

<p>קרוב לודאי שאתם תוהים למה לא לכתוב else if כמו בני אדם; הסיבה לכך היא טכנית ודי מעיקה: אם נכתוב else ואז if, אז ה-if יפתח לנו בלוק פקודות חדש, ואז נצטרך לסיים אותו ב-end ואחר כך יבוא ה-end של בלוק הפקודות הראשון של ה-if הראשון. זה מסורבל ומבלבל ועשוי לגרום לבאגים מכאן ועד להודעה חדשה ולכן לא נוקטים בגישה הזו.</p>

<p>עכשיו אפשר להסתכל על התוכן של הקוד הספציפי הזה. מבחינה רעיונית נכון יותר לבדוק קודם אם המשולש שווה צלעות; אם הוא שווה צלעות ברור שהוא שווה שוקיים, אבל ממילא נרצה לומר שהוא שווה צלעות ולא שווה שוקיים. לכן הבדיקה הראשונה היא אם המשולש שווה צלעות. לשם כך מספיק לבדוק אם a שווה ל-b ואם b שווה ל-c, כי אם שני הזוגות הללו שווים, גם a יהיה שווה ל-c (זוהי תכונת <strong>הטרנזיטיביות</strong> של השוויון). יש לנו כאן שני תנאים לבדוק, ולכן מחברים ביניהם עם and, שהוא בעצמו אופרטור בוליאני שמקבל שני ערכים בוליאנים ומחזיר True אם שניהם True ואחרת מחזיר False. בשפות כמו C משתמשים ב-&amp;&amp; במקום ב-and עבור האופרטור הזה; ברובי מעדיפים את הכתיב היותר “מילולי”, ואני מעדיף זאת בעצמי.</p>

<p>אם התנאי הראשון לא התקיים, בודקים את התנאי הנדרש לכך שהמשולש יהיה שווה שוקיים, כלומר שיהיו שתי צלעות שוות. כאן יש לנו שלוש בדיקות לבצע, שמחוברות עם האופרטור “או” (or) שמחזיר True אם אחד משני הערכים שהוא מקבל הוא True (אגב, “ערך שאופרטור מקבל” נקרא “<strong>אופרנד</strong>”). אם התנאי הזה הצליח מוציאים הודעה מתאימה; אחרת אנחנו יודעים שהמשולש אינו שווה צלעות וגם אינו שווה שוקיים ואנחנו מוציאים הודעה מתאימה ומסיימים.</p>

<p>נעבור לגישה ההסקלית:</p>

<div class="code-block">

<figure class="highlight"><pre><code class="language-haskell" data-lang="haskell"><span class="n">triangle_type</span> <span class="o">::</span> <span class="kt">Int</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="kt">Int</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="kt">Int</span> <span class="o">-&gt;</span> <span class="kt">String</span><span class="p">))</span>
<span class="n">triangle_type</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span>
	<span class="o">|</span> <span class="n">a</span> <span class="o">==</span> <span class="n">b</span> <span class="o">&amp;&amp;</span> <span class="n">b</span> <span class="o">==</span> <span class="n">c</span>				<span class="o">=</span> <span class="s">"Equilateral"</span>
	<span class="o">|</span> <span class="n">a</span> <span class="o">==</span> <span class="n">b</span> <span class="o">||</span> <span class="n">b</span> <span class="o">==</span> <span class="n">c</span> <span class="o">||</span> <span class="n">a</span> <span class="o">==</span> <span class="n">c</span>	<span class="o">=</span> <span class="s">"Isosceles"</span>
	<span class="o">|</span> <span class="n">otherwise</span>						<span class="o">=</span> <span class="s">"Not equilateral and not isosceles"</span>


<span class="n">main</span> <span class="o">=</span> <span class="kr">do</span>
  <span class="n">putStrLn</span> <span class="s">"Please insert two numbers to compare their signs"</span>
  <span class="n">a</span> <span class="o">&lt;-</span> <span class="n">getLine</span>
  <span class="n">b</span> <span class="o">&lt;-</span> <span class="n">getLine</span>
  <span class="n">c</span> <span class="o">&lt;-</span> <span class="n">getLine</span>
  <span class="n">putStrLn</span> <span class="p">((</span><span class="n">triangle_type</span> <span class="p">(</span><span class="n">read</span> <span class="n">a</span><span class="p">)</span> <span class="p">(</span><span class="n">read</span> <span class="n">b</span><span class="p">)</span> <span class="p">(</span><span class="n">read</span> <span class="n">c</span><span class="p">))</span> <span class="o">++</span> <span class="s">" triangle"</span><span class="p">)</span></code></pre></figure>


</div>

<p>כאן אפשר לראות שימוש ב-&amp;&amp; בתור האופרטור and וב-|| בתור האופרטור or, במיטב המסורת של C. כמו כן, אפשר לראות איך צורת הכתיבה ההסקלית מטפלת בתנאים בצורה יותר נקיה: אין צורך ב-else וב-elsif למיניהם, אלא פשוט בתנאים שהולכים על הראשון מביניהם שמתקיים וחסל.</p>

<p>הקוד בג’אווהסקריפט הוא הסטנדרטי מכולם:</p>

<div class="code-block">

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;title&gt;</span>Targil 6-7<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
  <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>
    <span class="nx">check_triangle_type</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
		<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">a</span><span class="dl">"</span><span class="p">).</span><span class="nx">value</span><span class="p">);</span>
		<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">b</span><span class="dl">"</span><span class="p">).</span><span class="nx">value</span><span class="p">);</span>
		<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">c</span><span class="dl">"</span><span class="p">).</span><span class="nx">value</span><span class="p">);</span>
		<span class="kd">var</span> <span class="nx">triangle_type</span><span class="p">;</span>
		<span class="k">if</span> <span class="p">(</span><span class="nx">a</span> <span class="o">==</span> <span class="nx">b</span> <span class="o">&amp;&amp;</span> <span class="nx">b</span> <span class="o">==</span> <span class="nx">c</span><span class="p">){</span>
		  <span class="nx">triangle_type</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">Equilateral triangle</span><span class="dl">"</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">a</span> <span class="o">==</span> <span class="nx">b</span> <span class="o">||</span> <span class="nx">b</span> <span class="o">==</span> <span class="nx">c</span> <span class="o">||</span> <span class="nx">a</span> <span class="o">==</span> <span class="nx">c</span><span class="p">){</span>
		  <span class="nx">triangle_type</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">Isosceles triangle</span><span class="dl">"</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="k">else</span> <span class="p">{</span>
		  <span class="nx">triangle_type</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">Not equilateral and not isosceles triangle</span><span class="dl">"</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">triangle_type</span><span class="dl">"</span><span class="p">).</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">triangle_type</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="nt">&lt;/script&gt;</span>
  a = <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"textbox"</span> <span class="na">id=</span><span class="s">"a"</span> <span class="na">value = </span><span class="s">"0"</span> <span class="na">onkeyup = </span><span class="s">"check_triangle_type()"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;br</span> <span class="nt">/&gt;</span>
  b = <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"textbox"</span> <span class="na">id=</span><span class="s">"b"</span> <span class="na">value = </span><span class="s">"0"</span> <span class="na">onkeyup = </span><span class="s">"check_triangle_type()"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;br</span> <span class="nt">/&gt;</span>
  c = <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"textbox"</span> <span class="na">id=</span><span class="s">"c"</span> <span class="na">value = </span><span class="s">"0"</span> <span class="na">onkeyup = </span><span class="s">"check_triangle_type()"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;br</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">type=</span><span class="s">"label"</span> <span class="na">id=</span><span class="s">"triangle_type"</span><span class="nt">/&gt;</span>Equilateral triangle<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span></code></pre></figure>

</div>

<p>מבחינה מהותית זה אותו הקוד כמו זה של רובי, רק עם התחביר השונה של ג’אווהסקריפט שמזכיר יותר את התחביר של C, עם סוגריים מסולסלים לכל בלוק, ועם else if במקום elsif (כאן else if הוא בדיוק זה - פקודת else שאחריה בלוק בן פקודה אחת - ובלוק כזה לא צריך סוגריים מסולסלים סביבו - כשאותה פקודה היא בעצמה פקודת if שבאה עם בלוק משל עצמה). חשוב לציין שאני משתמש כאן במוסכמת קוד אפשרית אחת - הסוגר המסולסל השמאלי של בלוק if בא מייד לאחר הסוגריים של התנאי (אגב, הסוגריים הללו הם רשות ברובי אבל ברוב השפות הן חובה). אפשר היה גם לשים אותם בשורה נפרדת משל עצמם. מיותר לציין שהמריבות בשאלה אם נכון לשים את הסוגר המסולסל בסוף הסוגריים של ה-if או שהוא צריך להיות בשורה משל עצמו מגמדות את המלחמות של ליליפוט ובלפוסקו.</p>

  </div>

  <hr />
  <p>
    נהניתם? התעניינתם? אם תרצו, אתם מוזמנים לתת טיפ:
  </p>
  <a href='https://ko-fi.com/H2H5XFBQ' target='_blank'><img height='36' style='border:0px;height:36px;' src='https://az743702.vo.msecnd.net/cdn/kofi2.png?v=2' border='0' alt='Buy Me a Coffee at ko-fi.com' /></a><div class="PageNavigation">
    
      <a class="prev" href="/2013/06/30/p_vs_np_on_abelian_groups_ending/">&laquo; על P=NP מעל חבורות אבליות - סוף דבר</a>
    
    
      <a class="next" href="/2013/07/04/student_and_computer_8/">פרוייקט "התלמיד והמחשב", בעיה 8 &raquo;</a>
    
  </div><div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = 'http://gadial.net/2013/07/01/student_and_computer_5-6-7/';
      this.page.identifier = 'http://gadial.net/2013/07/01/student_and_computer_5-6-7/';
    };

    (function() {
      var d = document, s = d.createElement('script');

      s.src = 'https://not-precise.disqus.com/embed.js';

      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript><a class="u-url" href="/2013/07/01/student_and_computer_5-6-7/" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">לא מדויק</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">לא מדויק</li><li><a class="u-email" href="mailto:gadial@gmail.com">gadial@gmail.com</a></li><li>&copy; כל הזכויות שמורות לגדי אלכסנדרוביץ'</li>
        </ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://www.facebook.com/%D7%9C%D7%90-%D7%9E%D7%93%D7%95%D7%99%D7%A7-163347110378474"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#facebook"></use></svg> <span class="username">לא מדויק</span></a></li><li><a href="/feed.xml"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#rss"></use></svg> <span>RSS</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>בלוג על מתמטיקה ומדעי המחשב</p>
      </div>
    </div>

  </div>

</footer><script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script>window.jQuery || document.write('<script src="assets/js/jquery-slim.min.js"><\/script>')</script><script src="/assets/js/bootstrap.bundle.js"></script><!-- Default Statcounter code for New blog
http://www.gadial.net/ -->
<script type="text/javascript">
  var sc_project=5444342; 
  var sc_invisible=1; 
  var sc_security="4a89cbe4"; 
  </script>
  <script type="text/javascript"
  src="https://www.statcounter.com/counter/counter.js"
  async></script>
  <noscript><div class="statcounter"><a title="Web Analytics"
  href="https://statcounter.com/" target="_blank"><img
  class="statcounter"
  src="https://c.statcounter.com/5444342/0/4a89cbe4/1/"
  alt="Web Analytics"></a></div></noscript>
  <!-- End of Statcounter Code --></body>

</html>
