<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>מה כל הסיפור הזה עם הערך של פאי בתנ&#34;ך? - לא מדויק</title>
    <link rel="icon" type="image/x-icon" href="/blog/favicon.ico">
    
    
    <!-- KaTeX for math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>

    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', 'David', 'Tahoma', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
        }
        
        /* Top navigation bar */
        .top-nav {
            background: #2c3e50;
            padding: 15px 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .top-nav .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
        }
        
        .top-nav .site-title {
            font-size: 1.5em;
            font-weight: bold;
            color: white;
            text-decoration: none;
            white-space: nowrap;
        }
        
        .top-nav .nav-links {
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .top-nav .nav-links a {
            color: #ecf0f1;
            text-decoration: none;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background 0.2s;
            white-space: nowrap;
        }
        
        .top-nav .nav-links a:hover {
            background: #34495e;
        }
        
        .top-nav .search-box {
            display: flex;
            gap: 5px;
        }
        
        .top-nav .search-box input {
            padding: 5px 10px;
            border: none;
            border-radius: 4px;
            font-size: 0.9em;
            min-width: 150px;
        }
        
        .top-nav .search-box button {
            padding: 5px 15px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .top-nav .search-box button:hover {
            background: #2980b9;
        }
        
        /* Hamburger menu button */
        .menu-toggle {
            display: none;
            background: none;
            border: none;
            font-size: 1.8em;
            color: white;
            cursor: pointer;
            padding: 0;
            line-height: 1;
        }
        
        .menu-toggle:hover {
            opacity: 0.8;
        }
        
        /* Mobile responsive */
        @media (max-width: 768px) {
            .top-nav .nav-container {
                flex-direction: column;
                align-items: stretch;
            }
            
            .top-nav .site-title {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 0;
                padding: 10px 0;
            }
            
            .menu-toggle {
                display: block;
            }
            
            /* Hide nav links by default on mobile */
            .top-nav .nav-links {
                display: none;
                flex-direction: column;
                width: 100%;
                margin-top: 10px;
            }
            
            /* Show when expanded */
            .top-nav .nav-links.expanded {
                display: flex;
            }
            
            .top-nav .nav-links > a {
                text-align: center;
                padding: 12px;
                border-top: 1px solid rgba(255, 255, 255, 0.2);
            }
            
            .top-nav .search-box {
                width: 100%;
                flex-direction: column;
                margin-top: 10px;
                padding-top: 10px;
                border-top: 1px solid rgba(255, 255, 255, 0.2);
            }
            
            .top-nav .search-box input {
                width: 100%;
                margin-bottom: 5px;
                min-width: 0;
            }
            
            .top-nav .search-box button {
                width: 100%;
            }
        }
        
        /* Blockquote styling */
        blockquote {
            background: #f9f9f9;
            border-right: 5px solid #ccc;
            margin: 1.5em 10px;
            padding: 0.75em 16px;
            position: relative;
            font-style: italic;
        }
        
        blockquote:before {
            content: '"';
            position: absolute;
            top: -10px;
            right: 8px;
            font-size: 3.5em;
            color: #ccc;
            line-height: 1;
        }
        
        blockquote p {
            display: block;
            margin: 0 0 0.75em 0;
        }
        
        blockquote p:last-child {
            margin-bottom: 0;
        }
        
        
        body {
            line-height: 1.8;
        }
        
        .container {
            max-width: 800px;
            margin: 20px auto;
            background: white;
            padding: 40px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
        }
        
        header {
            margin-bottom: 40px;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 20px;
        }
        
        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .post-meta {
            color: #7f8c8d;
            font-size: 0.9em;
        }
        
        .post-meta .date {
            margin-left: 15px;
        }
        
        .post-meta .categories,
        .post-meta .tags {
            display: inline;
        }
        
        .post-meta .categories a,
        .post-meta .tags a {
            color: #3498db;
            text-decoration: none;
            margin: 0 5px;
        }
        
        .post-meta .categories a:hover,
        .post-meta .tags a:hover {
            text-decoration: underline;
        }
        
        article {
            font-size: 1.1em;
        }
        
        article h2 {
            margin-top: 30px;
            margin-bottom: 15px;
            color: #34495e;
            font-size: 1.8em;
        }
        
        article h3 {
            margin-top: 25px;
            margin-bottom: 12px;
            color: #34495e;
            font-size: 1.4em;
        }
        
        article p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        article ul, article ol {
            margin-right: 30px;
            margin-bottom: 15px;
        }
        
        article li {
            margin-bottom: 8px;
        }
        
        article code {
            background-color: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        
        article pre {
            background-color: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin-bottom: 20px;
            direction: ltr;
            text-align: left;
        }
        
        article pre code {
            background-color: transparent;
            padding: 0;
            color: inherit;
        }
        
        /* Image styles - responsive and contained */
        article img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 20px auto;
        }
        
        /* Math rendering styles */
        .math {
            direction: ltr;
        }
        
        span.math {
            direction: ltr;
        }
        
        /* Override RTL for KaTeX */
        .katex {
            direction: ltr;
            unicode-bidi: embed;
        }
        
        /* Force KaTeX content to wrap by overriding its internal structure */
        .katex-html {
            display: inline !important;
            white-space: normal !important;
        }
        
        .katex .base {
            display: inline !important;
            white-space: normal !important;
        }
        
        .katex .mord,
        .katex .mbin,
        .katex .mrel,
        .katex .mopen,
        .katex .mclose,
        .katex .mpunct,
        .katex .minner {
            display: inline !important;
            white-space: normal !important;
        }
        
        div.math {
            display: block;
            text-align: center;
            padding: 15px 0;
            direction: ltr;
        }
        
        /* RTL adjustments for code blocks */
        .highlight {
            direction: ltr;
            text-align: left;
        }
        
        footer {
            margin-top: 60px;
            padding-top: 20px;
            border-top: 1px solid #e0e0e0;
            text-align: center;
            color: #95a5a6;
            font-size: 0.9em;
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2em;
            }
            
            article {
                font-size: 1em;
            }
            
            /* Hide post navigation on mobile */
            .post-navigation {
                display: none;
            }
        }
        
        /* Post navigation */
        .post-navigation {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #e0e0e0;
            gap: 20px;
        }
        
        .post-navigation .nav-link {
            flex: 1;
            text-decoration: none;
            color: #2c3e50;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 5px;
            transition: background 0.2s;
        }
        
        .post-navigation .nav-link:hover {
            background: #e9ecef;
        }
        
        .post-navigation .nav-prev {
            text-align: right;
        }
        
        .post-navigation .nav-next {
            text-align: left;
        }
        
        .post-navigation .nav-label {
            font-size: 0.85em;
            color: #7f8c8d;
            display: block;
            margin-bottom: 5px;
        }
        
        .post-navigation .nav-title {
            font-weight: bold;
            font-size: 1.1em;
        }

    </style>
</head>
<body>
    <nav class="top-nav">
        <div class="nav-container">
            <div class="site-title">
                <a href="/blog/" style="color: white; text-decoration: none;">לא מדויק</a>
                <button class="menu-toggle" onclick="toggleMobileMenu()" aria-label="תפריט">
                    ☰
                </button>
            </div>
            <div class="nav-links" id="navLinks">
                <a href="/blog/">דף הבית</a>
                <a href="/blog/random.html">פוסט אקראי</a>
                <a href="/blog/post_list.html">כל הפוסטים</a>
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="חיפוש...">
                    <button onclick="searchPosts()">חפש</button>
                </div>
            </div>
        </div>
    </nav>
    
    
    <div class="container">
        <!-- Post Navigation -->
        
        <nav class="post-navigation">
            
            <a href="/blog/2024/02/24/sequences_and_series_of_functions/" class="nav-link nav-prev">
                <span class="nav-label">פוסט ישן יותר →</span>
                <span class="nav-title">סדרות וטורים של פונקציות</span>
            </a>
            

            
            <a href="/blog/2024/04/27/power_series/" class="nav-link nav-next">
                <span class="nav-label">← פוסט חדש יותר</span>
                <span class="nav-title">טורי חזקות ורדיוס התכנסות</span>
            </a>
            
        </nav>
        
        
        <header>
            <h1>מה כל הסיפור הזה עם הערך של פאי בתנ&#34;ך?</h1>
            <div class="post-meta">
                <span class="date">2024-03-14</span>
                
                <span class="categories">
                    | קטגוריות:
                    
                    <a href="/categories/מספרים.html">מספרים</a>
                    
                </span>
                
                
                <span class="tags">
                    | תגיות:
                    
                    <a href="/tags/פאי.html">פאי</a>
                    
                    <a href="/tags/תנך.html">תנך</a>
                    
                </span>
                
            </div>
        </header>
        
        <article>
            <h2>מבוא</h2>

<p>אחד מהכוכבים הגדולים של המתמטיקה הוא המספר הקבוע פאי, <span class="math">\(\pi\)</span>, שמוגדר בתור היחס הקבוע בין היקף של מעגל לקוטר שלו. זה מספר ששווה בערך ל-<span class="math">\(3.14159\)</span>, אבל אני אומר "בערך" כי <span class="math">\(\pi\)</span> הוא מה שנקרא "מספר אי רציונלי" - מספר שאם ננסה לכתוב בבסיס עשרוני נזדקק לאינסוף ספרות, בלי מחזוריות כלשהי. זה אומר שכשעובדים עם פאי משתמשים <strong>בקירוב</strong> שלו, וזה יוצר שני סוגים מעניינים של קירובים - ראשית, קירובים שהם מספיק טובים כדי לעבוד איתם בפועל, ושנית - קירובים שהם <strong>ממש טובים</strong> בשלל מובנים שונים ומשונים.</p>
<p>אי שם בעבר הרחוק, עוד לפני שהתחלתי ללמוד מתמטיקה בצורה מסודרת, נתקלתי ב-<span class="math">\(\pi\)</span> בתוך ויכוח שכבר אז נראה לי תמוה במיוחד, בין אנטי-דתיים שמנסים לשכנע את העולם שהתנ"ך כולו הוא שטות אחת גדולה, והמתנגדים להם שמנסים לשכנע שבתנ"ך יש גאונות שמיימית ממש. כל המהומה הזו התרכזה סביב פסוק אחד בספר מלכים, שאם קוראים אותו כפשוטו נראה שהוא אומר ש-<span class="math">\(\pi=3\)</span>, אבל יש קונץ מרהיב שאם משתמשים בו אפשר לטעון שהפסוק מקודד קירוב <strong>ממש טוב</strong> של פאי, את הקירוב <span class="math">\(\frac{333}{106}=3.14151\ldots\)</span> שמדויק בחמש הספרות הראשונות שלו.</p>
<p>מאחורי הויכוח הבאמת מיותר הזה מסתתרים שני עולמות מעניינים באמת. עולם אחד הוא העולם המתמטי של קירובים לפאי ובאופן כללי קירובים לדברים, שאני הולך לנצל את הפוסט הזה כדי לתת טעימה קטנה ממנו; העולם השני הוא העולם ההלכתי שכבר דן בנושא הפסוק הזה מכל זווית אפשרית בערך ואני בהחלט לא הולך להיכנס לעובי הקורה של כל מה שהולך שם כי עבורי, שמגיע מגישה מתמטית ולא דתית, רוב העיסוק בנושא נראה כמו נסיון לענות על שאלה שאין צורך לשאול בכלל. אבל אני אנסה להבהיר מה השאלה וקצת מהרעיון הכללי של הפתרונות.</p>
<p>המטרה של הפוסט הזה היא לא להתנגח באף אחד (טוב, אולי חוץ מאלו שחושבים שה-<span class="math">\(\pi=3\)</span> הוא תירוץ לומר שהתנ"ך הוא שטות) אלא <strong>לראות דברים מעניינים</strong>, ובאופן די משמח הסיפור הזה נותן לנו תירוץ לראות כאלו.</p>
<p>בואו נתחיל להיכנס לפרטים.</p>
<h2>חלק ראשון - מה בכלל הבעיה</h2>

<p>מקור כל המהומה הוא פסוק כ"ג בספר מלכים א', פרק ז'. זה פרק לא מרתק במיוחד (עבורי) שמדבר על בניית בית המקדש הראשון בידי שלמה ונכנס לפרטים טכניים למדי. אחד מהדברים שנבנו במקדש הוא מאגר מים מנחושת שנקרא "הים" והוא מתואר כך: </p>
<blockquote>
<p>ויעש את הים מוצק עשר באמה משפתו עד שפתו עגל סביב וחמש באמה קומתו וקוה [וקו] שלשים באמה יסב אתו סביב</p>
</blockquote>
<p>הים הוא "עגול סביב", כלומר בקריאה הפשוטה של הפסוק אנחנו חושבים עליו בתור עיגול. המרחק "משפתו עד שפתו" הוא 10 (10 אמה, אבל כשהמדידות יהיו באמות לא אטרח לציין את זה אלא אם תהיה לי סיבה טובה) - כאן הכוונה היא ככל הנראה <strong>לקוטר</strong>, שהוא קו בעיגול שמתחיל בשפה אחת, <strong>עובר דרך מרכז העיגול</strong> ומגיע לשפה בצד השני. זה הקו הארוך ביותר בעיגול שעובר משפה אל שפה (אם לא חייבים לעבור דרך המרכז, מקבלים קווים קצרים יותר)</p>
<p><img src="/blog/img/2024/pi_in_bible.png" alt=""/></p>
<p>הגובה של הים הוא 5, אבל זה לא מעניין אותנו כל כך אלא ההמשך - ה"קו" (שנכתב בתור "קוה") שסובב את העיגול - כלומר, החלק החיצוני שלו, מה שנקרא <strong>ההיקף</strong> של העיגול הוא באורך 30.</p>
<p>עכשיו, מה אמרנו על <span class="math">\(\pi\)</span>? זה היחס בין <strong>היקף</strong> מעגל ל<strong>קוטר</strong>. מה שמקבלים כשמחלקים אחד בשני. במקרה שלנו ההיקף הוא 30 והקוטר הוא 10 ולכן <span class="math">\(\pi=3\)</span> עד כאן הכל טוב, אבל הנה הצרות מתחילות, כי העניין הוא זה: בגאומטריה אוקלידית (שהיא הגאומטריה שלנו ביומיום), <strong>כל</strong> מעגל שנצייר יהיה בעל בדיוק אותו יחס בין ההיקף לקוטר שלו - זה מספר <strong>קבוע</strong>. הוא לא תלוי בעיגול ספציפי זה או אחר. ובכולם הוא יוצא משהו שהוא לא 3 אלא כאמור בערך <span class="math">\(3.14159\)</span>. לפעמים אנחנו נוהגים לכתוב <span class="math">\(\pi=3.14159\ldots\)</span> עם שלוש נקודות כדי להגיד "וכאן הספרות עדיין לא נגמרות".</p>
<p>אם כן, שוד ושבר, קיבלנו שהפסוק בתנ"ך <strong>לא מדויק</strong> מבחינה מתמטית! זו הנקודה שעליה שונאי התנ"ך עורכים את החגיגות שלהם, ואני חייב להודות שלא היה לי אז ועדיין אין לי היום שמץ של מושג מה הם רוצים, פשוט כי מבחינתי אין שום סיבה שהתנ"ך <strong>כן יהיה מדויק</strong> בנקודה הזו. אני חושב שבמובן מסוים חלק נכבד מהעיסוק המתמטי הוא בדיוק במתן אפשרות לנו <strong>לא להיות מדויקים</strong> כי אנחנו יודעים ש"עמוק בפנים" הכל כן בסדר ואנחנו מבינים דברים עד הסוף, אבל כדי שאפשר יהיה לעשות דברים בחיי היום יום אי אפשר להסתרבל עד אין קץ עם דיוק מוחלט, אז מזהים איך אפשר לוותר על הדיוק בלי שיגרם מכך נזק. השימושיות של המתמטיקה בתחומים כמו פיזיקה, למשל, מתבססת בדיוק על היכולת הזו.</p>
<p>אם, נאמר, הקוטר של העיגול אצל שלמה היה 10 ואנחנו רוצים להיות "מדויקים" אז ההיקף היה צריך להיות <span class="math">\(31.4159\ldots\)</span>. אז מה התנ"ך היה צריך לעשות? לומר "וקוה שלשים ואחד ועשירית אמה"? בשביל מה זה טוב, בעצם? יודעים מה, אני מנחש שהגובה של הים אצל שלמה היה בכלל 4.96 אמה והסופר המקראי עיגל את זה ל-5. ובכלל, איך ידעו מה ההיקף? צריך למדוד. האם מכשירי המדידה היו מדויקים? אולי המודד עצמו בחר לתת קירוב?</p>
<p>אפשר כמובן לומר שזו לא סתם איזו באר אקראית שמישהו בנה איפה שהוא. זה <strong>בית המקדש של שלמה</strong>, הכל פה היה מחושב ומדוקדק עד הפיפס האחרון. עוד טיעון שקראתי הוא שמכיוון שכותב ספר מלכים היה (על פי המסורת, לא על פי הידע ההיסטורי שלנו) הנביא ירמיהו, הוא מחוייב לרמת דיוק גבוהה. כך <a href="https://daf-yomi.com/Data/UploadedFiles/DY_Item/21454-sFile.doc">במאמר של ניסן יואלי</a> שדווקא מגיע מהגישה הפרו-דתית: </p>
<blockquote>
<p>הנביא הוא נביא אמת אין אצלו "בערך". נביא שלא דייק במשהו בנבואתו הוא נביא שקר ועונשו מיתה.</p>
</blockquote>
<p>או...קיי... על זה אומרים אצלנו, That escalated quickly. עכשיו תראו, במסגרת התחקיר שלי לפוסט הזה נתקלתי גם במאמרים מנקודת מבט דתית שפחות מתרגשים מהסיפור הזה. זה באמת ויכוח פנים דתי שמשתמש בטיעונים דתיים שלא רלוונטיים עבורי. אבל מה שנחמד הוא שהתחושה שחייבים לתת הסבר מניבה רעיונות יצירתיים, למשל השערות שונות ומשונות על הצורה המדויקת של הים. הנה <a href="https://daf-yomi.com/Data/UploadedFiles/DY_Item/21447-sFile.pdf">מאמר יפה של דוד אימבר</a> שנכנס לפרטים ויש בו ציורים. במאמר הזה גם אפשר לראות שבעצם העניין פה הוא לא רק הפסוק שהבאתי, אלא גם מערכת אילוצים נוספת שצצה בעקבות פסוק כ"ו בהמשך הפרק: </p>
<blockquote>
<p>ועביו טפח ושפתו כמעשה שפת כוס פרח שושן אלפים בת יכיל</p>
</blockquote>
<p>כלומר יש לנו כאן גם מידה לעובי של הים, וגם את הקיבולת שלו. העובי הוא "טפח" והקיבולת היא "אלפים בת". להבנתי הדלה, "אלפים בת" מתורגם אל 450 אמה מעוקבת, ואילו "טפח" בהקשר הספציפי הזה מתורגם אל שישית (או שמא חמישית?) אמה. חז"ל עסקו בזה במסכת עירובין יד ב, אבל כפי שאפשר להבין זה לא סיים את הסיפור בצורה חד משמעית. עכשיו, למרות שאני אישית בא מגישת "מי שזה לא יהיה שכתב את זה פשוט לא חש צורך להיות יותר מדויק מזה", ההסברים שמתארים צורות אפשריות של הים הם די נחמדים בעיני. רק צריך לזכור, כמובן, שלא משנה כמה ההסבר יהיה טוב, המספרים אף פעם לא יהיו <strong>מדויקים</strong> כי זה פשוט בלתי אפשרי להיות מדויק כשפאי מעורב בנושא אבל את כל הגדלים כותבים עם מספרים טבעיים. אז אפשר לומר "אם הנביא אומר <span class="math">\(\pi=3\)</span> צריך להרוג אותו אבל אם הוא אומר <span class="math">\(\pi=3.14159\)</span> הכל טוב", אבל אני לא כל כך מבין את ההבדל של חיים ומוות בין שני הקירובים.</p>
<p>העניין הוא ש<strong>מעבר לכל הדיון ההלכתי</strong> יש עוד משהו, שאני קורא לו "קוריוז" או "תעלול" ואחרים יקראו לו "רמז".</p>
<h2>חלק שני, שבו קירוב טוב צץ באופן די מפתיע</h2>

<p>את מה שאני אתאר עכשיו ראיתי שמייחסים בעיקר לגאון מוילנא (הגר"א) שחי במאה ה-18 ובנוסף להשכלה התורנית שלו היה גם בעל השכלה מדעית רחבה. אבל מצד שני, ראיתי גם טענות שהגר"א מעולם לא כתב את הדבר הזה והאזכור הראשון שלו הוא כנראה במאמר של הרב מתתיהו מונק מ-1962 ("שלוש בעיות הנדסיות בתנ"ך ובתלמוד", סיני, נא. תשכ"ב). מי שזה לא יהיה שגילה את זה, אני רוצה להצדיע לו - זה באמת קוריוז חמוד ביותר ואני תוהה איך הוא שם לב אליו.</p>
<p>הנה הטיעון כפי שנתקלתי בו אי-אז. הבה ונחזור לפסוק מספר מלכים: </p>
<blockquote>
<p>ויעש את הים מוצק עשר באמה משפתו עד שפתו עגל סביב וחמש באמה קומתו וקוה [וקו] שלשים באמה יסב אתו סביב</p>
</blockquote>
<p>מה זה ה"קו" שמופיע בסוגריים? זה מה שנקרא בהקשר של התנ"ך "קרי וכתיב" שהוא חלק מהמסורה של התנ"ך. ה"כתיב" הוא ה"קוה" שמופיע בטקסט ואילו ה"קרי" הוא ה"קו" - זו הדרך שבה נהוג לקרוא את המילה (כמו כן, בדברי הימים ב' פרק ד' פסוק ב' מופיע אותו הפסוק ממלכים עם הכתיב "קו").</p>
<p>עכשיו, מה הערך הגימטרי של הקרי והכתיב? כלומר, כאשר נותנים ערך מספרי לאותיות על פי שיטת הספירה המקובלת בספרות עבריות? ק' הוא 100, ו' הוא 6 וה' הוא 5, כך ש"קוה" שווה 111 ואילו "קו" שווה 106. והנה התעלול: בואו ניקח את הערך <span class="math">\(3\)</span> להיקף חלקי הקוטר שאפשר להסיק מיידית מהפסוק, נכפול אותו ב-111, נחלק אותו ב-106 ונקבל</p>
<p><span class="math">\(3\cdot\frac{111}{106}=\frac{333}{106}=3.14151\ldots\)</span></p>
<p>וזה קירוב טוב מאוד של <span class="math">\(\pi\)</span>! אבל למעשה, זה לא סתם קירוב "טוב", זה קירוב <strong>פנטסטי</strong> של <span class="math">\(\pi\)</span>, כזה שאפשר לתת הצדקה מתמטית לכמה שהוא טוב. מבחינה מתמטית זה כנראה החלק הכי מעניין (עבורי) בפוסט הזה, אז בואו נסביר אותו עד הסוף (מה שכנראה גם יסייע לנו להבין שיש קירוב <strong>הרבה יותר</strong> טוב שממש קרוב אליו).</p>
<p>ראשית, בואו נבהיר למה בכלל צריך "לקרב" את פאי, במחיר של קצת לחזור על דברים שאמרתי קודם: מספר כמו <span class="math">\(\frac{333}{106}\)</span> נקרא <strong>שבר</strong>. הוא מורכב משני מספרים שלמים שמחלקים אותם אחד בשני - זה שלמעלה נקרא <strong>המונה</strong> (333 אצלנו) וזה שלמטה נקרא <strong>המכנה</strong> (106 אצלנו). אנחנו כמובן מכירים שברים כבר מגיל צעיר למדי ורגילים לעשות איתם דברים גם בחיי היומיום. במתמטית נפוצה אנחנו קוראים להם <strong>מספרים רציונליים</strong> (כאן ה"רציו" מסמל יחס, ratio, לא "הגיון") וזה שם קצת פחות נפוץ במציאות. מה שקצת פחות ברור בחיי היומיום הוא <strong>שלא כל המספרים הם כאלו</strong>. ואני לא מתכוון במובן של "42 הוא לא שבר" (הוא כן! למשל הוא <span class="math">\(\frac{42}{1}\)</span> או <span class="math">\(\frac{84}{2}\)</span> וכדומה) אלא במובן זה שיש מספרים שאי אפשר לכתוב בתור שבר. הדוגמא המפורסמת ביותר היא <span class="math">\(\sqrt{2}\)</span>, והצגתי הוכחה לזה <a href="https://gadial.net/2007/06/11/irrational_numbers/">כאן</a>, אבל גם <span class="math">\(\pi\)</span> הוא כזה: פשוט <strong>לא קיימים</strong> שני מספרים שלמים <span class="math">\(a,b\)</span> כך ש-<span class="math">\(\pi=\frac{a}{b}\)</span>. לכן כל נסיון לתאר את <span class="math">\(\pi\)</span> עם שבר יהיה רק <strong>קירוב</strong>, ולכן מעניין מה הקירוב <strong>הטוב ביותר</strong> עם שבר שקיים עבור פאי.</p>
<p>אלא שכאן הסיפור מסתבך - אפשר למצוא קירובים <strong>טובים כרצוננו</strong>. אם אני ארשה למכנה של השבר של המכנה לגדול ולגדול אני אוכל לקבל סדרה של קירובים שהולכת ומשתפרת, כך ש"השגיאה" (הערך המוחלט של ההפרש בין הקירוב ובין <span class="math">\(\pi\)</span>) תקטן עוד ועוד (טכנית: לכל <span class="math">\(\varepsilon>0\)</span> יהיה קירוב שעבורו השגיאה תהיה קטנה מ-<span class="math">\(\varepsilon\)</span>). הנה דוגמא לסדרה אפשרית אחת כזו: <span class="math">\(\frac{3}{1},\frac{31}{10},\frac{314}{100},\frac{3141}{1000},\ldots\)</span> וכן הלאה. זו בעצם כתיבה בתור שבר של המספרים <span class="math">\(3,3.1,3.14,3.141\)</span>, כלומר בכל פעם אני מוסיף עוד ספרה אחרי הנקודה העשרונית ולכן הדיוק שלי משתפר.</p>
<p>העניין הוא שהקירובים הללו הם <strong>לא טובים במיוחד</strong>. בואו נסתכל למשל על הקירוב <span class="math">\(\frac{314}{100}\)</span>. ה"שגיאה" של הקירוב הזה היא <span class="math">\(\left|3.14151\ldots-3.14\right|=0.00151\ldots\)</span>, נראה לא רע! אבל עכשיו בואו נסתכל על קירוב אחר, <span class="math">\(\frac{22}{7}=3.1428\ldots\)</span>. אם נחשב, נקבל <span class="math">\(\left|\pi-\frac{22}{7}\right|=0.00126\ldots\)</span> וזה קירוב טוב <strong>יותר</strong> מה-<span class="math">\(0.00151\ldots\)</span> שנותן <span class="math">\(\frac{314}{100}\)</span>. העניין הוא ש-<span class="math">\(\frac{22}{7}\)</span> אמור לכאורה להיות קירוב "גס" הרבה יותר, כי מה קורה כאן? ב-<span class="math">\(\frac{22}{7}\)</span> אנחנו לוקחים חלקים בגודל <span class="math">\(\frac{1}{7}\)</span> ומחברים אותם זה לזה עד שאנחנו קרובים אל <span class="math">\(\pi\)</span>. לעומת זאת ב-<span class="math">\(\frac{314}{100}\)</span> אנחנו לוקחים חלקים מגודל <span class="math">\(\frac{1}{100}\)</span> ומחברים אותם זה לזה. <span class="math">\(\frac{1}{100}\)</span> הוא מספר הרבה יותר קטן מ-<span class="math">\(\frac{1}{7}\)</span>; אפשר היה לצפות שקירוב שמתבצע בעזרת חלקים קטנים יותר יהיה מדויק יותר, אבל הנה, זה לא בהכרח המצב.</p>
<p>איך אפשר למצוא קירובים טובים יחסית בקלות? ובכן, זה קל אם יש לנו מחשב וקירוב <strong>מאוד טוב</strong> של פאי, למשל <span class="math">\(3.1415926535897932\)</span>. הנה שיטה פשוטה ממש לעשות את זה: לכל <span class="math">\(b\ge1\)</span> טבעי, אני רוצה למצוא את <span class="math">\(a\)</span> שעבורו <span class="math">\(\frac{a}{b}\)</span> הוא הקירוב הכי טוב ל-<span class="math">\(\pi\)</span> מבין כל הקירובים עם מכנה <span class="math">\(b\)</span>. אני פשוט אבדוק ערכים שונים של <span class="math">\(a\)</span>, אחשב את <span class="math">\(\left|\frac{a}{b}-\pi\right|\)</span> (באמצעות הקירוב של <span class="math">\(\pi\)</span> שיש לי) ואקח מהם את הכי טוב. החוכמה היא לא לבדוק יותר מדי ערכים של <span class="math">\(a\)</span>, אז אפשר לעשות את הדבר הבא: להתחיל מ-<span class="math">\(a=3b\)</span>, כלומר כך ש-<span class="math">\(\frac{a}{b}=3\)</span> נותן לנו קירוב סביר של <span class="math">\(\pi\)</span> מלמטה. עכשיו נתחיל להגדיל את <span class="math">\(a\)</span> ב-1 בכל פעם, עד שבסוף נגיע לשלב שבו <span class="math">\(\frac{a}{b}\)</span> הוא לראשונה <strong>גדול יותר</strong> מ-<span class="math">\(\pi\)</span>. זה אומר ש-<span class="math">\(\frac{a-1}{b}\)</span> היה הקירוב הכי טוב של <span class="math">\(\pi\)</span> מלמטה, ו-<span class="math">\(\frac{a}{b}\)</span> הוא הקירוב הכי טוב של <span class="math">\(\pi\)</span> מלמעלה שנוכל להשיג עם מכנה <span class="math">\(b\)</span>. נבדוק מי משניהם יותר טוב (כלומר, מקטין יותר את <span class="math">\(\left|\frac{a}{b}-\pi\right|\)</span>) וניקח אותו. למשל, עבור <span class="math">\(b=7\)</span> אנחנו מתחילים מ-<span class="math">\(a=21\)</span> ועבורו מקבלים את הקירוב מלמטה <span class="math">\(\frac{21}{7}=3\)</span>. הערך הבא בתור, <span class="math">\(\frac{22}{7}=3.1428571428\ldots\)</span> כבר גדול יותר מ-<span class="math">\(\pi\)</span>, אבל זהה ל-<span class="math">\(\pi\)</span> בשלוש הספרות הראשונות ולכן קירוב טוב יותר מ-<span class="math">\(\frac{21}{7}\)</span>, כך שקיבלנו את <span class="math">\(\frac{22}{7}\)</span> בתור הקירוב הכי טוב עם מכנה <span class="math">\(7\)</span>.</p>
<p>אם ננסה את אותו תעלול עם <span class="math">\(b=8\)</span> צפויה לנו אכזבה. אנחנו נתחיל מ-<span class="math">\(\frac{24}{8}=3\)</span>, נעלה אל <span class="math">\(\frac{25}{8}=3.125\)</span> ומשם נגיע אל <span class="math">\(\frac{26}{8}=3.25\)</span> - אלו הקירובים מלמעלה ומלמטה, ושניהם פחות טובים מ-<span class="math">\(\frac{22}{7}\)</span>. לכן אם אני שואל את השאלה "מה הקירוב הכי טוב ל-<span class="math">\(\pi\)</span> מהצורה <span class="math">\(\frac{a}{b}\)</span> כאשר <span class="math">\(b\le8\)</span>?" התשובה תהיה <span class="math">\(\frac{22}{7}\)</span>. בצורה הזו אני יכול להגדיר סדרה של קירובים ל-<span class="math">\(\pi\)</span> שהם הכי טובים שאפשר עם מכנה שקטן או שווה למכנה שלהם. אני אקבל את הסדרה הבאה:</p>
<p><span class="math">\(\frac{3}{1},\frac{13}{4},\frac{16}{5},\frac{19}{6},\frac{22}{7},\frac{179}{57},\frac{201}{64},\frac{223}{71},\frac{245}{78},\frac{267}{85},\frac{289}{92},\frac{311}{99},\frac{333}{106},\frac{355}{113},\frac{52163}{16604},\ldots\)</span></p>
<p>הופה, רגע, מה הולך פה? שימו לב לקפיצה האסטרונומית בין <span class="math">\(\frac{355}{113}\)</span> אל <span class="math">\(\frac{52163}{16604}\)</span>. הקפיצה הזו מראה לנו ש-<span class="math">\(\frac{355}{113}=3.1415929\ldots\)</span> הוא קירוב <strong>מדהים לחלוטין</strong>, כזה שלוקח המון, המון, המון זמן אחריו למצוא קירוב טוב ממנו. הקירוב שהגיע ממש לפניו, <span class="math">\(\frac{333}{106}=3.1415094\ldots\)</span> גם הוא קירוב טוב, אבל לא באותה רמה. ב-<span class="math">\(\frac{355}{113}\)</span> יש דיוק של 7 ספרות (<span class="math">\(3.141592\)</span>) וב-<span class="math">\(\frac{333}{106}\)</span> יש "רק" דיוק של 5 ספרות (<span class="math">\(3.1415\)</span>). עדיין, אני רוצה להגן על <span class="math">\(\frac{333}{106}\)</span> ולטעון שגם הוא קירוב די מיוחד, ולצורך כך אני אתאר את הדבר הכי מוזר שנשמע עליו בפוסט הזה - ובהתאם, הדבר שאני הכי אוהב פה: הייצוג של <span class="math">\(\pi\)</span> בתור <strong>שבר משולב</strong>. נקדיש לזה חלק נפרד לטובת אלו שרוצים פשוט לדלג.</p>
<h2>חלק שלישי, שבו שברים משולבים הם מגניבים</h2>

<p>בואו נחזור לרגע לאופן שבו אני מציג את <span class="math">\(\pi\)</span> בדרך כלל: <span class="math">\(\pi=3.141\ldots\)</span>. מה שיש לנו כאן הוא ייצוג של <span class="math">\(\pi\)</span> באמצעות סדרה של ספרות שבעצם מגדירה לנו סדרה של <strong>קירובים</strong> שהולכים ומתקרבים אל <span class="math">\(\pi\)</span>: הסדרה <span class="math">\(3,3.1,3.14\)</span> וכן הלאה. כל קירוב כזה בעצם מתקבל באמצעות <strong>חישוב</strong> פשוט שמשתמש בספרות: למשל, <span class="math">\(3.14\)</span> הוא בעצם <span class="math">\(3\cdot10^{0}+1\cdot10^{-1}+4\cdot10^{-2}\)</span>. כל זה טבעי ופשוט לנו (אני מקווה) אבל חשוב לי להציג את זה ככה כי אני הולך עכשיו להציג עוד שיטה שבה מייצגים את <span class="math">\(\pi\)</span> באמצעות סדרה של ספרות שבעצם מגדירה לנו סדרה של קירובים שהולכים ומתקרבים אל <span class="math">\(\pi\)</span> שמתקבלים באמצעות חישוב פשוט, אבל הדרך הזו תהיה מוזרה למדי למי שמעולם לא ראה אותה. </p>
<p>הסיבה שבגללה הדרך הזו מעניינת היא כי כל הקירובים שהיא נותנת יהיו <strong>טובים ביותר</strong>. מה זה אומר? כזכור, ראינו את סדרת הקירובים הטובים הבאה של <span class="math">\(\pi\)</span>:</p>
<p><span class="math">\(\frac{3}{1},\frac{13}{4},\frac{16}{5},\frac{19}{6},\frac{22}{7},\frac{179}{57},\frac{201}{64},\frac{223}{71},\frac{245}{78},\frac{267}{85},\frac{289}{92},\frac{311}{99},\frac{333}{106},\frac{355}{113},\frac{52163}{16604},\ldots\)</span></p>
<p>אף אחד מהקירובים שמתקבל מהפיתוח העשרוני<span class="math">\(\pi=3.141\ldots\)</span> לא נמנה על הסדרה הזו, חוץ מה-3 בהתחלה (בניסוח אחר: אין בסדרה הזו אף קירוב חוץ מ-3 שבו המכנה הוא חזקה של 10). לעומת זאת, בשיטה שאציג עכשיו <strong>מובטח</strong> לנו שכל קירוב שמתקבל שייך לסדרה הזו - אבל לא כולם יופיעו בה; אנחנו נראה שהקריטריון שמבטיח שקירוב יופיע בסדרה הוא שהקירוב הזה הוא "אקסטרה משובח" (אבל כן יכולים להופיע בסדרה הזו קירובים מעולים שהם קצת פחות טובים).</p>
<p>ובכן, זה נראה ככה:</p>
<p><span class="math">\(\pi=3+\frac{1}{7+\frac{1}{15+\frac{1}{1+\ddots}}}\)</span></p>
<p>מה הולך פה? יש ביטוי מהצורה <span class="math">\(3\)</span> ועוד שבר שהמונה שלו הוא 1 אבל המכנה שלו מסובך: גם המכנה הוא מהצורה "משהו ועוד 1 חלקי משהו מסובך" וכך זה ממשיך עוד ועוד עד לנצח. בגלל שקשה לכתוב את זה ככה, לרוב מסתפקים בלכתוב את סדרת הספרות שמופיעות בתוך המפלצת הזו, לא כולל ה-1-ים שבמונה. כלומר כותבים משהו כמו</p>
<p><span class="math">\(\left[3;7,15,1,\ldots\right]\)</span></p>
<p>איפה פה סדרת הקירובים שהבטחתי? ובכן, אפשר לקחת את הסדרה של ה"הספרות" ופשוט לעצור אותה אחרי מספר צעדים סופי ולחשב מה מקבלים על פי כללי החשבון הרגילים של שברים. בואו נעשה את זה.</p>
<p>ראשית, אם לוקחים רק את 3, מקבלים רק את 3, שזה אחלה קירוב אבל לא כזה מעניין. מה קורה אם לוקחים את 3 ואת 7? מקבלים את הביטוי</p>
<p><span class="math">\(3+\frac{1}{7}=\frac{21+1}{7}=\frac{22}{7}\)</span></p>
<p>הופה! קיבלנו את <span class="math">\(\frac{22}{7}\)</span> שכבר ראינו לא מעט בפוסט הזה. עכשיו שאנחנו בשוונג, בואו נעשה עוד אחד:</p>
<p><span class="math">\(3+\frac{1}{7+\frac{1}{15}}=3+\frac{1}{\frac{106}{15}}=3+\frac{15}{106}=\frac{333}{106}\)</span></p>
<p>הופה, תראו את מה קיבלנו עכשיו! את הקירוב מהתנ"ך! זו הסיבה שבגללה אמרתי שגם הקירוב הזה הוא די מיוחד. ואם קיבלתי אותו, קל לנחש מה הדבר הבא שנקבל - את <span class="math">\(\frac{355}{113}\)</span> המהולל. אבל בואו נבצע את החישוב הפורמלי בכל זאת:</p>
<p><span class="math">\(3+\frac{1}{7+\frac{1}{15+\frac{1}{1}}}=3+\frac{1}{7+\frac{1}{16}}=3+\frac{1}{\frac{113}{16}}=3+\frac{16}{113}=\frac{355}{113}\)</span></p>
<p>לי אישית כל זה מרגיש כמו קסם גדול יותר ממה שקורה בתנ"ך, אבל אין כאן מקריות - שברים משולבים יכולים לשמש אותנו לתיאור <strong>כל מספר ממשי</strong> ולכל אחד מהם יתקיים אותו עיקרון - השברים המשולבים יתנו את סדרת הקירובים האופטימלית עבורו. <a href="https://gadial.net/2010/05/29/continued_fractions_1/">יש לי פוסטים בנושא</a> אז לא אכנס לעובי הקורה של ההסברים למה זה עובד. אבל כן מעניין איך בעצם מחשבים את הייצוג בעזרת שבר משולב של משהו כמו <span class="math">\(\pi\)</span> ומה המשמעות המדויקת של זה שהוא נותן קירובים "טובים". ביתר החלק אני אסביר את זה; מי שרוצים להמשיך לדבר על פאי בתנ"ך וזהו יכולים לקפוץ לחלק הבא.</p>
<p>אז ראשית, איך מוצאים שבר משולב עבור <span class="math">\(\pi\)</span>? נתחיל מלומר שאנחנו לא יודעים את השבר המשולב במובן זה שאין לנו נוסחה כללית עבור המספרים שמופיעים בו - בדיוק כמו שקורה עם ספרות של <span class="math">\(\pi\)</span> בייצוג עשרוני, מה שיש לנו הוא פשוט חישוב שהניב מספר גדול מאוד של ספרות. כלומר, בשורה התחתונה מה שידוע לנו הוא תמיד רק <strong>קירוב</strong> טוב מאוד של <span class="math">\(\pi\)</span>. השיטות שיש לנו למציאה של קירוב כזה של <span class="math">\(\pi\)</span> מתבססות לרוב על ייצוג שלו בתור <strong>טור אינסופי</strong>, ואני לא אכנס כאן לאופן שבו מוצאים ייצוגים כאלו (אבל לגמרי הגיע הזמן לכתוב פוסטים בנושא) אלא פשוט אציג את אחד מהייצוגים השימושיים:</p>
<p><span class="math">\(\pi=\sum_{k=0}^{\infty}\frac{2^{k+1}k!^{2}}{\left(2k+1\right)!}\)</span></p>
<p>בעזרת טור כזה אפשר לחשב קירוב מצוין של פאי, ואז להשתמש על הקירוב הזה בשיטה הכללית למציאת שבר משולב של מספר כלשהו <span class="math">\(x\)</span>. התוצאה תהיה שבר משולב שהספרות הראשונות בו מתאימות לשבר המשולב של פאי.</p>
<p>הרעיון הוא כזה: ראשית מגדירים <span class="math">\(x_{0}=x\)</span>. עכשיו, אנחנו רוצים למצוא ייצוג מהצורה <span class="math">\(x=a_{0}+\frac{1}{a_{1}+\frac{1}{a_{2}+\ddots}}\)</span>. כלומר, הצעד הראשון שלנו הוא להפריד את <span class="math">\(x\)</span> למספר שלם (ה-<span class="math">\(a_{0}\)</span>) ועוד איזה חלק שהוא קטן מ-1 (כל היתר). אז מגדירים <span class="math">\(a_{0}=\left[x_{0}\right]\)</span>, כלומר <span class="math">\(a_{0}\)</span> הוא <strong>החלק השלם</strong> של <span class="math">\(x_{0}\)</span> - המספר הטבעי הגדול ביותר שקטן או שווה ל-<span class="math">\(x_{0}\)</span> (במקרה של <span class="math">\(\pi\)</span> מקבלים <span class="math">\(a_{0}=3\)</span>). נגדיר <span class="math">\(b_{0}=x_{0}-a_{0}\)</span>, ועכשיו אפשר לכתוב <span class="math">\(b_{0}=\frac{1}{x_{1}}\)</span> כאשר <span class="math">\(x_{1}\)</span> הוא המספר ה"חדש" שאנחנו רוצים למצוא ייצוג שלו כשבר משולב. אז נחזור על התהליך - נגדיר <span class="math">\(a_{1}=\left[x_{1}\right]\)</span> ו-<span class="math">\(b_{1}=x_{1}-a_{1}\)</span> ו-<span class="math">\(b_{1}=\frac{1}{x_{2}}\)</span> וכן הלאה. כלומר, אנחנו עושים שלוש פעולות שונות:</p>
<ul> <li>מחשבים <strong>ערך שלם</strong> של מספר.</li>


<li>מקבלים את החלק השברי של המספר על ידי <strong>חיסור</strong> הערך השלם שלו ממנו.</li>


<li>מקבלים את המספר הבא בתור על ידי <strong>היפוך</strong> של המספר שקיבלנו (כלומר, מחשבים את 1 חלקי המספר הזה).</li>

</ul>

<p>שלב ההיפוך הוא החלק הבעייתי: אם מראש אנחנו עובדים עם קירוב, נאמר של <span class="math">\(\pi\)</span>, אז בשלב ההיפוך גם נקבל רק קירוב - אבל מספר ספרות הדיוק שלנו יקטן. זה פוסט שלם לדבר על כמה ספרות דיוק עדיין מובטחות לנו, והאמת העצובה היא שאני פשוט לא מכיר את הנושא מספיק טוב אז אדלג מעליו לגמרי כאן - אבל זו הטכניקה.</p>
<p>בפועל, קל מאוד לתכנת דבר כזה. הנה קוד פייתון שמבצע את החישובים הרלוונטיים:</p>
<div class="code-block">

<pre class="highlight"><code class="language-python">def compute_pi(n):
    x, y, z = 2, 1, 1
    value = (x*y)/z
    for k in range(1,n+1):
        x *= 2
        y *= (k*k)
        z *= (2*k)*(2*k+1)
        value += (x*y)/z
    return value

def compute_continued_fraction(x, n):
    values = []
    for _ in range(n):
        a = int(x)
        values.append(a)
        b = x - a
        x = 1/b
    return values
</code></pre>


</div>

<p>להריץ אותו עם compute_continued_fraction(compute_pi(14), 4) נותן מיידית את השבר המשולב שראינו (פחות מ-14 יתן שבר משולב לא נכון כי פאי לא חושב ברמת הדיוק הנדרשת), אז אין כאן אתגר גדול במיוחד מבחינה חישובית.</p>
<p>עכשיו אני רוצה לצטט בלי הוכחה שתי תוצאות תיאורטיות על שברים משולבים ואיכות הקירובים שהם נותנים. נניח ש-<span class="math">\(x\)</span> הוא מספר אי רציונלי כלשהו ו-<span class="math">\(\frac{p}{q}\)</span> הוא שבר שמתקבל מהפיתוח של <span class="math">\(x\)</span> לשבר משולב (כלומר, <span class="math">\(\frac{p}{q}\)</span> מתקבל מכך שקוטעים את הפיתוח של <span class="math">\(x\)</span> אחרי מספר מקומות סופי ומחשבים את התוצאה, כמו שעשינו קודם), אז <strong>לכל</strong> מספר רציונלי <span class="math">\(\frac{a}{b}\)</span> שעבורו <span class="math">\(1\le b\le q\)</span> מתקיים</p>
<p><span class="math">\(\left|x-\frac{p}{q}\right|\le\left|x-\frac{a}{b}\right|\)</span></p>
<p>כלומר, <span class="math">\(\frac{p}{q}\)</span> הוא הקירוב הטוב ביותר ל-<span class="math">\(x\)</span> מבין כל המספרים הרציונליים עם מכנה שהוא קטן או שווה ל-<span class="math">\(q\)</span>. יותר מכך, אנחנו יודעים לחסום את גודל השגיאה של הקירוב והוא הולך להיות מאוד טוב. כדי לקבל תחושה של ה"מאוד טוב" הזה, בואו קודם נראה מה קורה באופן כללי: אם <span class="math">\(\frac{a}{b}\)</span> הוא הקירוב הטוב ביותר ל-<span class="math">\(x\)</span> מבין כל הקירובים עם מכנה <span class="math">\(b\)</span> בדיוק, אז תמיד מתקיים ש-</p>
<p><span class="math">\(\left|x-\frac{a}{b}\right|<\frac{1}{2b}\)</span></p>
<p>(אני לא אוכיח את זה אבל זה תרגיל <strong>מצוין</strong> לחשוב למה זה קורה, זה באמת לא קשה אבל זה עושה סדר במחשבה).</p>
<p>לעומת זאת, אם <span class="math">\(\frac{a}{b}\)</span> הוא קירוב שמתקבל משבר משולב, אז אפשר להוכיח (זה הרבה יותר קשה) שמתקיים</p>
<p><span class="math">\(\left|x-\frac{a}{b}\right|<\frac{1}{b^{2}}\)</span></p>
<p>שימו לב להבדל העצום בין המקרים. למשל, בואו ניקח את הקירוב התנ"כי המשודרג של פאי, <span class="math">\(\frac{333}{106}\)</span> ונשווה אותו אל הקירוב הטוב ביותר עם מכנה 105, <span class="math">\(\frac{330}{105}=3.142857\ldots\)</span>. אם נחשב את גודל השגיאה, נקבל</p>
<p><span class="math">\(\left|\pi-\frac{330}{105}\right|=0.001264489267\ldots\)</span></p>
<p><span class="math">\(\left|\pi-\frac{333}{106}\right|=0.000083219628\ldots\)</span></p>
<p>רואים איפה יש יותר אפסים אחרי הנקודה? במקרה הראשון, החסם של <span class="math">\(\frac{1}{2b}\)</span> מבטיח לנו רק שגיאה שקטנה מ-</p>
<p><span class="math">\(0.004761904762\ldots\)</span> </p>
<p>והיא אכן לא הרבה יותר קטנה ממנה; במקרה השני, החסם המשופר של <span class="math">\(\frac{1}{b^{2}}\)</span> מבטיח לנו שגיאה שקטנה מ-</p>
<p><span class="math">\(0.000088999644\ldots\)</span></p>
<p>אפשר לחשוב על זה ככה - זה שיש לנו <span class="math">\(b^{2}\)</span> במקום <span class="math">\(2b\)</span> במכנה <strong>מכפיל</strong> את מספר האפסים ברצף אחרי הנקודה שנראה בשגיאה, כלומר מכפיל את מספר ספרות הדיוק שנקבל.</p>
<p>לסיום, הנה המשפט האהוב עלי בהקשר הזה: <strong>אם יש לנו קירוב ממש טוב, מובטח שהוא יופיע מתוך השבר המשולב</strong>. אני אישית אוהב את המשפט הזה במיוחד בגלל שהוא צץ באופן מפתיע <a href="https://gadial.net/2014/08/24/shor_algorithm/">באלגוריתם של שור</a> בחישוב קוונטי; האלגוריתם של שור מחפש מספר רציונלי מאוד ספציפי שהוא צריך לקבל במדויק, והוא מוצא אותו על ידי כך שהוא מוצא מספר אחר שהמספר הרציונלי שמחפשים הוא <strong>קירוב טוב מאוד</strong> שלו ואז מחפש את המספר שלו בפיתוח של המספר ההוא לשברים חלקיים.</p>
<p>פורמלית, אם <span class="math">\(\frac{a}{b}\)</span> מקיים</p>
<p><span class="math">\(\left|x-\frac{a}{b}\right|<\frac{1}{2b^{2}}\)</span></p>
<p>אז מובטח ש-<span class="math">\(\frac{a}{b}\)</span> יופיע בסדרת השברים המשולבים. שימו לב שזה לא משפט של "אם ורק אם" כי בהחלט יכולים להופיע בסדרת השברים המשולבים גם קירובים "ממש טובים אבל פחות", אלו שמקיימים את החסם הפחות הדוק <span class="math">\(\left|x-\frac{a}{b}\right|<\frac{1}{b^{2}}\)</span>. למעשה, ראינו אחד מהם - את <span class="math">\(\frac{333}{106}\)</span> שעבורו מתקיים</p>
<p><span class="math">\(\left|\pi-\frac{333}{106}\right|=0.0000832\ldots>0.0000444\ldots=\frac{1}{2\cdot106^{2}}\)</span></p>
<p>זה שונה מאשר <span class="math">\(\frac{22}{7}\)</span> ו-<span class="math">\(\frac{355}{113}\)</span> שמקיימים גם את החסם ההדוק יותר ולכן מובטח לנו שיופיעו:</p>
<p><span class="math">\(\left|\pi-\frac{22}{7}\right|=0.00126\ldots<0.0102=\frac{1}{2\cdot7^{2}}\)</span></p>
<p><span class="math">\(\left|\pi-\frac{355}{113}\right|=0.000000266\ldots<0.000039157\ldots=\frac{1}{2\cdot113^{2}}\)</span></p>
<p>זה מסיים את החלק המתמטי המגניב ואפשר לחזור אל שאלת מה שהולך בתנ"ך.</p>
<h2>חלק רביעי, שבו הסיפור הזה מזכיר לי בעיקר סיפורים אחרים</h2>

<p>למי שלא עקבו אחרי החלק המתמטי אני אסכם את מה שראינו בו: ראינו ש-<span class="math">\(\frac{333}{106}\)</span> הוא <strong>קירוב מצוין</strong> של <span class="math">\(\pi\)</span> עם כמה תכונות שהופכות אותו באמת למיוחד, אבל מצד שני - הוא גם קירוב משמעותית <strong>פחות מיוחד</strong> מאשר <span class="math">\(\frac{355}{113}\)</span> הקרוב אליו מאוד אבל הטוב ממנו בהרבה. מכיוון שאנחנו בפוסט על קוריוז מתמטי שווה להזכיר קוריוז מתמטי נפלא אחר שקשור ל-<span class="math">\(\frac{355}{113}\)</span> - ניסוי "<a href="https://gadial.net/2014/03/14/buffon_needle/">המחט של בופון</a>" שביצע לזאריני. זה ניסוי שאפשר לבצע בפועל עם השלכת סיכה על מחברת ובדיקה אם הסיכה נפלה על קו מסוים או לא, ואיכשהו הניסוי הזה הצליח לחשב את פאי בצורה מדויקת עד להדהים. הטריק היה שעורך הניסוי <strong>הכיר</strong> את הקירוב של <span class="math">\(\frac{355}{113}\)</span> <strong>והינדס את הניסוי</strong> כך שיגיע בדיוק אל הקירוב הזה. איך מהנדסים ניסוי כזה? הסברתי את זה בפוסט הרלוונטי, אבל הרעיון הוא שאחרי כל כך-וכך השלכות יש "סיכוי" לקבל בדיוק את הקירוב הזה, ואם עוצרים את הניסוי כשהקירוב הזה התקבל התוצאה של הניסוי תהיה מדויקת להדהים בזמן שכל השלכה של סיכה אחת נוספת תקלקל לגמרי את הקירוב המופלא - ולזאריני הכיר את הקירוב והינדס את הניסוי בדיוק כך כדי שזה יקרה.</p>
<p>האם כאן קרה משהו דומה? כלומר, האם מי שכתב את ספר מלכים הינדס את התיקון הזה כדי לרמוז על הערך <span class="math">\(\frac{333}{106}\)</span> או שמדובר על צירוף מקרים?</p>
<p>ובכן, לדעתי זה צירוף מקרים יפה ומרהיב כדרכם של צירופי מקרים מרהיבים, כי על צירופי המקרים הלא מרהיבים אף אחד לא מדבר ואנחנו בכלל לא שמים לב אליהם. החשיבה שלי על הקוריוז הזה היא חילונית במהותה, ואני רואה בהנחה שזה לא צירוף מקרים אלא משהו מכוון שני דברים שנראים לי כמו אנכרוניזם היסטורי:</p>
<ol> <li>אין לנו אינדיקציה היסטורית אחרת להיכרות עם קירוב טוב כל כך של פאי באותה תקופה.</li>


<li>אין לנו אינדיקציה היסטורית אחרת לקיום הגימטריה היהודית באותה תקופה.</li>

</ol>

<p>על 2 אין לי הרבה מה להרחיב כאן - השאלה האם בתנ"ך הוצפנו מסרים בעזרת גימטריה היא רחבה הרבה יותר מהדיון הנוכחי, ולהבנתי השורה התחתונה שלו היא "זה ייתכן אבל אין לנו ראיות ישירות לכך" - כל הפרשנויות הגימטריות לדברים מהתנ"ך הוצעו בדיעבד.</p>
<p>בנוגע ל-1, לעומת זאת, בהחלט אפשר לדבר על שאלה מעניינת בהיסטוריה של המתמטיקה - אילו ערכים של פאי היו מוכרים בעת העתיקה? יש לנו שני מקורות מרכזיים למתמטיקה עתיקה - לוחות החרס הבבליים, והפפירוסים המצריים. אצל הבבלים ברוב המקורות <span class="math">\(\pi=3\)</span> ותו לא (כלומר - <span class="math">\(\pi\)</span> לא מופיע באופן ישיר, אבל זה הערך שלו שאפשר להסיק) אבל בלוח חרס אחד שנתגלה ליד Susa ומתוארך לתקופה שבין המאות ה-19 וה-17 לפני הספירה אפשר להסיק מהכתוב את הערך <span class="math">\(\pi=\frac{25}{8}=3.125\)</span> שהוא קירוב לא רע אבל רחוק מאוד באיכותו מ-<span class="math">\(\frac{22}{7}\)</span> וצריך שוב להדגיש שזה לא מספר שמופיע בלוח במפורש אלא אפשר להסיק אותו על ידי חישוב ממה שכן מופיע בלוח, שהוא היחס בין ההיקף של משושה להיקף המעגל החוסם אותו. <a href="https://numberwarrior.wordpress.com/2008/12/03/on-the-ancient-babylonian-value-for-pi/">הנה פוסט (לא שלי) בעניין</a>.</p>
<p>עבור מצרים העתיקה, קירוב של פאי מופיע באחד מהאוצרות המתמטיים היקרים ביותר שיש לנו מהתקופה הזו - פפירוס רינד, שמתוארך לסביבות 1650 לפני הספירה. בעיה 41 בפפירוס עוסקת בחישוב נפח של אסם תבואה, וגם שם <span class="math">\(\pi\)</span> לא מופיע בצורה מפורשת אבל אפשר להסיק מהטקסט את הקירוב <span class="math">\(\pi=\left(\frac{4}{3}\right)^{4}=256/81=3.16049\ldots\)</span> שגם הוא לא קירוב מבריק במיוחד אבל מצד שני לא רע לזמנו. בשני המקורות, גם המצרי וגם הבבלי, הערך של <span class="math">\(\pi\)</span> לא מוחבא בצורה ערמומית כמו בספר מלכים, שבו על פניו אין בכלל חישוב שצריך לעשות; אצלם יש חישוב ויש מספרים מדויקים שנכתבים במפורש, אבל פשוט החישוב לא עוסק ב-<span class="math">\(\pi\)</span> אלא במושגים שקשורים ל-<span class="math">\(\pi\)</span> ומהם ערכו של <span class="math">\(\pi\)</span> מתקבל. בהקשר הזה כדאי לזכור ש-<span class="math">\(\pi\)</span> עצמו הוא קבוע חצי-שרירותי, במובן זה שהיינו יכולים למשל לדבר לא על היחס בין היקף המעגל <strong>לקוטרו</strong> אלא על היחס בין היקף המעגל <strong>לרדיוסו</strong>, מה שהיה נותן לנו את הקבוע <span class="math">\(2\pi=6.28318\ldots\)</span> שבימינו אוהבים לסמן בתור <span class="math">\(\tau\)</span> ואפילו לטעון שהוא קבוע יותר טוב מ-<span class="math">\(\pi\)</span> (זה דיון אחר שאני מעדיף לא להיכנס אליו אף פעם אבל בטח אכתוב עליו פוסט יום אחד). בהקשר של ספר מלכים ההגדרה של "היקף חלקי הקוטר" היא הטבעית יותר כי גם ההיקף וגם הקוטר מופיעים במפורש בפסוק, אז קשה להתלונן למה הפסוק לכאורה מצפין את <span class="math">\(\frac{333}{106}\)</span> ולא את <span class="math">\(\frac{666}{106}\)</span> (למי שקופצים למראה ה-666 - לא, לא מצאתי בחזון יוחנן י"ג משהו עם גימטריה של 106 או 212, לא בתרגום לעברית וגם לא במקור היווני עם הגימטריה היוונית שדומה להפליא לזו שלנו).</p>
<p>המדידה המפורשת הראשונה של <span class="math">\(\pi\)</span> שנתנה קירוב טוב היא זו של ארכימדס, בסביבות 240 לפני הספירה: הוא השתמש בשיטה מבריקה לגמרי כדי לקבל את הקירוב <span class="math">\(\frac{22}{7}\le\pi\le\frac{223}{71}\)</span>. שני המספרים שמופיעים בקירוב הם טובים למדי: את <span class="math">\(\frac{22}{7}\)</span> ראינו בתור הקירוב האיכותי הראשון שהשבר המשולב של <span class="math">\(\pi\)</span> נותן, ואת <span class="math">\(\frac{223}{71}\)</span> ראינו כחלק מסדרת "הקירובים הכי טובים עבור המכנה שלהם או קטן ממנו". שניהם פחות טובים מ-<span class="math">\(\frac{333}{106}\)</span>. </p>
<p>הקירוב הגדול הבא של פאי הגיע עם המתמטיקאי הסיני דזו צ'ונג-ג'ה בן המאה החמישית לספירה. ראשית, הוא מצא ש-<span class="math">\(\pi\)</span> נמצא בין <span class="math">\(3.1415926\)</span> ובין <span class="math">\(3.1415927\)</span>, ושנית הוא מצא את הקירוב <span class="math">\(\pi\approx\frac{355}{113}=3.1415929\ldots\)</span> שאם נשים לב, הוא קצת <strong>פחות</strong> טוב מהקירובים העשרוניים הללו כי הספרה האחרונה שציינתי בו, 9, שגויה (ב-<span class="math">\(\pi\)</span> הספרה הזו היא 6, מה שתואם את הקירוב של ה"ראשית"). זה החיסרון של <span class="math">\(\frac{355}{113}\)</span> אבל על היתרונות שלו כבר דיברתי, ובפרט על כך שזה קירוב מאוד קומפקטי, עם מכנה בן שלוש ספרות בלבד, שמניב רמת דיוק גבוהה בהרבה מאותן שלוש ספרות - טוב הרבה יותר מ-<span class="math">\(\frac{333}{106}\)</span>. כלומר, זו הנקודה בהיסטוריה שבה אפשר לעצור ולהגיד שקירוב ברמה של הרמיזה בתנ"ך כבר הפך לנחלת הכלל. אלא שזה קרה במאה החמישית לספירה, בערך אלף שנים אחרי שספר מלכים נכתב, (בין אם מניחים שכתב אותו ירמיהו או מניחים שהוא נכתב בידי אנשים אחרים בגלות בבל). למעשה, לא ברור לי איפה ומתי התגלה <span class="math">\(\frac{333}{106}\)</span> בתור קירוב לפאי (התורה של שברים משולבים שייכת למאה ה-18 ואני משער שבשלב הזה הקירוב כבר התגלה בדרך אחרת, אבל לא התעמקתי בזה).</p>
<p>לנוכח כל אלו, ההנחה הסבירה היא שבזמן כתיבת ספר מלכים, אי שם במאות החמישית-שישית-שביעית לפני הספירה, הקירוב <span class="math">\(\frac{333}{106}\)</span> לפאי לא היה ידוע. אז אנחנו צריכים לבחור בין שתי אפשרויות: או שלסופר המקראי היה ידע פלאי ממש (בין אם הגיע אליו מהשמיים ובין אם חישב אותו בעצמו) והוא הצפין אותו בתורה בדרך כה מחוכמת שחז"ל פשוט פספסו ונראה שהראשון ששם לב אליה היה רב עם השכלה מתמטית מהמאה ה-20, או שמדובר על צירוף מקרים. לי אישית זה מזכיר סיפור אחר, שאני מאוד אוהב אישית: הסיפור של לוח החרס הבבלי פלימפטון 322. <a href="https://gadial.net/2017/08/29/plimpton_322/">יש לי פוסט מפורט עליו</a> אז לא אכנס להכל, אבל הנה הרעיון הכללי:</p>
<p>פלימפטון 322 הוא לוח חרס בבלי מסביבות המאה ה-18 לפני הספירה, שכתוב בתור טבלה שהאיברים המרכזיים שלה הם זוגות של מספרים ששייכים לשלשות פיתגוריות שונות ומשונות (מספיק זוג מספרים כדי להסיק את המספר השלישי בשלשה). מבחינה מתמטית מדובר על תגלית מרגשת מאוד, כי השיטה הראשונה לייצור שלשות פיתגוריות באופן סדרתי מתוארת אצל אוקלידס, כמעט 1,500 שנים אחר כך. כלומר - הלוח מרמז על רמה מתמטית מופלאה ממש שהייתה לבבלים ביחס לכל העולם מאות שנים אחריהם.</p>
<p>העניין הוא שהסיפור כנראה לא כזה פשוט, ואפשר לתת פרשנויות אחרות לאותם ערכים מספריים בלוח שיסבירו איך המספרים הללו נוצרו גם בלי להכיר שום שיטה לייצור שלשות פיתגוריות, פשוט כחלק מתהליך של יצירה של תרגילי אימון לפתרון משוואה ריבועית - תרגילים שידוע שהיו נפוצים אצל הבבלים. יש מאמרים מפורטים שעוסקים בגישה הזו, עם כניסה משמעותית לפרטים של הלוח ואף חשוב מכך - של לוחות אחרים בני אותה התקופה. כשקוראים על הנושא רואים כמה קל, כשמתעסקים בהיסטוריה של המתמטיקה, לייחס כוונות וידע לטקסטים מתמטיים ישנים גם אם לא היה בהם שום תוכן כזה, פשוט כי <strong>אנחנו</strong> כבר בעלי הידע הזה וחושבים על הכוונות הללו. קל לנו יותר לראות לוח עם שלשות פיתגוריות ולומר "אה-הא! מטרת הלוח הייתה להכיל שלשות פיתגוריות, ובגלל שאנחנו מכירים נוסחה לייצור שלהן אז הן בוודאי נוצרו באמצעות הנוסחה, וזה מה שמראה שהבבלים ידעו את הנוסחה!" גם אם יתר המציאות לא מסכימה עם זה.</p>
<p>גם כאן - אפשר לראות את התיקון הפלאי ולהגיד "אה-הא! מטרת התיקון הייתה להצפין את <span class="math">\(\frac{333}{106}\)</span> בטקסט באמצעות גימטריה!" - בכך אנחנו לוקחים מושגים מודרניים יותר ומחילים אותם על הטקסט: גם מניחים שהטקסט בכלל רצה "לתקן" את הקירוב ה"שגוי" של פאי (ולהחליף אותו בקירוב אחר שגם הוא "שגוי" אבל פחות), וגם שהוא רצה לעשות את זה בדרך המאוד עקיפה שלו. כמובן, אפשר להגיד (ואומרים) "זה בסדר גמור, לא מעט מהתנ"ך הוא ככה" מה שלוקח אותנו לדיון כללי יותר על התנ"ך שאני לא רוצה לנהל פה; אבל אני אישית לא רואה צורך לנקוט בגישה הזו.</p>
<h2>חלק חמישי ואחרון, ובו השאלה האם היה אפשר לעשות משהו טוב יותר? (כנראה שלא)</h2>

<p>זה מסיים לומר את הדברים המעניינים שאני יודע לומר על הנושא הזה, אבל לפני שאני מסיים את הפוסט אני רוצה לדבר טיפה על השאלה המתבקשת: האם אפשר היה להצפין בתנ"ך את <span class="math">\(\frac{355}{113}\)</span> במקום <span class="math">\(\frac{333}{106}\)</span>? קשה לי לראות דרך לעשות את זה שלא תרגיש לנו מאולצת יותר, מטעם חשבוני די פשוט: <span class="math">\(333=111\times3\)</span>. זה אומר שאפשר להציג את הקירוב <span class="math">\(\frac{333}{106}\)</span> בתור <span class="math">\(\frac{111}{106}\times3\)</span>, ולכן כל מה שאנחנו צריכים הוא מילה עם ערך גימטרי 106 שאפשר להוסיף לה אות אחת ולקבל 111, מה שעבד עם "קו/קוה". לעומת זאת ב-<span class="math">\(\frac{355}{113}\)</span> אין לנו יכולת לבצע את הטריק הזה כי <span class="math">\(355=5\times71\)</span> לא מתחלק ב-3, ולכן אם אנחנו מחפשים שני מספרים שלמים <span class="math">\(a,b\)</span> כך ש-<span class="math">\(\frac{a}{b}\times3=\frac{355}{113}\)</span> לא קשה לראות שהמספרים הקטנים ביותר שיתנו לנו דבר כזה הם <span class="math">\(a=355,b=339\)</span> שההפרש ביניהם הוא 16, ואין לנו דרך לעבור ממילה שערכה 339 למילה שערכה 355 על ידי שינוי של אות בודדת, כך שמלכתחילה כל מה שנעשה ירגיש מאולץ יותר.</p>
<p>עדיין, לפעמים יש שינוי בשתי אותיות; למשל במלכים א' י"ב ל"ג יש לנו את "מלבד/מלבו" שבו מסירים אות ומוסיפים אות; כדי לקבל הפרש 16 על ידי פעולה כזו, אנחנו חייבים להסיר ד' ולהוסיף כ' (אין שתי אותיות אחרות שההפרש של הערך הגימטרי שלהן הוא 16). זה נותן לנו למשל את הזוג "שדלה/שכלה" שקופץ מגימטריה של 339 אל 355. האם זה משהו שהסופר המקראי הכל יכול היה יכול להשתמש בו בפסוק שמדבר על ים הנחושת? לא נראה לי. מצד שני, קשה לשחק את המשחק הזה עד הסוף בלי להבין מה בדיוק החופש ש<strong>כן</strong> היה לסופר המקראי הכל יכול לעשות. אם היו דורשים ממנו להצפין את <span class="math">\(\frac{355}{113}\)</span> במקום את <span class="math">\(\frac{333}{106}\)</span> כי אסור שיהיה אצלו "בערך", ואם ישתמש בקירוב גרוע כמו <span class="math">\(\frac{333}{106}\)</span> אז הוא נביא שקר ועונשו מיתה - במקרה כזה אני חושד שהוא היה מוצא דרך טובה להשחיל את <span class="math">\(\frac{355}{113}\)</span> פנימה.</p>
<p>מעבר לבדיחות האלו, אני חייב להודות שצירוף המקרים כאן הוא באמת מאוד יפה: המילה "קו/קוה" שעומדת במרכז הסיפור היא המילה בפסוק שמתארת את ההיקף, כלומר קשורה ישירות לעניין והכתיב הכפול "קו"/"קוה" הוא לא משהו ייחודי לפסוק הזה; ה"קוה" מופיע למשל גם בירמיהו ל"א ל"ח ובזכריה א' ט"ז, כלומר אין בו משהו שרירותי. למרות שמדגדג לי לבדוק אם אני מצליח למצוא את <span class="math">\(\frac{355}{113}\)</span> בכל מני מקומות, לא סביר שיימצא משהו <strong>כל כך</strong> יפה. אני יכול לקחת סיפורים אקראיים מפרויקט בן יהודה, להריץ עליהם סקריפט ולמצוא באותו משפט מילה של 355 ומילה של 113 (כן, נו, באמת עשיתי את זה בשביל הקטע), אבל מה זה יגיד?</p>
<p>כמובן, אפשר ללכת לכיוונים חופשיים עוד יותר. אם הסופר המקראי בסך הכל רוצה להצפין מספר בטקסט יש עוד דרכים לעשות את זה שלא חייבות לענות לתבנית של 1-2-3 שלמעלה. הנה אחת שמבוססת על קוריוז חמוד בפני עצמו של <span class="math">\(\frac{355}{113}\)</span>: בנוסף לכל מעלותיו של הקירוב הזה, כשהוא מוצג בבסיס 10 קל מאוד לזכור אותו כי אם קוראים את הספרות מלמעלה-למעלה ומשמאל-לימין מקבלים <span class="math">\(113355\)</span>. באותיות זה "אאגגהה" שהוא נטול כל משמעות, אבל זו מילה קצרה וקומפקטית שאפשר היה להכניס לפסוק!</p>
<p>אז מה השורה התחתונה שלי לכל הסיפור הזה? ובכן "שברים משולבים זה מגניב". אני חושד שהמסר הזה לא הועבר מספיק כאן.</p>
        </article>
        
        <footer>
            <p>© כל הזכויות שמורות לגדי אלכסנדרוביץ'</p>
        </footer>
    </div>

    
    <script>
        function toggleMobileMenu() {
            const navLinks = document.getElementById('navLinks');
            navLinks.classList.toggle('expanded');
        }
        
        function searchPosts() {
            const searchTerm = document.getElementById('searchInput').value;
            if (searchTerm.trim()) {
                window.location.href = '/blog/post_list.html?search=' + encodeURIComponent(searchTerm);
            }
        }
        
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchPosts();
            }
        });
    </script>
    
    
    <!-- Auto-render KaTeX math -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            renderMathInElement(document.body, {
                delimiters: [
                    {left: "\\[", right: "\\]", display: true},
                    {left: "\\(", right: "\\)", display: false}
                ],
                throwOnError: false
            });
        });
    </script>

</body>
</html>