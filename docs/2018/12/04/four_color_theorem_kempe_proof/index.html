<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>משפט ארבעת הצבעים (חלק ב&#39;) - לא מדויק</title>
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    
    
    <!-- KaTeX for math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>

    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', 'David', 'Tahoma', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
        }
        
        /* Top navigation bar */
        .top-nav {
            background: #2c3e50;
            padding: 15px 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .top-nav .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
        }
        
        .top-nav .site-title {
            font-size: 1.5em;
            font-weight: bold;
            color: white;
            text-decoration: none;
            white-space: nowrap;
        }
        
        .top-nav .nav-links {
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .top-nav .nav-links a {
            color: #ecf0f1;
            text-decoration: none;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background 0.2s;
            white-space: nowrap;
        }
        
        .top-nav .nav-links a:hover {
            background: #34495e;
        }
        
        .top-nav .search-box {
            display: flex;
            gap: 5px;
        }
        
        .top-nav .search-box input {
            padding: 5px 10px;
            border: none;
            border-radius: 4px;
            font-size: 0.9em;
            min-width: 150px;
        }
        
        .top-nav .search-box button {
            padding: 5px 15px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .top-nav .search-box button:hover {
            background: #2980b9;
        }
        
        /* Blockquote styling */
        blockquote {
            background: #f9f9f9;
            border-right: 5px solid #ccc;
            margin: 1.5em 10px;
            padding: 0.5em 10px;
            quotes: "\201C""\201D""\2018""\2019";
        }
        
        blockquote:before {
            color: #ccc;
            content: open-quote;
            font-size: 4em;
            line-height: 0.1em;
            margin-left: 0.25em;
            vertical-align: -0.4em;
        }
        
        blockquote p {
            display: inline;
        }
        
        
        body {
            line-height: 1.8;
        }
        
        .container {
            max-width: 800px;
            margin: 20px auto;
            background: white;
            padding: 40px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
        }
        
        header {
            margin-bottom: 40px;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 20px;
        }
        
        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .post-meta {
            color: #7f8c8d;
            font-size: 0.9em;
        }
        
        .post-meta .date {
            margin-left: 15px;
        }
        
        .post-meta .categories,
        .post-meta .tags {
            display: inline;
        }
        
        .post-meta .categories a,
        .post-meta .tags a {
            color: #3498db;
            text-decoration: none;
            margin: 0 5px;
        }
        
        .post-meta .categories a:hover,
        .post-meta .tags a:hover {
            text-decoration: underline;
        }
        
        article {
            font-size: 1.1em;
        }
        
        article h2 {
            margin-top: 30px;
            margin-bottom: 15px;
            color: #34495e;
            font-size: 1.8em;
        }
        
        article h3 {
            margin-top: 25px;
            margin-bottom: 12px;
            color: #34495e;
            font-size: 1.4em;
        }
        
        article p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        article ul, article ol {
            margin-right: 30px;
            margin-bottom: 15px;
        }
        
        article li {
            margin-bottom: 8px;
        }
        
        article code {
            background-color: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        
        article pre {
            background-color: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin-bottom: 20px;
            direction: ltr;
            text-align: left;
        }
        
        article pre code {
            background-color: transparent;
            padding: 0;
            color: inherit;
        }
        
        /* Image styles - responsive and contained */
        article img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 20px auto;
        }
        
        /* Math rendering styles */
        .math {
            direction: ltr;
        }
        
        span.math {
            direction: ltr;
        }
        
        /* Override RTL for KaTeX */
        .katex {
            direction: ltr;
            unicode-bidi: embed;
        }
        
        div.math {
            display: block;
            text-align: center;
            padding: 15px 0;
            direction: ltr;
        }
        
        /* RTL adjustments for code blocks */
        .highlight {
            direction: ltr;
            text-align: left;
        }
        
        footer {
            margin-top: 60px;
            padding-top: 20px;
            border-top: 1px solid #e0e0e0;
            text-align: center;
            color: #95a5a6;
            font-size: 0.9em;
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2em;
            }
            
            article {
                font-size: 1em;
            }
        }
        
        /* Post navigation */
        .post-navigation {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #e0e0e0;
            gap: 20px;
        }
        
        .post-navigation .nav-link {
            flex: 1;
            text-decoration: none;
            color: #2c3e50;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 5px;
            transition: background 0.2s;
        }
        
        .post-navigation .nav-link:hover {
            background: #e9ecef;
        }
        
        .post-navigation .nav-prev {
            text-align: right;
        }
        
        .post-navigation .nav-next {
            text-align: left;
        }
        
        .post-navigation .nav-label {
            font-size: 0.85em;
            color: #7f8c8d;
            display: block;
            margin-bottom: 5px;
        }
        
        .post-navigation .nav-title {
            font-weight: bold;
            font-size: 1.1em;
        }

    </style>
</head>
<body>
    <nav class="top-nav">
        <div class="nav-container">
            <a href="/" class="site-title">לא מדויק</a>
            <div class="nav-links">
                <a href="/">דף הבית</a>
                <a href="/random.html">פוסט אקראי</a>
                <a href="/post_list.html">כל הפוסטים</a>
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="חיפוש...">
                    <button onclick="searchPosts()">חפש</button>
                </div>
            </div>
        </div>
    </nav>
    
    
    <div class="container">
        <!-- Post Navigation -->
        
        <nav class="post-navigation">
            
            <a href="/2018/11/10/four_color_theorem_intro/" class="nav-link nav-prev">
                <span class="nav-label">פוסט ישן יותר →</span>
                <span class="nav-title">משפט ארבעת הצבעים (חלק א&#39;)</span>
            </a>
            

            
            <a href="/2019/01/06/four_color_theorem_real_proofs/" class="nav-link nav-next">
                <span class="nav-label">← פוסט חדש יותר</span>
                <span class="nav-title">משפט ארבעת הצבעים (חלק ג&#39;)</span>
            </a>
            
        </nav>
        
        
        <header>
            <h1>משפט ארבעת הצבעים (חלק ב&#39;)</h1>
            <div class="post-meta">
                <span class="date">2018-12-04</span>
                
                <span class="categories">
                    | קטגוריות:
                    
                    <a href="/categories/בעיות מתמטיות מפורסמות.html">בעיות מתמטיות מפורסמות</a>
                    
                    <a href="/categories/תורת הגרפים.html">תורת הגרפים</a>
                    
                </span>
                
                
                <span class="tags">
                    | תגיות:
                    
                    <a href="/tags/משפט ארבעת הצבעים.html">משפט ארבעת הצבעים</a>
                    
                </span>
                
            </div>
        </header>
        
        <article>
            <p>בפוסט הקודם הצגתי את בעיית ארבעת הצבעים: בהינתן מפה - כלומר, חלוקה של איזור מסויים לתתי-איזורים שלכל אחד מהם אני קורא "מדינה" - להוכיח שדי בארבעה צבעים כדי לצבוע אותה כך שלא יהיו שתי מדינות עם גבול משותף הצבועות באותו הצבע. בפוסט הזה אני אציג את ההוכחה השגויה של קאמפ למשפט הזה - הוכחה יפה עם רעיונות מוצלחים למדי שנפלה בשל נקודה עדינה שקל לפספס.</p>
<p>נתחיל מהבהרה קטנה לעניין "למה מפות וגרפים הן בערך אותו דבר". אם אני אצייר עיגול קטן בתוך כל מדינה ("עיר בירה") ואמתח קווים בין העיגולים של מדינות סמוכות ("קווי רכבת"), אני אקבל גרף מישורי; לכן הדיבורים על מפות ומדינות הן דרך אחרת לומר "כל גרף מישורי הוא 4-צביע". הנה דוגמא לאופן שבו זה נעשה על חלק ממפת ארה"ב (כמובן, מבלי ש"ערי הבירה" יתאימו לערי הבירה האמיתיות של המדינות):</p>
<p><img class="alignnone wp-image-3702 size-full" src="/img/2018/12/map-with-cities.png" alt="" width="559" height="622" /></p>
<p>כמובן, התיאור הזה הוא פשטני מדי; מסתתרת כאן הוכחה לא טריוויאלית, אבל אני לא אכנס אליה כלל.</p>
<p>סיבה אחת שבגללה גרפים מישוריים מעניינים אותנו היא שהם מקיימים את <strong>נוסחת אוילר</strong>. נוסחת אוילר מקשרת את מספר הצמתים של גרף מישורי, מספר הקשתות שלו ומספר הפאות שלו. מה אלו צמתים, קשתות ופאות? צמתים הם המרכיבים הבסיסיים של הגרף - אפשר לחשוב עליהם בתור עיגולים קטנים אם רוצים. קשתות הן הקווים שמחברים זוגות של צמתים. גרף הוא <strong>מישורי</strong> אם אין שתי קשתות שדורכות זו על זו (פורמלית, גרף הוא מישורי אם <strong>אפשר</strong> לצייר אותו בצורה כזו ועדיין לשמור על התכונה של אילו צמתים מחוברים). ופאות? בגרף מישורי, פאות הם האיזורים ש"נראים כמו מדינות" - איזורים שמוקפים כולם בקשתות. בנוסף לאלו יש גם פאה אחת נוספת, ה"חיצונית".</p>
<p><img class="alignnone wp-image-3703 size-full" src="/img/2018/12/planar-graph.png" alt="" width="562" height="662" /></p>
<p>אנחנו רואים שגרף מישורי בעצם נראה כמו... מפה. כלומר, אם ניקח מפה תמימה ונבנה ממנה גרף מישורי, בעצם נקבל מפה אחרת, שנקראת <strong>הדואלית</strong> שלה. בואו נבין איך דברים משתנים במעבר הזה:</p>
<ul>
    <li>צומת בגרף הדואלי ("עיר בירה") הייתה פאה במפה המקורית ("מדינה")</li>
    <li>קשת בגרף הדואלי ("קו רכבת בין ערי בירה") הייתה קשת שונה במפה המקורית ("קו גבול בין שתי מדינות סמוכות").</li>
    <li>פאה בגרף הדואלי ("מסלול מעגלי של רכבות") הייתה צומת במפה המקורית ("נקודת מפגש של גבולות")</li>
</ul>
<p><img class="alignnone wp-image-3704 size-full" src="/img/2018/12/dual-graph.png" alt="" width="568" height="611" /></p>
<p>באיור, שבו הוספתי סימון עבור נקודות המפגש של שלושה גבולות ויותר, קל יחסית להבין את המעבר הזה. אם הייתה לנו מדינה בגרף המקורי, אז הצומת שמתאים לה הוא הצומת היחיד שנמצא בתוך "שטח" המדינה. עבור קשתות, כל קשת בגרף הדואלי חוצה בדיוק קשת אחת בגרף המקורי, מה שנותן את ההתאמה ביניהן. מה שאולי קצת מבלבל הוא ה"קסם" שבמסגרתו כל צומת מהגרף המקורי (מפגש של כמה גבולות) נמצאת עכשיו בתוך פאה בודדת של הגרף הדואלי, אבל העקרון ברור - אפשר לעבור במסלול מעגלי על כל המדינות שהגבול שלהן משתתף בצומת הזה.</p>
<p>עכשיו אפשר לחזור ולדבר על נוסחת אוילר. היא פשוטה להחריד: אם <span class="math">\(V\)</span> הוא מספר הצמתים בגרף מישורי, <span class="math">\(E\)</span> הוא מספר הקשתות ו-<span class="math">\(F\)</span> הוא מספר הפאות שלו (כולל הפאה "החיצונית") אז <span class="math">\(V-E+F=2\)</span>. הנוסחה התמימה הזו היא כנראה הנוסחה האהובה עלי במתמטיקה, וכבר <a href="https://gadial.net/2010/01/31/euler_formula_and_platonic_solids/">הקדשתי לה פוסט</a> (שעוסק בפאונים ולא בגרפים מישוריים אבל זה אותו הדבר; במקור אוילר אכן הוכיח אותה לפאונים).</p>
<p>קאמפ משתמש בנוסחת אוילר כדי להוכיח שבכל גרף מישורי חייב להיות צומת עם <strong>לכל היותר</strong> חמישה שכנים. החלק הזה במאמר של קאמפ הוא נכון לחלוטין והטיעון לא קשה; בואו נבין אותו עד הסוף. חוץ מנוסחת אוילר אצטרך עוד כמה נוסחאות שאפשר להסיק על גרפים מישוריים די בקלות. ראשית, <span class="math">\(2E\ge3F\)</span>. למה? ובכן, בואו נעבור פאה-פאה ונספור את <strong>כל</strong> הקשתות שמרכיבות כל פאה. נקרא למספר הזה <span class="math">\(X\)</span>. מה אני יודע על <span class="math">\(X\)</span>? ראשית, מכיוון שכל פאה כוללת <strong>לפחות</strong> שלוש קשתות, הרי ש-<span class="math">\(X\ge3F\)</span> (כי לכל אחת מ-<span class="math">\(F\)</span> הפאות הוספנו ל-<span class="math">\(X\)</span> לפחות 3). שנית, מכיוון שכל קשת שייכת בו זמנית בדיוק <strong>לשתי</strong> פאות, הרי ש-<span class="math">\(X=2E\)</span> (כי ספרנו כל קשת פעמיים). קיבלנו <span class="math">\(2E\ge3F\)</span> בלי להתאמץ בכלל.</p>
<p>עכשיו, בואו נסמן ב-<span class="math">\(p_{i}\)</span> את מספר הצמתים בגרף שיש להם <span class="math">\(i\)</span> שכנים. שימו לב שמספר השכנים של צומת שווה בדיוק למספר הקשתות שמחוברות אליו, ושבשיטת הספירה הזו כל קשת נספרת פעמיים (פעם אחת לכל אחד משני הצמתים שאליהם היא מחוברת). לכן אנחנו מקבלים את הנוסחה הבאה:</p>
<p><span class="math">\(2E=p_{1}+2p_{2}+3p_{3}+\dots\)</span></p>
<p>הסכום באגף ימין הוא לא אינסופי כי החל ממקום מסויים <span class="math">\(p_{i}=0\)</span> לכל <span class="math">\(i\)</span> ולכן הסכום נעצר שם.</p>
<p>עכשיו, כמה צמתים יש בגרף בסך הכל? סכום מספר הצמתים עם שכן אחד, ומספר הצמתים עם שני שכנים, וכדומה:</p>
<p><span class="math">\(V=p_{1}+p_{2}+p_{3}+\dots\)</span></p>
<p>עכשיו ננקוט בתעלול אלגברי נחמד: נכפול את המשוואה השניה ב-6 ונחסר ממנה את הראשונה. נקבל:</p>
<p><span class="math">\(6V-2E=5p_{1}+4p_{2}+3p_{3}+2p_{4}+p_{5}-p_{7}-2p_{8}-\dots\)</span></p>
<p>או בסימון מקוצר:</p>
<p><span class="math">\(2\left(3V-E\right)=\sum_{i=1}^{\infty}\left(6-i\right)p_{i}\)</span></p>
<p>עד עכשיו לא השתמשנו בכלל בנוסחת אוילר. כעת אפשר להשתמש בה: אני מסיק ממנה ש-<span class="math">\(V=2+E-F\)</span>, מציב ב-<span class="math">\(2\left(3V-E\right)\)</span> ומקבל:</p>
<p><span class="math">\(2\left(3V-E\right)=2\left(6+3E-3F-E\right)=12+2\left(2E-3F\right)\)</span></p>
<p>מכיוון ש-<span class="math">\(2E\ge3F\)</span>, הביטוי כולו הוא חיובי (הוא 12 ועוד משהו אי-שלילי). כלומר, גם הסכום <span class="math">\(\sum_{i=1}^{\infty}\left(6-i\right)p_{i}\)</span> הוא חיובי. אבל יש בסכום הזה רק חמישה איברים חיוביים:</p>
<p><span class="math">\(5p_{1}+4p_{2}+3p_{3}+2p_{4}+p_{5}\)</span></p>
<p>המסקנה היא שלפחות אחד מה-<span class="math">\(p_{i}\)</span>-ים הללו צריך להיות חיובי, והוא מתאים בדיוק לצומת עם חמישה שכנים או פחות, כפי שרצינו.</p>
<p>מה קאמפ עשה כאן? הוא הראה שבכל מפה צריכה להופיע <strong>תבנית</strong> מסויימת - או, כפי שאני מעדיף לקרוא לה, <strong>קונפיגורציה</strong>. במקרה הנוכחי, מדינה עם חמש שכנות או פחות. זה היה החלק הראשון של הרעיון שלו. החלק השני היה להראות שאם בגרף מישורי יש תבנית כזו, אז אפשר להקטין את הגרף (להקטין את מספר הצמתים) כך שאם הגרף <strong>לא </strong>היה 4-צביע קודם, גם אחרי ההקטנה הוא עדיין <strong>לא </strong>יהיה 4-צביע. אם זה היה עובד, זה היה מוכיח בקלות את המשפט כי בהינתן גרף "לא 4-צביע" אפשר היה פשוט להקטין אותו עוד ועוד עד לקבלת גרף כל כך קטן שהוא חייב להיות 4-צביע (למשל, אם יש בו רק 4 צמתים). דרך אחרת, טיפה יותר אלגנטית מתמטית, היא לומר ש"מבין הדוגמאות הנגדיות למשפט ארבעת הצבעים ניקח אחת שהיא מינימלית ביחס למספר הצמתים שלה", ואז כשאפשר להקטין את מספר הצמתים ועדיין לקבל דוגמא נגדית, זו סתירה ל"מינימלית".</p>
<p>בואו ננסח מחדש את התכונה הזו בצורה חיובית. מה שאני רוצה להוכיח הוא שאם בגרף יש תבנית מסויימת, אז אפשר לבחור צומת, להסיר אותה מהגרף ו"לתקן" את הגרף בהתאם כך שמקבלים גרף קטן יותר, ואז אם הגרף הזה צביע ב-4 צבעים, אפשר לחזור אל הגרף המקורי ולהשתמש בצביעה הזו כדי לבנות צביעה ב-4 צבעים של הגרף המקורי, כולל הצומת שהסרנו קודם. איך?</p>
<p>ובכן, יש לנו חמישה מקרים לטפל בהם, החל מצומת עם שכן אחד וכלה בצומת עם חמישה שכנים. שלושת המקרים הראשונים קלים. אם יש לנו צומת עם לכל היותר שלושה שכנים, אפשר פשוט להסיר אותו מהגרף, לצבוע את הגרף שהתקבל כתוצאה מכך, ואז לחזור אל הגרף המקורי. הצומת שהסרנו קודם הוא בעל שלושה שכנים בלבד, ויש לרשותנו ארבעה צבעים שבהם אפשר לצבוע את הגרף; פשוט נבחר עבור הצומת שנותר לנו לצבוע צבע כלשהו שאין לשכניו (מובטח שיהיה לפחות אחד כזה, במקרה שבו כל השכנים צבועים בצבעים שונים):</p>
<p><img class="alignnone wp-image-3705 size-full" src="/img/2018/12/color3.png" alt="" width="566" height="594" /></p>
<p>באיור הזה הסרתי את הצומת שמתאים למדינת קליפורניה ויש לו שלושה שכנים. הוא צבוע בלבן כדי לסמן שהוא טרם נצבע, והקשתות שיוצאות ממנו הן מקווקוות כדי לסמן שהן "לא חלק מהגרף", וכעת צבעתי את יתר הגרף בארבעה צבעים. עכשיו אפשר להסתכל על קליפורניה ולראות במה נצבעו שכנותיה: בירוק, באדום ובצהוב, כך שהצבע הכחול פנוי.</p>
<p>בואו נעבור עכשיו למקרה של צומת עם ארבעה שכנים. נניח שכבר צבענו את יתר הגרף, אבל לרוע המזל כל השכנים של הצומת נצבעו בצבעים שונים. מה עושים עכשיו?</p>
<p><img class="alignnone wp-image-3707 size-full" src="/img/2018/12/color4-1.png" alt="" width="757" height="505" /></p>
<p>כאן קאמפ הציע את הרעיון היפה שלו. נבחר את אחד מהשכנים, נאמר את שכן מספר 1, ונחליף את הצבע שלו לצבע של שכן מס' 3. במקרה שלנו שכן מס' 1 הוא אדום ואילו 3 הוא צהוב, אז נצבע מחדש את שכן מס' 1 בצהוב. בזאת "פינינו" את הצבע האדום ואפשר לצבוע בו בלב שקט את הצומת שבאמצע. רק מה, שינוי הצבע של שכן מספר 1 עלול לגרום לבעיות חדשות. מה אם לשכן מס' 1 יש שכנים ש<strong>כבר</strong> צבועים בצהוב?</p>
<p><img class="alignnone wp-image-3708 size-full" src="/img/2018/12/color4-2.png" alt="" width="779" height="610" /></p>
<p>ובכן, במקרה הזה קאמפ מציע פשוט לשנות את הצבע של השכנים הללו לאדום. אבל אם יש להם שכנים אדומים? ובכן, שיוחלפו בצהובים, וכן הלאה וכן הלאה. אנחנו מקבלים מעין <strong>תגובת שרשרת</strong> לשינוי הצבע, אבל אין כאן משהו לא חוקי. במקרה הכי גרוע נקבל החלפה "מלאה" של הצבעים בגרף - כל הצמתים הצהובים יהפכו לאדומים, וכל הצמתים האדומים יהפכו לצהובים. עדיין נקבל גרף עם צביעה חוקית, אבל... אבל אם הצבע של שכן מס' 3 יתהפך מצהוב לאדום בעצם לא הרווחנו כלום - עדיין כל השכנים של הצומת באמצע יהיו צבועים בצבעים שונים זה מזה.</p>
<p><img class="alignnone wp-image-3709 size-full" src="/img/2018/12/color4-3.png" alt="" width="765" height="668" /></p>
<p>קאמפ אומר שכדי ששינוי הצבע של צומת מס' 1 ישפיע ככה על צומת מס' 3, חייבת להתקיים <strong>שרשרת</strong> שמובילה מצומת 1 לצומת 3 והצמתים בה צבועים לסירוגין באדום וצהוב. שרשרת מסוג זה נקראת כיום על שמו - <strong>שרשרת קאמפ</strong>. כמובן שאין מניעה לכך שבאמת תהיה כזו שרשרת וקל לבנות גרפים שבהם זה קורה. בואו נחזור לסיטואציה המקורית בגרף לדוגמא שלנו ונדגיש בה את השרשרת:</p>
<p><img class="alignnone wp-image-3711 size-full" src="/img/2018/12/color4-4-1.png" alt="" width="789" height="627" /></p>
<p>אז מה עושים?</p>
<p>אה-הא! בואו לא נשכח שיש לנו גם את צומת 2 וצומת 4! אפשר לעשות את תעלול החלפת הצבעים גם עבורן! וגם... וגם עבורן הוא עשוי להיכשל באותו האופן בדיוק, עם שרשרת קאמפ:</p>
<p><img class="alignnone wp-image-3712 size-full" src="/img/2018/12/color4-5.png" alt="" width="971" height="782" /></p>
<p>אבל כאן נכנס טיעון המחץ של קאמפ - הגרף הוא <strong>מישורי</strong> ולכן השרשרת מ-1 אל 3 והשרשרת מ-2 אל 4 בהכרח <strong>מתנגשות</strong> - כלומר, חייב להיות להן צומת משותף (אחרת יהיו קשתות מהשרשראות שחותכות זו את זו) אבל לא יכול להיות לשרשראות צומת משותף כי שרשרת אחת היא בצבעי אדום-צהוב והשניה בצבעי כחול-ירוק. זה מסיים את הטיעון הזה. אין פה שום טעות - זה עובד, ועובד נפלא. אפשר לכתוב אלגוריתם על פי השיטה שקאמפ הציע פה והוא אכן יצליח "לתקן" את הצביעה של הגרף בהתאם ולאפשר צביעה של הצומת הנוסף בצבע שלא מתנגש עם שכניו.</p>
<p><img class="alignnone wp-image-3714 size-full" src="/img/2018/12/color4-6-1.png" alt="" width="1023" height="780" /></p>
<p>אז מה הבעיה? הבעיה היא שצריך לטפל גם במקרה של צומת עם <strong>חמישה</strong> שכנים. כאן קאמפ ניסה להשתמש בטיעון דומה ויצא לו משהו מאוד משכנע, עם טעות מאוד עדינה שקשה להבחין בה במבט ראשון - אבל תנסו!</p>
<p>אם לצומת יש חמישה שכנים, אז בצביעה של הגרף בלי הצומת הזה, בהכרח יש צבע אחד לפחות שמופיע פעמיים. כמובן, אם לא כל ארבעת הצבעים מופיעים אנחנו שוב במקרה טריוויאלי, ולכן אנחנו מניחים שכל ארבעת הצבעים מופיעים, ואחד מהם מופיע בשני צמתים שונים. עכשיו אפשר להבדיל בין שתי אפשרויות שונות. הראשונה היא שהצבע הכפול - בואו נאמר שהוא האדום - מופיע בשתי מדינות "סמוכות" אבל ללא גבול משותף:</p>
<p><img class="alignnone wp-image-3715 size-medium" src="/img/2018/12/color5alt.png" alt="" width="282" height="300" /></p>
<p>זו סיטואציה שניתנת לטיפול כמו קודם: קודם כל ננסה להפוך את הצהוב לכחול. אם הצלחנו, מה טוב. אם לא, יש שרשרת קאמפ שמחברת את הצהוב והכחול ולכן "מבודדת" את הירוק מהאדומים. אפשר אם כן להפוך את הירוק לאדום, וסיימנו. גם פה אין טעות.</p>
<p>הסיטואציה המעניינת היא זו שבה שתי המדינות האדומות לא יכולות להיות "סמוכות" כי בין כל שני שכנים סמוכים של הצומת המרכזי יש קשת. הנה דוגמא לסיטואציה הזו:</p>
<p><img class="alignnone wp-image-3716 size-full" src="/img/2018/12/color5.png" alt="" width="596" height="696" /></p>
<p>כאן פשוט <strong>אי אפשר</strong> להפוך אף צומת לאדום, כי כל אחד מהצמתים הוא שכן של אדום. לכן הפתרון שעבד עבור ארבעה צמתים לא יעבוד כאן - מה שהוא לכל היותר מבטיח שהוא שנוכל לקחת את <strong>אחד</strong> מהצמתים האדומים ולשנות את הצבע שלו, אבל זה ישאיר אותנו עם צומת אדום אחר. לכן צריך כאן טיעון מתוחכם יותר, וזה מה שקאמפ עושה.</p>
<p>קאמפ אומר - בואו ניקח את הירוק ונבדוק אם אפשר להפוך אותו לכחול או צהוב. אם אפשר, יופי! אחרת, יש שרשרת ירוק-כחול ויש שרשרת ירוק-צהוב שמקלקלות לנו. באיור הרשיתי לעצמי לשים את שרשרת הירוק-צהוב בים - פשוט תדמיינו שהרחבתי את ארה"ב עם עוד מדינות רלוונטיות.</p>
<p><img class="alignnone wp-image-3717 size-full" src="/img/2018/12/color5-chains.png" alt="" width="870" height="709" /></p>
<p>מה שקורה עכשיו הוא ששני הצמתים האדומים מוחבאים "בתוך" השרשראות - האדום השמאלי מנותק מהצומת הכחול, והאדום הימני מנותק מהצומת הצהוב (שימו לב שזה עדיין יקרה אם אם השרשרת הירוקה-צהובה לא תקיף אותו בכלל אלא תקיף את השרשרת הירוקה-כחולה; גם זה תרחיש אפשרי). פירוש הדבר הוא שאפשר לשנות את האדום הימני לצהוב ואת האדום השמאלי לכחול, ובכך להיפטר כליל מהצבע האדום ואז אפשר לצבוע בו את הצומת שבמרכז.</p>
<p><strong>כאן</strong> יש טעות. אבל מהי?</p>
<p>הבאג בהוכחה הוא משהו שיכול להתגלות יחסית בקלות אם מממשים אלגוריתם פרקטי שמנסה לצבוע מפות באמצעות הטריק הזה ומפילים עליו המון מפות אקראיות - הטריק פשוט ייכשל מתישהו. מתי? בוודאי שאין שום סיבה שהוא ייכשל בהחלפת כחול/ירוק או בהחלפת צהוב/ירוק במקרים שבהם אין שרשראות מתאימות; לכן אם הוא נכשל בשני השלבים הללו זה מראה שהשרשראות שציירתי באיור למעלה אכן קיימות. והן אכן מנתקות את האדומים מהצהוב/כחול בהתאמה. אז מה בכל זאת ייכשל? ייכשל שלב הצביעה-מחדש של האדומים. ליתר דיוק, הצביעה-מחדש הראשונה תעבוד, אבל אז הצביעה-מחדש של האדום השני עלולה להיכשל באופן מזעזע. קשה לנו לראות את זה במבט ראשון כי האינטואיציה שלנו חושבת על שתי הצביעות-מחדש הללו בתור משהו שקורה "באותו הזמן" (או, במקרה שלי, פשוט חשבתי עליהן בתור "ברור שאפשר לעשות אותן" ואפילו לא הקדשתי מחשבה לביצוע שלהן בפועל ומה שיתרחש במהלכו).</p>
<p>הנה הסבר עקרוני על מה ש<strong>יכול</strong> להשתבש. האיור שלמעלה מטעה כי הוא נותן תחושה ששרשראות הצהוב-ירוק והכחול-ירוק הן נפרדות לגמרי זו מזו. אבל האמת העצובה היא שהן עלולות להיות "מעורבבות" - אחת מהן יכולה לעבור דרך השניה ואז לצאת חזרה מהצד השני, כי הן יכולות לשתף צמתים ירוקים. הנה דוגמא אפשרית:</p>
<p><img class="alignnone wp-image-3719 size-full" src="/img/2018/12/color5cross-1.png" alt="" width="770" height="786" /></p>
<p>כאן הקו המקווקו העבה הוא השרשרת הצהובה-ירוקה ואילו הקו המקווקו הדק יותר הוא השרשרת הכחולה-ירוקה, ואנחנו רואים בבירור איך השרשרת הצהובה-ירוקה חותכת את השניה. ואנחנו גם רואים משהו עוד יותר גרוע בפנים - הצומת האדום הימני יותר, זה ש<strong>אמור</strong> להיות מוחלף לצהוב, מחובר לאחד מהצמתים הצהובים על השרשרת הצהובה-ירוקה. זה אומר שכאשר נחליף אותו לצהוב, <strong>נשבור את השרשרת</strong> הצהובה-ירוקה - חלק ממנה יהפוך לאדום. ברגע שבו זה קרה, ההיפוך של האדום <strong>השני</strong>, זה שאמור להפוך לכחול, עשוי לגרום לכחול הנוסף שמחובר לצומת המרכזי שלנו להתהפך. כלומר, <strong>ההיפוך של האדום הראשון יצר שרשרת אדום-כחול שלא הייתה קיימת קודם</strong>.</p>
<p>בואו נראה את זה קורה:</p>
<p><img class="alignnone wp-image-3720 size-full" src="/img/2018/12/color5cross2.png" alt="" width="805" height="821" /></p>
<p>כאן הפכתי את האדום הימני לצהוב, ולכן את שכנו הצהוב לאדום. עכשיו הוספתי עוד צמתים כדי להראות כיצד יכולה להתקבל שרשרת אדום-כחול חדשה, שמנצלת את האדום החדש שזה עתה נוצר. ה"מצור" של השרשרת הצהובה-ירוקה נפרץ.</p>
<p>מבלבל? אוי ואבוי, בהחלט כן. אין פלא שלקחו 11 שנים לשים לב לשגיאה של קאמפ. אבל מרגע שנתגלתה השגיאה, למה בעצם להקדיש זמן ומאמץ להוכחה של קאמפ? ובכן:</p>
<ol>
    <li>כי היא יפה.</li>
    <li>כי היא עדיין מוכיחה משפט לא טריוויאלי באפס מאמץ - שאפשר לצבוע כל מפה מישורית <strong>בחמישה</strong> צבעים, והיא גם מציעה שיטה לכך (ההוכחה לכך מטפלת במקרה של צומת עם חמישה שכנים בדיוק כמו שטיפלנו במקרה של צומת עם ארבעה שכנים - מוצאים שני זוגות שלפחות בין אחד מהם לא יכולה להיות שרשרת, ו"נפטרים" מצבע אחד בעזרתו).</li>
    <li>כי הרעיונות שלה הם גם מה שהשתמשו בו בהוכחה ה"אמיתית", רק בוריאציה הרבה יותר מסובכת.</li>
</ol>
<p><span style="font-size: 1rem;">אבל הדבר הכי מעניין בהוכחה השגויה הזו הוא ש</span><strong style="font-size: 1rem;">בזכות השגיאה</strong><span style="font-size: 1rem;">, המשפט כל כך מפורסם. אם ההוכחה של קאמפ הייתה עובדת, קרוב לודאי שמשפט ארבעת הצבעים היה נשכח שם, בתור אנקדוטה חביבה עם הוכחה לא עמוקה במיוחד. העובדה שההוכחה נפלה, ובצורה כל כך מתסכלת, ונדרשה כל כך הרבה יותר עבודה כדי להוכיח את המשפט לבסוף - זה כבר מהדהד את ה"הוכחה הנפלאה" שפייר דה פרמה טען שיש לו למשפט שלו וסביר להניח שכללה גם כן טעות עדינה שהטעתה בזמנו את פרמה. זה מה שהפך את משפט ארבעת הצבעים למפורסם כל כך.</span></p>
        </article>
        
        <footer>
            <p>© כל הזכויות שמורות לגדי אלכסנדרוביץ'</p>
        </footer>
    </div>

    
    <script>
        function searchPosts() {
            const searchTerm = document.getElementById('searchInput').value;
            if (searchTerm.trim()) {
                window.location.href = '/post_list.html?search=' + encodeURIComponent(searchTerm);
            }
        }
        
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchPosts();
            }
        });
    </script>
    
    
    <!-- Auto-render KaTeX math -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            renderMathInElement(document.body, {
                delimiters: [
                    {left: "\\[", right: "\\]", display: true},
                    {left: "\\(", right: "\\)", display: false}
                ],
                throwOnError: false
            });
        });
    </script>

</body>
</html>