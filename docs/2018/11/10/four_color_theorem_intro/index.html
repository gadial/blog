<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>משפט ארבעת הצבעים (חלק א&#39;) - לא מדויק</title>
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    
    
    <!-- KaTeX for math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>

    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', 'David', 'Tahoma', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
        }
        
        /* Top navigation bar */
        .top-nav {
            background: #2c3e50;
            padding: 15px 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .top-nav .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
        }
        
        .top-nav .site-title {
            font-size: 1.5em;
            font-weight: bold;
            color: white;
            text-decoration: none;
            white-space: nowrap;
        }
        
        .top-nav .nav-links {
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .top-nav .nav-links a {
            color: #ecf0f1;
            text-decoration: none;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background 0.2s;
            white-space: nowrap;
        }
        
        .top-nav .nav-links a:hover {
            background: #34495e;
        }
        
        .top-nav .search-box {
            display: flex;
            gap: 5px;
        }
        
        .top-nav .search-box input {
            padding: 5px 10px;
            border: none;
            border-radius: 4px;
            font-size: 0.9em;
            min-width: 150px;
        }
        
        .top-nav .search-box button {
            padding: 5px 15px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .top-nav .search-box button:hover {
            background: #2980b9;
        }
        
        
        body {
            line-height: 1.8;
        }
        
        .container {
            max-width: 800px;
            margin: 20px auto;
            background: white;
            padding: 40px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
        }
        
        header {
            margin-bottom: 40px;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 20px;
        }
        
        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .post-meta {
            color: #7f8c8d;
            font-size: 0.9em;
        }
        
        .post-meta .date {
            margin-left: 15px;
        }
        
        .post-meta .categories,
        .post-meta .tags {
            display: inline;
        }
        
        .post-meta .categories a,
        .post-meta .tags a {
            color: #3498db;
            text-decoration: none;
            margin: 0 5px;
        }
        
        .post-meta .categories a:hover,
        .post-meta .tags a:hover {
            text-decoration: underline;
        }
        
        article {
            font-size: 1.1em;
        }
        
        article h2 {
            margin-top: 30px;
            margin-bottom: 15px;
            color: #34495e;
            font-size: 1.8em;
        }
        
        article h3 {
            margin-top: 25px;
            margin-bottom: 12px;
            color: #34495e;
            font-size: 1.4em;
        }
        
        article p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        article ul, article ol {
            margin-right: 30px;
            margin-bottom: 15px;
        }
        
        article li {
            margin-bottom: 8px;
        }
        
        article code {
            background-color: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        
        article pre {
            background-color: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin-bottom: 20px;
            direction: ltr;
            text-align: left;
        }
        
        article pre code {
            background-color: transparent;
            padding: 0;
            color: inherit;
        }
        
        /* Image styles - responsive and contained */
        article img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 20px auto;
        }
        
        /* Math rendering styles */
        .math {
            direction: ltr;
        }
        
        span.math {
            direction: ltr;
        }
        
        /* Override RTL for KaTeX */
        .katex {
            direction: ltr;
            unicode-bidi: embed;
        }
        
        div.math {
            display: block;
            text-align: center;
            padding: 15px 0;
            direction: ltr;
        }
        
        /* RTL adjustments for code blocks */
        .highlight {
            direction: ltr;
            text-align: left;
        }
        
        footer {
            margin-top: 60px;
            padding-top: 20px;
            border-top: 1px solid #e0e0e0;
            text-align: center;
            color: #95a5a6;
            font-size: 0.9em;
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2em;
            }
            
            article {
                font-size: 1em;
            }
        }
        
        /* Post navigation */
        .post-navigation {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #e0e0e0;
            gap: 20px;
        }
        
        .post-navigation .nav-link {
            flex: 1;
            text-decoration: none;
            color: #2c3e50;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 5px;
            transition: background 0.2s;
        }
        
        .post-navigation .nav-link:hover {
            background: #e9ecef;
        }
        
        .post-navigation .nav-prev {
            text-align: right;
        }
        
        .post-navigation .nav-next {
            text-align: left;
        }
        
        .post-navigation .nav-label {
            font-size: 0.85em;
            color: #7f8c8d;
            display: block;
            margin-bottom: 5px;
        }
        
        .post-navigation .nav-title {
            font-weight: bold;
            font-size: 1.1em;
        }

    </style>
</head>
<body>
    <nav class="top-nav">
        <div class="nav-container">
            <a href="/" class="site-title">לא מדויק</a>
            <div class="nav-links">
                <a href="/">דף הבית</a>
                <a href="/random.html">פוסט אקראי</a>
                <a href="/post_list.html">כל הפוסטים</a>
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="חיפוש...">
                    <button onclick="searchPosts()">חפש</button>
                </div>
            </div>
        </div>
    </nav>
    
    
    <div class="container">
        <!-- Post Navigation -->
        
        <nav class="post-navigation">
            
            <a href="/2018/11/07/quantum_advantage_with_shallow_circuits_math/" class="nav-link nav-prev">
                <span class="nav-label">פוסט ישן יותר →</span>
                <span class="nav-title">”הוכחה ראשונה לעליונות מחשב קוונטי“ - מה כן (אזהרה - עלול לכלול מתמטיקה)</span>
            </a>
            

            
            <a href="/2018/12/04/four_color_theorem_kempe_proof/" class="nav-link nav-next">
                <span class="nav-label">← פוסט חדש יותר</span>
                <span class="nav-title">משפט ארבעת הצבעים (חלק ב&#39;)</span>
            </a>
            
        </nav>
        
        
        <header>
            <h1>משפט ארבעת הצבעים (חלק א&#39;)</h1>
            <div class="post-meta">
                <span class="date">2018-11-10</span>
                
                <span class="categories">
                    | קטגוריות:
                    
                    <a href="/categories/בעיות מתמטיות מפורסמות.html">בעיות מתמטיות מפורסמות</a>
                    
                    <a href="/categories/קומבינטוריקה.html">קומבינטוריקה</a>
                    
                    <a href="/categories/תורת הגרפים.html">תורת הגרפים</a>
                    
                </span>
                
                
                <span class="tags">
                    | תגיות:
                    
                    <a href="/tags/משפט ארבעת הצבעים.html">משפט ארבעת הצבעים</a>
                    
                </span>
                
            </div>
        </header>
        
        <article>
            <p>הסיפור של משפט ארבעת הצבעים כולל את כל מה שסיפור מתמטי טוב צריך לכלול: בעיה מתמטית שהיא פשוטה להחריד לניסוח, ונראית פשוטה באופן מתעתע; סיפור נחמד על האופן שבו התגלתה; הוכחה שצצה יחסית מהר, אבל אחרי למעלה מעשור התגלה שהיא שגויה; מאה שנים נוספות שנדרשו עד למציאת פתרון נכון; והעובדה שהפתרונות שיש כיום הם לא מספקים ברמה זו או אחרת, כך שעדיין יש תקווה למשהו טוב יותר - ושלל הוכחות "קצרות ופשוטות" ושגויות לחלוטין שעדיין מופרחות לאוויר מדי פעם. בקיצור, כל החומרים שהפכו את המשפט האחרון של פרמה לסיפור כל כך מוצלח. אז למה בעצם לא כתבתי על זה עד היום?</p>
<p>ובכן, עם המשפט האחרון של פרמה, המצב שלי קל: אני יכול להודות ללא חשש בכך שאני לא מבין כלום מההוכחה שלו, שנחשבת למסובכת מאוד (אבל נכונה) ומסתמכת על מתמטיקה עמוקה ביותר, אבל במשפט ארבעת הצבעים זה לא המצב - ההוכחה מבוססת על רעיונות פשוטים יחסית אבל היא עדיין מפחידה מאוד, מסיבות שאסביר בהמשך. כך יצא שפשוט התרחקתי מהמשפט הזה כמו מאש ולא הרגשתי שאני מסוגל לכתוב עליו לפני שאאזור אומץ ואקרא קצת יותר.</p>
<p>ובכן, קראתי. כמובן, לא קראתי מספיק כדי שאוכל להסביר את ההוכחות בצורה מלאה, אבל אני מקווה שעד שאסיים פה נבין לא רע את הבעיה והאופן שבו נפתרה. בואו נתחיל עם פוסט של סקירה היסטורית ונתקדם משם.</p>
<p>את משפט ארבעת הצבעים קל מאוד לנסח: <strong>בהינתן מפה, אפשר לצבוע כל מדינה בה באחד מבין ארבעה צבעים, כך שאין שתי מדינות עם גבול משותף שהן באותו הצבע</strong>. הניסוח הזה לא מדויק בכלל, אפילו שגוי, אבל בתור תיאור ראשוני זה מספיק טוב. מי שרוצים ניסוח פורמלי מדויק יכולים לקבל אחד פשוט כמעט באותה המידה, במחיר שימוש בכמה מושגים מתמטיים בסיסיים: <strong>כל גרף מישורי הוא </strong><strong>4</strong><strong>-צביע</strong>. כבר בניסוחים הללו אנחנו רואים שאפשר לדבר על המשפט הזה בשתי צורות שונות: אפשר לדבר על "מפות" ואפשר לדבר על "גרפים" ושתי דרכי ההתבוננות הללו מועילות.</p>
<p>בואו נתבונן במפה של ארצות הברית, שנבחרה בגלל הצורה הנחמדה שבה היא מתחלקת למדינות, וריבוי המדינות שבה (והיא כנראה לא תהיה ידידותית מספיק לעיוורי צבעים ועמכם הסליחה):</p>
<p><img class="alignnone wp-image-3687 size-full" src="/img/2018/11/900px-Map_of_USA_with_state_names_2.svg_.png" alt="" width="900" height="556" /></p>
<p>המדינות של ארצות הברית במפה הזו נצבעו בארבעה צבעים: סגול (אורגון), ירוק (קליפורניה), צהוב (אריזונה) ואדום (נבדה - בואו נניח שזה אדום). חוץ מזה יש גם כחול בשביל הים וחום בשביל קנדה ומקסיקו, אבל בואו לא נחשיב את זה כחלק מהתמונה. ה"חוק" שמאחורי הצביעה הזו הוא ששתי מדינות עם גבול משותף לא יהיו צבועות באותו הצבע, פשוט כי אז יהיה יותר קשה להבדיל ביניהן. אפשר כמובן גם לצבוע את המפה עם יותר צבעים:</p>
<p><img class="alignnone size-full wp-image-3689" src="/img/2018/11/USA.jpg" alt="" width="272" height="185" /></p>
<p>וככה היא אולי נראית יותר יפה, אבל אם אנחנו רוצים להיות חסכוניים, אנחנו שואלים כמה צבעים אנחנו <strong>חייבים</strong> כדי לשמר את עניין ה"אין שתי מדינות שכנות עם אותו צבע". האם יכלנו לצבוע את מפת ארה"ב עם שלושה צבעים בלבד? ובכן, לא. בואו נסתכל לצורך כך על החוף המערבי. קליפורניה ונבדה הן מדינות שכנות ולכן חייבות להיות צבועות בצבעים שונים, למשל ירוק ואדום כמו בתמונה. כעת, אריזונה היא שכנה משותפת של קליפורניה ונבדה ולכן לא יכולה להיות צבועה בצבעים שלהן, לכן היא צריכה להיות צבועה בצבע חדש, למשל צהוב כמו בתמונה. האם אפשר להסתפק בירוק, אדום וצהוב, ולא לצבוע אף מדינה בסגול?</p>
<p><img class="alignnone wp-image-3687 size-full" src="/img/2018/11/900px-Map_of_USA_with_state_names_2.svg_.png" alt="" width="900" height="556" /></p>
<p>בתמונה יוטה נצבעה בסגול, אבל היא לא שכנה של קליפורניה כך שבעצם אפשר לצבוע אותה בירוק (אבל לא בצהוב או אדום כי היא שכנה של נבדה ואריזונה). זה מכריח את איידהו להיות צבועה בצהוב (שכנה של יוטה שהפכנו לירוקה, ונבדה האדומה), אבל אז אנחנו נתקעים באורגון: אורגון היא שכנה של שלוש מדינות שכולן נצבעו בצבעים שונים מתוך הכרח: קליפורניה, נבדה ואיידהו. היא חייבת להיות צבועה בצבע רביעי.</p>
<p>המשחק הנחמד הזה מלמד אותנו את השיעור הראשון על ענייני הצביעה הללו. הנה יש לנו מצב שבו שלושה צבעים לא מספיקים למרות שבשום מקום אין ארבע מדינות ש<strong>כולן שכנות זו של זו</strong>. הנה "מפה" מלאכותית שבה יש ארבע מדינות שכולן שכנות:</p>
<p><img class="alignnone wp-image-3690 size-full" src="/img/2018/11/220px-Fourcolorsmap.svg_.png" alt="" width="220" height="225" /></p>
<p>מבט אחד בתמונה הזו מבהיר שחייבים ארבעה צבעים לפחות עבור מפות מסויימות, אבל זה לא מבהיר שהצורך הזה עלול לבוא אלינו בצורה <strong>ערמומית</strong> שכזו; כלומר, שהדוגמאות הנגדיות יהיו מתוחכמות ולאו דווקא יכילו את מה שנראה כמו המכשול המובן מאליו של המשפט. זה לקח שאנשים שונים ומשונים שניסו להוכיח את המשפט למדו על בשרם (או חמור מכך, לא למדו אותו למרות שהיו צריכים).</p>
<p>מה שהמשפט מבטיח לנו הוא שלא משנה כמה ערמומיים נהיה אם ננסה לבנות מפות שהן מאתגרות לצביעה בכוונה - לא נוכל לבנות מפה שחייבים לפחות חמישה צבעים עבורה. תמיד די בארבעה.</p>
<p>עכשיו, משהבנו מה בעצם אומר המשפט, בואו נדבר קצת על ההיסטוריה שלו. אולי אפשר לחשוב שהעניין הזה של ארבעת הצבעים יהיה ידוע כבר אלפי שנים, כי אנשים מתעסקים עם מפות כבר אלפי שנים, אבל בואו נודה באמת - לאף אחד לא אכפת ממספר הצבעים הקטן ביותר שנדרש כדי לצבוע מפות. לא קורה כלום אם מפה נצבעת בחמישה צבעים במקום בארבעה. כך שהמשפט הוא מלכתחילה קוריוז אינטלקטואלי, וככזה האדם הראשון שידוע לנו שהמציא אותו היה צעיר בן 21 בשם פרנסיס גאתרי, סטודנט למתמטיקה שלימים הפך גם לפרופסור למתמטיקה, שישב וצבע לו את מפת המחוזות של אנגליה (למה? למה אנשים צובעים את מפת המחוזות של אנגליה?)</p>
<p><img class="alignnone wp-image-3691 size-full" src="/img/2018/11/800px-England_Admin_Counties_1965-1974.png" alt="" width="800" height="992" /></p>
<p>לא לגמרי ברור אם לגאתרי הייתה הוכחה כלשהי בראש או שהוא סתם ניחש שהמשפט אמור להתקיים. הוא סיפר עליו לאחיו, שהיה אז סטודנט של המתמטיקאי אוגסטוס דה-מורגן, והאח בא אל דה-מורגן אחרי השיעור ושאל אותו על המשפט הזה - האם הוא כבר ידוע, ואיך מוכיחים אותו. לדה-מורגן לא היה מושג, אבל היה לו משהו חשוב יותר - הוא <strong>התלהב</strong> מהשאלה הזו. הוא ניסה לפתור אותה, ולא הצליח; והוא סיפר עליה לכל מי שרק היה מוכן להקשיב. העדות הכתובה הראשונה לקיום הבעיה היא מכתב ששלח דה-מורגן למתמטיקאי המילטון ב-23 באוקטובר, 1852, ובו הוא תיאר את הבעיה וביקש סיוע. משעשע לראות עד כמה דה-מורגן חשב שיש פה פתרון פשוט שחומק ממנו: הוא סיים את המכתב ב-</p>
<blockquote>
<p dir="ltr">If you retort with some very simple case which makes me out a stupid animal, I think I must do as the Sphynx did.</p>
</blockquote>
<p>למרבה הצער, המילטון לא התלהב מהבעיה כמו דה-מורגן; כל התשובה שהוא טרח לתת לו הייתה</p>
<blockquote>
<p dir="ltr">I am not likely to attempt your "quaternion of colours" very soon.</p>
</blockquote>
<p>כנראה שהמילטון חשב שהשאלה הזו היא סתם שטות זניחה, וכך יצא שהוא פספס הזדמנות להיות השם החשוב ביותר שמקושר לאחת מהבעיות המפורסמות במתמטיקה.</p>
<p>למרות שדה-מורגן הפיץ את הבעיה בקרב עמיתיו, קשה לומר שנרשמה אצלם התלהבות גדולה או שהתחיל מחקר פעיל של הבעיה. עברו כמעט שלושים שנים מרגע שדה-מורגן שמע על הבעיה ועד שקרה איתה משהו משמעותי. דה-מורגן עצמו נפטר ב-1871 והבעיה נשכחה קצת, עד שבשנת 1878 המתמטיקאי ארתור קיילי ניסה לעורר בה קצת עניין חדש, וכנראה אז היא הגיעה לתשומת לבו של <strong>אלפרד קמפ</strong>, שהוא כנראה הגיבור המרכזי הראשון בסיפור שלנו. כמו פרמה, שהיה הדמות המרכזית בסיפור של המשפט האחרון של פרמה, כך גם קמפ היה מתמטיקאי חובב; במקצועו הוא היה עורך דין, אבל הוא פרסם מאמרים מתמטיים פה ושם, ובשנת 1879 הוא פרסם מאמר שבו הוכיח את משפט ארבעת הצבעים. על פניו נראה היה שזה מסיים את הסיפור - ההוכחה של קמפ הייתה פשוטה למדי, אם כי לא טריוויאלית, כך שנראה היה שאפשר לסגור את הסיפור בתור קוריוז מתמטי נחמד שבא על פתרונו בצורה טובה.</p>
<p>אבל 11 שנים לאחר מכן, ב-1890, התגלתה בהוכחה שגיאה, וזה התחיל את מחול השדים של שמונים השנים הבאות.</p>
<p>אני הולך להציג את ההוכחה של קמפ במלואה בהמשך, כמו גם את השגיאה; לדעתי אלו הדברים שחשוב ביותר להכיר כשמדברים על המשפט. בשביל מה לטרוח לדבר על הוכחה שגויה? ובכן, כי ההוכחה הייתה <strong>כמעט נכונה</strong>. היו בה רעיונות טובים מאוד, שהוכיחו את השימושיות שלהם בתורת הגרפים באופן כללי ובהקשר למשפט ארבעת הצבעים בפרט. היא גם מאוד משכנעת במבט ראשון, ולא קל להראות שהיא שגויה, מה שמסביר למה נדרש יותר מעשור כדי להפיל אותה. הכי חשוב: ההוכחות שנמצאו עד כה למשפט ארבעת הצבעים משתמשות בדיוק באותו רעיון מרכזי כמו ההוכחה של קמפ, וההבדל היחיד הוא בפרטים. אם נבין מה קמפ עשה, אז בכך הבנו את רוב מה שנדרש כדי לקבל את התמונה הגדולה של המשפט.</p>
<p>קצת אחרי קמפ, ובעקבות ההוכחה שלו, פרסם מתמטיקאי בשם פיטר טייט "הוכחה" אחרת של המשפט, שהתבססה על רעיונות שונים לגמרי. לרוע המזל, היא הייתה <strong>ממש</strong> שגויה בכל מני דרכים לא נעימות; למרות זאת היא הייתה מעניינת בפני עצמה, אבל לא אדבר עליה לעת עתה, כי היא לא רלוונטית לאופן שבו המשפט הוכח בסופו של דבר.</p>
<p>בשנת 1890 מצא מתמטיקאי בשם פרסי הייווד את השגיאה בהוכחה של קמפ. במאמר שפרסם הוא הציג דוגמא נגדית, שאראה בהמשך; חלק מהעניין בסיפור הוא שלמצוא דוגמא נגדית להוכחה של קמפ זה <strong>קשה</strong> (או לכל הפחות, לא טריוויאלי). הייווד כן הצביע על כך שההוכחה השגויה של קמפ מספיקה, אחרי תיקון כלשהו של הטיעון, כדי להוכיח שמספיקים <strong>חמישה</strong> צבעים כדי לצבוע כל מפה. קמפ עצמו הודה בטעותו ואמר שאינו יודע איך לתקן את ההוכחה, וגם הייווד לא ידע; קצת קשה להאשים אותם, כי גם כיום אין לנו מושג איך אפשר להוכיח את המשפט הזה בלי להשתמש בעזרים שפשוט לא היו זמינים לקמפ ולהייווד.</p>
<p>הבעיה לא נשכחה במאה ה-20, אבל גם לא הושגו בה התקדמויות או פריצות דרך משמעותיות. הרעיון שהוביל בסופו של דבר להוכחה היה של מתמטיקאי גרמני בשם היינריך האש; מה בדיוק היה הרעיון שלו אתאר בהמשך, אבל בבסיסו הוא המשך של הגישה של קאמפ. בשנת 1967 סטודנט בשם וולפגנג האקן ששמע הרצאה של האש בנושא התחיל להתעניין בנושא ולעבוד עליו ביחד עם האש. מה שהיה ברור כבר אז הוא שהשיטה של האש, למרות שיש בה פוטנציאל, תדרוש חישובים ידניים מזעזעים ברמת העומס שלהם (אני בכוונה לא אומר " קושי" או "מורכבות"). האש והאקן לא הצליחו להגיע להסכמה איך בדיוק לפתח את השיטה והפסיקו את שיתוף הפעולה ב-1972, ואילו האקן המשיך בנסיונותיו עם מתמטיקאי אחרי, קנת אפל, כששניהם בטוחים ש<strong>ניתן</strong> להתמודד עם העומס החישובי האדיר בעזרת יצורים שכבר לא בדיוק היו חדשים באותה התקופה אבל השימוש שלהם בהוכחות במתמטיקה היה מוגבל -<strong> מחשבים</strong>.</p>
<p>ההוכחה של האקן ואפל מתבססת על מציאת קבוצה של יצורים שנקראים <strong>קונפיגורציות ניתנות לצמצום</strong> (תרגום שלי ל-Reducible Configurations). קונפיגורציה ניתנת לצמצום היא מעין "תת-מפה" שהיא בעלת התכונה הבאה: אם מפה <strong>כלשהי</strong> מכילה קונפיגורציה ניתנת לצמצום אז אפשר להחליף את המפה הזו במפה קטנה יותר (פחות מדינות), כך שאם המפה החדשה ניתנת לצביעה בארבעה צבעים, כך גם המפה המקורית. באופן שקול לוגית - אם המפה <strong>המקורית</strong> לא הייתה ניתנת לצביעה בארבעה צבעים (כלומר, היא הייתה <strong>דוגמא נגדית למשפט ארבעת הצבעים</strong>) אז גם המפה החדשה, הקטנה יותר, הייתה דוגמא נגדית שכזו. במילים אחרות, קונפיגורציה ניתנת לצמצום <strong>אינה</strong> יכולה להופיע בדוגמא נגדית <strong>מינימלית</strong> (מבחינת מספר הצמתים) למשפט ארבעת הצבעים.</p>
<p>יש הרבה קונפיגורציות ניתנות לצמצום - ההוכחה של קאמפ התבססה עליהן; למשל, "טבעת" שמורכבת משלוש מדינות שכל אחת מהן היא שכנה של האחרות היא קונפיגורציה שכזו, ונבין יותר טוב למה אחרי שנתעמק בהוכחה של קאמפ. מה שסוגר את הוכחת משפט ארבעת הצבעים הוא מציאה של קבוצת קונפיגורציות ש<strong>לפחות אחת מהן</strong> חייבת להופיע בכל גרף שהוא <strong>דוגמא נגדית מינימלית</strong> למשפט ארבעת הצבעים. למה? כי כאמור, כל המהות של קונפיגורציה היא ש<strong>בדוגמא נגדית מינימלית</strong>, קונפיגורציה ניתנת לצמצום <strong>אינה יכולה להופיע</strong>.</p>
<p>הבניה של קבוצת קונפיגורציות כזו שאכן תצליח לפתור את המשפט הייתה עניין ארוך ומתמשך של ניסוי וטעיה; בכל פעם שבה התגלתה בעיה, היה צריך לשנות קצת את הקבוצה ולראות מה קורה עכשיו. המחשב היה חלק נכבד בתהליך העבודה הזה, עד שלבסוף נמצאה קבוצה ללא תקלות שאכן מוכיחה את המשפט ב-1976 פרסמו האקן ואפל את המאמר שלהם בנושא. אז מה בעצם הבעיה?</p>
<p>הבעיה היא שפתרון כזה לא דרש מחשב רק כדי למצוא אותו; נדרש מחשב גם כדי <strong>לבדוק</strong> אותו, וזו בדיקת מחשב בלתי טריוויאלית בעליל.</p>
<p>יש תיאור פופולרי <strong>ושגוי לחלוטין</strong> של ההוכחה שהפיל גם אותי בפח בשעתו. הוא מופיע, בין היתר, בויקיפדיה העברית; מאז כתיבת הערך על משפט ארבעת הצבעים באוגוסט 2003 ועד לזמן כתיבת פוסט זה בנובמבר 2018 נאמר בערך שמה שהאקן ואפל עשו היה להראות "שכל מפה אפשרית שקולה לאחת מבין 1,936 מפות שונות" ואז "הריצו תוכנית מחשב במשך 1,200 שעות כדי להראות שכל אחת ממפות אלה ניתנת לצביעה בארבעה צבעים" (הנה <a href="https://he.wikipedia.org/w/index.php?title=%D7%9E%D7%A9%D7%A4%D7%98_%D7%90%D7%A8%D7%91%D7%A2%D7%AA_%D7%94%D7%A6%D7%91%D7%A2%D7%99%D7%9D&oldid=23770840">קישור קבוע</a> לגרסה הזו מ-2018 של הערך שבו הטעות מופיעה; אני מקווה שבזמן שאתם קוראים שורות אלו הטעות כבר תוקנה!). הבעיה הבסיסית בתיאור השגוי הזה היא ש<strong>קל מאוד לבדוק</strong> צביעה של מפות, אם מישהו אחר כבר טרח ומצא צביעה שכזו. זו דוגמא קלאסית למה שנקרא "בעיה NP-שלמה"; בעיה שכנראה קשה למצוא לה פתרון, אבל אם מישהו אחר כבר מצא, אז לבדוק את הפתרון שלו זה טריוויאלי. אם כל מה שההוכחה הייתה כוללת הוא הוכחה ידנית של שקילות לאוסף גדול של מפות, ואז צביעה מפורשת של כל אחת מהמפות הללו, אני לא חושב שלמישהו הייתה בעיה עם ההוכחה.</p>
<p>אבל מכיוון שהבדיקה היא ממש לא עד כדי כך פשוטה, אנחנו ניצבים בפני שתי בעיות:</p>
<ol>
    <li>בעיה פרקטית: כיצד אפשר להיות משוכנעים שההוכחה <strong>נכונה</strong> ולא שנפלה טעות כלשהי בתוכנית המחשב שבודקת אותה?</li>
    <li>בעיה פילוסופית: האם הוכחה שאדם לא יכול לקרוא ולהבין בעצמו עדיין יכולה להיקרא "הוכחה"?</li>
</ol>
<p>אל הבעיה הפילוסופית אני לא רוצה להיכנס בכלל, כי הבלוג הזה מנסה באופן כללי מלהיכנס לעובי הקורה של פילוסופיה של המתמטיקה (ואני גם לא מתיימר להבין בה משהו). דעתי האישית היא שזו הוכחה סבבה מהבחינה הזו, אבל אני לא מנסה לשכנע אף אחד. אני כן מסכים שיש בפירוש הבדל עקרוני בין הוכחה כמו זו ובין הוכחות "עצומות ממדים אבל ניתנות לקריאה בידי אדם" כדוגמת ההוכחה של המשפט האחרון של פרמה או משפט המיון של חבורות פשוטות, אבל אני לא בטוח שההבדל הזה בכלל משחק לטובת ההוכחות הללו.</p>
<p>הבעיה הפרקטית, לעומת זאת, היא מהותית, אבל אני לא חושב שהבעיה פה היא ספציפית השימוש ב<strong>מחשב</strong> אלא באופן כללי הסיבוך של ההוכחות - גם הוכחת המשפט האחרון של פרמה עלולה להכיל טעות שהבודקים פספסו (ואכן, בהוכחה המקורית של וויילס הייתה טעות שוויילס עצמו לא הבחין בה ורק הבודק שם לב אליה; ועכשיו תחשבו שהבודק היה מתבלבל כמו וויילס עצמו). השאלה המהותית היא עד כמה קל <strong>לשחזר</strong> את ההוכחה; הרי מתמטיקאית טובה שקוראת הוכחה בעצם מוכיחה את המשפט מחדש בראש, תוך שהיא נעזרת בתוכן של ההוכחה שהיא קוראת (בכל הוכחה יש השמטות של פרטים, והמתמטיקאית היא מיומנת מספיק כדי להשלים את החורים בעצמה). במקרה של ההוכחה של האקן ואפל, המשמעות היא שמישהו צריך לכתוב מחדש את תוכניות המחשב שבודקות את מה שזה לא יהיה, ולהריץ אותן בעצמו, ולראות שהעסק עבד.</p>
<p>עשו את זה.</p>
<p>האם זה מספיק כדי לסמוך על ההוכחה? ואולי יש איזה באג מהותי בתוכניות? ואולי יש איזה באג משותף לכל המעבדים בכל המחשבים שהריצו את התוכניות? ואולי ואולי ואולי. כשזה מגיע למחשבים אנחנו נוטים אוטומטית להיות סקפטיים יותר.</p>
<p>מאז 1976 עבר קצת זמן והמחשבים קצת השתפרו. מה המצב היום? ובכן, טוב קצת יותר. ככל הידוע לי, עדיין אין שום הוכחה שלא דורשת מחשב, אבל ב-1996 נמצאה הוכחה שמתבססת על קבוצה פשוטה יותר של קונפיגורציות. זה כבר מעודד מאוד - זה מראה שאפשר להוכיח את המשפט ביותר מדרך אחת (למרות שהרעיון הבסיסי זהה) ולכן הסיכוי לטעות נראה זעום בהרבה. אבל מה שבאמת משקיט את החששות האישיים שלי היא <a href="http://www.ams.org/notices/200811/tx081101382p.pdf">הוכחה</a> שנכתבה ב-2005 למערכת Coq. המערכת הזו היא מה שנקרא "proof assistant" - זו תוכנית מחשב שאפשר לכתוב בה הוכחות בלוגיקה פורמלית מסויימת, דמויית שפת תכנות, והמערכת יכולה לבדוק אוטומטית את ההוכחות. כלומר - תוכנית המחשב שבודקת את ההוכחה של משפט ארבעת הצבעים היא לא קוד מחשב שנכתב אד-הוק למטרה זו, אלא מערכת ספציפית שהושקעה עבודה רבה בתכנון שלה, בבדיקה שהיא חפה משגיאות וביסודות המתמטיים שהיא נשענת עליה. ההוכחה הזו היא כנראה גם הדוגמא ה"רצינית" ביותר שאני מכיר לשימוש במערכת כמו Coq.</p>
<p>אם כן, זה הסיפור של משפט ארבעת הצבעים; מעין תם-ולא-נשלם שמבחינתי הוא בהחלט סיום מספק אבל אני מבין את אלו שמתנגדים אליו. "הוכחה פשוטה למשפט ארבעת הצבעים", כמו "הוכחה פשוטה למשפט האחרון של פרמה" תמשיך להיות גביע קדוש שאפשר לשאוף אליו וכנראה שלא נמצא לעולם (חוק כללי במתמטיקה, אבל כזה שנכון בפרט בקומבינטוריקה: הוכחות יפות הן לא משהו שמובטח לנו משמיים ולפעמים פשוט אין כאלו). בפוסט הבא ננסה להבין מה הלך בהוכחה של קאמפ ולמה היא נכשלה; הכשלון המפואר הזה יספיק כדי לתת לנו הבנה טובה מאוד של איך הוכיחו את המשפט בסופו של דבר.</p>
        </article>
        
        <footer>
            <p>© כל הזכויות שמורות לגדי אלכסנדרוביץ'</p>
        </footer>
    </div>

    
    <script>
        function searchPosts() {
            const searchTerm = document.getElementById('searchInput').value;
            if (searchTerm.trim()) {
                window.location.href = '/post_list.html?search=' + encodeURIComponent(searchTerm);
            }
        }
        
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchPosts();
            }
        });
    </script>
    
    
    <!-- Auto-render KaTeX math -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            renderMathInElement(document.body, {
                delimiters: [
                    {left: "\\[", right: "\\]", display: true},
                    {left: "\\(", right: "\\)", display: false}
                ],
                throwOnError: false
            });
        });
    </script>

</body>
</html>